(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[]]);!function(e){function n(n){for(var r,a,s=n[0],c=n[1],u=n[2],p=0,d=[];p<s.length;p++)a=s[p],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(l&&l(n);d.length;)d.shift()();return i.push.apply(i,u||[]),t()}function t(){for(var e,n=0;n<i.length;n++){for(var t=i[n],r=!0,s=1;s<t.length;s++){var c=t[s];0!==o[c]&&(r=!1)}r&&(i.splice(n--,1),e=a(a.s=t[0]))}return e}var r={},o={2:0},i=[];function a(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.e=function(e){var n=[],t=o[e];if(0!==t)if(t)n.push(t[2]);else{var r=new Promise((function(n,r){t=o[e]=[n,r]}));n.push(t[2]=r);var i,s=document.createElement("script");s.charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.src=function(e){return a.p+"assets/js/"+({}[e]||e)+"."+{1:"326f0c13",3:"590e791e",4:"19f24900",5:"e9bee2e5",6:"c0e8c7a8",7:"78658652",8:"1fdf085e",9:"2501c995",10:"a9f4d64d",11:"2e7fadd3",12:"b5984b6f",13:"981a999b",14:"663a32ce",15:"fdcdaeb0",16:"02590bda",17:"291ef55a",18:"495ecfb3",19:"10e921d5",20:"2a31e856",21:"5df4722f",22:"17bbb1ec",23:"cc7dc45a",24:"f4236d8c",25:"f37ccebe",26:"3e903901",27:"18073c39",28:"e11224a5",29:"67ffffd1",30:"2950a665",31:"baa8f8c0",32:"e0dc49b1",33:"b1206928",34:"80896a4e",35:"e1003365",36:"d4e76783",37:"f4bd175a",38:"c5fe09a3",39:"672cc9ca",40:"f460e10e",41:"686e5048",42:"38184866",43:"58cfc8db",44:"7cb344e5",45:"d519ffb1",46:"aa02b0d2"}[e]+".js"}(e);var c=new Error;i=function(n){s.onerror=s.onload=null,clearTimeout(u);var t=o[e];if(0!==t){if(t){var r=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;c.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",c.name="ChunkLoadError",c.type=r,c.request=i,t[1](c)}o[e]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:s})}),12e4);s.onerror=s.onload=i,document.head.appendChild(s)}return Promise.all(n)},a.m=e,a.c=r,a.d=function(e,n,t){a.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,n){if(1&n&&(e=a(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)a.d(t,r,function(n){return e[n]}.bind(null,r));return t},a.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(n,"a",n),n},a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},a.p="/",a.oe=function(e){throw console.error(e),e};var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=n,s=s.slice();for(var u=0;u<s.length;u++)n(s[u]);var l=c;i.push([247,0]),t()}([function(e,n,t){"use strict";t.d(n,"e",(function(){return E})),t.d(n,"d",(function(){return _})),t.d(n,"c",(function(){return x})),t.d(n,"f",(function(){return A})),t.d(n,"a",(function(){return k})),t.d(n,"g",(function(){return C})),t.d(n,"b",(function(){return O})),t.d(n,"h",(function(){return S})),t.d(n,"i",(function(){return B}));t(47),t(62),t(13),t(85),t(18),t(20);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=t(31),i=t(49),a=(t(97),t(175),t(33),t(41),t(32),t(241),t(242),t(52),t(24),t(1)),s={NotFound:function(){return Promise.all([t.e(0),t.e(7)]).then(t.bind(null,555))},Category:function(){return Promise.all([t.e(0),t.e(1),t.e(6)]).then(t.bind(null,556))},Layout:function(){return Promise.all([t.e(0),t.e(1),t.e(3)]).then(t.bind(null,553))},Tag:function(){return Promise.all([t.e(0),t.e(1),t.e(4)]).then(t.bind(null,557))},Tags:function(){return Promise.all([t.e(0),t.e(1),t.e(5)]).then(t.bind(null,558))},TimeLines:function(){return Promise.all([t.e(0),t.e(1),t.e(8)]).then(t.bind(null,559))}},c={"v-3ba3c14b":function(){return t.e(13).then(t.bind(null,561))},"v-8a51e478":function(){return t.e(14).then(t.bind(null,562))},"v-0dd25412":function(){return t.e(12).then(t.bind(null,563))},"v-6d0101e4":function(){return t.e(15).then(t.bind(null,564))},"v-5ccf3384":function(){return t.e(16).then(t.bind(null,565))},"v-3530d46e":function(){return t.e(17).then(t.bind(null,566))},"v-523b5356":function(){return t.e(18).then(t.bind(null,567))},"v-4a462752":function(){return t.e(19).then(t.bind(null,568))},"v-2ef205fb":function(){return t.e(20).then(t.bind(null,569))},"v-deaeb36e":function(){return t.e(21).then(t.bind(null,570))},"v-8840e594":function(){return t.e(22).then(t.bind(null,571))},"v-74d83086":function(){return t.e(23).then(t.bind(null,572))},"v-b7202dc4":function(){return t.e(24).then(t.bind(null,573))},"v-5173ead6":function(){return t.e(25).then(t.bind(null,574))},"v-1883794a":function(){return t.e(26).then(t.bind(null,575))},"v-17869ba0":function(){return t.e(27).then(t.bind(null,576))},"v-358226fc":function(){return t.e(28).then(t.bind(null,577))},"v-f62f16ea":function(){return t.e(29).then(t.bind(null,578))},"v-288515c3":function(){return t.e(30).then(t.bind(null,579))},"v-d5e5f2f4":function(){return t.e(31).then(t.bind(null,580))},"v-0072bc1a":function(){return t.e(32).then(t.bind(null,581))},"v-5bfe3b3e":function(){return t.e(33).then(t.bind(null,582))},"v-d72c9f84":function(){return t.e(34).then(t.bind(null,583))},"v-54cddafe":function(){return t.e(37).then(t.bind(null,584))},"v-d5699b42":function(){return t.e(38).then(t.bind(null,585))},"v-39c39aa6":function(){return t.e(39).then(t.bind(null,586))},"v-3620476a":function(){return t.e(40).then(t.bind(null,587))},"v-1e2524b3":function(){return t.e(35).then(t.bind(null,588))},"v-18fd2e5b":function(){return t.e(41).then(t.bind(null,589))},"v-9f984b4c":function(){return t.e(42).then(t.bind(null,590))},"v-21daaa6c":function(){return t.e(44).then(t.bind(null,591))},"v-de9e813e":function(){return t.e(36).then(t.bind(null,592))},"v-78add9ad":function(){return t.e(43).then(t.bind(null,593))},"v-4ab872ee":function(){return t.e(45).then(t.bind(null,594))}};function u(e){var n=Object.create(null);return function(t){return n[t]||(n[t]=e(t))}}var l=/-(\w)/g,p=u((function(e){return e.replace(l,(function(e,n){return n?n.toUpperCase():""}))})),d=/\B([A-Z])/g,f=u((function(e){return e.replace(d,"-$1").toLowerCase()})),h=u((function(e){return e.charAt(0).toUpperCase()+e.slice(1)}));function m(e,n){if(n)return e(n)?e(n):n.includes("-")?e(h(p(n))):e(h(n))||e(f(n))}var v=Object.assign({},s,c),g=function(e){return v[e]},y=function(e){return c[e]},b=function(e){return s[e]},w=function(e){return a.a.component(e)};function E(e){return m(y,e)}function _(e){return m(b,e)}function x(e){return m(g,e)}function A(e){return m(w,e)}function k(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return Promise.all(n.filter((function(e){return e})).map(function(){var e=Object(i.a)(regeneratorRuntime.mark((function e(n){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A(n)||!x(n)){e.next=5;break}return e.next=3,x(n)();case 3:t=e.sent,a.a.component(n,t.default);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()))}function C(e,n,t){var r;switch(n){case"components":e[n]||(e[n]={}),Object.assign(e[n],t);break;case"mixins":e[n]||(e[n]=[]),(r=e[n]).push.apply(r,Object(o.a)(t));break;default:throw new Error("Unknown option name.")}}function O(e,n){for(var t=0;t<e.length;t++){var r=e[t];if(r.key===n)return r}return{path:"",frontmatter:{}}}function S(e,n){var t=e.$localePath;return"object"===r(n)&&n[t]?n[t]:n}function B(e,n){"undefined"!=typeof window&&window.__VUEPRESS__&&(window.__VUEPRESS__[e]=n)}},function(e,n,t){"use strict";
/*!
 * Vue.js v2.6.14
 * (c) 2014-2021 Evan You
 * Released under the MIT License.
 */var r=Object.freeze({});function o(e){return null==e}function i(e){return null!=e}function a(e){return!0===e}function s(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e||"boolean"==typeof e}function c(e){return null!==e&&"object"==typeof e}var u=Object.prototype.toString;function l(e){return"[object Object]"===u.call(e)}function p(e){return"[object RegExp]"===u.call(e)}function d(e){var n=parseFloat(String(e));return n>=0&&Math.floor(n)===n&&isFinite(e)}function f(e){return i(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function h(e){return null==e?"":Array.isArray(e)||l(e)&&e.toString===u?JSON.stringify(e,null,2):String(e)}function m(e){var n=parseFloat(e);return isNaN(n)?e:n}function v(e,n){for(var t=Object.create(null),r=e.split(","),o=0;o<r.length;o++)t[r[o]]=!0;return n?function(e){return t[e.toLowerCase()]}:function(e){return t[e]}}v("slot,component",!0);var g=v("key,ref,slot,slot-scope,is");function y(e,n){if(e.length){var t=e.indexOf(n);if(t>-1)return e.splice(t,1)}}var b=Object.prototype.hasOwnProperty;function w(e,n){return b.call(e,n)}function E(e){var n=Object.create(null);return function(t){return n[t]||(n[t]=e(t))}}var _=/-(\w)/g,x=E((function(e){return e.replace(_,(function(e,n){return n?n.toUpperCase():""}))})),A=E((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),k=/\B([A-Z])/g,C=E((function(e){return e.replace(k,"-$1").toLowerCase()}));var O=Function.prototype.bind?function(e,n){return e.bind(n)}:function(e,n){function t(t){var r=arguments.length;return r?r>1?e.apply(n,arguments):e.call(n,t):e.call(n)}return t._length=e.length,t};function S(e,n){n=n||0;for(var t=e.length-n,r=new Array(t);t--;)r[t]=e[t+n];return r}function B(e,n){for(var t in n)e[t]=n[t];return e}function j(e){for(var n={},t=0;t<e.length;t++)e[t]&&B(n,e[t]);return n}function T(e,n,t){}var D=function(e,n,t){return!1},P=function(e){return e};function I(e,n){if(e===n)return!0;var t=c(e),r=c(n);if(!t||!r)return!t&&!r&&String(e)===String(n);try{var o=Array.isArray(e),i=Array.isArray(n);if(o&&i)return e.length===n.length&&e.every((function(e,t){return I(e,n[t])}));if(e instanceof Date&&n instanceof Date)return e.getTime()===n.getTime();if(o||i)return!1;var a=Object.keys(e),s=Object.keys(n);return a.length===s.length&&a.every((function(t){return I(e[t],n[t])}))}catch(e){return!1}}function N(e,n){for(var t=0;t<e.length;t++)if(I(e[t],n))return t;return-1}function F(e){var n=!1;return function(){n||(n=!0,e.apply(this,arguments))}}var $=["component","directive","filter"],R=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],M={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:D,isReservedAttr:D,isUnknownElement:D,getTagNamespace:T,parsePlatformTagName:P,mustUseProp:D,async:!0,_lifecycleHooks:R},z=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function V(e,n,t,r){Object.defineProperty(e,n,{value:t,enumerable:!!r,writable:!0,configurable:!0})}var L=new RegExp("[^"+z.source+".$_\\d]");var U,q="__proto__"in{},W="undefined"!=typeof window,H="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,G=H&&WXEnvironment.platform.toLowerCase(),K=W&&window.navigator.userAgent.toLowerCase(),J=K&&/msie|trident/.test(K),Q=K&&K.indexOf("msie 9.0")>0,Y=K&&K.indexOf("edge/")>0,Z=(K&&K.indexOf("android"),K&&/iphone|ipad|ipod|ios/.test(K)||"ios"===G),X=(K&&/chrome\/\d+/.test(K),K&&/phantomjs/.test(K),K&&K.match(/firefox\/(\d+)/)),ee={}.watch,ne=!1;if(W)try{var te={};Object.defineProperty(te,"passive",{get:function(){ne=!0}}),window.addEventListener("test-passive",null,te)}catch(e){}var re=function(){return void 0===U&&(U=!W&&!H&&"undefined"!=typeof global&&(global.process&&"server"===global.process.env.VUE_ENV)),U},oe=W&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ie(e){return"function"==typeof e&&/native code/.test(e.toString())}var ae,se="undefined"!=typeof Symbol&&ie(Symbol)&&"undefined"!=typeof Reflect&&ie(Reflect.ownKeys);ae="undefined"!=typeof Set&&ie(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var ce=T,ue=0,le=function(){this.id=ue++,this.subs=[]};le.prototype.addSub=function(e){this.subs.push(e)},le.prototype.removeSub=function(e){y(this.subs,e)},le.prototype.depend=function(){le.target&&le.target.addDep(this)},le.prototype.notify=function(){var e=this.subs.slice();for(var n=0,t=e.length;n<t;n++)e[n].update()},le.target=null;var pe=[];function de(e){pe.push(e),le.target=e}function fe(){pe.pop(),le.target=pe[pe.length-1]}var he=function(e,n,t,r,o,i,a,s){this.tag=e,this.data=n,this.children=t,this.text=r,this.elm=o,this.ns=void 0,this.context=i,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=n&&n.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},me={child:{configurable:!0}};me.child.get=function(){return this.componentInstance},Object.defineProperties(he.prototype,me);var ve=function(e){void 0===e&&(e="");var n=new he;return n.text=e,n.isComment=!0,n};function ge(e){return new he(void 0,void 0,void 0,String(e))}function ye(e){var n=new he(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return n.ns=e.ns,n.isStatic=e.isStatic,n.key=e.key,n.isComment=e.isComment,n.fnContext=e.fnContext,n.fnOptions=e.fnOptions,n.fnScopeId=e.fnScopeId,n.asyncMeta=e.asyncMeta,n.isCloned=!0,n}var be=Array.prototype,we=Object.create(be);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(e){var n=be[e];V(we,e,(function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var o,i=n.apply(this,t),a=this.__ob__;switch(e){case"push":case"unshift":o=t;break;case"splice":o=t.slice(2)}return o&&a.observeArray(o),a.dep.notify(),i}))}));var Ee=Object.getOwnPropertyNames(we),_e=!0;function xe(e){_e=e}var Ae=function(e){this.value=e,this.dep=new le,this.vmCount=0,V(e,"__ob__",this),Array.isArray(e)?(q?function(e,n){e.__proto__=n}(e,we):function(e,n,t){for(var r=0,o=t.length;r<o;r++){var i=t[r];V(e,i,n[i])}}(e,we,Ee),this.observeArray(e)):this.walk(e)};function ke(e,n){var t;if(c(e)&&!(e instanceof he))return w(e,"__ob__")&&e.__ob__ instanceof Ae?t=e.__ob__:_e&&!re()&&(Array.isArray(e)||l(e))&&Object.isExtensible(e)&&!e._isVue&&(t=new Ae(e)),n&&t&&t.vmCount++,t}function Ce(e,n,t,r,o){var i=new le,a=Object.getOwnPropertyDescriptor(e,n);if(!a||!1!==a.configurable){var s=a&&a.get,c=a&&a.set;s&&!c||2!==arguments.length||(t=e[n]);var u=!o&&ke(t);Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:function(){var n=s?s.call(e):t;return le.target&&(i.depend(),u&&(u.dep.depend(),Array.isArray(n)&&Be(n))),n},set:function(n){var r=s?s.call(e):t;n===r||n!=n&&r!=r||s&&!c||(c?c.call(e,n):t=n,u=!o&&ke(n),i.notify())}})}}function Oe(e,n,t){if(Array.isArray(e)&&d(n))return e.length=Math.max(e.length,n),e.splice(n,1,t),t;if(n in e&&!(n in Object.prototype))return e[n]=t,t;var r=e.__ob__;return e._isVue||r&&r.vmCount?t:r?(Ce(r.value,n,t),r.dep.notify(),t):(e[n]=t,t)}function Se(e,n){if(Array.isArray(e)&&d(n))e.splice(n,1);else{var t=e.__ob__;e._isVue||t&&t.vmCount||w(e,n)&&(delete e[n],t&&t.dep.notify())}}function Be(e){for(var n=void 0,t=0,r=e.length;t<r;t++)(n=e[t])&&n.__ob__&&n.__ob__.dep.depend(),Array.isArray(n)&&Be(n)}Ae.prototype.walk=function(e){for(var n=Object.keys(e),t=0;t<n.length;t++)Ce(e,n[t])},Ae.prototype.observeArray=function(e){for(var n=0,t=e.length;n<t;n++)ke(e[n])};var je=M.optionMergeStrategies;function Te(e,n){if(!n)return e;for(var t,r,o,i=se?Reflect.ownKeys(n):Object.keys(n),a=0;a<i.length;a++)"__ob__"!==(t=i[a])&&(r=e[t],o=n[t],w(e,t)?r!==o&&l(r)&&l(o)&&Te(r,o):Oe(e,t,o));return e}function De(e,n,t){return t?function(){var r="function"==typeof n?n.call(t,t):n,o="function"==typeof e?e.call(t,t):e;return r?Te(r,o):o}:n?e?function(){return Te("function"==typeof n?n.call(this,this):n,"function"==typeof e?e.call(this,this):e)}:n:e}function Pe(e,n){var t=n?e?e.concat(n):Array.isArray(n)?n:[n]:e;return t?function(e){for(var n=[],t=0;t<e.length;t++)-1===n.indexOf(e[t])&&n.push(e[t]);return n}(t):t}function Ie(e,n,t,r){var o=Object.create(e||null);return n?B(o,n):o}je.data=function(e,n,t){return t?De(e,n,t):n&&"function"!=typeof n?e:De(e,n)},R.forEach((function(e){je[e]=Pe})),$.forEach((function(e){je[e+"s"]=Ie})),je.watch=function(e,n,t,r){if(e===ee&&(e=void 0),n===ee&&(n=void 0),!n)return Object.create(e||null);if(!e)return n;var o={};for(var i in B(o,e),n){var a=o[i],s=n[i];a&&!Array.isArray(a)&&(a=[a]),o[i]=a?a.concat(s):Array.isArray(s)?s:[s]}return o},je.props=je.methods=je.inject=je.computed=function(e,n,t,r){if(!e)return n;var o=Object.create(null);return B(o,e),n&&B(o,n),o},je.provide=De;var Ne=function(e,n){return void 0===n?e:n};function Fe(e,n,t){if("function"==typeof n&&(n=n.options),function(e,n){var t=e.props;if(t){var r,o,i={};if(Array.isArray(t))for(r=t.length;r--;)"string"==typeof(o=t[r])&&(i[x(o)]={type:null});else if(l(t))for(var a in t)o=t[a],i[x(a)]=l(o)?o:{type:o};else 0;e.props=i}}(n),function(e,n){var t=e.inject;if(t){var r=e.inject={};if(Array.isArray(t))for(var o=0;o<t.length;o++)r[t[o]]={from:t[o]};else if(l(t))for(var i in t){var a=t[i];r[i]=l(a)?B({from:i},a):{from:a}}else 0}}(n),function(e){var n=e.directives;if(n)for(var t in n){var r=n[t];"function"==typeof r&&(n[t]={bind:r,update:r})}}(n),!n._base&&(n.extends&&(e=Fe(e,n.extends,t)),n.mixins))for(var r=0,o=n.mixins.length;r<o;r++)e=Fe(e,n.mixins[r],t);var i,a={};for(i in e)s(i);for(i in n)w(e,i)||s(i);function s(r){var o=je[r]||Ne;a[r]=o(e[r],n[r],t,r)}return a}function $e(e,n,t,r){if("string"==typeof t){var o=e[n];if(w(o,t))return o[t];var i=x(t);if(w(o,i))return o[i];var a=A(i);return w(o,a)?o[a]:o[t]||o[i]||o[a]}}function Re(e,n,t,r){var o=n[e],i=!w(t,e),a=t[e],s=Le(Boolean,o.type);if(s>-1)if(i&&!w(o,"default"))a=!1;else if(""===a||a===C(e)){var c=Le(String,o.type);(c<0||s<c)&&(a=!0)}if(void 0===a){a=function(e,n,t){if(!w(n,"default"))return;var r=n.default;0;if(e&&e.$options.propsData&&void 0===e.$options.propsData[t]&&void 0!==e._props[t])return e._props[t];return"function"==typeof r&&"Function"!==ze(n.type)?r.call(e):r}(r,o,e);var u=_e;xe(!0),ke(a),xe(u)}return a}var Me=/^\s*function (\w+)/;function ze(e){var n=e&&e.toString().match(Me);return n?n[1]:""}function Ve(e,n){return ze(e)===ze(n)}function Le(e,n){if(!Array.isArray(n))return Ve(n,e)?0:-1;for(var t=0,r=n.length;t<r;t++)if(Ve(n[t],e))return t;return-1}function Ue(e,n,t){de();try{if(n)for(var r=n;r=r.$parent;){var o=r.$options.errorCaptured;if(o)for(var i=0;i<o.length;i++)try{if(!1===o[i].call(r,e,n,t))return}catch(e){We(e,r,"errorCaptured hook")}}We(e,n,t)}finally{fe()}}function qe(e,n,t,r,o){var i;try{(i=t?e.apply(n,t):e.call(n))&&!i._isVue&&f(i)&&!i._handled&&(i.catch((function(e){return Ue(e,r,o+" (Promise/async)")})),i._handled=!0)}catch(e){Ue(e,r,o)}return i}function We(e,n,t){if(M.errorHandler)try{return M.errorHandler.call(null,e,n,t)}catch(n){n!==e&&He(n,null,"config.errorHandler")}He(e,n,t)}function He(e,n,t){if(!W&&!H||"undefined"==typeof console)throw e;console.error(e)}var Ge,Ke=!1,Je=[],Qe=!1;function Ye(){Qe=!1;var e=Je.slice(0);Je.length=0;for(var n=0;n<e.length;n++)e[n]()}if("undefined"!=typeof Promise&&ie(Promise)){var Ze=Promise.resolve();Ge=function(){Ze.then(Ye),Z&&setTimeout(T)},Ke=!0}else if(J||"undefined"==typeof MutationObserver||!ie(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Ge="undefined"!=typeof setImmediate&&ie(setImmediate)?function(){setImmediate(Ye)}:function(){setTimeout(Ye,0)};else{var Xe=1,en=new MutationObserver(Ye),nn=document.createTextNode(String(Xe));en.observe(nn,{characterData:!0}),Ge=function(){Xe=(Xe+1)%2,nn.data=String(Xe)},Ke=!0}function tn(e,n){var t;if(Je.push((function(){if(e)try{e.call(n)}catch(e){Ue(e,n,"nextTick")}else t&&t(n)})),Qe||(Qe=!0,Ge()),!e&&"undefined"!=typeof Promise)return new Promise((function(e){t=e}))}var rn=new ae;function on(e){!function e(n,t){var r,o,i=Array.isArray(n);if(!i&&!c(n)||Object.isFrozen(n)||n instanceof he)return;if(n.__ob__){var a=n.__ob__.dep.id;if(t.has(a))return;t.add(a)}if(i)for(r=n.length;r--;)e(n[r],t);else for(o=Object.keys(n),r=o.length;r--;)e(n[o[r]],t)}(e,rn),rn.clear()}var an=E((function(e){var n="&"===e.charAt(0),t="~"===(e=n?e.slice(1):e).charAt(0),r="!"===(e=t?e.slice(1):e).charAt(0);return{name:e=r?e.slice(1):e,once:t,capture:r,passive:n}}));function sn(e,n){function t(){var e=arguments,r=t.fns;if(!Array.isArray(r))return qe(r,null,arguments,n,"v-on handler");for(var o=r.slice(),i=0;i<o.length;i++)qe(o[i],null,e,n,"v-on handler")}return t.fns=e,t}function cn(e,n,t,r,i,s){var c,u,l,p;for(c in e)u=e[c],l=n[c],p=an(c),o(u)||(o(l)?(o(u.fns)&&(u=e[c]=sn(u,s)),a(p.once)&&(u=e[c]=i(p.name,u,p.capture)),t(p.name,u,p.capture,p.passive,p.params)):u!==l&&(l.fns=u,e[c]=l));for(c in n)o(e[c])&&r((p=an(c)).name,n[c],p.capture)}function un(e,n,t){var r;e instanceof he&&(e=e.data.hook||(e.data.hook={}));var s=e[n];function c(){t.apply(this,arguments),y(r.fns,c)}o(s)?r=sn([c]):i(s.fns)&&a(s.merged)?(r=s).fns.push(c):r=sn([s,c]),r.merged=!0,e[n]=r}function ln(e,n,t,r,o){if(i(n)){if(w(n,t))return e[t]=n[t],o||delete n[t],!0;if(w(n,r))return e[t]=n[r],o||delete n[r],!0}return!1}function pn(e){return s(e)?[ge(e)]:Array.isArray(e)?function e(n,t){var r,c,u,l,p=[];for(r=0;r<n.length;r++)o(c=n[r])||"boolean"==typeof c||(u=p.length-1,l=p[u],Array.isArray(c)?c.length>0&&(dn((c=e(c,(t||"")+"_"+r))[0])&&dn(l)&&(p[u]=ge(l.text+c[0].text),c.shift()),p.push.apply(p,c)):s(c)?dn(l)?p[u]=ge(l.text+c):""!==c&&p.push(ge(c)):dn(c)&&dn(l)?p[u]=ge(l.text+c.text):(a(n._isVList)&&i(c.tag)&&o(c.key)&&i(t)&&(c.key="__vlist"+t+"_"+r+"__"),p.push(c)));return p}(e):void 0}function dn(e){return i(e)&&i(e.text)&&!1===e.isComment}function fn(e,n){if(e){for(var t=Object.create(null),r=se?Reflect.ownKeys(e):Object.keys(e),o=0;o<r.length;o++){var i=r[o];if("__ob__"!==i){for(var a=e[i].from,s=n;s;){if(s._provided&&w(s._provided,a)){t[i]=s._provided[a];break}s=s.$parent}if(!s)if("default"in e[i]){var c=e[i].default;t[i]="function"==typeof c?c.call(n):c}else 0}}return t}}function hn(e,n){if(!e||!e.length)return{};for(var t={},r=0,o=e.length;r<o;r++){var i=e[r],a=i.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,i.context!==n&&i.fnContext!==n||!a||null==a.slot)(t.default||(t.default=[])).push(i);else{var s=a.slot,c=t[s]||(t[s]=[]);"template"===i.tag?c.push.apply(c,i.children||[]):c.push(i)}}for(var u in t)t[u].every(mn)&&delete t[u];return t}function mn(e){return e.isComment&&!e.asyncFactory||" "===e.text}function vn(e){return e.isComment&&e.asyncFactory}function gn(e,n,t){var o,i=Object.keys(n).length>0,a=e?!!e.$stable:!i,s=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(a&&t&&t!==r&&s===t.$key&&!i&&!t.$hasNormal)return t;for(var c in o={},e)e[c]&&"$"!==c[0]&&(o[c]=yn(n,c,e[c]))}else o={};for(var u in n)u in o||(o[u]=bn(n,u));return e&&Object.isExtensible(e)&&(e._normalized=o),V(o,"$stable",a),V(o,"$key",s),V(o,"$hasNormal",i),o}function yn(e,n,t){var r=function(){var e=arguments.length?t.apply(null,arguments):t({}),n=(e=e&&"object"==typeof e&&!Array.isArray(e)?[e]:pn(e))&&e[0];return e&&(!n||1===e.length&&n.isComment&&!vn(n))?void 0:e};return t.proxy&&Object.defineProperty(e,n,{get:r,enumerable:!0,configurable:!0}),r}function bn(e,n){return function(){return e[n]}}function wn(e,n){var t,r,o,a,s;if(Array.isArray(e)||"string"==typeof e)for(t=new Array(e.length),r=0,o=e.length;r<o;r++)t[r]=n(e[r],r);else if("number"==typeof e)for(t=new Array(e),r=0;r<e;r++)t[r]=n(r+1,r);else if(c(e))if(se&&e[Symbol.iterator]){t=[];for(var u=e[Symbol.iterator](),l=u.next();!l.done;)t.push(n(l.value,t.length)),l=u.next()}else for(a=Object.keys(e),t=new Array(a.length),r=0,o=a.length;r<o;r++)s=a[r],t[r]=n(e[s],s,r);return i(t)||(t=[]),t._isVList=!0,t}function En(e,n,t,r){var o,i=this.$scopedSlots[e];i?(t=t||{},r&&(t=B(B({},r),t)),o=i(t)||("function"==typeof n?n():n)):o=this.$slots[e]||("function"==typeof n?n():n);var a=t&&t.slot;return a?this.$createElement("template",{slot:a},o):o}function _n(e){return $e(this.$options,"filters",e)||P}function xn(e,n){return Array.isArray(e)?-1===e.indexOf(n):e!==n}function An(e,n,t,r,o){var i=M.keyCodes[n]||t;return o&&r&&!M.keyCodes[n]?xn(o,r):i?xn(i,e):r?C(r)!==n:void 0===e}function kn(e,n,t,r,o){if(t)if(c(t)){var i;Array.isArray(t)&&(t=j(t));var a=function(a){if("class"===a||"style"===a||g(a))i=e;else{var s=e.attrs&&e.attrs.type;i=r||M.mustUseProp(n,s,a)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var c=x(a),u=C(a);c in i||u in i||(i[a]=t[a],o&&((e.on||(e.on={}))["update:"+a]=function(e){t[a]=e}))};for(var s in t)a(s)}else;return e}function Cn(e,n){var t=this._staticTrees||(this._staticTrees=[]),r=t[e];return r&&!n||Sn(r=t[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),"__static__"+e,!1),r}function On(e,n,t){return Sn(e,"__once__"+n+(t?"_"+t:""),!0),e}function Sn(e,n,t){if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]&&"string"!=typeof e[r]&&Bn(e[r],n+"_"+r,t);else Bn(e,n,t)}function Bn(e,n,t){e.isStatic=!0,e.key=n,e.isOnce=t}function jn(e,n){if(n)if(l(n)){var t=e.on=e.on?B({},e.on):{};for(var r in n){var o=t[r],i=n[r];t[r]=o?[].concat(o,i):i}}else;return e}function Tn(e,n,t,r){n=n||{$stable:!t};for(var o=0;o<e.length;o++){var i=e[o];Array.isArray(i)?Tn(i,n,t):i&&(i.proxy&&(i.fn.proxy=!0),n[i.key]=i.fn)}return r&&(n.$key=r),n}function Dn(e,n){for(var t=0;t<n.length;t+=2){var r=n[t];"string"==typeof r&&r&&(e[n[t]]=n[t+1])}return e}function Pn(e,n){return"string"==typeof e?n+e:e}function In(e){e._o=On,e._n=m,e._s=h,e._l=wn,e._t=En,e._q=I,e._i=N,e._m=Cn,e._f=_n,e._k=An,e._b=kn,e._v=ge,e._e=ve,e._u=Tn,e._g=jn,e._d=Dn,e._p=Pn}function Nn(e,n,t,o,i){var s,c=this,u=i.options;w(o,"_uid")?(s=Object.create(o))._original=o:(s=o,o=o._original);var l=a(u._compiled),p=!l;this.data=e,this.props=n,this.children=t,this.parent=o,this.listeners=e.on||r,this.injections=fn(u.inject,o),this.slots=function(){return c.$slots||gn(e.scopedSlots,c.$slots=hn(t,o)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return gn(e.scopedSlots,this.slots())}}),l&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=gn(e.scopedSlots,this.$slots)),u._scopeId?this._c=function(e,n,t,r){var i=Ln(s,e,n,t,r,p);return i&&!Array.isArray(i)&&(i.fnScopeId=u._scopeId,i.fnContext=o),i}:this._c=function(e,n,t,r){return Ln(s,e,n,t,r,p)}}function Fn(e,n,t,r,o){var i=ye(e);return i.fnContext=t,i.fnOptions=r,n.slot&&((i.data||(i.data={})).slot=n.slot),i}function $n(e,n){for(var t in n)e[x(t)]=n[t]}In(Nn.prototype);var Rn={init:function(e,n){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var t=e;Rn.prepatch(t,t)}else{(e.componentInstance=function(e,n){var t={_isComponent:!0,_parentVnode:e,parent:n},r=e.data.inlineTemplate;i(r)&&(t.render=r.render,t.staticRenderFns=r.staticRenderFns);return new e.componentOptions.Ctor(t)}(e,Yn)).$mount(n?e.elm:void 0,n)}},prepatch:function(e,n){var t=n.componentOptions;!function(e,n,t,o,i){0;var a=o.data.scopedSlots,s=e.$scopedSlots,c=!!(a&&!a.$stable||s!==r&&!s.$stable||a&&e.$scopedSlots.$key!==a.$key||!a&&e.$scopedSlots.$key),u=!!(i||e.$options._renderChildren||c);e.$options._parentVnode=o,e.$vnode=o,e._vnode&&(e._vnode.parent=o);if(e.$options._renderChildren=i,e.$attrs=o.data.attrs||r,e.$listeners=t||r,n&&e.$options.props){xe(!1);for(var l=e._props,p=e.$options._propKeys||[],d=0;d<p.length;d++){var f=p[d],h=e.$options.props;l[f]=Re(f,h,n,e)}xe(!0),e.$options.propsData=n}t=t||r;var m=e.$options._parentListeners;e.$options._parentListeners=t,Qn(e,t,m),u&&(e.$slots=hn(i,o.context),e.$forceUpdate());0}(n.componentInstance=e.componentInstance,t.propsData,t.listeners,n,t.children)},insert:function(e){var n,t=e.context,r=e.componentInstance;r._isMounted||(r._isMounted=!0,nt(r,"mounted")),e.data.keepAlive&&(t._isMounted?((n=r)._inactive=!1,rt.push(n)):et(r,!0))},destroy:function(e){var n=e.componentInstance;n._isDestroyed||(e.data.keepAlive?function e(n,t){if(t&&(n._directInactive=!0,Xn(n)))return;if(!n._inactive){n._inactive=!0;for(var r=0;r<n.$children.length;r++)e(n.$children[r]);nt(n,"deactivated")}}(n,!0):n.$destroy())}},Mn=Object.keys(Rn);function zn(e,n,t,s,u){if(!o(e)){var l=t.$options._base;if(c(e)&&(e=l.extend(e)),"function"==typeof e){var p;if(o(e.cid)&&void 0===(e=function(e,n){if(a(e.error)&&i(e.errorComp))return e.errorComp;if(i(e.resolved))return e.resolved;var t=qn;t&&i(e.owners)&&-1===e.owners.indexOf(t)&&e.owners.push(t);if(a(e.loading)&&i(e.loadingComp))return e.loadingComp;if(t&&!i(e.owners)){var r=e.owners=[t],s=!0,u=null,l=null;t.$on("hook:destroyed",(function(){return y(r,t)}));var p=function(e){for(var n=0,t=r.length;n<t;n++)r[n].$forceUpdate();e&&(r.length=0,null!==u&&(clearTimeout(u),u=null),null!==l&&(clearTimeout(l),l=null))},d=F((function(t){e.resolved=Wn(t,n),s?r.length=0:p(!0)})),h=F((function(n){i(e.errorComp)&&(e.error=!0,p(!0))})),m=e(d,h);return c(m)&&(f(m)?o(e.resolved)&&m.then(d,h):f(m.component)&&(m.component.then(d,h),i(m.error)&&(e.errorComp=Wn(m.error,n)),i(m.loading)&&(e.loadingComp=Wn(m.loading,n),0===m.delay?e.loading=!0:u=setTimeout((function(){u=null,o(e.resolved)&&o(e.error)&&(e.loading=!0,p(!1))}),m.delay||200)),i(m.timeout)&&(l=setTimeout((function(){l=null,o(e.resolved)&&h(null)}),m.timeout)))),s=!1,e.loading?e.loadingComp:e.resolved}}(p=e,l)))return function(e,n,t,r,o){var i=ve();return i.asyncFactory=e,i.asyncMeta={data:n,context:t,children:r,tag:o},i}(p,n,t,s,u);n=n||{},xt(e),i(n.model)&&function(e,n){var t=e.model&&e.model.prop||"value",r=e.model&&e.model.event||"input";(n.attrs||(n.attrs={}))[t]=n.model.value;var o=n.on||(n.on={}),a=o[r],s=n.model.callback;i(a)?(Array.isArray(a)?-1===a.indexOf(s):a!==s)&&(o[r]=[s].concat(a)):o[r]=s}(e.options,n);var d=function(e,n,t){var r=n.options.props;if(!o(r)){var a={},s=e.attrs,c=e.props;if(i(s)||i(c))for(var u in r){var l=C(u);ln(a,c,u,l,!0)||ln(a,s,u,l,!1)}return a}}(n,e);if(a(e.options.functional))return function(e,n,t,o,a){var s=e.options,c={},u=s.props;if(i(u))for(var l in u)c[l]=Re(l,u,n||r);else i(t.attrs)&&$n(c,t.attrs),i(t.props)&&$n(c,t.props);var p=new Nn(t,c,a,o,e),d=s.render.call(null,p._c,p);if(d instanceof he)return Fn(d,t,p.parent,s,p);if(Array.isArray(d)){for(var f=pn(d)||[],h=new Array(f.length),m=0;m<f.length;m++)h[m]=Fn(f[m],t,p.parent,s,p);return h}}(e,d,n,t,s);var h=n.on;if(n.on=n.nativeOn,a(e.options.abstract)){var m=n.slot;n={},m&&(n.slot=m)}!function(e){for(var n=e.hook||(e.hook={}),t=0;t<Mn.length;t++){var r=Mn[t],o=n[r],i=Rn[r];o===i||o&&o._merged||(n[r]=o?Vn(i,o):i)}}(n);var v=e.options.name||u;return new he("vue-component-"+e.cid+(v?"-"+v:""),n,void 0,void 0,void 0,t,{Ctor:e,propsData:d,listeners:h,tag:u,children:s},p)}}}function Vn(e,n){var t=function(t,r){e(t,r),n(t,r)};return t._merged=!0,t}function Ln(e,n,t,r,u,l){return(Array.isArray(t)||s(t))&&(u=r,r=t,t=void 0),a(l)&&(u=2),function(e,n,t,r,s){if(i(t)&&i(t.__ob__))return ve();i(t)&&i(t.is)&&(n=t.is);if(!n)return ve();0;Array.isArray(r)&&"function"==typeof r[0]&&((t=t||{}).scopedSlots={default:r[0]},r.length=0);2===s?r=pn(r):1===s&&(r=function(e){for(var n=0;n<e.length;n++)if(Array.isArray(e[n]))return Array.prototype.concat.apply([],e);return e}(r));var u,l;if("string"==typeof n){var p;l=e.$vnode&&e.$vnode.ns||M.getTagNamespace(n),u=M.isReservedTag(n)?new he(M.parsePlatformTagName(n),t,r,void 0,void 0,e):t&&t.pre||!i(p=$e(e.$options,"components",n))?new he(n,t,r,void 0,void 0,e):zn(p,t,e,r,n)}else u=zn(n,t,e,r);return Array.isArray(u)?u:i(u)?(i(l)&&function e(n,t,r){n.ns=t,"foreignObject"===n.tag&&(t=void 0,r=!0);if(i(n.children))for(var s=0,c=n.children.length;s<c;s++){var u=n.children[s];i(u.tag)&&(o(u.ns)||a(r)&&"svg"!==u.tag)&&e(u,t,r)}}(u,l),i(t)&&function(e){c(e.style)&&on(e.style);c(e.class)&&on(e.class)}(t),u):ve()}(e,n,t,r,u)}var Un,qn=null;function Wn(e,n){return(e.__esModule||se&&"Module"===e[Symbol.toStringTag])&&(e=e.default),c(e)?n.extend(e):e}function Hn(e){if(Array.isArray(e))for(var n=0;n<e.length;n++){var t=e[n];if(i(t)&&(i(t.componentOptions)||vn(t)))return t}}function Gn(e,n){Un.$on(e,n)}function Kn(e,n){Un.$off(e,n)}function Jn(e,n){var t=Un;return function r(){var o=n.apply(null,arguments);null!==o&&t.$off(e,r)}}function Qn(e,n,t){Un=e,cn(n,t||{},Gn,Kn,Jn,e),Un=void 0}var Yn=null;function Zn(e){var n=Yn;return Yn=e,function(){Yn=n}}function Xn(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function et(e,n){if(n){if(e._directInactive=!1,Xn(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var t=0;t<e.$children.length;t++)et(e.$children[t]);nt(e,"activated")}}function nt(e,n){de();var t=e.$options[n],r=n+" hook";if(t)for(var o=0,i=t.length;o<i;o++)qe(t[o],e,null,e,r);e._hasHookEvent&&e.$emit("hook:"+n),fe()}var tt=[],rt=[],ot={},it=!1,at=!1,st=0;var ct=0,ut=Date.now;if(W&&!J){var lt=window.performance;lt&&"function"==typeof lt.now&&ut()>document.createEvent("Event").timeStamp&&(ut=function(){return lt.now()})}function pt(){var e,n;for(ct=ut(),at=!0,tt.sort((function(e,n){return e.id-n.id})),st=0;st<tt.length;st++)(e=tt[st]).before&&e.before(),n=e.id,ot[n]=null,e.run();var t=rt.slice(),r=tt.slice();st=tt.length=rt.length=0,ot={},it=at=!1,function(e){for(var n=0;n<e.length;n++)e[n]._inactive=!0,et(e[n],!0)}(t),function(e){var n=e.length;for(;n--;){var t=e[n],r=t.vm;r._watcher===t&&r._isMounted&&!r._isDestroyed&&nt(r,"updated")}}(r),oe&&M.devtools&&oe.emit("flush")}var dt=0,ft=function(e,n,t,r,o){this.vm=e,o&&(e._watcher=this),e._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=t,this.id=++dt,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ae,this.newDepIds=new ae,this.expression="","function"==typeof n?this.getter=n:(this.getter=function(e){if(!L.test(e)){var n=e.split(".");return function(e){for(var t=0;t<n.length;t++){if(!e)return;e=e[n[t]]}return e}}}(n),this.getter||(this.getter=T)),this.value=this.lazy?void 0:this.get()};ft.prototype.get=function(){var e;de(this);var n=this.vm;try{e=this.getter.call(n,n)}catch(e){if(!this.user)throw e;Ue(e,n,'getter for watcher "'+this.expression+'"')}finally{this.deep&&on(e),fe(),this.cleanupDeps()}return e},ft.prototype.addDep=function(e){var n=e.id;this.newDepIds.has(n)||(this.newDepIds.add(n),this.newDeps.push(e),this.depIds.has(n)||e.addSub(this))},ft.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var n=this.deps[e];this.newDepIds.has(n.id)||n.removeSub(this)}var t=this.depIds;this.depIds=this.newDepIds,this.newDepIds=t,this.newDepIds.clear(),t=this.deps,this.deps=this.newDeps,this.newDeps=t,this.newDeps.length=0},ft.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(e){var n=e.id;if(null==ot[n]){if(ot[n]=!0,at){for(var t=tt.length-1;t>st&&tt[t].id>e.id;)t--;tt.splice(t+1,0,e)}else tt.push(e);it||(it=!0,tn(pt))}}(this)},ft.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||c(e)||this.deep){var n=this.value;if(this.value=e,this.user){var t='callback for watcher "'+this.expression+'"';qe(this.cb,this.vm,[e,n],this.vm,t)}else this.cb.call(this.vm,e,n)}}},ft.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},ft.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},ft.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||y(this.vm._watchers,this);for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1}};var ht={enumerable:!0,configurable:!0,get:T,set:T};function mt(e,n,t){ht.get=function(){return this[n][t]},ht.set=function(e){this[n][t]=e},Object.defineProperty(e,t,ht)}function vt(e){e._watchers=[];var n=e.$options;n.props&&function(e,n){var t=e.$options.propsData||{},r=e._props={},o=e.$options._propKeys=[];e.$parent&&xe(!1);var i=function(i){o.push(i);var a=Re(i,n,t,e);Ce(r,i,a),i in e||mt(e,"_props",i)};for(var a in n)i(a);xe(!0)}(e,n.props),n.methods&&function(e,n){e.$options.props;for(var t in n)e[t]="function"!=typeof n[t]?T:O(n[t],e)}(e,n.methods),n.data?function(e){var n=e.$options.data;l(n=e._data="function"==typeof n?function(e,n){de();try{return e.call(n,n)}catch(e){return Ue(e,n,"data()"),{}}finally{fe()}}(n,e):n||{})||(n={});var t=Object.keys(n),r=e.$options.props,o=(e.$options.methods,t.length);for(;o--;){var i=t[o];0,r&&w(r,i)||(a=void 0,36!==(a=(i+"").charCodeAt(0))&&95!==a&&mt(e,"_data",i))}var a;ke(n,!0)}(e):ke(e._data={},!0),n.computed&&function(e,n){var t=e._computedWatchers=Object.create(null),r=re();for(var o in n){var i=n[o],a="function"==typeof i?i:i.get;0,r||(t[o]=new ft(e,a||T,T,gt)),o in e||yt(e,o,i)}}(e,n.computed),n.watch&&n.watch!==ee&&function(e,n){for(var t in n){var r=n[t];if(Array.isArray(r))for(var o=0;o<r.length;o++)Et(e,t,r[o]);else Et(e,t,r)}}(e,n.watch)}var gt={lazy:!0};function yt(e,n,t){var r=!re();"function"==typeof t?(ht.get=r?bt(n):wt(t),ht.set=T):(ht.get=t.get?r&&!1!==t.cache?bt(n):wt(t.get):T,ht.set=t.set||T),Object.defineProperty(e,n,ht)}function bt(e){return function(){var n=this._computedWatchers&&this._computedWatchers[e];if(n)return n.dirty&&n.evaluate(),le.target&&n.depend(),n.value}}function wt(e){return function(){return e.call(this,this)}}function Et(e,n,t,r){return l(t)&&(r=t,t=t.handler),"string"==typeof t&&(t=e[t]),e.$watch(n,t,r)}var _t=0;function xt(e){var n=e.options;if(e.super){var t=xt(e.super);if(t!==e.superOptions){e.superOptions=t;var r=function(e){var n,t=e.options,r=e.sealedOptions;for(var o in t)t[o]!==r[o]&&(n||(n={}),n[o]=t[o]);return n}(e);r&&B(e.extendOptions,r),(n=e.options=Fe(t,e.extendOptions)).name&&(n.components[n.name]=e)}}return n}function At(e){this._init(e)}function kt(e){e.cid=0;var n=1;e.extend=function(e){e=e||{};var t=this,r=t.cid,o=e._Ctor||(e._Ctor={});if(o[r])return o[r];var i=e.name||t.options.name;var a=function(e){this._init(e)};return(a.prototype=Object.create(t.prototype)).constructor=a,a.cid=n++,a.options=Fe(t.options,e),a.super=t,a.options.props&&function(e){var n=e.options.props;for(var t in n)mt(e.prototype,"_props",t)}(a),a.options.computed&&function(e){var n=e.options.computed;for(var t in n)yt(e.prototype,t,n[t])}(a),a.extend=t.extend,a.mixin=t.mixin,a.use=t.use,$.forEach((function(e){a[e]=t[e]})),i&&(a.options.components[i]=a),a.superOptions=t.options,a.extendOptions=e,a.sealedOptions=B({},a.options),o[r]=a,a}}function Ct(e){return e&&(e.Ctor.options.name||e.tag)}function Ot(e,n){return Array.isArray(e)?e.indexOf(n)>-1:"string"==typeof e?e.split(",").indexOf(n)>-1:!!p(e)&&e.test(n)}function St(e,n){var t=e.cache,r=e.keys,o=e._vnode;for(var i in t){var a=t[i];if(a){var s=a.name;s&&!n(s)&&Bt(t,i,r,o)}}}function Bt(e,n,t,r){var o=e[n];!o||r&&o.tag===r.tag||o.componentInstance.$destroy(),e[n]=null,y(t,n)}!function(e){e.prototype._init=function(e){var n=this;n._uid=_t++,n._isVue=!0,e&&e._isComponent?function(e,n){var t=e.$options=Object.create(e.constructor.options),r=n._parentVnode;t.parent=n.parent,t._parentVnode=r;var o=r.componentOptions;t.propsData=o.propsData,t._parentListeners=o.listeners,t._renderChildren=o.children,t._componentTag=o.tag,n.render&&(t.render=n.render,t.staticRenderFns=n.staticRenderFns)}(n,e):n.$options=Fe(xt(n.constructor),e||{},n),n._renderProxy=n,n._self=n,function(e){var n=e.$options,t=n.parent;if(t&&!n.abstract){for(;t.$options.abstract&&t.$parent;)t=t.$parent;t.$children.push(e)}e.$parent=t,e.$root=t?t.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}(n),function(e){e._events=Object.create(null),e._hasHookEvent=!1;var n=e.$options._parentListeners;n&&Qn(e,n)}(n),function(e){e._vnode=null,e._staticTrees=null;var n=e.$options,t=e.$vnode=n._parentVnode,o=t&&t.context;e.$slots=hn(n._renderChildren,o),e.$scopedSlots=r,e._c=function(n,t,r,o){return Ln(e,n,t,r,o,!1)},e.$createElement=function(n,t,r,o){return Ln(e,n,t,r,o,!0)};var i=t&&t.data;Ce(e,"$attrs",i&&i.attrs||r,null,!0),Ce(e,"$listeners",n._parentListeners||r,null,!0)}(n),nt(n,"beforeCreate"),function(e){var n=fn(e.$options.inject,e);n&&(xe(!1),Object.keys(n).forEach((function(t){Ce(e,t,n[t])})),xe(!0))}(n),vt(n),function(e){var n=e.$options.provide;n&&(e._provided="function"==typeof n?n.call(e):n)}(n),nt(n,"created"),n.$options.el&&n.$mount(n.$options.el)}}(At),function(e){var n={get:function(){return this._data}},t={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",n),Object.defineProperty(e.prototype,"$props",t),e.prototype.$set=Oe,e.prototype.$delete=Se,e.prototype.$watch=function(e,n,t){if(l(n))return Et(this,e,n,t);(t=t||{}).user=!0;var r=new ft(this,e,n,t);if(t.immediate){var o='callback for immediate watcher "'+r.expression+'"';de(),qe(n,this,[r.value],this,o),fe()}return function(){r.teardown()}}}(At),function(e){var n=/^hook:/;e.prototype.$on=function(e,t){var r=this;if(Array.isArray(e))for(var o=0,i=e.length;o<i;o++)r.$on(e[o],t);else(r._events[e]||(r._events[e]=[])).push(t),n.test(e)&&(r._hasHookEvent=!0);return r},e.prototype.$once=function(e,n){var t=this;function r(){t.$off(e,r),n.apply(t,arguments)}return r.fn=n,t.$on(e,r),t},e.prototype.$off=function(e,n){var t=this;if(!arguments.length)return t._events=Object.create(null),t;if(Array.isArray(e)){for(var r=0,o=e.length;r<o;r++)t.$off(e[r],n);return t}var i,a=t._events[e];if(!a)return t;if(!n)return t._events[e]=null,t;for(var s=a.length;s--;)if((i=a[s])===n||i.fn===n){a.splice(s,1);break}return t},e.prototype.$emit=function(e){var n=this,t=n._events[e];if(t){t=t.length>1?S(t):t;for(var r=S(arguments,1),o='event handler for "'+e+'"',i=0,a=t.length;i<a;i++)qe(t[i],n,r,n,o)}return n}}(At),function(e){e.prototype._update=function(e,n){var t=this,r=t.$el,o=t._vnode,i=Zn(t);t._vnode=e,t.$el=o?t.__patch__(o,e):t.__patch__(t.$el,e,n,!1),i(),r&&(r.__vue__=null),t.$el&&(t.$el.__vue__=t),t.$vnode&&t.$parent&&t.$vnode===t.$parent._vnode&&(t.$parent.$el=t.$el)},e.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){nt(e,"beforeDestroy"),e._isBeingDestroyed=!0;var n=e.$parent;!n||n._isBeingDestroyed||e.$options.abstract||y(n.$children,e),e._watcher&&e._watcher.teardown();for(var t=e._watchers.length;t--;)e._watchers[t].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),nt(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}(At),function(e){In(e.prototype),e.prototype.$nextTick=function(e){return tn(e,this)},e.prototype._render=function(){var e,n=this,t=n.$options,r=t.render,o=t._parentVnode;o&&(n.$scopedSlots=gn(o.data.scopedSlots,n.$slots,n.$scopedSlots)),n.$vnode=o;try{qn=n,e=r.call(n._renderProxy,n.$createElement)}catch(t){Ue(t,n,"render"),e=n._vnode}finally{qn=null}return Array.isArray(e)&&1===e.length&&(e=e[0]),e instanceof he||(e=ve()),e.parent=o,e}}(At);var jt=[String,RegExp,Array],Tt={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:jt,exclude:jt,max:[String,Number]},methods:{cacheVNode:function(){var e=this.cache,n=this.keys,t=this.vnodeToCache,r=this.keyToCache;if(t){var o=t.tag,i=t.componentInstance,a=t.componentOptions;e[r]={name:Ct(a),tag:o,componentInstance:i},n.push(r),this.max&&n.length>parseInt(this.max)&&Bt(e,n[0],n,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)Bt(this.cache,e,this.keys)},mounted:function(){var e=this;this.cacheVNode(),this.$watch("include",(function(n){St(e,(function(e){return Ot(n,e)}))})),this.$watch("exclude",(function(n){St(e,(function(e){return!Ot(n,e)}))}))},updated:function(){this.cacheVNode()},render:function(){var e=this.$slots.default,n=Hn(e),t=n&&n.componentOptions;if(t){var r=Ct(t),o=this.include,i=this.exclude;if(o&&(!r||!Ot(o,r))||i&&r&&Ot(i,r))return n;var a=this.cache,s=this.keys,c=null==n.key?t.Ctor.cid+(t.tag?"::"+t.tag:""):n.key;a[c]?(n.componentInstance=a[c].componentInstance,y(s,c),s.push(c)):(this.vnodeToCache=n,this.keyToCache=c),n.data.keepAlive=!0}return n||e&&e[0]}}};!function(e){var n={get:function(){return M}};Object.defineProperty(e,"config",n),e.util={warn:ce,extend:B,mergeOptions:Fe,defineReactive:Ce},e.set=Oe,e.delete=Se,e.nextTick=tn,e.observable=function(e){return ke(e),e},e.options=Object.create(null),$.forEach((function(n){e.options[n+"s"]=Object.create(null)})),e.options._base=e,B(e.options.components,Tt),function(e){e.use=function(e){var n=this._installedPlugins||(this._installedPlugins=[]);if(n.indexOf(e)>-1)return this;var t=S(arguments,1);return t.unshift(this),"function"==typeof e.install?e.install.apply(e,t):"function"==typeof e&&e.apply(null,t),n.push(e),this}}(e),function(e){e.mixin=function(e){return this.options=Fe(this.options,e),this}}(e),kt(e),function(e){$.forEach((function(n){e[n]=function(e,t){return t?("component"===n&&l(t)&&(t.name=t.name||e,t=this.options._base.extend(t)),"directive"===n&&"function"==typeof t&&(t={bind:t,update:t}),this.options[n+"s"][e]=t,t):this.options[n+"s"][e]}}))}(e)}(At),Object.defineProperty(At.prototype,"$isServer",{get:re}),Object.defineProperty(At.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(At,"FunctionalRenderContext",{value:Nn}),At.version="2.6.14";var Dt=v("style,class"),Pt=v("input,textarea,option,select,progress"),It=v("contenteditable,draggable,spellcheck"),Nt=v("events,caret,typing,plaintext-only"),Ft=v("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),$t="http://www.w3.org/1999/xlink",Rt=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},Mt=function(e){return Rt(e)?e.slice(6,e.length):""},zt=function(e){return null==e||!1===e};function Vt(e){for(var n=e.data,t=e,r=e;i(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(n=Lt(r.data,n));for(;i(t=t.parent);)t&&t.data&&(n=Lt(n,t.data));return function(e,n){if(i(e)||i(n))return Ut(e,qt(n));return""}(n.staticClass,n.class)}function Lt(e,n){return{staticClass:Ut(e.staticClass,n.staticClass),class:i(e.class)?[e.class,n.class]:n.class}}function Ut(e,n){return e?n?e+" "+n:e:n||""}function qt(e){return Array.isArray(e)?function(e){for(var n,t="",r=0,o=e.length;r<o;r++)i(n=qt(e[r]))&&""!==n&&(t&&(t+=" "),t+=n);return t}(e):c(e)?function(e){var n="";for(var t in e)e[t]&&(n&&(n+=" "),n+=t);return n}(e):"string"==typeof e?e:""}var Wt={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Ht=v("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Gt=v("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Kt=function(e){return Ht(e)||Gt(e)};var Jt=Object.create(null);var Qt=v("text,number,password,search,email,tel,url");var Yt=Object.freeze({createElement:function(e,n){var t=document.createElement(e);return"select"!==e||n.data&&n.data.attrs&&void 0!==n.data.attrs.multiple&&t.setAttribute("multiple","multiple"),t},createElementNS:function(e,n){return document.createElementNS(Wt[e],n)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,n,t){e.insertBefore(n,t)},removeChild:function(e,n){e.removeChild(n)},appendChild:function(e,n){e.appendChild(n)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,n){e.textContent=n},setStyleScope:function(e,n){e.setAttribute(n,"")}}),Zt={create:function(e,n){Xt(n)},update:function(e,n){e.data.ref!==n.data.ref&&(Xt(e,!0),Xt(n))},destroy:function(e){Xt(e,!0)}};function Xt(e,n){var t=e.data.ref;if(i(t)){var r=e.context,o=e.componentInstance||e.elm,a=r.$refs;n?Array.isArray(a[t])?y(a[t],o):a[t]===o&&(a[t]=void 0):e.data.refInFor?Array.isArray(a[t])?a[t].indexOf(o)<0&&a[t].push(o):a[t]=[o]:a[t]=o}}var er=new he("",{},[]),nr=["create","activate","update","remove","destroy"];function tr(e,n){return e.key===n.key&&e.asyncFactory===n.asyncFactory&&(e.tag===n.tag&&e.isComment===n.isComment&&i(e.data)===i(n.data)&&function(e,n){if("input"!==e.tag)return!0;var t,r=i(t=e.data)&&i(t=t.attrs)&&t.type,o=i(t=n.data)&&i(t=t.attrs)&&t.type;return r===o||Qt(r)&&Qt(o)}(e,n)||a(e.isAsyncPlaceholder)&&o(n.asyncFactory.error))}function rr(e,n,t){var r,o,a={};for(r=n;r<=t;++r)i(o=e[r].key)&&(a[o]=r);return a}var or={create:ir,update:ir,destroy:function(e){ir(e,er)}};function ir(e,n){(e.data.directives||n.data.directives)&&function(e,n){var t,r,o,i=e===er,a=n===er,s=sr(e.data.directives,e.context),c=sr(n.data.directives,n.context),u=[],l=[];for(t in c)r=s[t],o=c[t],r?(o.oldValue=r.value,o.oldArg=r.arg,ur(o,"update",n,e),o.def&&o.def.componentUpdated&&l.push(o)):(ur(o,"bind",n,e),o.def&&o.def.inserted&&u.push(o));if(u.length){var p=function(){for(var t=0;t<u.length;t++)ur(u[t],"inserted",n,e)};i?un(n,"insert",p):p()}l.length&&un(n,"postpatch",(function(){for(var t=0;t<l.length;t++)ur(l[t],"componentUpdated",n,e)}));if(!i)for(t in s)c[t]||ur(s[t],"unbind",e,e,a)}(e,n)}var ar=Object.create(null);function sr(e,n){var t,r,o=Object.create(null);if(!e)return o;for(t=0;t<e.length;t++)(r=e[t]).modifiers||(r.modifiers=ar),o[cr(r)]=r,r.def=$e(n.$options,"directives",r.name);return o}function cr(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function ur(e,n,t,r,o){var i=e.def&&e.def[n];if(i)try{i(t.elm,e,t,r,o)}catch(r){Ue(r,t.context,"directive "+e.name+" "+n+" hook")}}var lr=[Zt,or];function pr(e,n){var t=n.componentOptions;if(!(i(t)&&!1===t.Ctor.options.inheritAttrs||o(e.data.attrs)&&o(n.data.attrs))){var r,a,s=n.elm,c=e.data.attrs||{},u=n.data.attrs||{};for(r in i(u.__ob__)&&(u=n.data.attrs=B({},u)),u)a=u[r],c[r]!==a&&dr(s,r,a,n.data.pre);for(r in(J||Y)&&u.value!==c.value&&dr(s,"value",u.value),c)o(u[r])&&(Rt(r)?s.removeAttributeNS($t,Mt(r)):It(r)||s.removeAttribute(r))}}function dr(e,n,t,r){r||e.tagName.indexOf("-")>-1?fr(e,n,t):Ft(n)?zt(t)?e.removeAttribute(n):(t="allowfullscreen"===n&&"EMBED"===e.tagName?"true":n,e.setAttribute(n,t)):It(n)?e.setAttribute(n,function(e,n){return zt(n)||"false"===n?"false":"contenteditable"===e&&Nt(n)?n:"true"}(n,t)):Rt(n)?zt(t)?e.removeAttributeNS($t,Mt(n)):e.setAttributeNS($t,n,t):fr(e,n,t)}function fr(e,n,t){if(zt(t))e.removeAttribute(n);else{if(J&&!Q&&"TEXTAREA"===e.tagName&&"placeholder"===n&&""!==t&&!e.__ieph){var r=function(n){n.stopImmediatePropagation(),e.removeEventListener("input",r)};e.addEventListener("input",r),e.__ieph=!0}e.setAttribute(n,t)}}var hr={create:pr,update:pr};function mr(e,n){var t=n.elm,r=n.data,a=e.data;if(!(o(r.staticClass)&&o(r.class)&&(o(a)||o(a.staticClass)&&o(a.class)))){var s=Vt(n),c=t._transitionClasses;i(c)&&(s=Ut(s,qt(c))),s!==t._prevClass&&(t.setAttribute("class",s),t._prevClass=s)}}var vr,gr={create:mr,update:mr};function yr(e,n,t){var r=vr;return function o(){var i=n.apply(null,arguments);null!==i&&Er(e,o,t,r)}}var br=Ke&&!(X&&Number(X[1])<=53);function wr(e,n,t,r){if(br){var o=ct,i=n;n=i._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=o||e.timeStamp<=0||e.target.ownerDocument!==document)return i.apply(this,arguments)}}vr.addEventListener(e,n,ne?{capture:t,passive:r}:t)}function Er(e,n,t,r){(r||vr).removeEventListener(e,n._wrapper||n,t)}function _r(e,n){if(!o(e.data.on)||!o(n.data.on)){var t=n.data.on||{},r=e.data.on||{};vr=n.elm,function(e){if(i(e.__r)){var n=J?"change":"input";e[n]=[].concat(e.__r,e[n]||[]),delete e.__r}i(e.__c)&&(e.change=[].concat(e.__c,e.change||[]),delete e.__c)}(t),cn(t,r,wr,Er,yr,n.context),vr=void 0}}var xr,Ar={create:_r,update:_r};function kr(e,n){if(!o(e.data.domProps)||!o(n.data.domProps)){var t,r,a=n.elm,s=e.data.domProps||{},c=n.data.domProps||{};for(t in i(c.__ob__)&&(c=n.data.domProps=B({},c)),s)t in c||(a[t]="");for(t in c){if(r=c[t],"textContent"===t||"innerHTML"===t){if(n.children&&(n.children.length=0),r===s[t])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===t&&"PROGRESS"!==a.tagName){a._value=r;var u=o(r)?"":String(r);Cr(a,u)&&(a.value=u)}else if("innerHTML"===t&&Gt(a.tagName)&&o(a.innerHTML)){(xr=xr||document.createElement("div")).innerHTML="<svg>"+r+"</svg>";for(var l=xr.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;l.firstChild;)a.appendChild(l.firstChild)}else if(r!==s[t])try{a[t]=r}catch(e){}}}}function Cr(e,n){return!e.composing&&("OPTION"===e.tagName||function(e,n){var t=!0;try{t=document.activeElement!==e}catch(e){}return t&&e.value!==n}(e,n)||function(e,n){var t=e.value,r=e._vModifiers;if(i(r)){if(r.number)return m(t)!==m(n);if(r.trim)return t.trim()!==n.trim()}return t!==n}(e,n))}var Or={create:kr,update:kr},Sr=E((function(e){var n={},t=/:(.+)/;return e.split(/;(?![^(]*\))/g).forEach((function(e){if(e){var r=e.split(t);r.length>1&&(n[r[0].trim()]=r[1].trim())}})),n}));function Br(e){var n=jr(e.style);return e.staticStyle?B(e.staticStyle,n):n}function jr(e){return Array.isArray(e)?j(e):"string"==typeof e?Sr(e):e}var Tr,Dr=/^--/,Pr=/\s*!important$/,Ir=function(e,n,t){if(Dr.test(n))e.style.setProperty(n,t);else if(Pr.test(t))e.style.setProperty(C(n),t.replace(Pr,""),"important");else{var r=Fr(n);if(Array.isArray(t))for(var o=0,i=t.length;o<i;o++)e.style[r]=t[o];else e.style[r]=t}},Nr=["Webkit","Moz","ms"],Fr=E((function(e){if(Tr=Tr||document.createElement("div").style,"filter"!==(e=x(e))&&e in Tr)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),t=0;t<Nr.length;t++){var r=Nr[t]+n;if(r in Tr)return r}}));function $r(e,n){var t=n.data,r=e.data;if(!(o(t.staticStyle)&&o(t.style)&&o(r.staticStyle)&&o(r.style))){var a,s,c=n.elm,u=r.staticStyle,l=r.normalizedStyle||r.style||{},p=u||l,d=jr(n.data.style)||{};n.data.normalizedStyle=i(d.__ob__)?B({},d):d;var f=function(e,n){var t,r={};if(n)for(var o=e;o.componentInstance;)(o=o.componentInstance._vnode)&&o.data&&(t=Br(o.data))&&B(r,t);(t=Br(e.data))&&B(r,t);for(var i=e;i=i.parent;)i.data&&(t=Br(i.data))&&B(r,t);return r}(n,!0);for(s in p)o(f[s])&&Ir(c,s,"");for(s in f)(a=f[s])!==p[s]&&Ir(c,s,null==a?"":a)}}var Rr={create:$r,update:$r},Mr=/\s+/;function zr(e,n){if(n&&(n=n.trim()))if(e.classList)n.indexOf(" ")>-1?n.split(Mr).forEach((function(n){return e.classList.add(n)})):e.classList.add(n);else{var t=" "+(e.getAttribute("class")||"")+" ";t.indexOf(" "+n+" ")<0&&e.setAttribute("class",(t+n).trim())}}function Vr(e,n){if(n&&(n=n.trim()))if(e.classList)n.indexOf(" ")>-1?n.split(Mr).forEach((function(n){return e.classList.remove(n)})):e.classList.remove(n),e.classList.length||e.removeAttribute("class");else{for(var t=" "+(e.getAttribute("class")||"")+" ",r=" "+n+" ";t.indexOf(r)>=0;)t=t.replace(r," ");(t=t.trim())?e.setAttribute("class",t):e.removeAttribute("class")}}function Lr(e){if(e){if("object"==typeof e){var n={};return!1!==e.css&&B(n,Ur(e.name||"v")),B(n,e),n}return"string"==typeof e?Ur(e):void 0}}var Ur=E((function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}})),qr=W&&!Q,Wr="transition",Hr="transitionend",Gr="animation",Kr="animationend";qr&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Wr="WebkitTransition",Hr="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Gr="WebkitAnimation",Kr="webkitAnimationEnd"));var Jr=W?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function Qr(e){Jr((function(){Jr(e)}))}function Yr(e,n){var t=e._transitionClasses||(e._transitionClasses=[]);t.indexOf(n)<0&&(t.push(n),zr(e,n))}function Zr(e,n){e._transitionClasses&&y(e._transitionClasses,n),Vr(e,n)}function Xr(e,n,t){var r=no(e,n),o=r.type,i=r.timeout,a=r.propCount;if(!o)return t();var s="transition"===o?Hr:Kr,c=0,u=function(){e.removeEventListener(s,l),t()},l=function(n){n.target===e&&++c>=a&&u()};setTimeout((function(){c<a&&u()}),i+1),e.addEventListener(s,l)}var eo=/\b(transform|all)(,|$)/;function no(e,n){var t,r=window.getComputedStyle(e),o=(r[Wr+"Delay"]||"").split(", "),i=(r[Wr+"Duration"]||"").split(", "),a=to(o,i),s=(r[Gr+"Delay"]||"").split(", "),c=(r[Gr+"Duration"]||"").split(", "),u=to(s,c),l=0,p=0;return"transition"===n?a>0&&(t="transition",l=a,p=i.length):"animation"===n?u>0&&(t="animation",l=u,p=c.length):p=(t=(l=Math.max(a,u))>0?a>u?"transition":"animation":null)?"transition"===t?i.length:c.length:0,{type:t,timeout:l,propCount:p,hasTransform:"transition"===t&&eo.test(r[Wr+"Property"])}}function to(e,n){for(;e.length<n.length;)e=e.concat(e);return Math.max.apply(null,n.map((function(n,t){return ro(n)+ro(e[t])})))}function ro(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function oo(e,n){var t=e.elm;i(t._leaveCb)&&(t._leaveCb.cancelled=!0,t._leaveCb());var r=Lr(e.data.transition);if(!o(r)&&!i(t._enterCb)&&1===t.nodeType){for(var a=r.css,s=r.type,u=r.enterClass,l=r.enterToClass,p=r.enterActiveClass,d=r.appearClass,f=r.appearToClass,h=r.appearActiveClass,v=r.beforeEnter,g=r.enter,y=r.afterEnter,b=r.enterCancelled,w=r.beforeAppear,E=r.appear,_=r.afterAppear,x=r.appearCancelled,A=r.duration,k=Yn,C=Yn.$vnode;C&&C.parent;)k=C.context,C=C.parent;var O=!k._isMounted||!e.isRootInsert;if(!O||E||""===E){var S=O&&d?d:u,B=O&&h?h:p,j=O&&f?f:l,T=O&&w||v,D=O&&"function"==typeof E?E:g,P=O&&_||y,I=O&&x||b,N=m(c(A)?A.enter:A);0;var $=!1!==a&&!Q,R=so(D),M=t._enterCb=F((function(){$&&(Zr(t,j),Zr(t,B)),M.cancelled?($&&Zr(t,S),I&&I(t)):P&&P(t),t._enterCb=null}));e.data.show||un(e,"insert",(function(){var n=t.parentNode,r=n&&n._pending&&n._pending[e.key];r&&r.tag===e.tag&&r.elm._leaveCb&&r.elm._leaveCb(),D&&D(t,M)})),T&&T(t),$&&(Yr(t,S),Yr(t,B),Qr((function(){Zr(t,S),M.cancelled||(Yr(t,j),R||(ao(N)?setTimeout(M,N):Xr(t,s,M)))}))),e.data.show&&(n&&n(),D&&D(t,M)),$||R||M()}}}function io(e,n){var t=e.elm;i(t._enterCb)&&(t._enterCb.cancelled=!0,t._enterCb());var r=Lr(e.data.transition);if(o(r)||1!==t.nodeType)return n();if(!i(t._leaveCb)){var a=r.css,s=r.type,u=r.leaveClass,l=r.leaveToClass,p=r.leaveActiveClass,d=r.beforeLeave,f=r.leave,h=r.afterLeave,v=r.leaveCancelled,g=r.delayLeave,y=r.duration,b=!1!==a&&!Q,w=so(f),E=m(c(y)?y.leave:y);0;var _=t._leaveCb=F((function(){t.parentNode&&t.parentNode._pending&&(t.parentNode._pending[e.key]=null),b&&(Zr(t,l),Zr(t,p)),_.cancelled?(b&&Zr(t,u),v&&v(t)):(n(),h&&h(t)),t._leaveCb=null}));g?g(x):x()}function x(){_.cancelled||(!e.data.show&&t.parentNode&&((t.parentNode._pending||(t.parentNode._pending={}))[e.key]=e),d&&d(t),b&&(Yr(t,u),Yr(t,p),Qr((function(){Zr(t,u),_.cancelled||(Yr(t,l),w||(ao(E)?setTimeout(_,E):Xr(t,s,_)))}))),f&&f(t,_),b||w||_())}}function ao(e){return"number"==typeof e&&!isNaN(e)}function so(e){if(o(e))return!1;var n=e.fns;return i(n)?so(Array.isArray(n)?n[0]:n):(e._length||e.length)>1}function co(e,n){!0!==n.data.show&&oo(n)}var uo=function(e){var n,t,r={},c=e.modules,u=e.nodeOps;for(n=0;n<nr.length;++n)for(r[nr[n]]=[],t=0;t<c.length;++t)i(c[t][nr[n]])&&r[nr[n]].push(c[t][nr[n]]);function l(e){var n=u.parentNode(e);i(n)&&u.removeChild(n,e)}function p(e,n,t,o,s,c,l){if(i(e.elm)&&i(c)&&(e=c[l]=ye(e)),e.isRootInsert=!s,!function(e,n,t,o){var s=e.data;if(i(s)){var c=i(e.componentInstance)&&s.keepAlive;if(i(s=s.hook)&&i(s=s.init)&&s(e,!1),i(e.componentInstance))return d(e,n),f(t,e.elm,o),a(c)&&function(e,n,t,o){var a,s=e;for(;s.componentInstance;)if(s=s.componentInstance._vnode,i(a=s.data)&&i(a=a.transition)){for(a=0;a<r.activate.length;++a)r.activate[a](er,s);n.push(s);break}f(t,e.elm,o)}(e,n,t,o),!0}}(e,n,t,o)){var p=e.data,m=e.children,v=e.tag;i(v)?(e.elm=e.ns?u.createElementNS(e.ns,v):u.createElement(v,e),y(e),h(e,m,n),i(p)&&g(e,n),f(t,e.elm,o)):a(e.isComment)?(e.elm=u.createComment(e.text),f(t,e.elm,o)):(e.elm=u.createTextNode(e.text),f(t,e.elm,o))}}function d(e,n){i(e.data.pendingInsert)&&(n.push.apply(n,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,m(e)?(g(e,n),y(e)):(Xt(e),n.push(e))}function f(e,n,t){i(e)&&(i(t)?u.parentNode(t)===e&&u.insertBefore(e,n,t):u.appendChild(e,n))}function h(e,n,t){if(Array.isArray(n)){0;for(var r=0;r<n.length;++r)p(n[r],t,e.elm,null,!0,n,r)}else s(e.text)&&u.appendChild(e.elm,u.createTextNode(String(e.text)))}function m(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return i(e.tag)}function g(e,t){for(var o=0;o<r.create.length;++o)r.create[o](er,e);i(n=e.data.hook)&&(i(n.create)&&n.create(er,e),i(n.insert)&&t.push(e))}function y(e){var n;if(i(n=e.fnScopeId))u.setStyleScope(e.elm,n);else for(var t=e;t;)i(n=t.context)&&i(n=n.$options._scopeId)&&u.setStyleScope(e.elm,n),t=t.parent;i(n=Yn)&&n!==e.context&&n!==e.fnContext&&i(n=n.$options._scopeId)&&u.setStyleScope(e.elm,n)}function b(e,n,t,r,o,i){for(;r<=o;++r)p(t[r],i,e,n,!1,t,r)}function w(e){var n,t,o=e.data;if(i(o))for(i(n=o.hook)&&i(n=n.destroy)&&n(e),n=0;n<r.destroy.length;++n)r.destroy[n](e);if(i(n=e.children))for(t=0;t<e.children.length;++t)w(e.children[t])}function E(e,n,t){for(;n<=t;++n){var r=e[n];i(r)&&(i(r.tag)?(_(r),w(r)):l(r.elm))}}function _(e,n){if(i(n)||i(e.data)){var t,o=r.remove.length+1;for(i(n)?n.listeners+=o:n=function(e,n){function t(){0==--t.listeners&&l(e)}return t.listeners=n,t}(e.elm,o),i(t=e.componentInstance)&&i(t=t._vnode)&&i(t.data)&&_(t,n),t=0;t<r.remove.length;++t)r.remove[t](e,n);i(t=e.data.hook)&&i(t=t.remove)?t(e,n):n()}else l(e.elm)}function x(e,n,t,r){for(var o=t;o<r;o++){var a=n[o];if(i(a)&&tr(e,a))return o}}function A(e,n,t,s,c,l){if(e!==n){i(n.elm)&&i(s)&&(n=s[c]=ye(n));var d=n.elm=e.elm;if(a(e.isAsyncPlaceholder))i(n.asyncFactory.resolved)?O(e.elm,n,t):n.isAsyncPlaceholder=!0;else if(a(n.isStatic)&&a(e.isStatic)&&n.key===e.key&&(a(n.isCloned)||a(n.isOnce)))n.componentInstance=e.componentInstance;else{var f,h=n.data;i(h)&&i(f=h.hook)&&i(f=f.prepatch)&&f(e,n);var v=e.children,g=n.children;if(i(h)&&m(n)){for(f=0;f<r.update.length;++f)r.update[f](e,n);i(f=h.hook)&&i(f=f.update)&&f(e,n)}o(n.text)?i(v)&&i(g)?v!==g&&function(e,n,t,r,a){var s,c,l,d=0,f=0,h=n.length-1,m=n[0],v=n[h],g=t.length-1,y=t[0],w=t[g],_=!a;for(0;d<=h&&f<=g;)o(m)?m=n[++d]:o(v)?v=n[--h]:tr(m,y)?(A(m,y,r,t,f),m=n[++d],y=t[++f]):tr(v,w)?(A(v,w,r,t,g),v=n[--h],w=t[--g]):tr(m,w)?(A(m,w,r,t,g),_&&u.insertBefore(e,m.elm,u.nextSibling(v.elm)),m=n[++d],w=t[--g]):tr(v,y)?(A(v,y,r,t,f),_&&u.insertBefore(e,v.elm,m.elm),v=n[--h],y=t[++f]):(o(s)&&(s=rr(n,d,h)),o(c=i(y.key)?s[y.key]:x(y,n,d,h))?p(y,r,e,m.elm,!1,t,f):tr(l=n[c],y)?(A(l,y,r,t,f),n[c]=void 0,_&&u.insertBefore(e,l.elm,m.elm)):p(y,r,e,m.elm,!1,t,f),y=t[++f]);d>h?b(e,o(t[g+1])?null:t[g+1].elm,t,f,g,r):f>g&&E(n,d,h)}(d,v,g,t,l):i(g)?(i(e.text)&&u.setTextContent(d,""),b(d,null,g,0,g.length-1,t)):i(v)?E(v,0,v.length-1):i(e.text)&&u.setTextContent(d,""):e.text!==n.text&&u.setTextContent(d,n.text),i(h)&&i(f=h.hook)&&i(f=f.postpatch)&&f(e,n)}}}function k(e,n,t){if(a(t)&&i(e.parent))e.parent.data.pendingInsert=n;else for(var r=0;r<n.length;++r)n[r].data.hook.insert(n[r])}var C=v("attrs,class,staticClass,staticStyle,key");function O(e,n,t,r){var o,s=n.tag,c=n.data,u=n.children;if(r=r||c&&c.pre,n.elm=e,a(n.isComment)&&i(n.asyncFactory))return n.isAsyncPlaceholder=!0,!0;if(i(c)&&(i(o=c.hook)&&i(o=o.init)&&o(n,!0),i(o=n.componentInstance)))return d(n,t),!0;if(i(s)){if(i(u))if(e.hasChildNodes())if(i(o=c)&&i(o=o.domProps)&&i(o=o.innerHTML)){if(o!==e.innerHTML)return!1}else{for(var l=!0,p=e.firstChild,f=0;f<u.length;f++){if(!p||!O(p,u[f],t,r)){l=!1;break}p=p.nextSibling}if(!l||p)return!1}else h(n,u,t);if(i(c)){var m=!1;for(var v in c)if(!C(v)){m=!0,g(n,t);break}!m&&c.class&&on(c.class)}}else e.data!==n.text&&(e.data=n.text);return!0}return function(e,n,t,s){if(!o(n)){var c,l=!1,d=[];if(o(e))l=!0,p(n,d);else{var f=i(e.nodeType);if(!f&&tr(e,n))A(e,n,d,null,null,s);else{if(f){if(1===e.nodeType&&e.hasAttribute("data-server-rendered")&&(e.removeAttribute("data-server-rendered"),t=!0),a(t)&&O(e,n,d))return k(n,d,!0),e;c=e,e=new he(u.tagName(c).toLowerCase(),{},[],void 0,c)}var h=e.elm,v=u.parentNode(h);if(p(n,d,h._leaveCb?null:v,u.nextSibling(h)),i(n.parent))for(var g=n.parent,y=m(n);g;){for(var b=0;b<r.destroy.length;++b)r.destroy[b](g);if(g.elm=n.elm,y){for(var _=0;_<r.create.length;++_)r.create[_](er,g);var x=g.data.hook.insert;if(x.merged)for(var C=1;C<x.fns.length;C++)x.fns[C]()}else Xt(g);g=g.parent}i(v)?E([e],0,0):i(e.tag)&&w(e)}}return k(n,d,l),n.elm}i(e)&&w(e)}}({nodeOps:Yt,modules:[hr,gr,Ar,Or,Rr,W?{create:co,activate:co,remove:function(e,n){!0!==e.data.show?io(e,n):n()}}:{}].concat(lr)});Q&&document.addEventListener("selectionchange",(function(){var e=document.activeElement;e&&e.vmodel&&yo(e,"input")}));var lo={inserted:function(e,n,t,r){"select"===t.tag?(r.elm&&!r.elm._vOptions?un(t,"postpatch",(function(){lo.componentUpdated(e,n,t)})):po(e,n,t.context),e._vOptions=[].map.call(e.options,mo)):("textarea"===t.tag||Qt(e.type))&&(e._vModifiers=n.modifiers,n.modifiers.lazy||(e.addEventListener("compositionstart",vo),e.addEventListener("compositionend",go),e.addEventListener("change",go),Q&&(e.vmodel=!0)))},componentUpdated:function(e,n,t){if("select"===t.tag){po(e,n,t.context);var r=e._vOptions,o=e._vOptions=[].map.call(e.options,mo);if(o.some((function(e,n){return!I(e,r[n])})))(e.multiple?n.value.some((function(e){return ho(e,o)})):n.value!==n.oldValue&&ho(n.value,o))&&yo(e,"change")}}};function po(e,n,t){fo(e,n,t),(J||Y)&&setTimeout((function(){fo(e,n,t)}),0)}function fo(e,n,t){var r=n.value,o=e.multiple;if(!o||Array.isArray(r)){for(var i,a,s=0,c=e.options.length;s<c;s++)if(a=e.options[s],o)i=N(r,mo(a))>-1,a.selected!==i&&(a.selected=i);else if(I(mo(a),r))return void(e.selectedIndex!==s&&(e.selectedIndex=s));o||(e.selectedIndex=-1)}}function ho(e,n){return n.every((function(n){return!I(n,e)}))}function mo(e){return"_value"in e?e._value:e.value}function vo(e){e.target.composing=!0}function go(e){e.target.composing&&(e.target.composing=!1,yo(e.target,"input"))}function yo(e,n){var t=document.createEvent("HTMLEvents");t.initEvent(n,!0,!0),e.dispatchEvent(t)}function bo(e){return!e.componentInstance||e.data&&e.data.transition?e:bo(e.componentInstance._vnode)}var wo={model:lo,show:{bind:function(e,n,t){var r=n.value,o=(t=bo(t)).data&&t.data.transition,i=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;r&&o?(t.data.show=!0,oo(t,(function(){e.style.display=i}))):e.style.display=r?i:"none"},update:function(e,n,t){var r=n.value;!r!=!n.oldValue&&((t=bo(t)).data&&t.data.transition?(t.data.show=!0,r?oo(t,(function(){e.style.display=e.__vOriginalDisplay})):io(t,(function(){e.style.display="none"}))):e.style.display=r?e.__vOriginalDisplay:"none")},unbind:function(e,n,t,r,o){o||(e.style.display=e.__vOriginalDisplay)}}},Eo={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function _o(e){var n=e&&e.componentOptions;return n&&n.Ctor.options.abstract?_o(Hn(n.children)):e}function xo(e){var n={},t=e.$options;for(var r in t.propsData)n[r]=e[r];var o=t._parentListeners;for(var i in o)n[x(i)]=o[i];return n}function Ao(e,n){if(/\d-keep-alive$/.test(n.tag))return e("keep-alive",{props:n.componentOptions.propsData})}var ko=function(e){return e.tag||vn(e)},Co=function(e){return"show"===e.name},Oo={name:"transition",props:Eo,abstract:!0,render:function(e){var n=this,t=this.$slots.default;if(t&&(t=t.filter(ko)).length){0;var r=this.mode;0;var o=t[0];if(function(e){for(;e=e.parent;)if(e.data.transition)return!0}(this.$vnode))return o;var i=_o(o);if(!i)return o;if(this._leaving)return Ao(e,o);var a="__transition-"+this._uid+"-";i.key=null==i.key?i.isComment?a+"comment":a+i.tag:s(i.key)?0===String(i.key).indexOf(a)?i.key:a+i.key:i.key;var c=(i.data||(i.data={})).transition=xo(this),u=this._vnode,l=_o(u);if(i.data.directives&&i.data.directives.some(Co)&&(i.data.show=!0),l&&l.data&&!function(e,n){return n.key===e.key&&n.tag===e.tag}(i,l)&&!vn(l)&&(!l.componentInstance||!l.componentInstance._vnode.isComment)){var p=l.data.transition=B({},c);if("out-in"===r)return this._leaving=!0,un(p,"afterLeave",(function(){n._leaving=!1,n.$forceUpdate()})),Ao(e,o);if("in-out"===r){if(vn(i))return u;var d,f=function(){d()};un(c,"afterEnter",f),un(c,"enterCancelled",f),un(p,"delayLeave",(function(e){d=e}))}}return o}}},So=B({tag:String,moveClass:String},Eo);function Bo(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function jo(e){e.data.newPos=e.elm.getBoundingClientRect()}function To(e){var n=e.data.pos,t=e.data.newPos,r=n.left-t.left,o=n.top-t.top;if(r||o){e.data.moved=!0;var i=e.elm.style;i.transform=i.WebkitTransform="translate("+r+"px,"+o+"px)",i.transitionDuration="0s"}}delete So.mode;var Do={Transition:Oo,TransitionGroup:{props:So,beforeMount:function(){var e=this,n=this._update;this._update=function(t,r){var o=Zn(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,o(),n.call(e,t,r)}},render:function(e){for(var n=this.tag||this.$vnode.data.tag||"span",t=Object.create(null),r=this.prevChildren=this.children,o=this.$slots.default||[],i=this.children=[],a=xo(this),s=0;s<o.length;s++){var c=o[s];if(c.tag)if(null!=c.key&&0!==String(c.key).indexOf("__vlist"))i.push(c),t[c.key]=c,(c.data||(c.data={})).transition=a;else;}if(r){for(var u=[],l=[],p=0;p<r.length;p++){var d=r[p];d.data.transition=a,d.data.pos=d.elm.getBoundingClientRect(),t[d.key]?u.push(d):l.push(d)}this.kept=e(n,null,u),this.removed=l}return e(n,null,i)},updated:function(){var e=this.prevChildren,n=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,n)&&(e.forEach(Bo),e.forEach(jo),e.forEach(To),this._reflow=document.body.offsetHeight,e.forEach((function(e){if(e.data.moved){var t=e.elm,r=t.style;Yr(t,n),r.transform=r.WebkitTransform=r.transitionDuration="",t.addEventListener(Hr,t._moveCb=function e(r){r&&r.target!==t||r&&!/transform$/.test(r.propertyName)||(t.removeEventListener(Hr,e),t._moveCb=null,Zr(t,n))})}})))},methods:{hasMove:function(e,n){if(!qr)return!1;if(this._hasMove)return this._hasMove;var t=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach((function(e){Vr(t,e)})),zr(t,n),t.style.display="none",this.$el.appendChild(t);var r=no(t);return this.$el.removeChild(t),this._hasMove=r.hasTransform}}}};At.config.mustUseProp=function(e,n,t){return"value"===t&&Pt(e)&&"button"!==n||"selected"===t&&"option"===e||"checked"===t&&"input"===e||"muted"===t&&"video"===e},At.config.isReservedTag=Kt,At.config.isReservedAttr=Dt,At.config.getTagNamespace=function(e){return Gt(e)?"svg":"math"===e?"math":void 0},At.config.isUnknownElement=function(e){if(!W)return!0;if(Kt(e))return!1;if(e=e.toLowerCase(),null!=Jt[e])return Jt[e];var n=document.createElement(e);return e.indexOf("-")>-1?Jt[e]=n.constructor===window.HTMLUnknownElement||n.constructor===window.HTMLElement:Jt[e]=/HTMLUnknownElement/.test(n.toString())},B(At.options.directives,wo),B(At.options.components,Do),At.prototype.__patch__=W?uo:T,At.prototype.$mount=function(e,n){return function(e,n,t){var r;return e.$el=n,e.$options.render||(e.$options.render=ve),nt(e,"beforeMount"),r=function(){e._update(e._render(),t)},new ft(e,r,T,{before:function(){e._isMounted&&!e._isDestroyed&&nt(e,"beforeUpdate")}},!0),t=!1,null==e.$vnode&&(e._isMounted=!0,nt(e,"mounted")),e}(this,e=e&&W?function(e){if("string"==typeof e){var n=document.querySelector(e);return n||document.createElement("div")}return e}(e):void 0,n)},W&&setTimeout((function(){M.devtools&&oe&&oe.emit("init",At)}),0),n.a=At},function(e,n,t){var r=t(4),o=t(29).f,i=t(22),a=t(17),s=t(102),c=t(152),u=t(82);e.exports=function(e,n){var t,l,p,d,f,h=e.target,m=e.global,v=e.stat;if(t=m?r:v?r[h]||s(h,{}):(r[h]||{}).prototype)for(l in n){if(d=n[l],p=e.noTargetGet?(f=o(t,l))&&f.value:t[l],!u(m?l:h+(v?".":"#")+l,e.forced)&&void 0!==p){if(typeof d==typeof p)continue;c(d,p)}(e.sham||p&&p.sham)&&i(d,"sham",!0),a(t,l,d,e)}}},function(e,n){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,n){var t=function(e){return e&&e.Math==Math&&e};e.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof global&&global)||function(){return this}()||Function("return this")()},function(e,n,t){var r=t(4),o=t(77),i=t(11),a=t(78),s=t(103),c=t(147),u=o("wks"),l=r.Symbol,p=c?l:l&&l.withoutSetter||a;e.exports=function(e){return i(u,e)&&(s||"string"==typeof u[e])||(s&&i(l,e)?u[e]=l[e]:u[e]=p("Symbol."+e)),u[e]}},function(e,n,t){"use strict";function r(e,n,t,r,o,i,a,s){var c,u="function"==typeof e?e.options:e;if(n&&(u.render=n,u.staticRenderFns=t,u._compiled=!0),r&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),a?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},u._ssrRegister=c):o&&(c=s?function(){o.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:o),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(e,n){return c.call(n),l(e,n)}}else{var p=u.beforeCreate;u.beforeCreate=p?[].concat(p,c):[c]}return{exports:e,options:u}}t.d(n,"a",(function(){return r}))},function(e,n){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,n,t){var r=t(7);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,n,t){var r=t(3);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,n,t){var r=t(59);e.exports=function(e){if(r(e))throw TypeError("Cannot convert a Symbol value to a string");return String(e)}},function(e,n,t){var r=t(15),o={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,n){return o.call(r(e),n)}},function(e,n,t){var r=t(9),o=t(148),i=t(8),a=t(79),s=Object.defineProperty;n.f=r?s:function(e,n,t){if(i(e),n=a(n),i(t),o)try{return s(e,n,t)}catch(e){}if("get"in t||"set"in t)throw TypeError("Accessors not supported");return"value"in t&&(e[n]=t.value),e}},function(e,n,t){var r=t(112),o=t(17),i=t(261);r||o(Object.prototype,"toString",i,{unsafe:!0})},function(e,n,t){var r=t(53),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,n,t){var r=t(19);e.exports=function(e){return Object(r(e))}},function(e,n,t){"use strict";var r=t(210),o=Object.prototype.toString;function i(e){return"[object Array]"===o.call(e)}function a(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==o.call(e))return!1;var n=Object.getPrototypeOf(e);return null===n||n===Object.prototype}function u(e){return"[object Function]"===o.call(e)}function l(e,n){if(null!=e)if("object"!=typeof e&&(e=[e]),i(e))for(var t=0,r=e.length;t<r;t++)n.call(null,e[t],t,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.call(null,e[o],o,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isPlainObject:c,isUndefined:a,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:u,isStream:function(e){return s(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:l,merge:function e(){var n={};function t(t,r){c(n[r])&&c(t)?n[r]=e(n[r],t):c(t)?n[r]=e({},t):i(t)?n[r]=t.slice():n[r]=t}for(var r=0,o=arguments.length;r<o;r++)l(arguments[r],t);return n},extend:function(e,n,t){return l(n,(function(n,o){e[o]=t&&"function"==typeof n?r(n,t):n})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},function(e,n,t){var r=t(4),o=t(22),i=t(11),a=t(102),s=t(108),c=t(35),u=c.get,l=c.enforce,p=String(String).split("String");(e.exports=function(e,n,t,s){var c,u=!!s&&!!s.unsafe,d=!!s&&!!s.enumerable,f=!!s&&!!s.noTargetGet;"function"==typeof t&&("string"!=typeof n||i(t,"name")||o(t,"name",n),(c=l(t)).source||(c.source=p.join("string"==typeof n?n:""))),e!==r?(u?!f&&e[n]&&(d=!0):delete e[n],d?e[n]=t:o(e,n,t)):d?e[n]=t:a(n,t)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||s(this)}))},function(e,n,t){"use strict";var r=t(142).charAt,o=t(10),i=t(35),a=t(151),s=i.set,c=i.getterFor("String Iterator");a(String,"String",(function(e){s(this,{type:"String Iterator",string:o(e),index:0})}),(function(){var e,n=c(this),t=n.string,o=n.index;return o>=t.length?{value:void 0,done:!0}:(e=r(t,o),n.index+=e.length,{value:e,done:!1})}))},function(e,n){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,n,t){var r=t(4),o=t(165),i=t(137),a=t(22),s=t(5),c=s("iterator"),u=s("toStringTag"),l=i.values;for(var p in o){var d=r[p],f=d&&d.prototype;if(f){if(f[c]!==l)try{a(f,c,l)}catch(e){f[c]=l}if(f[u]||a(f,u,p),o[p])for(var h in i)if(f[h]!==i[h])try{a(f,h,i[h])}catch(e){f[h]=i[h]}}}},function(e,n,t){var r=t(58),o=t(19);e.exports=function(e){return r(o(e))}},function(e,n,t){var r=t(9),o=t(12),i=t(55);e.exports=r?function(e,n,t){return o.f(e,n,i(1,t))}:function(e,n,t){return e[n]=t,e}},function(e,n,t){e.exports=t(409)},function(e,n,t){"use strict";var r=t(2),o=t(54).filter;r({target:"Array",proto:!0,forced:!t(75)("filter")},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,n,t){var r=t(4),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,n){return arguments.length<2?o(r[e]):r[e]&&r[e][n]}},function(e,n,t){var r=t(179),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,n){var t=Array.isArray;e.exports=t},function(e,n,t){var r=t(25);e.exports=r("navigator","userAgent")||""},function(e,n,t){var r=t(9),o=t(109),i=t(55),a=t(21),s=t(79),c=t(11),u=t(148),l=Object.getOwnPropertyDescriptor;n.f=r?l:function(e,n){if(e=a(e),n=s(n),u)try{return l(e,n)}catch(e){}if(c(e,n))return i(!o.f.call(e,n),e[n])}},function(e,n){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));t(76);var r=t(67);t(47),t(62),t(13),t(85),t(18),t(20),t(116);var o=t(93);function i(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Object(o.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,n,t){"use strict";var r=t(2),o=t(7),i=t(56),a=t(140),s=t(14),c=t(21),u=t(74),l=t(5),p=t(75)("slice"),d=l("species"),f=[].slice,h=Math.max;r({target:"Array",proto:!0,forced:!p},{slice:function(e,n){var t,r,l,p=c(this),m=s(p.length),v=a(e,m),g=a(void 0===n?m:n,m);if(i(p)&&("function"!=typeof(t=p.constructor)||t!==Array&&!i(t.prototype)?o(t)&&null===(t=t[d])&&(t=void 0):t=void 0,t===Array||void 0===t))return f.call(p,v,g);for(r=new(void 0===t?Array:t)(h(g-v,0)),l=0;v<g;v++,l++)v in p&&u(r,l,p[v]);return r.length=l,r}})},function(e,n,t){"use strict";var r=t(2),o=t(86);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(e,n,t){var r=t(2),o=t(4),i=t(28),a=[].slice,s=function(e){return function(n,t){var r=arguments.length>2,o=r?a.call(arguments,2):void 0;return e(r?function(){("function"==typeof n?n:Function(n)).apply(this,o)}:n,t)}};r({global:!0,bind:!0,forced:/MSIE .\./.test(i)},{setTimeout:s(o.setTimeout),setInterval:s(o.setInterval)})},function(e,n,t){var r,o,i,a=t(249),s=t(4),c=t(7),u=t(22),l=t(11),p=t(101),d=t(81),f=t(60),h=s.WeakMap;if(a||p.state){var m=p.state||(p.state=new h),v=m.get,g=m.has,y=m.set;r=function(e,n){if(g.call(m,e))throw new TypeError("Object already initialized");return n.facade=e,y.call(m,e,n),n},o=function(e){return v.call(m,e)||{}},i=function(e){return g.call(m,e)}}else{var b=d("state");f[b]=!0,r=function(e,n){if(l(e,b))throw new TypeError("Object already initialized");return n.facade=e,u(e,b,n),n},o=function(e){return l(e,b)?e[b]:{}},i=function(e){return l(e,b)}}e.exports={set:r,get:o,has:i,enforce:function(e){return i(e)?o(e):r(e,{})},getterFor:function(e){return function(n){var t;if(!c(n)||(t=o(n)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return t}}}},function(e,n){e.exports=!1},function(e,n,t){var r,o=t(8),i=t(139),a=t(107),s=t(60),c=t(150),u=t(104),l=t(81),p=l("IE_PROTO"),d=function(){},f=function(e){return"<script>"+e+"<\/script>"},h=function(e){e.write(f("")),e.close();var n=e.parentWindow.Object;return e=null,n},m=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,n;m="undefined"!=typeof document?document.domain&&r?h(r):((n=u("iframe")).style.display="none",c.appendChild(n),n.src=String("javascript:"),(e=n.contentWindow.document).open(),e.write(f("document.F=Object")),e.close(),e.F):h(r);for(var t=a.length;t--;)delete m.prototype[a[t]];return m()};s[p]=!0,e.exports=Object.create||function(e,n){var t;return null!==e?(d.prototype=o(e),t=new d,d.prototype=null,t[p]=e):t=m(),void 0===n?t:i(t,n)}},function(e,n){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},function(e,n,t){var r=t(287),o=t(290);e.exports=function(e,n){var t=o(e,n);return r(t)?t:void 0}},function(e,n,t){var r=t(397),o=t(208),i=/[T ]/,a=/:/,s=/^(\d{2})$/,c=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],u=/^(\d{4})/,l=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],p=/^-(\d{2})$/,d=/^-?(\d{3})$/,f=/^-?(\d{2})-?(\d{2})$/,h=/^-?W(\d{2})$/,m=/^-?W(\d{2})-?(\d{1})$/,v=/^(\d{2}([.,]\d*)?)$/,g=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,y=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,b=/([Z+-].*)$/,w=/^(Z)$/,E=/^([+-])(\d{2})$/,_=/^([+-])(\d{2}):?(\d{2})$/;function x(e,n,t){n=n||0,t=t||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var o=7*n+t+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+o),r}e.exports=function(e,n){if(o(e))return new Date(e.getTime());if("string"!=typeof e)return new Date(e);var t=(n||{}).additionalDigits;t=null==t?2:Number(t);var A=function(e){var n,t={},r=e.split(i);a.test(r[0])?(t.date=null,n=r[0]):(t.date=r[0],n=r[1]);if(n){var o=b.exec(n);o?(t.time=n.replace(o[1],""),t.timezone=o[1]):t.time=n}return t}(e),k=function(e,n){var t,r=c[n],o=l[n];if(t=u.exec(e)||o.exec(e)){var i=t[1];return{year:parseInt(i,10),restDateString:e.slice(i.length)}}if(t=s.exec(e)||r.exec(e)){var a=t[1];return{year:100*parseInt(a,10),restDateString:e.slice(a.length)}}return{year:null}}(A.date,t),C=k.year,O=function(e,n){if(null===n)return null;var t,r,o,i;if(0===e.length)return(r=new Date(0)).setUTCFullYear(n),r;if(t=p.exec(e))return r=new Date(0),o=parseInt(t[1],10)-1,r.setUTCFullYear(n,o),r;if(t=d.exec(e)){r=new Date(0);var a=parseInt(t[1],10);return r.setUTCFullYear(n,0,a),r}if(t=f.exec(e)){r=new Date(0),o=parseInt(t[1],10)-1;var s=parseInt(t[2],10);return r.setUTCFullYear(n,o,s),r}if(t=h.exec(e))return i=parseInt(t[1],10)-1,x(n,i);if(t=m.exec(e)){i=parseInt(t[1],10)-1;var c=parseInt(t[2],10)-1;return x(n,i,c)}return null}(k.restDateString,C);if(O){var S,B=O.getTime(),j=0;if(A.time&&(j=function(e){var n,t,r;if(n=v.exec(e))return(t=parseFloat(n[1].replace(",",".")))%24*36e5;if(n=g.exec(e))return t=parseInt(n[1],10),r=parseFloat(n[2].replace(",",".")),t%24*36e5+6e4*r;if(n=y.exec(e)){t=parseInt(n[1],10),r=parseInt(n[2],10);var o=parseFloat(n[3].replace(",","."));return t%24*36e5+6e4*r+1e3*o}return null}(A.time)),A.timezone)S=6e4*function(e){var n,t;if(n=w.exec(e))return 0;if(n=E.exec(e))return t=60*parseInt(n[2],10),"+"===n[1]?-t:t;if(n=_.exec(e))return t=60*parseInt(n[2],10)+parseInt(n[3],10),"+"===n[1]?-t:t;return 0}(A.timezone);else{var T=B+j,D=new Date(T);S=r(D);var P=new Date(T);P.setDate(D.getDate()+1);var I=r(P)-r(D);I>0&&(S+=I)}return new Date(B+j+S)}return new Date(e)}},function(e,n,t){"use strict";var r=t(99),o=t(3),i=t(8),a=t(53),s=t(14),c=t(10),u=t(19),l=t(119),p=t(268),d=t(100),f=t(5)("replace"),h=Math.max,m=Math.min,v="$0"==="a".replace(/./,"$0"),g=!!/./[f]&&""===/./[f]("a","$0");r("replace",(function(e,n,t){var r=g?"$":"$0";return[function(e,t){var r=u(this),o=null==e?void 0:e[f];return void 0!==o?o.call(e,r,t):n.call(c(r),e,t)},function(e,o){var u=i(this),f=c(e);if("string"==typeof o&&-1===o.indexOf(r)&&-1===o.indexOf("$<")){var v=t(n,u,f,o);if(v.done)return v.value}var g="function"==typeof o;g||(o=c(o));var y=u.global;if(y){var b=u.unicode;u.lastIndex=0}for(var w=[];;){var E=d(u,f);if(null===E)break;if(w.push(E),!y)break;""===c(E[0])&&(u.lastIndex=l(f,s(u.lastIndex),b))}for(var _,x="",A=0,k=0;k<w.length;k++){E=w[k];for(var C=c(E[0]),O=h(m(a(E.index),f.length),0),S=[],B=1;B<E.length;B++)S.push(void 0===(_=E[B])?_:String(_));var j=E.groups;if(g){var T=[C].concat(S,O,f);void 0!==j&&T.push(j);var D=c(o.apply(void 0,T))}else D=p(C,f,O,S,j,o);O>=A&&(x+=f.slice(A,O)+D,A=O+C.length)}return x+f.slice(A)}]}),!!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!v||g)},function(e,n,t){"use strict";var r=t(3);e.exports=function(e,n){var t=[][e];return!!t&&r((function(){t.call(null,n||function(){throw 1},1)}))}},function(e,n,t){var r,o,i=t(4),a=t(28),s=i.process,c=i.Deno,u=s&&s.versions||c&&c.version,l=u&&u.v8;l?o=(r=l.split("."))[0]<4?1:r[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=r[1]),e.exports=o&&+o},function(e,n,t){var r=t(149),o=t(107).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,n,t){"use strict";var r=t(2),o=t(170);r({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},function(e,n,t){var r=t(4),o=t(165),i=t(170),a=t(22);for(var s in o){var c=r[s],u=c&&c.prototype;if(u&&u.forEach!==i)try{a(u,"forEach",i)}catch(e){u.forEach=i}}},function(e,n,t){"use strict";var r=t(2),o=t(4),i=t(25),a=t(36),s=t(9),c=t(103),u=t(3),l=t(11),p=t(56),d=t(7),f=t(59),h=t(8),m=t(15),v=t(21),g=t(79),y=t(10),b=t(55),w=t(37),E=t(80),_=t(44),x=t(172),A=t(110),k=t(29),C=t(12),O=t(109),S=t(22),B=t(17),j=t(77),T=t(81),D=t(60),P=t(78),I=t(5),N=t(173),F=t(174),$=t(71),R=t(35),M=t(54).forEach,z=T("hidden"),V=I("toPrimitive"),L=R.set,U=R.getterFor("Symbol"),q=Object.prototype,W=o.Symbol,H=i("JSON","stringify"),G=k.f,K=C.f,J=x.f,Q=O.f,Y=j("symbols"),Z=j("op-symbols"),X=j("string-to-symbol-registry"),ee=j("symbol-to-string-registry"),ne=j("wks"),te=o.QObject,re=!te||!te.prototype||!te.prototype.findChild,oe=s&&u((function(){return 7!=w(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a}))?function(e,n,t){var r=G(q,n);r&&delete q[n],K(e,n,t),r&&e!==q&&K(q,n,r)}:K,ie=function(e,n){var t=Y[e]=w(W.prototype);return L(t,{type:"Symbol",tag:e,description:n}),s||(t.description=n),t},ae=function(e,n,t){e===q&&ae(Z,n,t),h(e);var r=g(n);return h(t),l(Y,r)?(t.enumerable?(l(e,z)&&e[z][r]&&(e[z][r]=!1),t=w(t,{enumerable:b(0,!1)})):(l(e,z)||K(e,z,b(1,{})),e[z][r]=!0),oe(e,r,t)):K(e,r,t)},se=function(e,n){h(e);var t=v(n),r=E(t).concat(pe(t));return M(r,(function(n){s&&!ce.call(t,n)||ae(e,n,t[n])})),e},ce=function(e){var n=g(e),t=Q.call(this,n);return!(this===q&&l(Y,n)&&!l(Z,n))&&(!(t||!l(this,n)||!l(Y,n)||l(this,z)&&this[z][n])||t)},ue=function(e,n){var t=v(e),r=g(n);if(t!==q||!l(Y,r)||l(Z,r)){var o=G(t,r);return!o||!l(Y,r)||l(t,z)&&t[z][r]||(o.enumerable=!0),o}},le=function(e){var n=J(v(e)),t=[];return M(n,(function(e){l(Y,e)||l(D,e)||t.push(e)})),t},pe=function(e){var n=e===q,t=J(n?Z:v(e)),r=[];return M(t,(function(e){!l(Y,e)||n&&!l(q,e)||r.push(Y[e])})),r};(c||(B((W=function(){if(this instanceof W)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?y(arguments[0]):void 0,n=P(e),t=function(e){this===q&&t.call(Z,e),l(this,z)&&l(this[z],n)&&(this[z][n]=!1),oe(this,n,b(1,e))};return s&&re&&oe(q,n,{configurable:!0,set:t}),ie(n,e)}).prototype,"toString",(function(){return U(this).tag})),B(W,"withoutSetter",(function(e){return ie(P(e),e)})),O.f=ce,C.f=ae,k.f=ue,_.f=x.f=le,A.f=pe,N.f=function(e){return ie(I(e),e)},s&&(K(W.prototype,"description",{configurable:!0,get:function(){return U(this).description}}),a||B(q,"propertyIsEnumerable",ce,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:W}),M(E(ne),(function(e){F(e)})),r({target:"Symbol",stat:!0,forced:!c},{for:function(e){var n=y(e);if(l(X,n))return X[n];var t=W(n);return X[n]=t,ee[t]=n,t},keyFor:function(e){if(!f(e))throw TypeError(e+" is not a symbol");if(l(ee,e))return ee[e]},useSetter:function(){re=!0},useSimple:function(){re=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!s},{create:function(e,n){return void 0===n?w(e):se(w(e),n)},defineProperty:ae,defineProperties:se,getOwnPropertyDescriptor:ue}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:le,getOwnPropertySymbols:pe}),r({target:"Object",stat:!0,forced:u((function(){A.f(1)}))},{getOwnPropertySymbols:function(e){return A.f(m(e))}}),H)&&r({target:"JSON",stat:!0,forced:!c||u((function(){var e=W();return"[null]"!=H([e])||"{}"!=H({a:e})||"{}"!=H(Object(e))}))},{stringify:function(e,n,t){for(var r,o=[e],i=1;arguments.length>i;)o.push(arguments[i++]);if(r=n,(d(n)||void 0!==e)&&!f(e))return p(n)||(n=function(e,n){if("function"==typeof r&&(n=r.call(this,e,n)),!f(n))return n}),o[1]=n,H.apply(null,o)}});W.prototype[V]||S(W.prototype,V,W.prototype.valueOf),$(W,"Symbol"),D[z]=!0},function(e,n){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));t(13);function r(e,n,t,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(r,o)}function o(e){return function(){var n=this,t=arguments;return new Promise((function(o,i){var a=e.apply(n,t);function s(e){r(a,o,i,s,c,"next",e)}function c(e){r(a,o,i,s,c,"throw",e)}s(void 0)}))}}},function(e,n,t){"use strict";var r=t(385),o=t(395),i=t(131);e.exports={formats:i,parse:o,stringify:r}},function(e,n,t){"use strict";var r=t(1);n.a=new r.a},function(e,n,t){"use strict";var r=t(2),o=t(54).map;r({target:"Array",proto:!0,forced:!t(75)("map")},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,n){var t=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:t)(e)}},function(e,n,t){var r=t(72),o=t(58),i=t(15),a=t(14),s=t(136),c=[].push,u=function(e){var n=1==e,t=2==e,u=3==e,l=4==e,p=6==e,d=7==e,f=5==e||p;return function(h,m,v,g){for(var y,b,w=i(h),E=o(w),_=r(m,v,3),x=a(E.length),A=0,k=g||s,C=n?k(h,x):t||d?k(h,0):void 0;x>A;A++)if((f||A in E)&&(b=_(y=E[A],A,w),e))if(n)C[A]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return A;case 2:c.call(C,y)}else switch(e){case 4:return!1;case 7:c.call(C,y)}return p?-1:u||l?l:C}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},function(e,n){e.exports=function(e,n){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:n}}},function(e,n,t){var r=t(38);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));t(73),t(47),t(24),t(380),t(45),t(46),t(166),t(381),t(92);var r=t(68);function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){Object(r.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}},function(e,n,t){var r=t(3),o=t(38),i="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?i.call(e,""):Object(e)}:Object},function(e,n,t){var r=t(25),o=t(147);e.exports=o?function(e){return"symbol"==typeof e}:function(e){var n=r("Symbol");return"function"==typeof n&&Object(e)instanceof n}},function(e,n){e.exports={}},function(e,n){e.exports={}},function(e,n,t){"use strict";var r=t(2),o=t(9),i=t(4),a=t(11),s=t(7),c=t(12).f,u=t(152),l=i.Symbol;if(o&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var p={},d=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),n=this instanceof d?new l(e):void 0===e?l():l(e);return""===e&&(p[n]=!0),n};u(d,l);var f=d.prototype=l.prototype;f.constructor=d;var h=f.toString,m="Symbol(test)"==String(l("test")),v=/^Symbol\((.*)\)[^)]+$/;c(f,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,n=h.call(e);if(a(p,e))return"";var t=m?n.slice(7,-1):n.replace(v,"$1");return""===t?void 0:t}}),r({global:!0,forced:!0},{Symbol:d})}},function(e,n,t){var r=t(26).Symbol;e.exports=r},function(e,n,t){var r=t(63),o=t(272),i=t(273),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},function(e,n,t){"use strict";t.d(n,"a",(function(){return o})),t.d(n,"c",(function(){return i})),t.d(n,"b",(function(){return a}));t(24),t(200);var r=t(69);function o(e,n){return e=e.filter((function(e){var t=e.title,r=e.frontmatter,o=r.home,i=r.date,a=r.publish;return!0===n?!(1==o||null==t||void 0===i||!1===a):!(1==o||null==t||!1===a)}))}function i(e){e.sort((function(e,n){var t=e.frontmatter.sticky,o=n.frontmatter.sticky;return t&&o?t==o?Object(r.a)(e,n):t-o:t&&!o?-1:!t&&o?1:Object(r.a)(e,n)}))}function a(e){e.sort((function(e,n){return Object(r.a)(e,n)}))}},function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));t(76);t(47),t(62),t(13),t(85),t(18),t(20);var r=t(93);function o(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,s=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==t.return||t.return()}finally{if(s)throw o}}return i}}(e,n)||Object(r.a)(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,n,t){"use strict";function r(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}t.d(n,"a",(function(){return r}))},function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));t(92);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}},function(e,n,t){"use strict";t.d(n,"f",(function(){return r})),t.d(n,"b",(function(){return i})),t.d(n,"k",(function(){return a})),t.d(n,"h",(function(){return c})),t.d(n,"i",(function(){return u})),t.d(n,"j",(function(){return l})),t.d(n,"c",(function(){return p})),t.d(n,"g",(function(){return d})),t.d(n,"m",(function(){return f})),t.d(n,"n",(function(){return h})),t.d(n,"e",(function(){return m})),t.d(n,"l",(function(){return v})),t.d(n,"d",(function(){return g})),t.d(n,"a",(function(){return b}));t(33),t(41),t(233),t(234),t(143),t(52),t(45),t(46),t(24),t(76),t(96),t(70),t(246),t(235);var r=/#.*$/,o=/\.(md|html)$/,i=/\/$/,a=/^(https?:|mailto:|tel:)/;function s(e){return decodeURI(e).replace(r,"").replace(o,"")}function c(e){return a.test(e)}function u(e){return/^mailto:/.test(e)}function l(e){return/^tel:/.test(e)}function p(e){if(c(e))return e;var n=e.match(r),t=n?n[0]:"",o=s(e);return i.test(o)?e:o+".html"+t}function d(e,n){var t=e.hash,o=function(e){var n=e.match(r);if(n)return n[0]}(n);return(!o||t===o)&&s(e.path)===s(n)}function f(e,n,t){t&&(n=function(e,n,t){var r=e.charAt(0);if("/"===r)return e;if("?"===r||"#"===r)return n+e;var o=n.split("/");t&&o[o.length-1]||o.pop();for(var i=e.replace(/^\//,"").split("/"),a=0;a<i.length;a++){var s=i[a];".."===s?o.pop():"."!==s&&o.push(s)}""!==o[0]&&o.unshift("");return o.join("/")}(n,t));for(var r=s(n),o=0;o<e.length;o++)if(s(e[o].regularPath)===r)return Object.assign({},e[o],{type:"page",path:p(e[o].path)});return console.error('[vuepress] No matching page found for sidebar item "'.concat(n,'"')),{}}function h(e,n,t,r){var o=t.pages,i=t.themeConfig,a=r&&i.locales&&i.locales[r]||i;if("auto"===(e.frontmatter.sidebar||a.sidebar||i.sidebar))return function(e){var n=m(e.headers||[]);return[{type:"group",collapsable:!1,title:e.title,path:null,children:n.map((function(n){return{type:"auto",title:n.title,basePath:e.path,path:e.path+"#"+n.slug,children:n.children||[]}}))}]}(e);var s=a.sidebar||i.sidebar;if(s){var c=function(e,n){if(Array.isArray(n))return{base:"/",config:n};for(var t in n)if(0===(r=e,/(\.html|\/)$/.test(r)?r:r+"/").indexOf(encodeURI(t)))return{base:t,config:n[t]};var r;return{}}(n,s),u=c.base,l=c.config;return l?l.map((function(e){return function e(n,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if("string"==typeof n)return f(t,n,r);if(Array.isArray(n))return Object.assign(f(t,n[0],r),{title:n[1]});o>3&&console.error("[vuepress] detected a too deep nested sidebar group.");var i=n.children||[];return 0===i.length&&n.path?Object.assign(f(t,n.path,r),{title:n.title}):{type:"group",path:n.path,title:n.title,sidebarDepth:n.sidebarDepth,children:i.map((function(n){return e(n,t,r,o+1)})),collapsable:!1!==n.collapsable}}(e,o,u)})):[]}return[]}function m(e){var n;return(e=e.map((function(e){return Object.assign({},e)}))).forEach((function(e){2===e.level?n=e:n&&(n.children||(n.children=[])).push(e)})),e.filter((function(e){return 2===e.level}))}function v(e){return Object.assign(e,{type:e.items&&e.items.length?"links":"link"})}function g(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd hh:mm:ss";e=e.replace(/-/g,"/");var t=new Date(e);/(y+)/.test(n)&&(n=n.replace(RegExp.$1,t.getFullYear()+"").substr(4-RegExp.$1.length));var r={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(var o in r)if(RegExp("(".concat(o,")")).test(n)){var i=r[o]+"";n=n.replace(RegExp.$1,2===i.length?i:"0"+i)}return n}function y(e){return new Date(e.frontmatter.date).getTime()}function b(e,n){return y(n)-y(e)}},function(e,n,t){var r=t(17),o=Date.prototype,i=o.toString,a=o.getTime;"Invalid Date"!=String(new Date(NaN))&&r(o,"toString",(function(){var e=a.call(this);return e==e?i.call(this):"Invalid Date"}))},function(e,n,t){var r=t(12).f,o=t(11),i=t(5)("toStringTag");e.exports=function(e,n,t){e&&!o(e=t?e:e.prototype,i)&&r(e,i,{configurable:!0,value:n})}},function(e,n,t){var r=t(30);e.exports=function(e,n,t){if(r(e),void 0===n)return e;switch(t){case 0:return function(){return e.call(n)};case 1:return function(t){return e.call(n,t)};case 2:return function(t,r){return e.call(n,t,r)};case 3:return function(t,r,o){return e.call(n,t,r,o)}}return function(){return e.apply(n,arguments)}}},function(e,n,t){var r=t(2),o=t(15),i=t(80);r({target:"Object",stat:!0,forced:t(3)((function(){i(1)}))},{keys:function(e){return i(o(e))}})},function(e,n,t){"use strict";var r=t(79),o=t(12),i=t(55);e.exports=function(e,n,t){var a=r(n);a in e?o.f(e,a,i(0,t)):e[a]=t}},function(e,n,t){var r=t(3),o=t(5),i=t(43),a=o("species");e.exports=function(e){return i>=51||!r((function(){var n=[];return(n.constructor={})[a]=function(){return{foo:1}},1!==n[e](Boolean).foo}))}},function(e,n,t){t(2)({target:"Array",stat:!0},{isArray:t(56)})},function(e,n,t){var r=t(36),o=t(101);(e.exports=function(e,n){return o[e]||(o[e]=void 0!==n?n:{})})("versions",[]).push({version:"3.16.3",mode:r?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(e,n){var t=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+r).toString(36)}},function(e,n,t){var r=t(105),o=t(59);e.exports=function(e){var n=r(e,"string");return o(n)?n:String(n)}},function(e,n,t){var r=t(149),o=t(107);e.exports=Object.keys||function(e){return r(e,o)}},function(e,n,t){var r=t(77),o=t(78),i=r("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},function(e,n,t){var r=t(3),o=/#|\.prototype\./,i=function(e,n){var t=s[a(e)];return t==u||t!=c&&("function"==typeof n?r(n):!!n)},a=i.normalize=function(e){return String(e).replace(o,".").toLowerCase()},s=i.data={},c=i.NATIVE="N",u=i.POLYFILL="P";e.exports=i},function(e,n,t){var r=t(8),o=t(250);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,n=!1,t={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(t,[]),n=t instanceof Array}catch(e){}return function(t,i){return r(t),o(i),n?e.call(t,i):t.__proto__=i,t}}():void 0)},function(e,n,t){var r=t(38),o=t(4);e.exports="process"==r(o.process)},function(e,n,t){t(174)("iterator")},function(e,n,t){"use strict";var r,o,i=t(10),a=t(117),s=t(118),c=t(77),u=t(37),l=t(35).get,p=t(176),d=t(177),f=RegExp.prototype.exec,h=c("native-string-replace",String.prototype.replace),m=f,v=(r=/a/,o=/b*/g,f.call(r,"a"),f.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),g=s.UNSUPPORTED_Y||s.BROKEN_CARET,y=void 0!==/()??/.exec("")[1];(v||y||g||p||d)&&(m=function(e){var n,t,r,o,s,c,p,d=this,b=l(d),w=i(e),E=b.raw;if(E)return E.lastIndex=d.lastIndex,n=m.call(E,w),d.lastIndex=E.lastIndex,n;var _=b.groups,x=g&&d.sticky,A=a.call(d),k=d.source,C=0,O=w;if(x&&(-1===(A=A.replace("y","")).indexOf("g")&&(A+="g"),O=w.slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==w.charAt(d.lastIndex-1))&&(k="(?: "+k+")",O=" "+O,C++),t=new RegExp("^(?:"+k+")",A)),y&&(t=new RegExp("^"+k+"$(?!\\s)",A)),v&&(r=d.lastIndex),o=f.call(x?t:d,O),x?o?(o.input=o.input.slice(C),o[0]=o[0].slice(C),o.index=d.lastIndex,d.lastIndex+=o[0].length):d.lastIndex=0:v&&o&&(d.lastIndex=d.global?o.index+o[0].length:r),y&&o&&o.length>1&&h.call(o[0],t,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(o[s]=void 0)})),o&&_)for(o.groups=c=u(null),s=0;s<_.length;s++)c[(p=_[s])[0]]=o[p[1]];return o}),e.exports=m},function(e,n,t){var r=t(277),o=t(278),i=t(279),a=t(280),s=t(281);function c(e){var n=-1,t=null==e?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,n,t){var r=t(181);e.exports=function(e,n){for(var t=e.length;t--;)if(r(e[t][0],n))return t;return-1}},function(e,n,t){var r=t(39)(Object,"create");e.exports=r},function(e,n,t){var r=t(299);e.exports=function(e,n){var t=e.__data__;return r(n)?t["string"==typeof n?"string":"hash"]:t.map}},function(e,n,t){var r=t(127);e.exports=function(e){if("string"==typeof e||r(e))return e;var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},function(e,n,t){var r=t(2),o=t(9);r({target:"Object",stat:!0,forced:!o,sham:!o},{defineProperty:t(12).f})},function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));t(32),t(13),t(98),t(116),t(18);var r=t(67);function o(e,n){if(e){if("string"==typeof e)return Object(r.a)(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Object(r.a)(e,n):void 0}}},function(e,n,t){var r,o;
/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */void 0===(o="function"==typeof(r=function(){var e,n,t={version:"0.2.0"},r=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function o(e,n,t){return e<n?n:e>t?t:e}function i(e){return 100*(-1+e)}t.configure=function(e){var n,t;for(n in e)void 0!==(t=e[n])&&e.hasOwnProperty(n)&&(r[n]=t);return this},t.status=null,t.set=function(e){var n=t.isStarted();e=o(e,r.minimum,1),t.status=1===e?null:e;var c=t.render(!n),u=c.querySelector(r.barSelector),l=r.speed,p=r.easing;return c.offsetWidth,a((function(n){""===r.positionUsing&&(r.positionUsing=t.getPositioningCSS()),s(u,function(e,n,t){var o;return(o="translate3d"===r.positionUsing?{transform:"translate3d("+i(e)+"%,0,0)"}:"translate"===r.positionUsing?{transform:"translate("+i(e)+"%,0)"}:{"margin-left":i(e)+"%"}).transition="all "+n+"ms "+t,o}(e,l,p)),1===e?(s(c,{transition:"none",opacity:1}),c.offsetWidth,setTimeout((function(){s(c,{transition:"all "+l+"ms linear",opacity:0}),setTimeout((function(){t.remove(),n()}),l)}),l)):setTimeout(n,l)})),this},t.isStarted=function(){return"number"==typeof t.status},t.start=function(){t.status||t.set(0);var e=function(){setTimeout((function(){t.status&&(t.trickle(),e())}),r.trickleSpeed)};return r.trickle&&e(),this},t.done=function(e){return e||t.status?t.inc(.3+.5*Math.random()).set(1):this},t.inc=function(e){var n=t.status;return n?("number"!=typeof e&&(e=(1-n)*o(Math.random()*n,.1,.95)),n=o(n+e,0,.994),t.set(n)):t.start()},t.trickle=function(){return t.inc(Math.random()*r.trickleRate)},e=0,n=0,t.promise=function(r){return r&&"resolved"!==r.state()?(0===n&&t.start(),e++,n++,r.always((function(){0==--n?(e=0,t.done()):t.set((e-n)/e)})),this):this},t.render=function(e){if(t.isRendered())return document.getElementById("nprogress");u(document.documentElement,"nprogress-busy");var n=document.createElement("div");n.id="nprogress",n.innerHTML=r.template;var o,a=n.querySelector(r.barSelector),c=e?"-100":i(t.status||0),l=document.querySelector(r.parent);return s(a,{transition:"all 0 linear",transform:"translate3d("+c+"%,0,0)"}),r.showSpinner||(o=n.querySelector(r.spinnerSelector))&&d(o),l!=document.body&&u(l,"nprogress-custom-parent"),l.appendChild(n),n},t.remove=function(){l(document.documentElement,"nprogress-busy"),l(document.querySelector(r.parent),"nprogress-custom-parent");var e=document.getElementById("nprogress");e&&d(e)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var e=document.body.style,n="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return n+"Perspective"in e?"translate3d":n+"Transform"in e?"translate":"margin"};var a=function(){var e=[];function n(){var t=e.shift();t&&t(n)}return function(t){e.push(t),1==e.length&&n()}}(),s=function(){var e=["Webkit","O","Moz","ms"],n={};function t(t){return t=t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(e,n){return n.toUpperCase()})),n[t]||(n[t]=function(n){var t=document.body.style;if(n in t)return n;for(var r,o=e.length,i=n.charAt(0).toUpperCase()+n.slice(1);o--;)if((r=e[o]+i)in t)return r;return n}(t))}function r(e,n,r){n=t(n),e.style[n]=r}return function(e,n){var t,o,i=arguments;if(2==i.length)for(t in n)void 0!==(o=n[t])&&n.hasOwnProperty(t)&&r(e,t,o);else r(e,i[1],i[2])}}();function c(e,n){return("string"==typeof e?e:p(e)).indexOf(" "+n+" ")>=0}function u(e,n){var t=p(e),r=t+n;c(t,n)||(e.className=r.substring(1))}function l(e,n){var t,r=p(e);c(e,n)&&(t=r.replace(" "+n+" "," "),e.className=t.substring(1,t.length-1))}function p(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")}function d(e){e&&e.parentNode&&e.parentNode.removeChild(e)}return t})?r.call(n,t,n,e):r)||(e.exports=o)},function(e,n,t){"use strict";var r=t(2),o=t(54).some;r({target:"Array",proto:!0,forced:!t(42)("some")},{some:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,n,t){"use strict";var r=t(2),o=t(106).indexOf,i=t(42),a=[].indexOf,s=!!a&&1/[1].indexOf(1,-0)<0,c=i("indexOf");r({target:"Array",proto:!0,forced:s||!c},{indexOf:function(e){return s?a.apply(this,arguments)||0:o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,n){!function(n){"use strict";var t=Object.prototype,r=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag",c="object"==typeof e,u=n.regeneratorRuntime;if(u)c&&(e.exports=u);else{(u=n.regeneratorRuntime=c?e.exports:{}).wrap=m;var l={},p={};p[i]=function(){return this};var d=Object.getPrototypeOf,f=d&&d(d(C([])));f&&f!==t&&r.call(f,i)&&(p=f);var h=b.prototype=g.prototype=Object.create(p);y.prototype=h.constructor=b,b.constructor=y,b[s]=y.displayName="GeneratorFunction",u.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===y||"GeneratorFunction"===(n.displayName||n.name))},u.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(h),e},u.awrap=function(e){return{__await:e}},w(E.prototype),E.prototype[a]=function(){return this},u.AsyncIterator=E,u.async=function(e,n,t,r){var o=new E(m(e,n,t,r));return u.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(h),h[s]="Generator",h[i]=function(){return this},h.toString=function(){return"[object Generator]"},u.keys=function(e){var n=[];for(var t in e)n.push(t);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},u.values=C,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function t(t,r){return a.type="throw",a.arg=e,n.next=t,r&&(n.method="next",n.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(e,n){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=n&&n<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=n,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),l},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),A(t),l}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var r=t.completion;if("throw"===r.type){var o=r.arg;A(t)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,t){return this.delegate={iterator:C(e),resultName:n,nextLoc:t},"next"===this.method&&(this.arg=void 0),l}}}function m(e,n,t,r){var o=n&&n.prototype instanceof g?n:g,i=Object.create(o.prototype),a=new k(r||[]);return i._invoke=function(e,n,t){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(t.method=o,t.arg=i;;){var a=t.delegate;if(a){var s=_(a,t);if(s){if(s===l)continue;return s}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if("suspendedStart"===r)throw r="completed",t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);r="executing";var c=v(e,n,t);if("normal"===c.type){if(r=t.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:t.done}}"throw"===c.type&&(r="completed",t.method="throw",t.arg=c.arg)}}}(e,t,a),i}function v(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(e){return{type:"throw",arg:e}}}function g(){}function y(){}function b(){}function w(e){["next","throw","return"].forEach((function(n){e[n]=function(e){return this._invoke(n,e)}}))}function E(e){var n;this._invoke=function(t,o){function i(){return new Promise((function(n,i){!function n(t,o,i,a){var s=v(e[t],e,o);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==typeof u&&r.call(u,"__await")?Promise.resolve(u.__await).then((function(e){n("next",e,i,a)}),(function(e){n("throw",e,i,a)})):Promise.resolve(u).then((function(e){c.value=e,i(c)}),a)}a(s.arg)}(t,o,n,i)}))}return n=n?n.then(i,i):i()}}function _(e,n){var t=e.iterator[n.method];if(void 0===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=void 0,_(e,n),"throw"===n.method))return l;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=v(t,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,l;var o=r.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,l):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,l)}function x(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function A(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function C(e){if(e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var t=-1,o=function n(){for(;++t<e.length;)if(r.call(e,t))return n.value=e[t],n.done=!1,n;return n.value=void 0,n.done=!0,n};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}}(function(){return this}()||Function("return this")())},function(e,n,t){var r=t(9),o=t(12).f,i=Function.prototype,a=i.toString,s=/^\s*function ([^ (]*)/;r&&!("name"in i)&&o(i,"name",{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(e){return""}}})},function(e,n,t){"use strict";t(33);var r=t(17),o=t(86),i=t(3),a=t(5),s=t(22),c=a("species"),u=RegExp.prototype;e.exports=function(e,n,t,l){var p=a(e),d=!i((function(){var n={};return n[p]=function(){return 7},7!=""[e](n)})),f=d&&!i((function(){var n=!1,t=/a/;return"split"===e&&((t={}).constructor={},t.constructor[c]=function(){return t},t.flags="",t[p]=/./[p]),t.exec=function(){return n=!0,null},t[p](""),!n}));if(!d||!f||t){var h=/./[p],m=n(p,""[e],(function(e,n,t,r,i){var a=n.exec;return a===o||a===u.exec?d&&!i?{done:!0,value:h.call(n,t,r)}:{done:!0,value:e.call(t,n,r)}:{done:!1}}));r(String.prototype,e,m[0]),r(u,p,m[1])}l&&s(u[p],"sham",!0)}},function(e,n,t){var r=t(38),o=t(86);e.exports=function(e,n){var t=e.exec;if("function"==typeof t){var i=t.call(e,n);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(e,n)}},function(e,n,t){var r=t(4),o=t(102),i=r["__core-js_shared__"]||o("__core-js_shared__",{});e.exports=i},function(e,n,t){var r=t(4);e.exports=function(e,n){try{Object.defineProperty(r,e,{value:n,configurable:!0,writable:!0})}catch(t){r[e]=n}return n}},function(e,n,t){var r=t(43),o=t(3);e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},function(e,n,t){var r=t(4),o=t(7),i=r.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,n,t){var r=t(7),o=t(59),i=t(248),a=t(5)("toPrimitive");e.exports=function(e,n){if(!r(e)||o(e))return e;var t,s=e[a];if(void 0!==s){if(void 0===n&&(n="default"),t=s.call(e,n),!r(t)||o(t))return t;throw TypeError("Can't convert object to primitive value")}return void 0===n&&(n="number"),i(e,n)}},function(e,n,t){var r=t(21),o=t(14),i=t(140),a=function(e){return function(n,t,a){var s,c=r(n),u=o(c.length),l=i(a,u);if(e&&t!=t){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===t)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,n){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,n,t){var r=t(101),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return o.call(e)}),e.exports=r.inspectSource},function(e,n,t){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);n.f=i?function(e){var n=o(this,e);return!!n&&n.enumerable}:r},function(e,n){n.f=Object.getOwnPropertySymbols},function(e,n,t){var r=t(11),o=t(15),i=t(81),a=t(155),s=i("IE_PROTO"),c=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=o(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?c:null}},function(e,n,t){var r={};r[t(5)("toStringTag")]="z",e.exports="[object z]"===String(r)},function(e,n,t){var r=t(8),o=t(30),i=t(5)("species");e.exports=function(e,n){var t,a=r(e).constructor;return void 0===a||null==(t=r(a)[i])?n:o(t)}},function(e,n,t){"use strict";var r=t(2),o=t(263).left,i=t(42),a=t(43),s=t(84);r({target:"Array",proto:!0,forced:!i("reduce")||!s&&a>79&&a<83},{reduce:function(e){return o(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(e,n,t){var r=t(7),o=t(38),i=t(5)("match");e.exports=function(e){var n;return r(e)&&(void 0!==(n=e[i])?!!n:"RegExp"==o(e))}},function(e,n,t){var r=t(2),o=t(240);r({target:"Array",stat:!0,forced:!t(160)((function(e){Array.from(e)}))},{from:o})},function(e,n,t){"use strict";var r=t(8);e.exports=function(){var e=r(this),n="";return e.global&&(n+="g"),e.ignoreCase&&(n+="i"),e.multiline&&(n+="m"),e.dotAll&&(n+="s"),e.unicode&&(n+="u"),e.sticky&&(n+="y"),n}},function(e,n,t){var r=t(3),o=t(4).RegExp;n.UNSUPPORTED_Y=r((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),n.BROKEN_CARET=r((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},function(e,n,t){"use strict";var r=t(142).charAt;e.exports=function(e,n,t){return n+(t?r(e,n).length:1)}},function(e,n,t){var r=t(271),o=t(48),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},function(e,n,t){var r=t(39)(t(26),"Map");e.exports=r},function(e,n){e.exports=function(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)}},function(e,n,t){var r=t(291),o=t(298),i=t(300),a=t(301),s=t(302);function c(e){var n=-1,t=null==e?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,n){e.exports=function(e){var n=-1,t=Array(e.size);return e.forEach((function(e){t[++n]=e})),t}},function(e,n){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,n,t){var r=t(27),o=t(127),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,n){if(r(e))return!1;var t=typeof e;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=e&&!o(e))||(a.test(e)||!i.test(e)||null!=n&&e in Object(n))}},function(e,n,t){var r=t(64),o=t(48);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},function(e,n){e.exports=function(e){return e}},function(e,n,t){"use strict";var r=SyntaxError,o=Function,i=TypeError,a=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}},s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch(e){s=null}var c=function(){throw new i},u=s?function(){try{return c}catch(e){try{return s(arguments,"callee").get}catch(e){return c}}}():c,l=t(387)(),p=Object.getPrototypeOf||function(e){return e.__proto__},d={},f="undefined"==typeof Uint8Array?void 0:p(Uint8Array),h={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":l?p([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":d,"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":d,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":d,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":l?p(p([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&l?p((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&l?p((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":l?p(""[Symbol.iterator]()):void 0,"%Symbol%":l?Symbol:void 0,"%SyntaxError%":r,"%ThrowTypeError%":u,"%TypedArray%":f,"%TypeError%":i,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=t(130),g=t(390),y=v.call(Function.call,Array.prototype.concat),b=v.call(Function.apply,Array.prototype.splice),w=v.call(Function.call,String.prototype.replace),E=v.call(Function.call,String.prototype.slice),_=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,x=/\\(\\)?/g,A=function(e){var n=E(e,0,1),t=E(e,-1);if("%"===n&&"%"!==t)throw new r("invalid intrinsic syntax, expected closing `%`");if("%"===t&&"%"!==n)throw new r("invalid intrinsic syntax, expected opening `%`");var o=[];return w(e,_,(function(e,n,t,r){o[o.length]=t?w(r,x,"$1"):n||e})),o},k=function(e,n){var t,o=e;if(g(m,o)&&(o="%"+(t=m[o])[0]+"%"),g(h,o)){var s=h[o];if(s===d&&(s=function e(n){var t;if("%AsyncFunction%"===n)t=a("async function () {}");else if("%GeneratorFunction%"===n)t=a("function* () {}");else if("%AsyncGeneratorFunction%"===n)t=a("async function* () {}");else if("%AsyncGenerator%"===n){var r=e("%AsyncGeneratorFunction%");r&&(t=r.prototype)}else if("%AsyncIteratorPrototype%"===n){var o=e("%AsyncGenerator%");o&&(t=p(o.prototype))}return h[n]=t,t}(o)),void 0===s&&!n)throw new i("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:t,name:o,value:s}}throw new r("intrinsic "+e+" does not exist!")};e.exports=function(e,n){if("string"!=typeof e||0===e.length)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof n)throw new i('"allowMissing" argument must be a boolean');var t=A(e),o=t.length>0?t[0]:"",a=k("%"+o+"%",n),c=a.name,u=a.value,l=!1,p=a.alias;p&&(o=p[0],b(t,y([0,1],p)));for(var d=1,f=!0;d<t.length;d+=1){var m=t[d],v=E(m,0,1),w=E(m,-1);if(('"'===v||"'"===v||"`"===v||'"'===w||"'"===w||"`"===w)&&v!==w)throw new r("property names with quotes must have matching quotes");if("constructor"!==m&&f||(l=!0),g(h,c="%"+(o+="."+m)+"%"))u=h[c];else if(null!=u){if(!(m in u)){if(!n)throw new i("base intrinsic for "+e+" exists, but the property is not available.");return}if(s&&d+1>=t.length){var _=s(u,m);u=(f=!!_)&&"get"in _&&!("originalValue"in _.get)?_.get:u[m]}else f=g(u,m),u=u[m];f&&!l&&(h[c]=u)}}return u}},function(e,n,t){"use strict";var r=t(389);e.exports=Function.prototype.bind||r},function(e,n,t){"use strict";var r=String.prototype.replace,o=/%20/g,i="RFC1738",a="RFC3986";e.exports={default:a,formatters:{RFC1738:function(e){return r.call(e,o,"+")},RFC3986:function(e){return String(e)}},RFC1738:i,RFC3986:a}},function(e,n,t){var r=t(402);e.exports=function(e){return r(e,{weekStartsOn:1})}},function(e,n,t){"use strict";var r=t(2),o=t(3),i=t(56),a=t(7),s=t(15),c=t(14),u=t(74),l=t(136),p=t(75),d=t(5),f=t(43),h=d("isConcatSpreadable"),m=f>=51||!o((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),v=p("concat"),g=function(e){if(!a(e))return!1;var n=e[h];return void 0!==n?!!n:i(e)};r({target:"Array",proto:!0,forced:!m||!v},{concat:function(e){var n,t,r,o,i,a=s(this),p=l(a,0),d=0;for(n=-1,r=arguments.length;n<r;n++)if(g(i=-1===n?a:arguments[n])){if(d+(o=c(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(t=0;t<o;t++,d++)t in i&&u(p,d,i[t])}else{if(d>=9007199254740991)throw TypeError("Maximum allowed index exceeded");u(p,d++,i)}return p.length=d,p}})},function(e,n,t){"use strict";var r=t(9),o=t(4),i=t(82),a=t(17),s=t(11),c=t(38),u=t(201),l=t(59),p=t(105),d=t(3),f=t(37),h=t(44).f,m=t(29).f,v=t(12).f,g=t(145).trim,y=o.Number,b=y.prototype,w="Number"==c(f(b)),E=function(e){if(l(e))throw TypeError("Cannot convert a Symbol value to a number");var n,t,r,o,i,a,s,c,u=p(e,"number");if("string"==typeof u&&u.length>2)if(43===(n=(u=g(u)).charCodeAt(0))||45===n){if(88===(t=u.charCodeAt(2))||120===t)return NaN}else if(48===n){switch(u.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+u}for(a=(i=u.slice(2)).length,s=0;s<a;s++)if((c=i.charCodeAt(s))<48||c>o)return NaN;return parseInt(i,r)}return+u};if(i("Number",!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var _,x=function(e){var n=arguments.length<1?0:e,t=this;return t instanceof x&&(w?d((function(){b.valueOf.call(t)})):"Number"!=c(t))?u(new y(E(n)),t,x):E(n)},A=r?h(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),k=0;A.length>k;k++)s(y,_=A[k])&&!s(x,_)&&v(x,_,m(y,_));x.prototype=b,b.constructor=x,a(o,"Number",x)}},function(e,n,t){var r=t(141),o=t(61),i=t(5)("iterator");e.exports=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,n,t){var r=t(262);e.exports=function(e,n){return new(r(e))(0===n?0:n)}},function(e,n,t){"use strict";var r=t(21),o=t(138),i=t(61),a=t(35),s=t(151),c=a.set,u=a.getterFor("Array Iterator");e.exports=s(Array,"Array",(function(e,n){c(this,{type:"Array Iterator",target:r(e),index:0,kind:n})}),(function(){var e=u(this),n=e.target,t=e.kind,r=e.index++;return!n||r>=n.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==t?{value:r,done:!1}:"values"==t?{value:n[r],done:!1}:{value:[r,n[r]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(e,n,t){var r=t(5),o=t(37),i=t(12),a=r("unscopables"),s=Array.prototype;null==s[a]&&i.f(s,a,{configurable:!0,value:o(null)}),e.exports=function(e){s[a][e]=!0}},function(e,n,t){var r=t(9),o=t(12),i=t(8),a=t(80);e.exports=r?Object.defineProperties:function(e,n){i(e);for(var t,r=a(n),s=r.length,c=0;s>c;)o.f(e,t=r[c++],n[t]);return e}},function(e,n,t){var r=t(53),o=Math.max,i=Math.min;e.exports=function(e,n){var t=r(e);return t<0?o(t+n,0):i(t,n)}},function(e,n,t){var r=t(112),o=t(38),i=t(5)("toStringTag"),a="Arguments"==o(function(){return arguments}());e.exports=r?o:function(e){var n,t,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(t=function(e,n){try{return e[n]}catch(e){}}(n=Object(e),i))?t:a?o(n):"Object"==(r=o(n))&&"function"==typeof n.callee?"Arguments":r}},function(e,n,t){var r=t(53),o=t(10),i=t(19),a=function(e){return function(n,t){var a,s,c=o(i(n)),u=r(t),l=c.length;return u<0||u>=l?e?"":void 0:(a=c.charCodeAt(u))<55296||a>56319||u+1===l||(s=c.charCodeAt(u+1))<56320||s>57343?e?c.charAt(u):a:e?c.slice(u,u+2):s-56320+(a-55296<<10)+65536}};e.exports={codeAt:a(!1),charAt:a(!0)}},function(e,n,t){"use strict";var r=t(2),o=t(58),i=t(21),a=t(42),s=[].join,c=o!=Object,u=a("join",",");r({target:"Array",proto:!0,forced:c||!u},{join:function(e){return s.call(i(this),void 0===e?",":e)}})},function(e,n){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,n,t){var r=t(19),o=t(10),i="["+t(146)+"]",a=RegExp("^"+i+i+"*"),s=RegExp(i+i+"*$"),c=function(e){return function(n){var t=o(r(n));return 1&e&&(t=t.replace(a,"")),2&e&&(t=t.replace(s,"")),t}};e.exports={start:c(1),end:c(2),trim:c(3)}},function(e,n){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(e,n,t){var r=t(103);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,n,t){var r=t(9),o=t(3),i=t(104);e.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(e,n,t){var r=t(11),o=t(21),i=t(106).indexOf,a=t(60);e.exports=function(e,n){var t,s=o(e),c=0,u=[];for(t in s)!r(a,t)&&r(s,t)&&u.push(t);for(;n.length>c;)r(s,t=n[c++])&&(~i(u,t)||u.push(t));return u}},function(e,n,t){var r=t(25);e.exports=r("document","documentElement")},function(e,n,t){"use strict";var r=t(2),o=t(236),i=t(111),a=t(83),s=t(71),c=t(22),u=t(17),l=t(5),p=t(36),d=t(61),f=t(154),h=f.IteratorPrototype,m=f.BUGGY_SAFARI_ITERATORS,v=l("iterator"),g=function(){return this};e.exports=function(e,n,t,l,f,y,b){o(t,n,l);var w,E,_,x=function(e){if(e===f&&S)return S;if(!m&&e in C)return C[e];switch(e){case"keys":case"values":case"entries":return function(){return new t(this,e)}}return function(){return new t(this)}},A=n+" Iterator",k=!1,C=e.prototype,O=C[v]||C["@@iterator"]||f&&C[f],S=!m&&O||x(f),B="Array"==n&&C.entries||O;if(B&&(w=i(B.call(new e)),h!==Object.prototype&&w.next&&(p||i(w)===h||(a?a(w,h):"function"!=typeof w[v]&&c(w,v,g)),s(w,A,!0,!0),p&&(d[A]=g))),"values"==f&&O&&"values"!==O.name&&(k=!0,S=function(){return O.call(this)}),p&&!b||C[v]===S||c(C,v,S),d[n]=S,f)if(E={values:x("values"),keys:y?S:x("keys"),entries:x("entries")},b)for(_ in E)(m||k||!(_ in C))&&u(C,_,E[_]);else r({target:n,proto:!0,forced:m||k},E);return E}},function(e,n,t){var r=t(11),o=t(153),i=t(29),a=t(12);e.exports=function(e,n){for(var t=o(n),s=a.f,c=i.f,u=0;u<t.length;u++){var l=t[u];r(e,l)||s(e,l,c(n,l))}}},function(e,n,t){var r=t(25),o=t(44),i=t(110),a=t(8);e.exports=r("Reflect","ownKeys")||function(e){var n=o.f(a(e)),t=i.f;return t?n.concat(t(e)):n}},function(e,n,t){"use strict";var r,o,i,a=t(3),s=t(111),c=t(22),u=t(11),l=t(5),p=t(36),d=l("iterator"),f=!1;[].keys&&("next"in(i=[].keys())?(o=s(s(i)))!==Object.prototype&&(r=o):f=!0);var h=null==r||a((function(){var e={};return r[d].call(e)!==e}));h&&(r={}),p&&!h||u(r,d)||c(r,d,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},function(e,n,t){var r=t(3);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,n,t){var r=t(4);e.exports=r.Promise},function(e,n,t){"use strict";var r=t(25),o=t(12),i=t(5),a=t(9),s=i("species");e.exports=function(e){var n=r(e),t=o.f;a&&n&&!n[s]&&t(n,s,{configurable:!0,get:function(){return this}})}},function(e,n,t){var r=t(5),o=t(61),i=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||a[i]===e)}},function(e,n,t){var r=t(8);e.exports=function(e){var n=e.return;if(void 0!==n)return r(n.call(e)).value}},function(e,n,t){var r=t(5)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,n){if(!n&&!o)return!1;var t=!1;try{var i={};i[r]=function(){return{next:function(){return{done:t=!0}}}},e(i)}catch(e){}return t}},function(e,n,t){var r,o,i,a,s=t(4),c=t(3),u=t(72),l=t(150),p=t(104),d=t(162),f=t(84),h=s.setImmediate,m=s.clearImmediate,v=s.process,g=s.MessageChannel,y=s.Dispatch,b=0,w={};try{r=s.location}catch(e){}var E=function(e){if(w.hasOwnProperty(e)){var n=w[e];delete w[e],n()}},_=function(e){return function(){E(e)}},x=function(e){E(e.data)},A=function(e){s.postMessage(String(e),r.protocol+"//"+r.host)};h&&m||(h=function(e){for(var n=[],t=arguments.length,r=1;t>r;)n.push(arguments[r++]);return w[++b]=function(){("function"==typeof e?e:Function(e)).apply(void 0,n)},o(b),b},m=function(e){delete w[e]},f?o=function(e){v.nextTick(_(e))}:y&&y.now?o=function(e){y.now(_(e))}:g&&!d?(a=(i=new g).port2,i.port1.onmessage=x,o=u(a.postMessage,a,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts&&r&&"file:"!==r.protocol&&!c(A)?(o=A,s.addEventListener("message",x,!1)):o="onreadystatechange"in p("script")?function(e){l.appendChild(p("script")).onreadystatechange=function(){l.removeChild(this),E(e)}}:function(e){setTimeout(_(e),0)}),e.exports={set:h,clear:m}},function(e,n,t){var r=t(28);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},function(e,n,t){var r=t(8),o=t(7),i=t(164);e.exports=function(e,n){if(r(e),o(n)&&n.constructor===e)return n;var t=i.f(e);return(0,t.resolve)(n),t.promise}},function(e,n,t){"use strict";var r=t(30),o=function(e){var n,t;this.promise=new e((function(e,r){if(void 0!==n||void 0!==t)throw TypeError("Bad Promise constructor");n=e,t=r})),this.resolve=r(n),this.reject=r(t)};e.exports.f=function(e){return new o(e)}},function(e,n){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,n,t){var r=t(2),o=t(9),i=t(153),a=t(21),s=t(29),c=t(74);r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(e){for(var n,t,r=a(e),o=s.f,u=i(r),l={},p=0;u.length>p;)void 0!==(t=o(r,n=u[p++]))&&c(l,n,t);return l}})},function(e,n,t){var r=t(2),o=t(3),i=t(15),a=t(111),s=t(155);r({target:"Object",stat:!0,forced:o((function(){a(1)})),sham:!s},{getPrototypeOf:function(e){return a(i(e))}})},function(e,n,t){var r=t(115);e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},function(e,n,t){var r=t(5)("match");e.exports=function(e){var n=/./;try{"/./"[e](n)}catch(t){try{return n[r]=!1,"/./"[e](n)}catch(e){}}return!1}},function(e,n,t){"use strict";var r=t(54).forEach,o=t(42)("forEach");e.exports=o?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},function(e,n,t){var r=t(3);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(e,n,t){var r=t(21),o=t(44).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(r(e))}},function(e,n,t){var r=t(5);n.f=r},function(e,n,t){var r=t(266),o=t(11),i=t(173),a=t(12).f;e.exports=function(e){var n=r.Symbol||(r.Symbol={});o(n,e)||a(n,e,{value:i.f(e)})}},function(e,n,t){t(2)({target:"Object",stat:!0,sham:!t(9)},{create:t(37)})},function(e,n,t){var r=t(3),o=t(4).RegExp;e.exports=r((function(){var e=o(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},function(e,n,t){var r=t(3),o=t(4).RegExp;e.exports=r((function(){var e=o("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},function(e,n){e.exports=function(e,n){for(var t=-1,r=n.length,o=e.length;++t<r;)e[o+t]=n[t];return e}},function(e,n){var t="object"==typeof global&&global&&global.Object===Object&&global;e.exports=t},function(e,n,t){var r=t(87),o=t(282),i=t(283),a=t(284),s=t(285),c=t(286);function u(e){var n=this.__data__=new r(e);this.size=n.size}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=s,u.prototype.set=c,e.exports=u},function(e,n){e.exports=function(e,n){return e===n||e!=e&&n!=n}},function(e,n,t){var r=t(64),o=t(122);e.exports=function(e){if(!o(e))return!1;var n=r(e);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n}},function(e,n){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,n,t){var r=t(303),o=t(48);e.exports=function e(n,t,i,a,s){return n===t||(null==n||null==t||!o(n)&&!o(t)?n!=n&&t!=t:r(n,t,i,a,e,s))}},function(e,n,t){var r=t(186),o=t(306),i=t(187);e.exports=function(e,n,t,a,s,c){var u=1&t,l=e.length,p=n.length;if(l!=p&&!(u&&p>l))return!1;var d=c.get(e),f=c.get(n);if(d&&f)return d==n&&f==e;var h=-1,m=!0,v=2&t?new r:void 0;for(c.set(e,n),c.set(n,e);++h<l;){var g=e[h],y=n[h];if(a)var b=u?a(y,g,h,n,e,c):a(g,y,h,e,n,c);if(void 0!==b){if(b)continue;m=!1;break}if(v){if(!o(n,(function(e,n){if(!i(v,n)&&(g===e||s(g,e,t,a,c)))return v.push(n)}))){m=!1;break}}else if(g!==y&&!s(g,y,t,a,c)){m=!1;break}}return c.delete(e),c.delete(n),m}},function(e,n,t){var r=t(123),o=t(304),i=t(305);function a(e){var n=-1,t=null==e?0:e.length;for(this.__data__=new r;++n<t;)this.add(e[n])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},function(e,n){e.exports=function(e,n){return e.has(n)}},function(e,n,t){var r=t(316),o=t(322),i=t(192);e.exports=function(e){return i(e)?r(e):o(e)}},function(e,n,t){(function(e){var r=t(26),o=t(318),i=n&&!n.nodeType&&n,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||o;e.exports=c}).call(this,t(144)(e))},function(e,n){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},function(e,n,t){var r=t(319),o=t(320),i=t(321),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},function(e,n,t){var r=t(182),o=t(125);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,n,t){var r=t(39)(t(26),"Set");e.exports=r},function(e,n,t){var r=t(122);e.exports=function(e){return e==e&&!r(e)}},function(e,n){e.exports=function(e,n){return function(t){return null!=t&&(t[e]===n&&(void 0!==n||e in Object(t)))}}},function(e,n,t){var r=t(197),o=t(91);e.exports=function(e,n){for(var t=0,i=(n=r(n,e)).length;null!=e&&t<i;)e=e[o(n[t++])];return t&&t==i?e:void 0}},function(e,n,t){var r=t(27),o=t(126),i=t(333),a=t(336);e.exports=function(e,n){return r(e)?e:o(e,n)?[e]:i(a(e))}},function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";var r=t(2),o=t(30),i=t(15),a=t(14),s=t(10),c=t(3),u=t(370),l=t(42),p=t(371),d=t(372),f=t(43),h=t(373),m=[],v=m.sort,g=c((function(){m.sort(void 0)})),y=c((function(){m.sort(null)})),b=l("sort"),w=!c((function(){if(f)return f<70;if(!(p&&p>3)){if(d)return!0;if(h)return h<603;var e,n,t,r,o="";for(e=65;e<76;e++){switch(n=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:t=3;break;case 68:case 71:t=4;break;default:t=2}for(r=0;r<47;r++)m.push({k:n+r,v:t})}for(m.sort((function(e,n){return n.v-e.v})),r=0;r<m.length;r++)n=m[r].k.charAt(0),o.charAt(o.length-1)!==n&&(o+=n);return"DGBEFHACIJK"!==o}}));r({target:"Array",proto:!0,forced:g||!y||!b||!w},{sort:function(e){void 0!==e&&o(e);var n=i(this);if(w)return void 0===e?v.call(n):v.call(n,e);var t,r,c=[],l=a(n.length);for(r=0;r<l;r++)r in n&&c.push(n[r]);for(t=(c=u(c,function(e){return function(n,t){return void 0===t?-1:void 0===n?1:void 0!==e?+e(n,t)||0:s(n)>s(t)?1:-1}}(e))).length,r=0;r<t;)n[r]=c[r++];for(;r<l;)delete n[r++];return n}})},function(e,n,t){var r=t(7),o=t(83);e.exports=function(e,n,t){var i,a;return o&&"function"==typeof(i=n.constructor)&&i!==t&&r(a=i.prototype)&&a!==t.prototype&&o(e,a),e}},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";var r=t(131),o=Object.prototype.hasOwnProperty,i=Array.isArray,a=function(){for(var e=[],n=0;n<256;++n)e.push("%"+((n<16?"0":"")+n.toString(16)).toUpperCase());return e}(),s=function(e,n){for(var t=n&&n.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(t[r]=e[r]);return t};e.exports={arrayToObject:s,assign:function(e,n){return Object.keys(n).reduce((function(e,t){return e[t]=n[t],e}),e)},combine:function(e,n){return[].concat(e,n)},compact:function(e){for(var n=[{obj:{o:e},prop:"o"}],t=[],r=0;r<n.length;++r)for(var o=n[r],a=o.obj[o.prop],s=Object.keys(a),c=0;c<s.length;++c){var u=s[c],l=a[u];"object"==typeof l&&null!==l&&-1===t.indexOf(l)&&(n.push({obj:a,prop:u}),t.push(l))}return function(e){for(;e.length>1;){var n=e.pop(),t=n.obj[n.prop];if(i(t)){for(var r=[],o=0;o<t.length;++o)void 0!==t[o]&&r.push(t[o]);n.obj[n.prop]=r}}}(n),e},decode:function(e,n,t){var r=e.replace(/\+/g," ");if("iso-8859-1"===t)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(e){return r}},encode:function(e,n,t,o,i){if(0===e.length)return e;var s=e;if("symbol"==typeof e?s=Symbol.prototype.toString.call(e):"string"!=typeof e&&(s=String(e)),"iso-8859-1"===t)return escape(s).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var c="",u=0;u<s.length;++u){var l=s.charCodeAt(u);45===l||46===l||95===l||126===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||i===r.RFC1738&&(40===l||41===l)?c+=s.charAt(u):l<128?c+=a[l]:l<2048?c+=a[192|l>>6]+a[128|63&l]:l<55296||l>=57344?c+=a[224|l>>12]+a[128|l>>6&63]+a[128|63&l]:(u+=1,l=65536+((1023&l)<<10|1023&s.charCodeAt(u)),c+=a[240|l>>18]+a[128|l>>12&63]+a[128|l>>6&63]+a[128|63&l])}return c},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,n){if(i(e)){for(var t=[],r=0;r<e.length;r+=1)t.push(n(e[r]));return t}return n(e)},merge:function e(n,t,r){if(!t)return n;if("object"!=typeof t){if(i(n))n.push(t);else{if(!n||"object"!=typeof n)return[n,t];(r&&(r.plainObjects||r.allowPrototypes)||!o.call(Object.prototype,t))&&(n[t]=!0)}return n}if(!n||"object"!=typeof n)return[n].concat(t);var a=n;return i(n)&&!i(t)&&(a=s(n,r)),i(n)&&i(t)?(t.forEach((function(t,i){if(o.call(n,i)){var a=n[i];a&&"object"==typeof a&&t&&"object"==typeof t?n[i]=e(a,t,r):n.push(t)}else n[i]=t})),n):Object.keys(t).reduce((function(n,i){var a=t[i];return o.call(n,i)?n[i]=e(n[i],a,r):n[i]=a,n}),a)}}},function(e,n){e.exports=function(e){return e instanceof Date}},function(e,n,t){var r=t(40),o=t(132);e.exports=function(e){var n=r(e),t=n.getFullYear(),i=new Date(0);i.setFullYear(t+1,0,4),i.setHours(0,0,0,0);var a=o(i),s=new Date(0);s.setFullYear(t,0,4),s.setHours(0,0,0,0);var c=o(s);return n.getTime()>=a.getTime()?t+1:n.getTime()>=c.getTime()?t:t-1}},function(e,n,t){"use strict";e.exports=function(e,n){return function(){for(var t=new Array(arguments.length),r=0;r<t.length;r++)t[r]=arguments[r];return e.apply(n,t)}}},function(e,n,t){"use strict";var r=t(16);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,n,t){if(!n)return e;var i;if(t)i=t(n);else if(r.isURLSearchParams(n))i=n.toString();else{var a=[];r.forEach(n,(function(e,n){null!=e&&(r.isArray(e)?n+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(o(n)+"="+o(e))})))})),i=a.join("&")}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},function(e,n,t){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,n,t){"use strict";var r=t(16),o=t(414),i={"Content-Type":"application/x-www-form-urlencoded"};function a(e,n){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=n)}var s,c={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(s=t(214)),s),transformRequest:[function(e,n){return o(n,"Accept"),o(n,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(n,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(n,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){c.headers[e]=r.merge(i)})),e.exports=c},function(e,n,t){"use strict";var r=t(16),o=t(415),i=t(417),a=t(211),s=t(418),c=t(421),u=t(422),l=t(215);e.exports=function(e){return new Promise((function(n,t){var p=e.data,d=e.headers;r.isFormData(p)&&delete d["Content-Type"];var f=new XMLHttpRequest;if(e.auth){var h=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";d.Authorization="Basic "+btoa(h+":"+m)}var v=s(e.baseURL,e.url);if(f.open(e.method.toUpperCase(),a(v,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,f.onreadystatechange=function(){if(f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in f?c(f.getAllResponseHeaders()):null,i={data:e.responseType&&"text"!==e.responseType?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:r,config:e,request:f};o(n,t,i),f=null}},f.onabort=function(){f&&(t(l("Request aborted",e,"ECONNABORTED",f)),f=null)},f.onerror=function(){t(l("Network Error",e,null,f)),f=null},f.ontimeout=function(){var n="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(n=e.timeoutErrorMessage),t(l(n,e,"ECONNABORTED",f)),f=null},r.isStandardBrowserEnv()){var g=(e.withCredentials||u(v))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;g&&(d[e.xsrfHeaderName]=g)}if("setRequestHeader"in f&&r.forEach(d,(function(e,n){void 0===p&&"content-type"===n.toLowerCase()?delete d[n]:f.setRequestHeader(n,e)})),r.isUndefined(e.withCredentials)||(f.withCredentials=!!e.withCredentials),e.responseType)try{f.responseType=e.responseType}catch(n){if("json"!==e.responseType)throw n}"function"==typeof e.onDownloadProgress&&f.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){f&&(f.abort(),t(e),f=null)})),p||(p=null),f.send(p)}))}},function(e,n,t){"use strict";var r=t(416);e.exports=function(e,n,t,o,i){var a=new Error(e);return r(a,n,t,o,i)}},function(e,n,t){"use strict";var r=t(16);e.exports=function(e,n){n=n||{};var t={},o=["url","method","data"],i=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function c(e,n){return r.isPlainObject(e)&&r.isPlainObject(n)?r.merge(e,n):r.isPlainObject(n)?r.merge({},n):r.isArray(n)?n.slice():n}function u(o){r.isUndefined(n[o])?r.isUndefined(e[o])||(t[o]=c(void 0,e[o])):t[o]=c(e[o],n[o])}r.forEach(o,(function(e){r.isUndefined(n[e])||(t[e]=c(void 0,n[e]))})),r.forEach(i,u),r.forEach(a,(function(o){r.isUndefined(n[o])?r.isUndefined(e[o])||(t[o]=c(void 0,e[o])):t[o]=c(void 0,n[o])})),r.forEach(s,(function(r){r in n?t[r]=c(e[r],n[r]):r in e&&(t[r]=c(void 0,e[r]))}));var l=o.concat(i).concat(a).concat(s),p=Object.keys(e).concat(Object.keys(n)).filter((function(e){return-1===l.indexOf(e)}));return r.forEach(p,u),t}},function(e,n,t){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){t(2)({target:"Object",stat:!0},{setPrototypeOf:t(83)})},function(e,n,t){var r=t(2),o=t(25),i=t(30),a=t(8),s=t(7),c=t(37),u=t(435),l=t(3),p=o("Reflect","construct"),d=l((function(){function e(){}return!(p((function(){}),[],e)instanceof e)})),f=!l((function(){p((function(){}))})),h=d||f;r({target:"Reflect",stat:!0,forced:h,sham:h},{construct:function(e,n){i(e),a(n);var t=arguments.length<3?e:i(arguments[2]);if(f&&!d)return p(e,n,t);if(e==t){switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3])}var r=[null];return r.push.apply(r,n),new(u.apply(e,r))}var o=t.prototype,l=c(s(o)?o:Object.prototype),h=Function.apply.call(e,l,n);return s(h)?h:l}})},function(e,n,t){},function(e,n,t){},function(e,n,t){var r=t(269),o=t(274),i=t(345),a=t(353),s=t(362),c=t(363),u=i((function(e){var n=c(e);return s(n)&&(n=void 0),a(r(e,1,s,!0),o(n,2))}));e.exports=u},function(e,n){var t=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,a=parseInt,s="object"==typeof global&&global&&global.Object===Object&&global,c="object"==typeof self&&self&&self.Object===Object&&self,u=s||c||Function("return this")(),l=Object.prototype.toString,p=Math.max,d=Math.min,f=function(){return u.Date.now()};function h(e){var n=typeof e;return!!e&&("object"==n||"function"==n)}function m(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==l.call(e)}(e))return NaN;if(h(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=h(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(t,"");var s=o.test(e);return s||i.test(e)?a(e.slice(2),s?2:8):r.test(e)?NaN:+e}e.exports=function(e,n,t){var r,o,i,a,s,c,u=0,l=!1,v=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(n){var t=r,i=o;return r=o=void 0,u=n,a=e.apply(i,t)}function b(e){return u=e,s=setTimeout(E,n),l?y(e):a}function w(e){var t=e-c;return void 0===c||t>=n||t<0||v&&e-u>=i}function E(){var e=f();if(w(e))return _(e);s=setTimeout(E,function(e){var t=n-(e-c);return v?d(t,i-(e-u)):t}(e))}function _(e){return s=void 0,g&&r?y(e):(r=o=void 0,a)}function x(){var e=f(),t=w(e);if(r=arguments,o=this,c=e,t){if(void 0===s)return b(c);if(v)return s=setTimeout(E,n),y(c)}return void 0===s&&(s=setTimeout(E,n)),a}return n=m(n)||0,h(t)&&(l=!!t.leading,i=(v="maxWait"in t)?p(m(t.maxWait)||0,n):i,g="trailing"in t?!!t.trailing:g),x.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=c=o=s=void 0},x.flush=function(){return void 0===s?a:_(f())},x}},function(e,n,t){
/*!
 * clipboard.js v2.0.8
 * https://clipboardjs.com/
 *
 * Licensed MIT © Zeno Rocha
 */
var r;r=function(){return function(){var e={134:function(e,n,t){"use strict";t.d(n,{default:function(){return b}});var r=t(279),o=t.n(r),i=t(370),a=t.n(i),s=t(817),c=t.n(s);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.resolveOptions(n),this.initSelection()}var n,t,r;return n=e,(t=[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"createFakeElement",value:function(){var e="rtl"===document.documentElement.getAttribute("dir");this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;return this.fakeElem.style.top="".concat(n,"px"),this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.fakeElem}},{key:"selectFake",value:function(){var e=this,n=this.createFakeElement();this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.container.appendChild(n),this.selectedText=c()(n),this.copyText(),this.removeFake()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=c()(this.target),this.copyText()}},{key:"copyText",value:function(){var e;try{e=document.execCommand(this.action)}catch(n){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==u(e)||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}])&&l(n.prototype,t),r&&l(n,r),e}();function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,n){return(h=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function m(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=g(e);if(n){var o=g(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return v(this,t)}}function v(e,n){return!n||"object"!==d(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,n){var t="data-clipboard-".concat(e);if(n.hasAttribute(t))return n.getAttribute(t)}var b=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&h(e,n)}(i,e);var n,t,r,o=m(i);function i(e,n){var t;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).resolveOptions(n),t.listenClick(e),t}return n=i,r=[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],n="string"==typeof e?[e]:e,t=!!document.queryCommandSupported;return n.forEach((function(e){t=t&&!!document.queryCommandSupported(e)})),t}}],(t=[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===d(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var n=this;this.listener=a()(e,"click",(function(e){return n.onClick(e)}))}},{key:"onClick",value:function(e){var n=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new p({action:this.action(n),target:this.target(n),text:this.text(n),container:this.container,trigger:n,emitter:this})}},{key:"defaultAction",value:function(e){return y("action",e)}},{key:"defaultTarget",value:function(e){var n=y("target",e);if(n)return document.querySelector(n)}},{key:"defaultText",value:function(e){return y("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}])&&f(n.prototype,t),r&&f(n,r),i}(o())},828:function(e){if("undefined"!=typeof Element&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}e.exports=function(e,n){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(n))return e;e=e.parentNode}}},438:function(e,n,t){var r=t(828);function o(e,n,t,r,o){var a=i.apply(this,arguments);return e.addEventListener(t,a,o),{destroy:function(){e.removeEventListener(t,a,o)}}}function i(e,n,t,o){return function(t){t.delegateTarget=r(t.target,n),t.delegateTarget&&o.call(e,t)}}e.exports=function(e,n,t,r,i){return"function"==typeof e.addEventListener?o.apply(null,arguments):"function"==typeof t?o.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return o(e,n,t,r,i)})))}},879:function(e,n){n.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},n.nodeList=function(e){var t=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in e&&(0===e.length||n.node(e[0]))},n.string=function(e){return"string"==typeof e||e instanceof String},n.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},370:function(e,n,t){var r=t(879),o=t(438);e.exports=function(e,n,t){if(!e&&!n&&!t)throw new Error("Missing required arguments");if(!r.string(n))throw new TypeError("Second argument must be a String");if(!r.fn(t))throw new TypeError("Third argument must be a Function");if(r.node(e))return function(e,n,t){return e.addEventListener(n,t),{destroy:function(){e.removeEventListener(n,t)}}}(e,n,t);if(r.nodeList(e))return function(e,n,t){return Array.prototype.forEach.call(e,(function(e){e.addEventListener(n,t)})),{destroy:function(){Array.prototype.forEach.call(e,(function(e){e.removeEventListener(n,t)}))}}}(e,n,t);if(r.string(e))return function(e,n,t){return o(document.body,e,n,t)}(e,n,t);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},817:function(e){e.exports=function(e){var n;if("SELECT"===e.nodeName)e.focus(),n=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var t=e.hasAttribute("readonly");t||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),t||e.removeAttribute("readonly"),n=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var r=window.getSelection(),o=document.createRange();o.selectNodeContents(e),r.removeAllRanges(),r.addRange(o),n=r.toString()}return n}},279:function(e){function n(){}n.prototype={on:function(e,n,t){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:n,ctx:t}),this},once:function(e,n,t){var r=this;function o(){r.off(e,o),n.apply(t,arguments)}return o._=n,this.on(e,o,t)},emit:function(e){for(var n=[].slice.call(arguments,1),t=((this.e||(this.e={}))[e]||[]).slice(),r=0,o=t.length;r<o;r++)t[r].fn.apply(t[r].ctx,n);return this},off:function(e,n){var t=this.e||(this.e={}),r=t[e],o=[];if(r&&n)for(var i=0,a=r.length;i<a;i++)r[i].fn!==n&&r[i].fn._!==n&&o.push(r[i]);return o.length?t[e]=o:delete t[e],this}},e.exports=n,e.exports.TinyEmitter=n}},n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{}};return e[r](o,o.exports,t),o.exports}return t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,{a:n}),n},t.d=function(e,n){for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t(134)}().default},e.exports=r()},function(e,n,t){var r=t(396),o=t(401),i=t(209),a=t(40),s=t(404),c=t(405);var u={M:function(e){return e.getMonth()+1},MM:function(e){return d(e.getMonth()+1,2)},Q:function(e){return Math.ceil((e.getMonth()+1)/3)},D:function(e){return e.getDate()},DD:function(e){return d(e.getDate(),2)},DDD:function(e){return r(e)},DDDD:function(e){return d(r(e),3)},d:function(e){return e.getDay()},E:function(e){return e.getDay()||7},W:function(e){return o(e)},WW:function(e){return d(o(e),2)},YY:function(e){return d(e.getFullYear(),4).substr(2)},YYYY:function(e){return d(e.getFullYear(),4)},GG:function(e){return String(i(e)).substr(2)},GGGG:function(e){return i(e)},H:function(e){return e.getHours()},HH:function(e){return d(e.getHours(),2)},h:function(e){var n=e.getHours();return 0===n?12:n>12?n%12:n},hh:function(e){return d(u.h(e),2)},m:function(e){return e.getMinutes()},mm:function(e){return d(e.getMinutes(),2)},s:function(e){return e.getSeconds()},ss:function(e){return d(e.getSeconds(),2)},S:function(e){return Math.floor(e.getMilliseconds()/100)},SS:function(e){return d(Math.floor(e.getMilliseconds()/10),2)},SSS:function(e){return d(e.getMilliseconds(),3)},Z:function(e){return p(e.getTimezoneOffset(),":")},ZZ:function(e){return p(e.getTimezoneOffset())},X:function(e){return Math.floor(e.getTime()/1e3)},x:function(e){return e.getTime()}};function l(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|]$/g,""):e.replace(/\\/g,"")}function p(e,n){n=n||"";var t=e>0?"-":"+",r=Math.abs(e),o=r%60;return t+d(Math.floor(r/60),2)+n+d(o,2)}function d(e,n){for(var t=Math.abs(e).toString();t.length<n;)t="0"+t;return t}e.exports=function(e,n,t){var r=n?String(n):"YYYY-MM-DDTHH:mm:ss.SSSZ",o=(t||{}).locale,i=c.format.formatters,p=c.format.formattingTokensRegExp;o&&o.format&&o.format.formatters&&(i=o.format.formatters,o.format.formattingTokensRegExp&&(p=o.format.formattingTokensRegExp));var d=a(e);return s(d)?function(e,n,t){var r,o,i=e.match(t),a=i.length;for(r=0;r<a;r++)o=n[i[r]]||u[i[r]],i[r]=o||l(i[r]);return function(e){for(var n="",t=0;t<a;t++)i[t]instanceof Function?n+=i[t](e,u):n+=i[t];return n}}(r,i,p)(d):"Invalid Date"}},function(e,n,t){function r(){var e;try{e=n.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(n=e.exports=t(429)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},n.formatArgs=function(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))})),e.splice(i,0,r)},n.save=function(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(e){}},n.load=r,n.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},n.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},n.enable(r())},function(e,n,t){function r(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=r=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),r(n)}t(47),t(62),t(13),t(85),t(18),t(20),e.exports=r,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,n,t){var r=t(2),o=t(378);r({global:!0,forced:parseInt!=o},{parseInt:o})},function(e,n){e.exports=function(e,n,t){if(!(e instanceof n))throw TypeError("Incorrect "+(t?t+" ":"")+"invocation");return e}},function(e,n,t){"use strict";var r=t(99),o=t(8),i=t(14),a=t(10),s=t(19),c=t(119),u=t(100);r("match",(function(e,n,t){return[function(n){var t=s(this),r=null==n?void 0:n[e];return void 0!==r?r.call(n,t):new RegExp(n)[e](a(t))},function(e){var r=o(this),s=a(e),l=t(n,r,s);if(l.done)return l.value;if(!r.global)return u(r,s);var p=r.unicode;r.lastIndex=0;for(var d,f=[],h=0;null!==(d=u(r,s));){var m=a(d[0]);f[h]=m,""===m&&(r.lastIndex=c(s,i(r.lastIndex),p)),h++}return 0===h?null:f}]}))},function(e,n,t){"use strict";var r=t(99),o=t(115),i=t(8),a=t(19),s=t(113),c=t(119),u=t(14),l=t(10),p=t(100),d=t(86),f=t(118),h=t(3),m=f.UNSUPPORTED_Y,v=[].push,g=Math.min;r("split",(function(e,n,t){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var r=l(a(this)),i=void 0===t?4294967295:t>>>0;if(0===i)return[];if(void 0===e)return[r];if(!o(e))return n.call(r,e,i);for(var s,c,u,p=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,m=new RegExp(e.source,f+"g");(s=d.call(m,r))&&!((c=m.lastIndex)>h&&(p.push(r.slice(h,s.index)),s.length>1&&s.index<r.length&&v.apply(p,s.slice(1)),u=s[0].length,h=c,p.length>=i));)m.lastIndex===s.index&&m.lastIndex++;return h===r.length?!u&&m.test("")||p.push(""):p.push(r.slice(h)),p.length>i?p.slice(0,i):p}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,t){var o=a(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,o,t):r.call(l(o),n,t)},function(e,o){var a=i(this),d=l(e),f=t(r,a,d,o,r!==n);if(f.done)return f.value;var h=s(a,RegExp),v=a.unicode,y=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(m?"g":"y"),b=new h(m?"^(?:"+a.source+")":a,y),w=void 0===o?4294967295:o>>>0;if(0===w)return[];if(0===d.length)return null===p(b,d)?[d]:[];for(var E=0,_=0,x=[];_<d.length;){b.lastIndex=m?0:_;var A,k=p(b,m?d.slice(_):d);if(null===k||(A=g(u(b.lastIndex+(m?_:0)),d.length))===E)_=c(d,_,v);else{if(x.push(d.slice(E,_)),x.length===w)return x;for(var C=1;C<=k.length-1;C++)if(x.push(k[C]),x.length===w)return x;_=E=A}}return x.push(d.slice(E)),x}]}),!!h((function(){var e=/(?:)/,n=e.exec;e.exec=function(){return n.apply(this,arguments)};var t="ab".split(e);return 2!==t.length||"a"!==t[0]||"b"!==t[1]})),m)},function(e,n,t){"use strict";var r=t(17),o=t(8),i=t(10),a=t(3),s=t(117),c=RegExp.prototype,u=c.toString,l=a((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),p="toString"!=u.name;(l||p)&&r(RegExp.prototype,"toString",(function(){var e=o(this),n=i(e.source),t=e.flags;return"/"+n+"/"+i(void 0===t&&e instanceof RegExp&&!("flags"in c)?s.call(e):t)}),{unsafe:!0})},function(e,n,t){"use strict";var r=t(154).IteratorPrototype,o=t(37),i=t(55),a=t(71),s=t(61),c=function(){return this};e.exports=function(e,n,t){var u=n+" Iterator";return e.prototype=o(r,{next:i(1,t)}),a(e,u,!1,!0),s[u]=c,e}},function(e,n,t){var r=t(17);e.exports=function(e,n,t){for(var o in n)r(e,o,n[o],t);return e}},function(e,n,t){"use strict";var r=t(9),o=t(3),i=t(80),a=t(110),s=t(109),c=t(15),u=t(58),l=Object.assign,p=Object.defineProperty;e.exports=!l||o((function(){if(r&&1!==l({b:1},l(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},n={},t=Symbol();return e[t]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),7!=l({},e)[t]||"abcdefghijklmnopqrst"!=i(l({},n)).join("")}))?function(e,n){for(var t=c(e),o=arguments.length,l=1,p=a.f,d=s.f;o>l;)for(var f,h=u(arguments[l++]),m=p?i(h).concat(p(h)):i(h),v=m.length,g=0;v>g;)f=m[g++],r&&!d.call(h,f)||(t[f]=h[f]);return t}:l},function(e,n,t){"use strict";var r,o=t(2),i=t(29).f,a=t(14),s=t(10),c=t(168),u=t(19),l=t(169),p=t(36),d="".startsWith,f=Math.min,h=l("startsWith");o({target:"String",proto:!0,forced:!!(p||h||(r=i(String.prototype,"startsWith"),!r||r.writable))&&!h},{startsWith:function(e){var n=s(u(this));c(e);var t=a(f(arguments.length>1?arguments[1]:void 0,n.length)),r=s(e);return d?d.call(n,r,t):n.slice(t,t+r.length)===r}})},function(e,n,t){"use strict";var r=t(72),o=t(15),i=t(267),a=t(158),s=t(14),c=t(74),u=t(135);e.exports=function(e){var n,t,l,p,d,f,h=o(e),m="function"==typeof this?this:Array,v=arguments.length,g=v>1?arguments[1]:void 0,y=void 0!==g,b=u(h),w=0;if(y&&(g=r(g,v>2?arguments[2]:void 0,2)),null==b||m==Array&&a(b))for(t=new m(n=s(h.length));n>w;w++)f=y?g(h[w],w):h[w],c(t,w,f);else for(d=(p=b.call(h)).next,t=new m;!(l=d.call(p)).done;w++)f=y?i(p,g,[l.value,w],!0):l.value,c(t,w,f);return t.length=w,t}},function(e,n,t){"use strict";var r=t(2),o=t(106).includes,i=t(138);r({target:"Array",proto:!0},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},function(e,n,t){"use strict";var r=t(2),o=t(168),i=t(19),a=t(10);r({target:"String",proto:!0,forced:!t(169)("includes")},{includes:function(e){return!!~a(i(this)).indexOf(a(o(e)),arguments.length>1?arguments[1]:void 0)}})},function(e,n,t){"use strict";var r=t(2),o=t(3),i=t(15),a=t(105);r({target:"Date",proto:!0,forced:o((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(e){var n=i(this),t=a(n,"number");return"number"!=typeof t||isFinite(t)?n.toISOString():null}})},function(e,n,t){"use strict";t(2)({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},function(e,n,t){var r=t(2),o=t(367);r({target:"Date",proto:!0,forced:Date.prototype.toISOString!==o},{toISOString:o})},function(e,n,t){var r=t(9),o=t(4),i=t(82),a=t(201),s=t(22),c=t(12).f,u=t(44).f,l=t(115),p=t(10),d=t(117),f=t(118),h=t(17),m=t(3),v=t(11),g=t(35).enforce,y=t(157),b=t(5),w=t(176),E=t(177),_=b("match"),x=o.RegExp,A=x.prototype,k=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,C=/a/g,O=/a/g,S=new x(C)!==C,B=f.UNSUPPORTED_Y,j=r&&(!S||B||w||E||m((function(){return O[_]=!1,x(C)!=C||x(O)==O||"/a/i"!=x(C,"i")})));if(i("RegExp",j)){for(var T=function(e,n){var t,r,o,i,c,u,f=this instanceof T,h=l(e),m=void 0===n,y=[],b=e;if(!f&&h&&m&&e.constructor===T)return e;if((h||e instanceof T)&&(e=e.source,m&&(n="flags"in b?b.flags:d.call(b))),e=void 0===e?"":p(e),n=void 0===n?"":p(n),b=e,w&&"dotAll"in C&&(r=!!n&&n.indexOf("s")>-1)&&(n=n.replace(/s/g,"")),t=n,B&&"sticky"in C&&(o=!!n&&n.indexOf("y")>-1)&&(n=n.replace(/y/g,"")),E&&(e=(i=function(e){for(var n,t=e.length,r=0,o="",i=[],a={},s=!1,c=!1,u=0,l="";r<=t;r++){if("\\"===(n=e.charAt(r)))n+=e.charAt(++r);else if("]"===n)s=!1;else if(!s)switch(!0){case"["===n:s=!0;break;case"("===n:k.test(e.slice(r+1))&&(r+=2,c=!0),o+=n,u++;continue;case">"===n&&c:if(""===l||v(a,l))throw new SyntaxError("Invalid capture group name");a[l]=!0,i.push([l,u]),c=!1,l="";continue}c?l+=n:o+=n}return[o,i]}(e))[0],y=i[1]),c=a(x(e,n),f?this:A,T),(r||o||y.length)&&(u=g(c),r&&(u.dotAll=!0,u.raw=T(function(e){for(var n,t=e.length,r=0,o="",i=!1;r<=t;r++)"\\"!==(n=e.charAt(r))?i||"."!==n?("["===n?i=!0:"]"===n&&(i=!1),o+=n):o+="[\\s\\S]":o+=n+e.charAt(++r);return o}(e),t)),o&&(u.sticky=!0),y.length&&(u.groups=y)),e!==b)try{s(c,"source",""===b?"(?:)":b)}catch(e){}return c},D=function(e){e in T||c(T,e,{configurable:!0,get:function(){return x[e]},set:function(n){x[e]=n}})},P=u(x),I=0;P.length>I;)D(P[I++]);A.constructor=T,T.prototype=A,h(o,"RegExp",T)}y("RegExp")},function(e,n,t){e.exports=t(438)},function(e,n,t){var r=t(7);e.exports=function(e,n){var t,o;if("string"===n&&"function"==typeof(t=e.toString)&&!r(o=t.call(e)))return o;if("function"==typeof(t=e.valueOf)&&!r(o=t.call(e)))return o;if("string"!==n&&"function"==typeof(t=e.toString)&&!r(o=t.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,n,t){var r=t(4),o=t(108),i=r.WeakMap;e.exports="function"==typeof i&&/native code/.test(o(i))},function(e,n,t){var r=t(7);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,n,t){"use strict";var r,o,i,a,s=t(2),c=t(36),u=t(4),l=t(25),p=t(156),d=t(17),f=t(237),h=t(83),m=t(71),v=t(157),g=t(7),y=t(30),b=t(232),w=t(108),E=t(252),_=t(160),x=t(113),A=t(161).set,k=t(253),C=t(163),O=t(256),S=t(164),B=t(257),j=t(35),T=t(82),D=t(5),P=t(258),I=t(84),N=t(43),F=D("species"),$="Promise",R=j.get,M=j.set,z=j.getterFor($),V=p&&p.prototype,L=p,U=V,q=u.TypeError,W=u.document,H=u.process,G=S.f,K=G,J=!!(W&&W.createEvent&&u.dispatchEvent),Q="function"==typeof PromiseRejectionEvent,Y=!1,Z=T($,(function(){var e=w(L),n=e!==String(L);if(!n&&66===N)return!0;if(c&&!U.finally)return!0;if(N>=51&&/native code/.test(e))return!1;var t=new L((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(t.constructor={})[F]=r,!(Y=t.then((function(){}))instanceof r)||!n&&P&&!Q})),X=Z||!_((function(e){L.all(e).catch((function(){}))})),ee=function(e){var n;return!(!g(e)||"function"!=typeof(n=e.then))&&n},ne=function(e,n){if(!e.notified){e.notified=!0;var t=e.reactions;k((function(){for(var r=e.value,o=1==e.state,i=0;t.length>i;){var a,s,c,u=t[i++],l=o?u.ok:u.fail,p=u.resolve,d=u.reject,f=u.domain;try{l?(o||(2===e.rejection&&ie(e),e.rejection=1),!0===l?a=r:(f&&f.enter(),a=l(r),f&&(f.exit(),c=!0)),a===u.promise?d(q("Promise-chain cycle")):(s=ee(a))?s.call(a,p,d):p(a)):d(r)}catch(e){f&&!c&&f.exit(),d(e)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&re(e)}))}},te=function(e,n,t){var r,o;J?((r=W.createEvent("Event")).promise=n,r.reason=t,r.initEvent(e,!1,!0),u.dispatchEvent(r)):r={promise:n,reason:t},!Q&&(o=u["on"+e])?o(r):"unhandledrejection"===e&&O("Unhandled promise rejection",t)},re=function(e){A.call(u,(function(){var n,t=e.facade,r=e.value;if(oe(e)&&(n=B((function(){I?H.emit("unhandledRejection",r,t):te("unhandledrejection",t,r)})),e.rejection=I||oe(e)?2:1,n.error))throw n.value}))},oe=function(e){return 1!==e.rejection&&!e.parent},ie=function(e){A.call(u,(function(){var n=e.facade;I?H.emit("rejectionHandled",n):te("rejectionhandled",n,e.value)}))},ae=function(e,n,t){return function(r){e(n,r,t)}},se=function(e,n,t){e.done||(e.done=!0,t&&(e=t),e.value=n,e.state=2,ne(e,!0))},ce=function(e,n,t){if(!e.done){e.done=!0,t&&(e=t);try{if(e.facade===n)throw q("Promise can't be resolved itself");var r=ee(n);r?k((function(){var t={done:!1};try{r.call(n,ae(ce,t,e),ae(se,t,e))}catch(n){se(t,n,e)}})):(e.value=n,e.state=1,ne(e,!1))}catch(n){se({done:!1},n,e)}}};if(Z&&(U=(L=function(e){b(this,L,$),y(e),r.call(this);var n=R(this);try{e(ae(ce,n),ae(se,n))}catch(e){se(n,e)}}).prototype,(r=function(e){M(this,{type:$,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=f(U,{then:function(e,n){var t=z(this),r=G(x(this,L));return r.ok="function"!=typeof e||e,r.fail="function"==typeof n&&n,r.domain=I?H.domain:void 0,t.parent=!0,t.reactions.push(r),0!=t.state&&ne(t,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r,n=R(e);this.promise=e,this.resolve=ae(ce,n),this.reject=ae(se,n)},S.f=G=function(e){return e===L||e===i?new o(e):K(e)},!c&&"function"==typeof p&&V!==Object.prototype)){a=V.then,Y||(d(V,"then",(function(e,n){var t=this;return new L((function(e,n){a.call(t,e,n)})).then(e,n)}),{unsafe:!0}),d(V,"catch",U.catch,{unsafe:!0}));try{delete V.constructor}catch(e){}h&&h(V,U)}s({global:!0,wrap:!0,forced:Z},{Promise:L}),m(L,$,!1,!0),v($),i=l($),s({target:$,stat:!0,forced:Z},{reject:function(e){var n=G(this);return n.reject.call(void 0,e),n.promise}}),s({target:$,stat:!0,forced:c||Z},{resolve:function(e){return C(c&&this===i?L:this,e)}}),s({target:$,stat:!0,forced:X},{all:function(e){var n=this,t=G(n),r=t.resolve,o=t.reject,i=B((function(){var t=y(n.resolve),i=[],a=0,s=1;E(e,(function(e){var c=a++,u=!1;i.push(void 0),s++,t.call(n,e).then((function(e){u||(u=!0,i[c]=e,--s||r(i))}),o)})),--s||r(i)}));return i.error&&o(i.value),t.promise},race:function(e){var n=this,t=G(n),r=t.reject,o=B((function(){var o=y(n.resolve);E(e,(function(e){o.call(n,e).then(t.resolve,r)}))}));return o.error&&r(o.value),t.promise}})},function(e,n,t){var r=t(8),o=t(158),i=t(14),a=t(72),s=t(135),c=t(159),u=function(e,n){this.stopped=e,this.result=n};e.exports=function(e,n,t){var l,p,d,f,h,m,v,g=t&&t.that,y=!(!t||!t.AS_ENTRIES),b=!(!t||!t.IS_ITERATOR),w=!(!t||!t.INTERRUPTED),E=a(n,g,1+y+w),_=function(e){return l&&c(l),new u(!0,e)},x=function(e){return y?(r(e),w?E(e[0],e[1],_):E(e[0],e[1])):w?E(e,_):E(e)};if(b)l=e;else{if("function"!=typeof(p=s(e)))throw TypeError("Target is not iterable");if(o(p)){for(d=0,f=i(e.length);f>d;d++)if((h=x(e[d]))&&h instanceof u)return h;return new u(!1)}l=p.call(e)}for(m=l.next;!(v=m.call(l)).done;){try{h=x(v.value)}catch(e){throw c(l),e}if("object"==typeof h&&h&&h instanceof u)return h}return new u(!1)}},function(e,n,t){var r,o,i,a,s,c,u,l,p=t(4),d=t(29).f,f=t(161).set,h=t(162),m=t(254),v=t(255),g=t(84),y=p.MutationObserver||p.WebKitMutationObserver,b=p.document,w=p.process,E=p.Promise,_=d(p,"queueMicrotask"),x=_&&_.value;x||(r=function(){var e,n;for(g&&(e=w.domain)&&e.exit();o;){n=o.fn,o=o.next;try{n()}catch(e){throw o?a():i=void 0,e}}i=void 0,e&&e.enter()},h||g||v||!y||!b?!m&&E&&E.resolve?((u=E.resolve(void 0)).constructor=E,l=u.then,a=function(){l.call(u,r)}):a=g?function(){w.nextTick(r)}:function(){f.call(p,r)}:(s=!0,c=b.createTextNode(""),new y(r).observe(c,{characterData:!0}),a=function(){c.data=s=!s})),e.exports=x||function(e){var n={fn:e,next:void 0};i&&(i.next=n),o||(o=n,a()),i=n}},function(e,n,t){var r=t(28),o=t(4);e.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==o.Pebble},function(e,n,t){var r=t(28);e.exports=/web0s(?!.*chrome)/i.test(r)},function(e,n,t){var r=t(4);e.exports=function(e,n){var t=r.console;t&&t.error&&(1===arguments.length?t.error(e):t.error(e,n))}},function(e,n){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,n){e.exports="object"==typeof window},function(e,n,t){var r=t(2),o=t(238);r({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},function(e,n,t){"use strict";var r=t(2),o=t(36),i=t(156),a=t(3),s=t(25),c=t(113),u=t(163),l=t(17);if(r({target:"Promise",proto:!0,real:!0,forced:!!i&&a((function(){i.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var n=c(this,s("Promise")),t="function"==typeof e;return this.then(t?function(t){return u(n,e()).then((function(){return t}))}:e,t?function(t){return u(n,e()).then((function(){throw t}))}:e)}}),!o&&"function"==typeof i){var p=s("Promise").prototype.finally;i.prototype.finally!==p&&l(i.prototype,"finally",p,{unsafe:!0})}},function(e,n,t){"use strict";var r=t(112),o=t(141);e.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},function(e,n,t){var r=t(7),o=t(56),i=t(5)("species");e.exports=function(e){var n;return o(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[i])&&(n=void 0):n=void 0),void 0===n?Array:n}},function(e,n,t){var r=t(30),o=t(15),i=t(58),a=t(14),s=function(e){return function(n,t,s,c){r(t);var u=o(n),l=i(u),p=a(u.length),d=e?p-1:0,f=e?-1:1;if(s<2)for(;;){if(d in l){c=l[d],d+=f;break}if(d+=f,e?d<0:p<=d)throw TypeError("Reduce of empty array with no initial value")}for(;e?d>=0:p>d;d+=f)d in l&&(c=t(c,l[d],d,u));return c}};e.exports={left:s(!1),right:s(!0)}},function(e,n,t){var r=t(2),o=t(171),i=t(3),a=t(7),s=t(265).onFreeze,c=Object.freeze;r({target:"Object",stat:!0,forced:i((function(){c(1)})),sham:!o},{freeze:function(e){return c&&a(e)?c(s(e)):e}})},function(e,n,t){var r=t(2),o=t(60),i=t(7),a=t(11),s=t(12).f,c=t(44),u=t(172),l=t(78),p=t(171),d=!1,f=l("meta"),h=0,m=Object.isExtensible||function(){return!0},v=function(e){s(e,f,{value:{objectID:"O"+h++,weakData:{}}})},g=e.exports={enable:function(){g.enable=function(){},d=!0;var e=c.f,n=[].splice,t={};t[f]=1,e(t).length&&(c.f=function(t){for(var r=e(t),o=0,i=r.length;o<i;o++)if(r[o]===f){n.call(r,o,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:u.f}))},fastKey:function(e,n){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,f)){if(!m(e))return"F";if(!n)return"E";v(e)}return e[f].objectID},getWeakData:function(e,n){if(!a(e,f)){if(!m(e))return!0;if(!n)return!1;v(e)}return e[f].weakData},onFreeze:function(e){return p&&d&&m(e)&&!a(e,f)&&v(e),e}};o[f]=!0},function(e,n,t){var r=t(4);e.exports=r},function(e,n,t){var r=t(8),o=t(159);e.exports=function(e,n,t,i){try{return i?n(r(t)[0],t[1]):n(t)}catch(n){throw o(e),n}}},function(e,n,t){var r=t(15),o=Math.floor,i="".replace,a=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,n,t,c,u,l){var p=t+e.length,d=c.length,f=s;return void 0!==u&&(u=r(u),f=a),i.call(l,f,(function(r,i){var a;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,t);case"'":return n.slice(p);case"<":a=u[i.slice(1,-1)];break;default:var s=+i;if(0===s)return r;if(s>d){var l=o(s/10);return 0===l?r:l<=d?void 0===c[l-1]?i.charAt(1):c[l-1]+i.charAt(1):r}a=c[s-1]}return void 0===a?"":a}))}},function(e,n,t){var r=t(178),o=t(270);e.exports=function e(n,t,i,a,s){var c=-1,u=n.length;for(i||(i=o),s||(s=[]);++c<u;){var l=n[c];t>0&&i(l)?t>1?e(l,t-1,i,a,s):r(s,l):a||(s[s.length]=l)}return s}},function(e,n,t){var r=t(63),o=t(120),i=t(27),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||o(e)||!!(a&&e&&e[a])}},function(e,n,t){var r=t(64),o=t(48);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},function(e,n,t){var r=t(63),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var n=i.call(e,s),t=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(n?e[s]=t:delete e[s]),o}},function(e,n){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},function(e,n,t){var r=t(275),o=t(331),i=t(128),a=t(27),s=t(342);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?a(e)?o(e[0],e[1]):r(e):s(e)}},function(e,n,t){var r=t(276),o=t(330),i=t(195);e.exports=function(e){var n=o(e);return 1==n.length&&n[0][2]?i(n[0][0],n[0][1]):function(t){return t===e||r(t,e,n)}}},function(e,n,t){var r=t(180),o=t(184);e.exports=function(e,n,t,i){var a=t.length,s=a,c=!i;if(null==e)return!s;for(e=Object(e);a--;){var u=t[a];if(c&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<s;){var l=(u=t[a])[0],p=e[l],d=u[1];if(c&&u[2]){if(void 0===p&&!(l in e))return!1}else{var f=new r;if(i)var h=i(p,d,l,e,n,f);if(!(void 0===h?o(d,p,3,i,f):h))return!1}}return!0}},function(e,n){e.exports=function(){this.__data__=[],this.size=0}},function(e,n,t){var r=t(88),o=Array.prototype.splice;e.exports=function(e){var n=this.__data__,t=r(n,e);return!(t<0)&&(t==n.length-1?n.pop():o.call(n,t,1),--this.size,!0)}},function(e,n,t){var r=t(88);e.exports=function(e){var n=this.__data__,t=r(n,e);return t<0?void 0:n[t][1]}},function(e,n,t){var r=t(88);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,n,t){var r=t(88);e.exports=function(e,n){var t=this.__data__,o=r(t,e);return o<0?(++this.size,t.push([e,n])):t[o][1]=n,this}},function(e,n,t){var r=t(87);e.exports=function(){this.__data__=new r,this.size=0}},function(e,n){e.exports=function(e){var n=this.__data__,t=n.delete(e);return this.size=n.size,t}},function(e,n){e.exports=function(e){return this.__data__.get(e)}},function(e,n){e.exports=function(e){return this.__data__.has(e)}},function(e,n,t){var r=t(87),o=t(121),i=t(123);e.exports=function(e,n){var t=this.__data__;if(t instanceof r){var a=t.__data__;if(!o||a.length<199)return a.push([e,n]),this.size=++t.size,this;t=this.__data__=new i(a)}return t.set(e,n),this.size=t.size,this}},function(e,n,t){var r=t(182),o=t(288),i=t(122),a=t(183),s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,p=u.hasOwnProperty,d=RegExp("^"+l.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?d:s).test(a(e))}},function(e,n,t){var r,o=t(289),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},function(e,n,t){var r=t(26)["__core-js_shared__"];e.exports=r},function(e,n){e.exports=function(e,n){return null==e?void 0:e[n]}},function(e,n,t){var r=t(292),o=t(87),i=t(121);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(e,n,t){var r=t(293),o=t(294),i=t(295),a=t(296),s=t(297);function c(e){var n=-1,t=null==e?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,n,t){var r=t(89);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,n){e.exports=function(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}},function(e,n,t){var r=t(89),o=Object.prototype.hasOwnProperty;e.exports=function(e){var n=this.__data__;if(r){var t=n[e];return"__lodash_hash_undefined__"===t?void 0:t}return o.call(n,e)?n[e]:void 0}},function(e,n,t){var r=t(89),o=Object.prototype.hasOwnProperty;e.exports=function(e){var n=this.__data__;return r?void 0!==n[e]:o.call(n,e)}},function(e,n,t){var r=t(89);e.exports=function(e,n){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=r&&void 0===n?"__lodash_hash_undefined__":n,this}},function(e,n,t){var r=t(90);e.exports=function(e){var n=r(this,e).delete(e);return this.size-=n?1:0,n}},function(e,n){e.exports=function(e){var n=typeof e;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==e:null===e}},function(e,n,t){var r=t(90);e.exports=function(e){return r(this,e).get(e)}},function(e,n,t){var r=t(90);e.exports=function(e){return r(this,e).has(e)}},function(e,n,t){var r=t(90);e.exports=function(e,n){var t=r(this,e),o=t.size;return t.set(e,n),this.size+=t.size==o?0:1,this}},function(e,n,t){var r=t(180),o=t(185),i=t(307),a=t(310),s=t(326),c=t(27),u=t(189),l=t(191),p="[object Object]",d=Object.prototype.hasOwnProperty;e.exports=function(e,n,t,f,h,m){var v=c(e),g=c(n),y=v?"[object Array]":s(e),b=g?"[object Array]":s(n),w=(y="[object Arguments]"==y?p:y)==p,E=(b="[object Arguments]"==b?p:b)==p,_=y==b;if(_&&u(e)){if(!u(n))return!1;v=!0,w=!1}if(_&&!w)return m||(m=new r),v||l(e)?o(e,n,t,f,h,m):i(e,n,y,t,f,h,m);if(!(1&t)){var x=w&&d.call(e,"__wrapped__"),A=E&&d.call(n,"__wrapped__");if(x||A){var k=x?e.value():e,C=A?n.value():n;return m||(m=new r),h(k,C,t,f,m)}}return!!_&&(m||(m=new r),a(e,n,t,f,h,m))}},function(e,n){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,n){e.exports=function(e){return this.__data__.has(e)}},function(e,n){e.exports=function(e,n){for(var t=-1,r=null==e?0:e.length;++t<r;)if(n(e[t],t,e))return!0;return!1}},function(e,n,t){var r=t(63),o=t(308),i=t(181),a=t(185),s=t(309),c=t(124),u=r?r.prototype:void 0,l=u?u.valueOf:void 0;e.exports=function(e,n,t,r,u,p,d){switch(t){case"[object DataView]":if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=n.byteLength||!p(new o(e),new o(n)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+n);case"[object Error]":return e.name==n.name&&e.message==n.message;case"[object RegExp]":case"[object String]":return e==n+"";case"[object Map]":var f=s;case"[object Set]":var h=1&r;if(f||(f=c),e.size!=n.size&&!h)return!1;var m=d.get(e);if(m)return m==n;r|=2,d.set(e,n);var v=a(f(e),f(n),r,u,p,d);return d.delete(e),v;case"[object Symbol]":if(l)return l.call(e)==l.call(n)}return!1}},function(e,n,t){var r=t(26).Uint8Array;e.exports=r},function(e,n){e.exports=function(e){var n=-1,t=Array(e.size);return e.forEach((function(e,r){t[++n]=[r,e]})),t}},function(e,n,t){var r=t(311),o=Object.prototype.hasOwnProperty;e.exports=function(e,n,t,i,a,s){var c=1&t,u=r(e),l=u.length;if(l!=r(n).length&&!c)return!1;for(var p=l;p--;){var d=u[p];if(!(c?d in n:o.call(n,d)))return!1}var f=s.get(e),h=s.get(n);if(f&&h)return f==n&&h==e;var m=!0;s.set(e,n),s.set(n,e);for(var v=c;++p<l;){var g=e[d=u[p]],y=n[d];if(i)var b=c?i(y,g,d,n,e,s):i(g,y,d,e,n,s);if(!(void 0===b?g===y||a(g,y,t,i,s):b)){m=!1;break}v||(v="constructor"==d)}if(m&&!v){var w=e.constructor,E=n.constructor;w==E||!("constructor"in e)||!("constructor"in n)||"function"==typeof w&&w instanceof w&&"function"==typeof E&&E instanceof E||(m=!1)}return s.delete(e),s.delete(n),m}},function(e,n,t){var r=t(312),o=t(313),i=t(188);e.exports=function(e){return r(e,i,o)}},function(e,n,t){var r=t(178),o=t(27);e.exports=function(e,n,t){var i=n(e);return o(e)?i:r(i,t(e))}},function(e,n,t){var r=t(314),o=t(315),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(n){return i.call(e,n)})))}:o;e.exports=s},function(e,n){e.exports=function(e,n){for(var t=-1,r=null==e?0:e.length,o=0,i=[];++t<r;){var a=e[t];n(a,t,e)&&(i[o++]=a)}return i}},function(e,n){e.exports=function(){return[]}},function(e,n,t){var r=t(317),o=t(120),i=t(27),a=t(189),s=t(190),c=t(191),u=Object.prototype.hasOwnProperty;e.exports=function(e,n){var t=i(e),l=!t&&o(e),p=!t&&!l&&a(e),d=!t&&!l&&!p&&c(e),f=t||l||p||d,h=f?r(e.length,String):[],m=h.length;for(var v in e)!n&&!u.call(e,v)||f&&("length"==v||p&&("offset"==v||"parent"==v)||d&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,m))||h.push(v);return h}},function(e,n){e.exports=function(e,n){for(var t=-1,r=Array(e);++t<e;)r[t]=n(t);return r}},function(e,n){e.exports=function(){return!1}},function(e,n,t){var r=t(64),o=t(125),i=t(48),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},function(e,n){e.exports=function(e){return function(n){return e(n)}}},function(e,n,t){(function(e){var r=t(179),o=n&&!n.nodeType&&n,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(this,t(144)(e))},function(e,n,t){var r=t(323),o=t(324),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var n=[];for(var t in Object(e))i.call(e,t)&&"constructor"!=t&&n.push(t);return n}},function(e,n){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},function(e,n,t){var r=t(325)(Object.keys,Object);e.exports=r},function(e,n){e.exports=function(e,n){return function(t){return e(n(t))}}},function(e,n,t){var r=t(327),o=t(121),i=t(328),a=t(193),s=t(329),c=t(64),u=t(183),l=u(r),p=u(o),d=u(i),f=u(a),h=u(s),m=c;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=m(new o)||i&&"[object Promise]"!=m(i.resolve())||a&&"[object Set]"!=m(new a)||s&&"[object WeakMap]"!=m(new s))&&(m=function(e){var n=c(e),t="[object Object]"==n?e.constructor:void 0,r=t?u(t):"";if(r)switch(r){case l:return"[object DataView]";case p:return"[object Map]";case d:return"[object Promise]";case f:return"[object Set]";case h:return"[object WeakMap]"}return n}),e.exports=m},function(e,n,t){var r=t(39)(t(26),"DataView");e.exports=r},function(e,n,t){var r=t(39)(t(26),"Promise");e.exports=r},function(e,n,t){var r=t(39)(t(26),"WeakMap");e.exports=r},function(e,n,t){var r=t(194),o=t(188);e.exports=function(e){for(var n=o(e),t=n.length;t--;){var i=n[t],a=e[i];n[t]=[i,a,r(a)]}return n}},function(e,n,t){var r=t(184),o=t(332),i=t(339),a=t(126),s=t(194),c=t(195),u=t(91);e.exports=function(e,n){return a(e)&&s(n)?c(u(e),n):function(t){var a=o(t,e);return void 0===a&&a===n?i(t,e):r(n,a,3)}}},function(e,n,t){var r=t(196);e.exports=function(e,n,t){var o=null==e?void 0:r(e,n);return void 0===o?t:o}},function(e,n,t){var r=t(334),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(e){var n=[];return 46===e.charCodeAt(0)&&n.push(""),e.replace(o,(function(e,t,r,o){n.push(r?o.replace(i,"$1"):t||e)})),n}));e.exports=a},function(e,n,t){var r=t(335);e.exports=function(e){var n=r(e,(function(e){return 500===t.size&&t.clear(),e})),t=n.cache;return n}},function(e,n,t){var r=t(123);function o(e,n){if("function"!=typeof e||null!=n&&"function"!=typeof n)throw new TypeError("Expected a function");var t=function(){var r=arguments,o=n?n.apply(this,r):r[0],i=t.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return t.cache=i.set(o,a)||i,a};return t.cache=new(o.Cache||r),t}o.Cache=r,e.exports=o},function(e,n,t){var r=t(337);e.exports=function(e){return null==e?"":r(e)}},function(e,n,t){var r=t(63),o=t(338),i=t(27),a=t(127),s=r?r.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(n){if("string"==typeof n)return n;if(i(n))return o(n,e)+"";if(a(n))return c?c.call(n):"";var t=n+"";return"0"==t&&1/n==-1/0?"-0":t}},function(e,n){e.exports=function(e,n){for(var t=-1,r=null==e?0:e.length,o=Array(r);++t<r;)o[t]=n(e[t],t,e);return o}},function(e,n,t){var r=t(340),o=t(341);e.exports=function(e,n){return null!=e&&o(e,n,r)}},function(e,n){e.exports=function(e,n){return null!=e&&n in Object(e)}},function(e,n,t){var r=t(197),o=t(120),i=t(27),a=t(190),s=t(125),c=t(91);e.exports=function(e,n,t){for(var u=-1,l=(n=r(n,e)).length,p=!1;++u<l;){var d=c(n[u]);if(!(p=null!=e&&t(e,d)))break;e=e[d]}return p||++u!=l?p:!!(l=null==e?0:e.length)&&s(l)&&a(d,l)&&(i(e)||o(e))}},function(e,n,t){var r=t(343),o=t(344),i=t(126),a=t(91);e.exports=function(e){return i(e)?r(a(e)):o(e)}},function(e,n){e.exports=function(e){return function(n){return null==n?void 0:n[e]}}},function(e,n,t){var r=t(196);e.exports=function(e){return function(n){return r(n,e)}}},function(e,n,t){var r=t(128),o=t(346),i=t(348);e.exports=function(e,n){return i(o(e,n,r),e+"")}},function(e,n,t){var r=t(347),o=Math.max;e.exports=function(e,n,t){return n=o(void 0===n?e.length-1:n,0),function(){for(var i=arguments,a=-1,s=o(i.length-n,0),c=Array(s);++a<s;)c[a]=i[n+a];a=-1;for(var u=Array(n+1);++a<n;)u[a]=i[a];return u[n]=t(c),r(e,this,u)}}},function(e,n){e.exports=function(e,n,t){switch(t.length){case 0:return e.call(n);case 1:return e.call(n,t[0]);case 2:return e.call(n,t[0],t[1]);case 3:return e.call(n,t[0],t[1],t[2])}return e.apply(n,t)}},function(e,n,t){var r=t(349),o=t(352)(r);e.exports=o},function(e,n,t){var r=t(350),o=t(351),i=t(128),a=o?function(e,n){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(n),writable:!0})}:i;e.exports=a},function(e,n){e.exports=function(e){return function(){return e}}},function(e,n,t){var r=t(39),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,n){var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var o=t(),i=16-(o-r);if(r=o,i>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},function(e,n,t){var r=t(186),o=t(354),i=t(359),a=t(187),s=t(360),c=t(124);e.exports=function(e,n,t){var u=-1,l=o,p=e.length,d=!0,f=[],h=f;if(t)d=!1,l=i;else if(p>=200){var m=n?null:s(e);if(m)return c(m);d=!1,l=a,h=new r}else h=n?[]:f;e:for(;++u<p;){var v=e[u],g=n?n(v):v;if(v=t||0!==v?v:0,d&&g==g){for(var y=h.length;y--;)if(h[y]===g)continue e;n&&h.push(g),f.push(v)}else l(h,g,t)||(h!==f&&h.push(g),f.push(v))}return f}},function(e,n,t){var r=t(355);e.exports=function(e,n){return!!(null==e?0:e.length)&&r(e,n,0)>-1}},function(e,n,t){var r=t(356),o=t(357),i=t(358);e.exports=function(e,n,t){return n==n?i(e,n,t):r(e,o,t)}},function(e,n){e.exports=function(e,n,t,r){for(var o=e.length,i=t+(r?1:-1);r?i--:++i<o;)if(n(e[i],i,e))return i;return-1}},function(e,n){e.exports=function(e){return e!=e}},function(e,n){e.exports=function(e,n,t){for(var r=t-1,o=e.length;++r<o;)if(e[r]===n)return r;return-1}},function(e,n){e.exports=function(e,n,t){for(var r=-1,o=null==e?0:e.length;++r<o;)if(t(n,e[r]))return!0;return!1}},function(e,n,t){var r=t(193),o=t(361),i=t(124),a=r&&1/i(new r([,-0]))[1]==1/0?function(e){return new r(e)}:o;e.exports=a},function(e,n){e.exports=function(){}},function(e,n,t){var r=t(192),o=t(48);e.exports=function(e){return o(e)&&r(e)}},function(e,n){e.exports=function(e){var n=null==e?0:e.length;return n?e[n-1]:void 0}},function(e,n,t){},function(e,n,t){"use strict";t(198)},function(e,n,t){"use strict";t(199)},function(e,n,t){"use strict";var r=t(3),o=t(368).start,i=Math.abs,a=Date.prototype,s=a.getTime,c=a.toISOString;e.exports=r((function(){return"0385-07-25T07:06:39.999Z"!=c.call(new Date(-50000000000001))}))||!r((function(){c.call(new Date(NaN))}))?function(){if(!isFinite(s.call(this)))throw RangeError("Invalid time value");var e=this.getUTCFullYear(),n=this.getUTCMilliseconds(),t=e<0?"-":e>9999?"+":"";return t+o(i(e),t?6:4,0)+"-"+o(this.getUTCMonth()+1,2,0)+"-"+o(this.getUTCDate(),2,0)+"T"+o(this.getUTCHours(),2,0)+":"+o(this.getUTCMinutes(),2,0)+":"+o(this.getUTCSeconds(),2,0)+"."+o(n,3,0)+"Z"}:c},function(e,n,t){var r=t(14),o=t(10),i=t(369),a=t(19),s=Math.ceil,c=function(e){return function(n,t,c){var u,l,p=o(a(n)),d=p.length,f=void 0===c?" ":o(c),h=r(t);return h<=d||""==f?p:(u=h-d,(l=i.call(f,s(u/f.length))).length>u&&(l=l.slice(0,u)),e?p+l:l+p)}};e.exports={start:c(!1),end:c(!0)}},function(e,n,t){"use strict";var r=t(53),o=t(10),i=t(19);e.exports=function(e){var n=o(i(this)),t="",a=r(e);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(n+=n))1&a&&(t+=n);return t}},function(e,n){var t=Math.floor,r=function(e,n){var a=e.length,s=t(a/2);return a<8?o(e,n):i(r(e.slice(0,s),n),r(e.slice(s),n),n)},o=function(e,n){for(var t,r,o=e.length,i=1;i<o;){for(r=i,t=e[i];r&&n(e[r-1],t)>0;)e[r]=e[--r];r!==i++&&(e[r]=t)}return e},i=function(e,n,t){for(var r=e.length,o=n.length,i=0,a=0,s=[];i<r||a<o;)i<r&&a<o?s.push(t(e[i],n[a])<=0?e[i++]:n[a++]):s.push(i<r?e[i++]:n[a++]);return s};e.exports=r},function(e,n,t){var r=t(28).match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},function(e,n,t){var r=t(28);e.exports=/MSIE|Trident/.test(r)},function(e,n,t){var r=t(28).match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},function(e,n,t){},function(e,n,t){"use strict";t(202)},function(e,n,t){"use strict";t(203)},function(e,n,t){"use strict";t(204)},function(e,n,t){var r=t(4),o=t(10),i=t(145).trim,a=t(146),s=r.parseInt,c=/^[+-]?0[Xx]/,u=8!==s(a+"08")||22!==s(a+"0x16");e.exports=u?function(e,n){var t=i(o(e));return s(t,n>>>0||(c.test(t)?16:10))}:s},function(e,n,t){"use strict";t(205)},function(e,n,t){var r=t(2),o=t(3),i=t(21),a=t(29).f,s=t(9),c=o((function(){a(1)}));r({target:"Object",stat:!0,forced:!s||c,sham:!s},{getOwnPropertyDescriptor:function(e,n){return a(i(e),n)}})},function(e,n,t){var r=t(2),o=t(9);r({target:"Object",stat:!0,forced:!o,sham:!o},{defineProperties:t(139)})},function(e,n,t){
/*!
 * Valine v1.3.6
 * (c) 2017-2019 xCss
 * Released under the GPL-2.0 License.
 * Last Update: 2019-04-01 14:26:14
 */
e.exports=function(e){function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var t={};return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=17)}([function(e,n,t){var r,o,i;
/*!
	autosize 4.0.2
	license: MIT
	http://www.jacklmoore.com/autosize
*/o=[e,n],r=function(e,n){"use strict";function t(e){function n(n){var t=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=t,e.style.overflowY=n}function t(){if(0!==e.scrollHeight){var n=function(e){for(var n=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&n.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return n}(e),t=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+o+"px",s=e.clientWidth,n.forEach((function(e){e.node.scrollTop=e.scrollTop})),t&&(document.documentElement.scrollTop=t)}}function r(){t();var r=Math.round(parseFloat(e.style.height)),o=window.getComputedStyle(e,null),i="content-box"===o.boxSizing?Math.round(parseFloat(o.height)):e.offsetHeight;if(i<r?"hidden"===o.overflowY&&(n("scroll"),t(),i="content-box"===o.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==o.overflowY&&(n("hidden"),t(),i="content-box"===o.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),c!==i){c=i;var s=a("autosize:resized");try{e.dispatchEvent(s)}catch(e){}}}if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!i.has(e)){var o=null,s=null,c=null,u=function(){e.clientWidth!==s&&r()},l=function(n){window.removeEventListener("resize",u,!1),e.removeEventListener("input",r,!1),e.removeEventListener("keyup",r,!1),e.removeEventListener("autosize:destroy",l,!1),e.removeEventListener("autosize:update",r,!1),Object.keys(n).forEach((function(t){e.style[t]=n[t]})),i.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",l,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",r,!1),window.addEventListener("resize",u,!1),e.addEventListener("input",r,!1),e.addEventListener("autosize:update",r,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",i.set(e,{destroy:l,update:r}),function(){var n=window.getComputedStyle(e,null);"vertical"===n.resize?e.style.resize="none":"both"===n.resize&&(e.style.resize="horizontal"),o="content-box"===n.boxSizing?-(parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)):parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth),isNaN(o)&&(o=0),r()}()}}function r(e){var n=i.get(e);n&&n.destroy()}function o(e){var n=i.get(e);n&&n.update()}var i="function"==typeof Map?new Map:function(){var e=[],n=[];return{has:function(n){return e.indexOf(n)>-1},get:function(t){return n[e.indexOf(t)]},set:function(t,r){-1===e.indexOf(t)&&(e.push(t),n.push(r))},delete:function(t){var r=e.indexOf(t);r>-1&&(e.splice(r,1),n.splice(r,1))}}}(),a=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){a=function(e){var n=document.createEvent("Event");return n.initEvent(e,!0,!1),n}}var s=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((s=function(e){return e}).destroy=function(e){return e},s.update=function(e){return e}):((s=function(e,n){return e&&Array.prototype.forEach.call(e.length?e:[e],(function(e){return t(e)})),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],r),e},s.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],o),e}),n.default=s,e.exports=n.default},void 0!==(i="function"==typeof r?r.apply(n,o):r)&&(e.exports=i)},function(e,n,t){"use strict";function r(e){return!!e&&this.init(e),this}function o(e){return new r(e)}var i=t(9).version,a=t(6),s=t(8),c=t(0),u=t(5),l=t(3),p=t(4),d=t(2),f=t(7),h=/^https?\:\/\//,m={comment:"",nick:"Anonymous",mail:"",link:"",ua:navigator.userAgent,url:""},v={"zh-cn":{head:{nick:"昵称",mail:"邮箱",link:"网址(http://)"},tips:{comments:"评论",sofa:"快来做第一个评论的人吧~",busy:"还在提交中，请稍候...",again:"这么简单也能错，也是没谁了."},ctrl:{reply:"回复",ok:"好的",sure:"确认",cancel:"取消",confirm:"确认",continue:"继续",more:"查看更多...",try:"再试试?",preview:"预览",emoji:"表情"},error:{99:"初始化失败，请检查init中的`el`元素.",100:"初始化失败，请检查你的AppId和AppKey.",401:"未经授权的操作，请检查你的AppId和AppKey.",403:"访问被api域名白名单拒绝，请检查你的安全域名设置."},timeago:{seconds:"秒前",minutes:"分钟前",hours:"小时前",days:"天前",now:"刚刚"}},en:{head:{nick:"NickName",mail:"E-Mail",link:"Website(http://)"},tips:{comments:"Comments",sofa:"No comments yet.",busy:"Submit is busy, please wait...",again:"Sorry, this is a wrong calculation."},ctrl:{reply:"Reply",ok:"Ok",sure:"Sure",cancel:"Cancel",confirm:"Confirm",continue:"Continue",more:"Load More...",try:"Once More?",preview:"Preview",emoji:"Emoji"},error:{99:"Initialization failed, Please check the `el` element in the init method.",100:"Initialization failed, Please check your appId and appKey.",401:"Unauthorized operation, Please check your appId and appKey.",403:"Access denied by api domain white list, Please check your security domain."},timeago:{seconds:"seconds ago",minutes:"minutes ago",hours:"hours ago",days:"days ago",now:"just now"}}},g={cdn:"https://gravatar.loli.net/avatar/",ds:["mp","identicon","monsterid","wavatar","robohash","retro",""],params:"",hide:!1},y=["nick","mail","link"],b=Storage&&localStorage&&localStorage instanceof Storage&&localStorage,w=location.pathname.replace(/index\.html?$/,"");r.prototype.init=function(e){if("undefined"!=typeof document){var n=this;try{var t=e.lang,r=e.langMode,o=e.avatar,a=e.avatarForce,c=e.avatar_cdn,u=e.notify,l=e.verify,d=e.visitor,b=e.pageSize,E=e.recordIP,x=g.ds,A=a?"&q="+Math.random().toString(32).substring(2):"";if(t&&r&&n.installLocale(t,r),n.locale=n.locale||v[t||"zh-cn"],n.notify=u||!1,n.verify=l||!1,E){var k=p.create("script","src","//api.ip.sb/jsonip?callback=getIP"),C=document.getElementsByTagName("script")[0];C.parentNode.insertBefore(k,C),window.getIP=function(e){m.ip=e.ip}}g.params="?d="+(x.indexOf(o)>-1?o:"mp")+"&v="+i+A,g.hide="hide"===o,g.cdn=h.test(c)?c:g.cdn,w=e.path||w;var O=Number(b||10);if(e.pageSize=isNaN(O)||O<1?10:O,s.setOptions({renderer:new s.Renderer,highlight:!1===e.highlight?null:f,gfm:!0,tables:!0,breaks:!0,pedantic:!1,sanitize:!1,smartLists:!0,smartypants:!0}),!AV)return void setTimeout((function(){n.init(e)}),20);var S=e.app_id||e.appId,B=e.app_key||e.appKey;if(!S||!B)throw 99;AV.applicationId&&delete AV._config.applicationId||(AV.applicationId=null),AV.applicationKey&&delete AV._config.applicationKey||(AV.applicationKey=null),AV.init({appId:S,appKey:B});for(var j=p.findAll(document,".valine-comment-count"),T=0,D=j.length;T<D;T++)!function(e,t){var r=j[e];if(r){var o=p.attr(r,"data-xid");o&&n.Q(o).count().then((function(e){r.innerText=e})).catch((function(e){r.innerText=0}))}}(T);d&&_.add(AV.Object.extend("Counter"));var P=e.el||null,I=p.findAll(document,P);if(!(P=P instanceof HTMLElement?P:I[I.length-1]||null))return;n.el=P,n.el.classList.add("v"),g.hide&&n.el.classList.add("hide-avatar"),e.meta=(e.guest_info||e.meta||y).filter((function(e){return y.indexOf(e)>-1}));var N=(0==e.meta.length?y:e.meta).map((function(e){var t="mail"==e?"email":"text";return y.indexOf(e)>-1?'<input name="'+e+'" placeholder="'+n.locale.head[e]+'" class="v'+e+' vinput" type="'+t+'">':""}));n.placeholder=e.placeholder||"Just Go Go",n.el.innerHTML='<div class="vwrap"><div class="vheader item'+N.length+'">'+N.join("")+'</div><div class="vedit"><textarea id="veditor" class="veditor vinput" placeholder="'+n.placeholder+'"></textarea><div class="vctrl"><span class="vemoji-btn">'+n.locale.ctrl.emoji+'</span> | <span class="vpreview-btn">'+n.locale.ctrl.preview+'</span></div><div class="vemojis" style="display:none;"></div><div class="vinput vpreview" style="display:none;"></div></div><div class="vcontrol"><div class="col col-20" title="Markdown is supported"><a href="https://segmentfault.com/markdown" target="_blank"><svg class="markdown" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z"></path></svg></a></div><div class="col col-80 text-right"><button type="button" title="Cmd|Ctrl+Enter" class="vsubmit vbtn">'+n.locale.ctrl.reply+'</button></div></div><div style="display:none;" class="vmark"></div></div><div class="vinfo" style="display:none;"><div class="vcount col"></div></div><div class="vlist"></div><div class="vempty" style="display:none;"></div><div class="vpage txt-center"></div><div class="info"><div class="power txt-right">Powered By <a href="https://valine.js.org" target="_blank">Valine</a><br>v'+i+"</div></div>";var F=p.find(n.el,".vempty");n.nodata={show:function(e){return F.innerHTML=e||n.locale.tips.sofa,p.attr(F,"style","display:block;"),n},hide:function(){return p.attr(F,"style","display:none;"),n}};var $=p.create("div","class","vloading"),R=p.find(n.el,".vlist");n.loading={show:function(e){var t=p.findAll(R,".vcard");return e?R.insertBefore($,t[0]):R.appendChild($),n.nodata.hide(),n},hide:function(){var e=p.find(R,".vloading");return e&&p.remove(e),0===p.findAll(R,".vcard").length&&n.nodata.show(),n}};var M=p.find(n.el,".vmark");n.alert={show:function(e){M.innerHTML='<div class="valert txt-center"><div class="vtext">'+(e&&e.text||1)+'</div><div class="vbtns"></div></div>';var t=p.find(M,".vbtns"),r='<button class="vcancel vbtn">'+(e&&e.ctxt||n.locale.ctrl.cancel)+"</button>",o='<button class="vsure vbtn">'+(e&&e.otxt||n.locale.ctrl.sure)+"</button>";if(t.innerHTML=""+r+(e&&e.type&&o),p.on("click",p.find(M,".vcancel"),(function(e){n.alert.hide()})),p.attr(M,"style","display:block;"),e&&e.type){var i=p.find(M,".vsure");p.on("click",i,(function(t){n.alert.hide(),e.cb&&e.cb()}))}return n},hide:function(){return p.attr(M,"style","display:none;"),n}},n.bind(e)}catch(e){n.ErrorHandler(e)}return n}console};var E=function(e,n){var t=new e,r=new AV.ACL;r.setPublicReadAccess(!0),r.setPublicWriteAccess(!0),t.setACL(r),t.set("url",n.url),t.set("xid",n.xid),t.set("title",n.title),t.set("time",1),t.save().then((function(e){p.find(n.el,".leancloud-visitors-count").innerText=1})).catch((function(e){}))},_={add:function(e){var n=p.findAll(document,".leancloud_visitors,.leancloud-visitors");if(n.length){var t=n[0],r=p.attr(t,"id"),o=p.attr(t,"data-flag-title"),i=encodeURI(r),a={el:t,url:r,xid:i,title:o};if(decodeURI(r)===decodeURI(w)){var s=new AV.Query(e);s.equalTo("url",r),s.find().then((function(n){if(n.length>0){var r=n[0];r.increment("time"),r.save().then((function(e){p.find(t,".leancloud-visitors-count").innerText=e.get("time")})).catch((function(e){}))}else E(e,a)})).catch((function(n){101==n.code&&E(e,a)}))}else _.show(e,n)}},show:function(e,n){p.each(n,(function(e,n){var t=p.find(n,".leancloud-visitors-count");t&&(t.innerText=0)}));var t=[];for(var r in n)n.hasOwnProperty(r)&&t.push(p.attr(n[r],"id"));if(t.length){var o=new AV.Query(e);o.containedIn("url",t),o.find().then((function(e){e.length>0&&p.each(e,(function(e,n){var t=n.get("url"),r=n.get("time"),o=p.find(document,'.leancloud_visitors[id="'+t+'"]')||p.find(document,'.leancloud-visitors[id="'+t+'"]'),i=p.find(o,".leancloud-visitors-count");i&&(i.innerText=r)}))})).catch((function(e){}))}}};r.prototype.Q=function(e){if(1==arguments.length){var n=new AV.Query("Comment");n.doesNotExist("rid");var t=new AV.Query("Comment");t.equalTo("rid","");var r=AV.Query.or(n,t);return r.equalTo("url",decodeURI(e)),r.addDescending("createdAt"),r.addDescending("insertedAt"),r}var o=JSON.stringify(arguments[1]).replace(/(\[|\])/g,""),i="select * from Comment where rid in ("+o+") order by -createdAt,-createdAt";return AV.Query.doCloudQuery(i)},r.prototype.ErrorHandler=function(e){var n=this;if(n.el&&n.loading.hide().nodata.hide(),"[object Error]"==={}.toString.call(e)){var t=e.code||"",r=n.locale.error[t]||e.message||e.error||"";101==t?n.nodata.show():n.el&&n.nodata.show('<pre style="text-align:left;">Code '+t+": "+r+"</pre>")||console}else n.el&&n.nodata.show('<pre style="text-align:left;">'+JSON.stringify(e)+"</pre>")||console},r.prototype.installLocale=function(e,n){return n=n||{},e&&(v[e]=n,this.locale=v[e]||v["zh-cn"]),this},r.prototype.setPath=function(e){return w=e||w,this},r.prototype.bind=function(e){var n=this,t=p.find(n.el,".vemojis"),r=p.find(n.el,".vpreview"),o=p.find(n.el,".vemoji-btn"),i=p.find(n.el,".vpreview-btn"),f=d.data;for(var h in f)f.hasOwnProperty(h)&&function(e,r){var o=p.create("i",{name:e,title:e});o.innerHTML=r,t.appendChild(o),p.on("click",o,(function(e){var t=p.find(n.el,".veditor");O(t,r),y(t)}))}(h,f[h]);n.emoji={show:function(){return n.preview.hide(),p.attr(o,"v",1),p.removeAttr(i,"v"),p.attr(t,"style","display:block"),n.emoji},hide:function(){return p.removeAttr(o,"v"),p.attr(t,"style","display:hide"),n.emoji}},n.preview={show:function(){return m.comment&&(n.emoji.hide(),p.attr(i,"v",1),p.removeAttr(o,"v"),r.innerHTML=m.comment,p.attr(r,"style","display:block"),T()),n.preview},hide:function(){return p.removeAttr(i,"v"),p.attr(r,"style","display:none"),n.preview},empty:function(){return r.innerHtml="",n.preview}};var v=function(e){var n=p.create("div");n.insertAdjacentHTML("afterbegin",e);var t=p.findAll(n,"*"),r=["INPUT","STYLE","SCRIPT","IFRAME","FRAME","AUDIO","VIDEO","EMBED","META","TITLE","LINK"];return p.each(t,(function(e,n){1===n.nodeType&&(r.indexOf(n.nodeName)>-1&&("INPUT"===n.nodeName&&"checkbox"===p.attr(n,"type")?p.attr(n,"disabled","disabled"):p.remove(n)),"A"===n.nodeName&&function(e,n){var t=p.attr(e,n);t&&p.attr(e,n,t.replace(/(javascript|eval)/gi,""))}(n,"href"),p.clearAttr(n))})),n.innerHTML},y=function(e){var n=e.value||"";n=d.parse(n),e.value=n;var t=v(s(n));m.comment=t,r.innerHTML=t,n?c(e):c.destroy(e)};p.on("click",o,(function(e){p.attr(o,"v")?n.emoji.hide():n.emoji.show()})),p.on("click",i,(function(e){p.attr(i,"v")?n.preview.hide():n.preview.show()}));for(var E=e.meta,_={},x={veditor:"comment"},A=0,k=E.length;A<k;A++)x["v"+E[A]]=E[A];for(var C in x)x.hasOwnProperty(C)&&function(){var e=x[C],t=p.find(n.el,"."+C);_[e]=t,t&&p.on("input change blur",t,(function(n){"comment"===e?y(t):m[e]=p.escape(t.value.replace(/(^\s*)|(\s*$)/g,""))}))}();var O=function(e,n){if(document.selection)e.focus(),document.selection.createRange().text=n,e.focus();else if(e.selectionStart||"0"==e.selectionStart){var t=e.selectionStart,r=e.selectionEnd,o=e.scrollTop;e.value=e.value.substring(0,t)+n+e.value.substring(r,e.value.length),e.focus(),e.selectionStart=t+n.length,e.selectionEnd=t+n.length,e.scrollTop=o}else e.focus(),e.value+=n},S=function(e){var t=p.find(n.el,".vh[rootid='"+e+"']"),r=p.find(t,".vquote");return r||(r=p.create("div","class","vquote"),t.appendChild(r)),r},B=function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,o=e.pageSize,i=Number(p.find(n.el,".vnum").innerText);n.loading.show();var a=n.Q(w);a.limit(o),a.skip((r-1)*o),a.find().then((function(e){for(var a=e.length,s=[],c=0;c<a;c++){var u=e[c];s.push(u.id),j(u,p.find(n.el,".vlist"),!0)}n.Q(w,s).then((function(e){for(var n=e&&e.results||[],t=0;t<n.length;t++){var r=n[t];j(r,S(r.get("rid")))}}));var l=p.find(n.el,".vpage");l.innerHTML=o*r<i?'<button type="button" class="vmore vbtn">'+n.locale.ctrl.more+"</button>":"";var d=p.find(l,".vmore");d&&p.on("click",d,(function(e){l.innerHTML="",t(++r)})),n.loading.hide()})).catch((function(e){n.loading.hide().ErrorHandler(e)}))};n.Q(w).count().then((function(e){e>0?(p.attr(p.find(n.el,".vinfo"),"style","display:block;"),p.find(n.el,".vcount").innerHTML='<span class="vnum">'+e+"</span> "+n.locale.tips.comments,B()):n.loading.hide()})).catch((function(e){n.ErrorHandler(e)}));var j=function(e,t,r){var o=p.create("div",{class:"vcard",id:e.id}),i=g.hide?"":'<img class="vimg" src="'+(g.cdn+a(e.get("mail"))+g.params)+'">',s=e.get("ua")||"",c="";s&&(c='<span class="vsys">'+(s=l(s)).browser+" "+s.version+'</span> <span class="vsys">'+s.os+" "+s.osVersion+"</span>");var d,f=e.get("link")||"";d=f?'<a class="vnick" rel="nofollow" href="'+f+'" target="_blank" >'+e.get("nick")+"</a>":'<span class="vnick">'+e.get("nick")+"</span>",o.innerHTML=i+'\n            <div class="vh" rootid='+(e.get("rid")||e.id)+'>\n                <div class="vhead">'+d+" "+c+'</div>\n                <div class="vmeta">\n                    <span class="vtime">'+u(e.get("insertedAt")||e.createdAt,n.locale)+'</span>\n                    <span class="vat">'+n.locale.ctrl.reply+'</span>\n                </div>\n                <div class="vcontent">\n                    '+v(e.get("comment"))+"\n                </div>\n            </div>";for(var h=p.find(o,".vat"),m=p.findAll(o,"a"),y=0,b=m.length;y<b;y++){var w=m[y];w&&-1==(p.attr(w,"class")||"").indexOf("at")&&p.attr(w,{target:"_blank",rel:"nofollow"})}var E=p.findAll(t,".vcard");r?t.appendChild(o):t.insertBefore(o,E[0]);var _=p.find(o,".vcontent");_&&D(_),h&&I(h,e),T()},T=function(){setTimeout((function(){try{var e=e||"";e&&e.Hub.Queue(["Typeset",e.Hub]),$("pre code").each((function(e,n){hljs.highlightBlock(n)})),$("code.hljs").each((function(e,n){hljs.lineNumbersBlock(n)}))}catch(e){}}),20)},D=function(e){setTimeout((function(){e.offsetHeight>180&&(e.classList.add("expand"),p.on("click",e,(function(n){p.attr(e,"class","vcontent")})))}))},P={},I=function(e,n){p.on("click",e,(function(e){var t="@"+p.escape(n.get("nick"));P={at:p.escape(t)+" ",rid:n.get("rid")||n.id,pid:n.id,rmail:n.get("mail")},p.attr(_.comment,"placeholder",t),_.comment.focus()}))};!function(){var e=b&&b.ValineCache;if(e){e=JSON.parse(e);var t=E;for(var r in t){var o=t[r];p.find(n.el,".v"+o).value=p.unescape(e[o]),m[o]=e[o]}}}();var N=p.find(n.el,".vsubmit"),F=function(e){return p.attr(N,"disabled")?void n.alert.show({type:0,text:n.locale.tips.busy+'ヾ(๑╹◡╹)ﾉ"',ctxt:n.locale.ctrl.ok}):""==m.comment?void _.comment.focus():(m.nick=m.nick||"Anonymous",void(n.notify||n.verify?z(M):M()))},R=function(){var e=new AV.ACL;return e.setPublicReadAccess(!0),e.setPublicWriteAccess(!1),e},M=function(){p.attr(N,"disabled",!0),n.loading.show(!0);var e=new(AV.Object.extend("Comment"));if(m.url=decodeURI(w),m.insertedAt=new Date,P.rid){var t=P.pid||P.rid;e.set("rid",P.rid),e.set("pid",t),m.comment=m.comment.replace("<p>",'<p><a class="at" href="#'+t+'">'+P.at+"</a> , ")}for(var r in m)if(m.hasOwnProperty(r)){var o=m[r];e.set(r,o)}e.setACL(R()),e.save().then((function(e){"Anonymous"!=m.nick&&b&&b.setItem("ValineCache",JSON.stringify({nick:m.nick,link:m.link,mail:m.mail}));var t=p.find(n.el,".vnum"),r=1;try{if(P.rid){var o=p.find(n.el,'.vquote[rid="'+P.rid+'"]')||S(P.rid);j(e,o,!0)}else t?(r=Number(t.innerText)+1,t.innerText=r):p.find(n.el,".vcount").innerHTML='<span class="num">1</span> '+n.locale.tips.comments,j(e,p.find(n.el,".vlist"));m.mail&&V({username:m.nick,mail:m.mail}),P.at&&P.rmail&&n.notify&&L({username:P.at.replace("@",""),mail:P.rmail}),p.removeAttr(N,"disabled"),n.loading.hide(),m.comment="",_.comment.value="",y(_.comment),p.attr(_.comment,"placeholder",n.placeholder),P={},n.preview.empty().hide()}catch(e){n.ErrorHandler(e)}})).catch((function(e){n.ErrorHandler(e)}))},z=function e(t){var r=Math.floor(10*Math.random()+1),o=Math.floor(10*Math.random()+1),i=Math.floor(10*Math.random()+1),a=["+","-","x"],s=""+r+a[Math.floor(3*Math.random())]+o+a[Math.floor(3*Math.random())]+i,c=s+" = <input class='vcode vinput' >";n.alert.show({type:1,text:c,ctxt:n.locale.ctrl.cancel,otxt:n.locale.ctrl.ok,cb:function(){var r=+p.find(n.el,".vcode").value;new Function("return "+s.replace(/x/g,"*"))()===r?t&&t():n.alert.show({type:1,text:"(T＿T)"+n.locale.tips.again,ctxt:n.locale.ctrl.cancel,otxt:n.locale.ctrl.try,cb:function(){e(t)}})}})},V=function(e){var n=new AV.User;return n.setUsername(e.username),n.setPassword(e.mail),n.setEmail(e.mail),n.setACL(R()),n.signUp()},L=function e(t){AV.User.requestPasswordReset(t.mail).then((function(e){})).catch((function(r){1==r.code?n.alert.show({type:0,text:"ヾ(ｏ･ω･)ﾉ At太频繁啦，提醒功能暂时宕机。<br>"+r.error,ctxt:n.locale.ctrl.ok}):V(t).then((function(n){e(t)})).catch((function(e){}))}))};p.on("click",N,F),p.on("keydown",document,(function(e){var t=(e=event||e).keyCode||e.which||e.charCode;if((e.ctrlKey||e.metaKey)&&13===t&&F(),9===t&&"veditor"==(document.activeElement.id||"")){e.preventDefault();var r=p.find(n.el,".veditor");O(r,"    ")}}))},e.exports=o,e.exports.default=o},function(e,n,t){"use strict";var r={data:t(11),parse:function(e){return String(e).replace(/:(.+?):/g,(function(e,n){return r.data[n]||e}))}};e.exports=r},function(e,n,t){"use strict";function r(e){var n=this,t={Trident:e.indexOf("Trident")>-1||e.indexOf("NET CLR")>-1,Presto:e.indexOf("Presto")>-1,WebKit:e.indexOf("AppleWebKit")>-1,Gecko:e.indexOf("Gecko/")>-1,Safari:e.indexOf("Safari")>-1,Chrome:e.indexOf("Chrome")>-1||e.indexOf("CriOS")>-1,IE:e.indexOf("MSIE")>-1||e.indexOf("Trident")>-1,Edge:e.indexOf("Edge")>-1,Firefox:e.indexOf("Firefox")>-1||e.indexOf("FxiOS")>-1,"Firefox Focus":e.indexOf("Focus")>-1,Chromium:e.indexOf("Chromium")>-1,Opera:e.indexOf("Opera")>-1||e.indexOf("OPR")>-1,Vivaldi:e.indexOf("Vivaldi")>-1,Yandex:e.indexOf("YaBrowser")>-1,Kindle:e.indexOf("Kindle")>-1||e.indexOf("Silk/")>-1,360:e.indexOf("360EE")>-1||e.indexOf("360SE")>-1,UC:e.indexOf("UC")>-1||e.indexOf(" UBrowser")>-1,QQBrowser:e.indexOf("QQBrowser")>-1,QQ:e.indexOf("QQ/")>-1,Baidu:e.indexOf("Baidu")>-1||e.indexOf("BIDUBrowser")>-1,Maxthon:e.indexOf("Maxthon")>-1,Sogou:e.indexOf("MetaSr")>-1||e.indexOf("Sogou")>-1,LBBROWSER:e.indexOf("LBBROWSER")>-1,"2345Explorer":e.indexOf("2345Explorer")>-1,TheWorld:e.indexOf("TheWorld")>-1,XiaoMi:e.indexOf("MiuiBrowser")>-1,Quark:e.indexOf("Quark")>-1,Qiyu:e.indexOf("Qiyu")>-1,Wechat:e.indexOf("MicroMessenger")>-1,Taobao:e.indexOf("AliApp(TB")>-1,Alipay:e.indexOf("AliApp(AP")>-1,Weibo:e.indexOf("Weibo")>-1,Douban:e.indexOf("com.douban.frodo")>-1,Suning:e.indexOf("SNEBUY-APP")>-1,iQiYi:e.indexOf("IqiyiApp")>-1,Windows:e.indexOf("Windows")>-1,Linux:e.indexOf("Linux")>-1||e.indexOf("X11")>-1,"Mac OS":e.indexOf("Macintosh")>-1,Android:e.indexOf("Android")>-1||e.indexOf("Adr")>-1,Ubuntu:e.indexOf("Ubuntu")>-1,FreeBSD:e.indexOf("FreeBSD")>-1,Debian:e.indexOf("Debian")>-1,"Windows Phone":e.indexOf("IEMobile")>-1||e.indexOf("Windows Phone")>-1,BlackBerry:e.indexOf("BlackBerry")>-1||e.indexOf("RIM")>-1,MeeGo:e.indexOf("MeeGo")>-1,Symbian:e.indexOf("Symbian")>-1,iOS:e.indexOf("like Mac OS X")>-1,"Chrome OS":e.indexOf("CrOS")>-1,WebOS:e.indexOf("hpwOS")>-1,Mobile:e.indexOf("Mobi")>-1||e.indexOf("iPh")>-1||e.indexOf("480")>-1,Tablet:e.indexOf("Tablet")>-1||e.indexOf("Pad")>-1||e.indexOf("Nexus 7")>-1};t.Mobile&&(t.Mobile=!(e.indexOf("iPad")>-1));var r={engine:["WebKit","Trident","Gecko","Presto"],browser:["Safari","Chrome","Edge","IE","Firefox","Firefox Focus","Chromium","Opera","Vivaldi","Yandex","Kindle","360","UC","QQBrowser","QQ","Baidu","Maxthon","Sogou","LBBROWSER","2345Explorer","TheWorld","XiaoMi","Quark","Qiyu","Wechat","Taobao","Alipay","Weibo","Douban","Suning","iQiYi"],os:["Windows","Linux","Mac OS","Android","Ubuntu","FreeBSD","Debian","iOS","Windows Phone","BlackBerry","MeeGo","Symbian","Chrome OS","WebOS"],device:["Mobile","Tablet"]};for(var o in n.device="PC",r)for(var i=0;i<r[o].length;i++){var a=r[o][i];t[a]&&(n[o]=a)}var s={Windows:function(){var n=e.replace(/^.*Windows NT ([\d.]+);.*$/,"$1");return{6.4:"10",6.3:"8.1",6.2:"8",6.1:"7","6.0":"Vista",5.2:"XP",5.1:"XP","5.0":"2000"}[n]||n},Android:function(){return e.replace(/^.*Android ([\d.]+);.*$/,"$1")},iOS:function(){return e.replace(/^.*OS ([\d_]+) like.*$/,"$1").replace(/_/g,".")},Debian:function(){return e.replace(/^.*Debian\/([\d.]+).*$/,"$1")},"Windows Phone":function(){return e.replace(/^.*Windows Phone( OS)? ([\d.]+);.*$/,"$2")},"Mac OS":function(){return e.replace(/^.*Mac OS X ([\d_]+).*$/,"$1").replace(/_/g,".")},WebOS:function(){return e.replace(/^.*hpwOS\/([\d.]+);.*$/,"$1")}};n.osVersion="",s[n.os]&&(n.osVersion=s[n.os](),n.osVersion==e&&(n.osVersion=""));var c={Safari:function(){return e.replace(/^.*Version\/([\d.]+).*$/,"$1")},Chrome:function(){return e.replace(/^.*Chrome\/([\d.]+).*$/,"$1").replace(/^.*CriOS\/([\d.]+).*$/,"$1")},IE:function(){return e.replace(/^.*MSIE ([\d.]+).*$/,"$1").replace(/^.*rv:([\d.]+).*$/,"$1")},Edge:function(){return e.replace(/^.*Edge\/([\d.]+).*$/,"$1")},Firefox:function(){return e.replace(/^.*Firefox\/([\d.]+).*$/,"$1").replace(/^.*FxiOS\/([\d.]+).*$/,"$1")},"Firefox Focus":function(){return e.replace(/^.*Focus\/([\d.]+).*$/,"$1")},Chromium:function(){return e.replace(/^.*Chromium\/([\d.]+).*$/,"$1")},Opera:function(){return e.replace(/^.*Opera\/([\d.]+).*$/,"$1").replace(/^.*OPR\/([\d.]+).*$/,"$1")},Vivaldi:function(){return e.replace(/^.*Vivaldi\/([\d.]+).*$/,"$1")},Yandex:function(){return e.replace(/^.*YaBrowser\/([\d.]+).*$/,"$1")},Kindle:function(){return e.replace(/^.*Version\/([\d.]+).*$/,"$1")},Maxthon:function(){return e.replace(/^.*Maxthon\/([\d.]+).*$/,"$1")},QQBrowser:function(){return e.replace(/^.*QQBrowser\/([\d.]+).*$/,"$1")},QQ:function(){return e.replace(/^.*QQ\/([\d.]+).*$/,"$1")},Baidu:function(){return e.replace(/^.*BIDUBrowser[\s\/]([\d.]+).*$/,"$1")},UC:function(){return e.replace(/^.*UC?Browser\/([\d.]+).*$/,"$1")},Sogou:function(){return e.replace(/^.*SE ([\d.X]+).*$/,"$1").replace(/^.*SogouMobileBrowser\/([\d.]+).*$/,"$1")},"2345Explorer":function(){return e.replace(/^.*2345Explorer\/([\d.]+).*$/,"$1")},TheWorld:function(){return e.replace(/^.*TheWorld ([\d.]+).*$/,"$1")},XiaoMi:function(){return e.replace(/^.*MiuiBrowser\/([\d.]+).*$/,"$1")},Quark:function(){return e.replace(/^.*Quark\/([\d.]+).*$/,"$1")},Qiyu:function(){return e.replace(/^.*Qiyu\/([\d.]+).*$/,"$1")},Wechat:function(){return e.replace(/^.*MicroMessenger\/([\d.]+).*$/,"$1")},Taobao:function(){return e.replace(/^.*AliApp\(TB\/([\d.]+).*$/,"$1")},Alipay:function(){return e.replace(/^.*AliApp\(AP\/([\d.]+).*$/,"$1")},Weibo:function(){return e.replace(/^.*weibo__([\d.]+).*$/,"$1")},Douban:function(){return e.replace(/^.*com.douban.frodo\/([\d.]+).*$/,"$1")},Suning:function(){return e.replace(/^.*SNEBUY-APP([\d.]+).*$/,"$1")},iQiYi:function(){return e.replace(/^.*IqiyiVersion\/([\d.]+).*$/,"$1")}};n.version="",c[n.browser]&&(n.version=c[n.browser](),n.version==e&&(n.version="")),"Edge"==n.browser?n.engine="EdgeHTML":"Chrome"==n.browser&&parseInt(n.version)>27||"Opera"==n.browser&&parseInt(n.version)>12||"Yandex"==n.browser?n.engine="Blink":null==n.browser&&(n.browser="Unknow App")}e.exports=function(e){return new r(e)}},function(e,n,t){"use strict";var r={},o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#x60;","\\":"&#x5c;"};for(var i in o)r[o[i]]=i;var a=/[&<>"'`\\]/g,s=RegExp(a.source),c=/&(?:amp|lt|gt|quot|#39|#x60|#x5c);/g,u=RegExp(c.source),l={on:function(e,n,t,r){for(var o=0,i=(e=e.split(" ")).length;o<i;o++)l.off(e[o],n,t,r),n.addEventListener?n.addEventListener(e[o],t,r||!1):n.attachEvent?n.attachEvent("on"+e[o],t):n["on"+e[o]]=t},off:function(e,n,t,r){n.removeEventListener?n.removeEventListener(e,t,r||!1):n.detachEvent?n.detachEvent("on"+e,t):n["on"+e]=null},escape:function(e){return e&&s.test(e)?e.replace(a,(function(e){return o[e]})):e},unescape:function(e){return e&&u.test(e)?e.replace(c,(function(e){return r[e]})):e},create:function(e,n,t){var r=document.createElement(e);return l.attr(r,n,t),r},find:function(e,n){return e.querySelector(n)},findAll:function(e,n){return e.querySelectorAll(n)},attr:function(e,n,t){if(void 0===e.getAttribute)return l.prop(e,n,t);if(void 0!==t)null===t?l.removeAttr(e,n):e.setAttribute(n,t);else{if("[object Object]"!=={}.toString.call(n))return e.getAttribute(n);l.each(n,(function(n,t){e.setAttribute(n,t)}))}},prop:function(e,n,t){return void 0!==t?e[n]=t:"[object Object]"!=={}.toString.call(n)?e[n]:void l.each(n,(function(n,t){e[n]=t}))},removeAttr:function(e,n){var t=void 0,r=0,o=n&&n.match(/[^\x20\t\r\n\f\*\/\\]+/g);if(o&&1===e.nodeType)for(;t=o[r++];)e.removeAttribute(t);return e},clearAttr:function(e){var n=e.attributes,t=["align","alt","disabled","href","id","target","title","type","src","class","style"];return l.each(n,(function(n,r){var o=r.name;switch(r.name.toLowerCase()){case"style":var i=r.value;l.each(i.split(";"),(function(n,t){if(t.indexOf("color")>-1)return l.attr(e,"style",t),!1;l.removeAttr(e,"style")}));break;case"class":if("CODE"==e.nodeName)return!1;if(r.value.indexOf("at")>-1)return l.attr(e,"class","at"),!1}t.indexOf(o)>-1||l.removeAttr(e,o)})),e},remove:function(e){try{e.parentNode&&e.parentNode.removeChild(e)}catch(e){}},each:function(e,n){var t=0,r=e.length,o={}.toString.call(e);if(["[object Array]","[object NodeList]"].indexOf(o)>-1)for(;t<r&&!1!==(n&&n.call(e[t],t,e[t]));t++);else for(t in e)if(e.hasOwnProperty(t)&&!1===(n&&n.call(e[t],t,e[t])))break;return e}};e.exports=l},function(e,n,t){"use strict";var r=function(e){var n=o(e.getDate(),2),t=o(e.getMonth()+1,2);return o(e.getFullYear(),2)+"-"+t+"-"+n},o=function(e,n){for(var t=e.toString();t.length<n;)t="0"+t;return t};e.exports=function(e,n){if(e)try{var t=e.getTime(),o=(new Date).getTime()-t,i=Math.floor(o/864e5);if(0===i){var a=o%864e5,s=Math.floor(a/36e5);if(0===s){var c=a%36e5,u=Math.floor(c/6e4);if(0===u){var l=c%6e4;return Math.round(l/1e3)+" "+n.timeago.seconds}return u+" "+n.timeago.minutes}return s+" "+n.timeago.hours}return i<0?n.timeago.now:i<8?i+" "+n.timeago.days:r(e)}catch(e){}}},function(e,n,t){var r;!function(o){"use strict";function i(e,n){var t=(65535&e)+(65535&n);return(e>>16)+(n>>16)+(t>>16)<<16|65535&t}function a(e,n,t,r,o,a){return i(function(e,n){return e<<n|e>>>32-n}(i(i(n,e),i(r,a)),o),t)}function s(e,n,t,r,o,i,s){return a(n&t|~n&r,e,n,o,i,s)}function c(e,n,t,r,o,i,s){return a(n&r|t&~r,e,n,o,i,s)}function u(e,n,t,r,o,i,s){return a(n^t^r,e,n,o,i,s)}function l(e,n,t,r,o,i,s){return a(t^(n|~r),e,n,o,i,s)}function p(e,n){e[n>>5]|=128<<n%32,e[14+(n+64>>>9<<4)]=n;var t,r,o,a,p,d=1732584193,f=-271733879,h=-1732584194,m=271733878;for(t=0;t<e.length;t+=16)r=d,o=f,a=h,p=m,d=s(d,f,h,m,e[t],7,-680876936),m=s(m,d,f,h,e[t+1],12,-389564586),h=s(h,m,d,f,e[t+2],17,606105819),f=s(f,h,m,d,e[t+3],22,-1044525330),d=s(d,f,h,m,e[t+4],7,-176418897),m=s(m,d,f,h,e[t+5],12,1200080426),h=s(h,m,d,f,e[t+6],17,-1473231341),f=s(f,h,m,d,e[t+7],22,-45705983),d=s(d,f,h,m,e[t+8],7,1770035416),m=s(m,d,f,h,e[t+9],12,-1958414417),h=s(h,m,d,f,e[t+10],17,-42063),f=s(f,h,m,d,e[t+11],22,-1990404162),d=s(d,f,h,m,e[t+12],7,1804603682),m=s(m,d,f,h,e[t+13],12,-40341101),h=s(h,m,d,f,e[t+14],17,-1502002290),d=c(d,f=s(f,h,m,d,e[t+15],22,1236535329),h,m,e[t+1],5,-165796510),m=c(m,d,f,h,e[t+6],9,-1069501632),h=c(h,m,d,f,e[t+11],14,643717713),f=c(f,h,m,d,e[t],20,-373897302),d=c(d,f,h,m,e[t+5],5,-701558691),m=c(m,d,f,h,e[t+10],9,38016083),h=c(h,m,d,f,e[t+15],14,-660478335),f=c(f,h,m,d,e[t+4],20,-405537848),d=c(d,f,h,m,e[t+9],5,568446438),m=c(m,d,f,h,e[t+14],9,-1019803690),h=c(h,m,d,f,e[t+3],14,-187363961),f=c(f,h,m,d,e[t+8],20,1163531501),d=c(d,f,h,m,e[t+13],5,-1444681467),m=c(m,d,f,h,e[t+2],9,-51403784),h=c(h,m,d,f,e[t+7],14,1735328473),d=u(d,f=c(f,h,m,d,e[t+12],20,-1926607734),h,m,e[t+5],4,-378558),m=u(m,d,f,h,e[t+8],11,-2022574463),h=u(h,m,d,f,e[t+11],16,1839030562),f=u(f,h,m,d,e[t+14],23,-35309556),d=u(d,f,h,m,e[t+1],4,-1530992060),m=u(m,d,f,h,e[t+4],11,1272893353),h=u(h,m,d,f,e[t+7],16,-155497632),f=u(f,h,m,d,e[t+10],23,-1094730640),d=u(d,f,h,m,e[t+13],4,681279174),m=u(m,d,f,h,e[t],11,-358537222),h=u(h,m,d,f,e[t+3],16,-722521979),f=u(f,h,m,d,e[t+6],23,76029189),d=u(d,f,h,m,e[t+9],4,-640364487),m=u(m,d,f,h,e[t+12],11,-421815835),h=u(h,m,d,f,e[t+15],16,530742520),d=l(d,f=u(f,h,m,d,e[t+2],23,-995338651),h,m,e[t],6,-198630844),m=l(m,d,f,h,e[t+7],10,1126891415),h=l(h,m,d,f,e[t+14],15,-1416354905),f=l(f,h,m,d,e[t+5],21,-57434055),d=l(d,f,h,m,e[t+12],6,1700485571),m=l(m,d,f,h,e[t+3],10,-1894986606),h=l(h,m,d,f,e[t+10],15,-1051523),f=l(f,h,m,d,e[t+1],21,-2054922799),d=l(d,f,h,m,e[t+8],6,1873313359),m=l(m,d,f,h,e[t+15],10,-30611744),h=l(h,m,d,f,e[t+6],15,-1560198380),f=l(f,h,m,d,e[t+13],21,1309151649),d=l(d,f,h,m,e[t+4],6,-145523070),m=l(m,d,f,h,e[t+11],10,-1120210379),h=l(h,m,d,f,e[t+2],15,718787259),f=l(f,h,m,d,e[t+9],21,-343485551),d=i(d,r),f=i(f,o),h=i(h,a),m=i(m,p);return[d,f,h,m]}function d(e){var n,t="",r=32*e.length;for(n=0;n<r;n+=8)t+=String.fromCharCode(e[n>>5]>>>n%32&255);return t}function f(e){var n,t=[];for(t[(e.length>>2)-1]=void 0,n=0;n<t.length;n+=1)t[n]=0;var r=8*e.length;for(n=0;n<r;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<n%32;return t}function h(e){var n,t,r="0123456789abcdef",o="";for(t=0;t<e.length;t+=1)n=e.charCodeAt(t),o+=r.charAt(n>>>4&15)+r.charAt(15&n);return o}function m(e){return unescape(encodeURIComponent(e))}function v(e){return function(e){return d(p(f(e),8*e.length))}(m(e))}function g(e,n){return function(e,n){var t,r,o=f(e),i=[],a=[];for(i[15]=a[15]=void 0,o.length>16&&(o=p(o,8*e.length)),t=0;t<16;t+=1)i[t]=909522486^o[t],a[t]=1549556828^o[t];return r=p(i.concat(f(n)),512+8*n.length),d(p(a.concat(r),640))}(m(e),m(n))}function y(e,n,t){return n?t?g(n,e):function(e,n){return h(g(e,n))}(n,e):t?v(e):function(e){return h(v(e))}(e)}void 0!==(r=function(){return y}.call(n,t,n,e))&&(e.exports=r)}()},function(e,n,t){e.exports=function(){"use strict";var e=function(e,n){return function(e){var n=e.exports=function(){return new RegExp("(?:"+n.line().source+")|(?:"+n.block().source+")","gm")};n.line=function(){return/(?:^|\s)\/\/(.+?)$/gm},n.block=function(){return/\/\*([\S\s]*?)\*\//gm}}(n={exports:{}}),n.exports}(),n=["23AC69","91C132","F19726","E8552D","1AAB8E","E1147F","2980C1","1BA1E6","9FA0A0","F19726","E30B20","E30B20","A3338B"];return function(t,r){void 0===r&&(r={});var o=r.colors;void 0===o&&(o=n);var i=0,a={},s=new RegExp("("+/[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af\u0400-\u04FF]+|\w+/.source+"|"+/</.source+")|("+e().source+")","gmi");return t.replace(s,(function(e,n,t){if(t)return function(e){return'<span style="color: slategray">'+e+"</span>"}(t);if("<"===n)return"&lt;";var r;a[n]?r=a[n]:(r=o[i],a[n]=r);var s='<span style="color: #'+r+'">'+n+"</span>";return i=++i%o.length,s}))}}()},function(e,n,t){(function(n){!function(n){"use strict";function t(e){this.tokens=[],this.tokens.links={},this.options=e||h.defaults,this.rules=m.normal,this.options.pedantic?this.rules=m.pedantic:this.options.gfm&&(this.options.tables?this.rules=m.tables:this.rules=m.gfm)}function r(e,n){if(this.options=n||h.defaults,this.links=e,this.rules=v.normal,this.renderer=this.options.renderer||new o,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=v.pedantic:this.options.gfm&&(this.options.breaks?this.rules=v.breaks:this.rules=v.gfm)}function o(e){this.options=e||h.defaults}function i(){}function a(e){this.tokens=[],this.token=null,this.options=e||h.defaults,this.options.renderer=this.options.renderer||new o,this.renderer=this.options.renderer,this.renderer.options=this.options}function s(e,n){return e.replace(n?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function c(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,(function(e,n){return"colon"===(n=n.toLowerCase())?":":"#"===n.charAt(0)?"x"===n.charAt(1)?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""}))}function u(e,n){return e=e.source||e,n=n||"",{replace:function(n,t){return t=(t=t.source||t).replace(/(^|[^\[])\^/g,"$1"),e=e.replace(n,t),this},getRegex:function(){return new RegExp(e,n)}}}function l(e,n){return g[" "+e]||(/^[^:]+:\/*[^\/]*$/.test(e)?g[" "+e]=e+"/":g[" "+e]=e.replace(/[^\/]*$/,"")),e=g[" "+e],"//"===n.slice(0,2)?e.replace(/:[\s\S]*/,":")+n:"/"===n.charAt(0)?e.replace(/(:\/*[^\/]*)[\s\S]*/,"$1")+n:e+n}function p(){}function d(e){for(var n,t,r=1;r<arguments.length;r++)for(t in n=arguments[r])Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e}function f(e,n){var t=e.replace(/([^\\])\|/g,"$1 |").split(/ +\| */),r=0;if(t.length>n)t.splice(n);else for(;t.length<n;)t.push("");for(;r<t.length;r++)t[r]=t[r].replace(/\\\|/g,"|");return t}function h(e,n,r){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(r||"function"==typeof n){r||(r=n,n=null);var o,i,c=(n=d({},h.defaults,n||{})).highlight,u=0;try{o=t.lex(e,n)}catch(e){return r(e)}i=o.length;var l=function(e){if(e)return n.highlight=c,r(e);var t;try{t=a.parse(o,n)}catch(n){e=n}return n.highlight=c,e?r(e):r(null,t)};if(!c||c.length<3)return l();if(delete n.highlight,!i)return l();for(;u<o.length;u++)!function(e){"code"!==e.type?--i||l():c(e.text,e.lang,(function(n,t){return n?l(n):null==t||t===e.text?--i||l():(e.text=t,e.escaped=!0,void(--i||l()))}))}(o[u])}else try{return n&&(n=d({},h.defaults,n)),a.parse(t.lex(e,n),n)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",(n||h.defaults).silent)return"<p>An error occurred:</p><pre>"+s(e.message+"",!0)+"</pre>";throw e}}var m={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:p,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,nptable:p,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:p,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading| {0,3}>|<\/?(?:tag)(?: +|\n|\/?>)|<(?:script|pre|style|!--))[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};m.def=u(m.def).replace("label",m._label).replace("title",m._title).getRegex(),m.bullet=/(?:[*+-]|\d+\.)/,m.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,m.item=u(m.item,"gm").replace(/bull/g,m.bullet).getRegex(),m.list=u(m.list).replace(/bull/g,m.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+m.def.source+")").getRegex(),m._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",m._comment=/<!--(?!-?>)[\s\S]*?-->/,m.html=u(m.html,"i").replace("comment",m._comment).replace("tag",m._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),m.paragraph=u(m.paragraph).replace("hr",m.hr).replace("heading",m.heading).replace("lheading",m.lheading).replace("tag",m._tag).getRegex(),m.blockquote=u(m.blockquote).replace("paragraph",m.paragraph).getRegex(),m.normal=d({},m),m.gfm=d({},m.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\n? *\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),m.gfm.paragraph=u(m.paragraph).replace("(?!","(?!"+m.gfm.fences.source.replace("\\1","\\2")+"|"+m.list.source.replace("\\1","\\3")+"|").getRegex(),m.tables=d({},m.gfm,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),m.pedantic=d({},m.normal,{html:u("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",m._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/}),t.rules=m,t.lex=function(e,n){return new t(n).lex(e)},t.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},t.prototype.token=function(e,n){e=e.replace(/^ +$/gm,"");for(var t,r,o,i,a,s,c,u,l,p,d,h,v;e;)if((o=this.rules.newline.exec(e))&&(e=e.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.code.exec(e))e=e.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:o.replace(/\n+$/,"")});else if(o=this.rules.fences.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]||""});else if(o=this.rules.heading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if(n&&(o=this.rules.nptable.exec(e))&&(s={type:"table",header:f(o[1].replace(/^ *| *\| *$/g,"")),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3]?o[3].replace(/\n$/,"").split("\n"):[]}).header.length===s.align.length){for(e=e.substring(o[0].length),u=0;u<s.align.length;u++)/^ *-+: *$/.test(s.align[u])?s.align[u]="right":/^ *:-+: *$/.test(s.align[u])?s.align[u]="center":/^ *:-+ *$/.test(s.align[u])?s.align[u]="left":s.align[u]=null;for(u=0;u<s.cells.length;u++)s.cells[u]=f(s.cells[u],s.header.length);this.tokens.push(s)}else if(o=this.rules.hr.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,n),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(e)){for(e=e.substring(o[0].length),d=(i=o[2]).length>1,this.tokens.push({type:"list_start",ordered:d,start:d?+i:""}),t=!1,p=(o=o[0].match(this.rules.item)).length,u=0;u<p;u++)c=(s=o[u]).length,~(s=s.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(c-=s.length,s=this.options.pedantic?s.replace(/^ {1,4}/gm,""):s.replace(new RegExp("^ {1,"+c+"}","gm"),"")),this.options.smartLists&&u!==p-1&&(i===(a=m.bullet.exec(o[u+1])[0])||i.length>1&&a.length>1||(e=o.slice(u+1).join("\n")+e,u=p-1)),r=t||/\n\n(?!\s*$)/.test(s),u!==p-1&&(t="\n"===s.charAt(s.length-1),r||(r=t)),v=void 0,(h=/^\[[ xX]\] /.test(s))&&(v=" "!==s[1],s=s.replace(/^\[[ xX]\] +/,"")),this.tokens.push({type:r?"loose_item_start":"list_item_start",task:h,checked:v}),this.token(s,!1),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(e))e=e.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:o[0]});else if(n&&(o=this.rules.def.exec(e)))e=e.substring(o[0].length),o[3]&&(o[3]=o[3].substring(1,o[3].length-1)),l=o[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[l]||(this.tokens.links[l]={href:o[2],title:o[3]});else if(n&&(o=this.rules.table.exec(e))&&(s={type:"table",header:f(o[1].replace(/^ *| *\| *$/g,"")),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3]?o[3].replace(/(?: *\| *)?\n$/,"").split("\n"):[]}).header.length===s.align.length){for(e=e.substring(o[0].length),u=0;u<s.align.length;u++)/^ *-+: *$/.test(s.align[u])?s.align[u]="right":/^ *:-+: *$/.test(s.align[u])?s.align[u]="center":/^ *:-+ *$/.test(s.align[u])?s.align[u]="left":s.align[u]=null;for(u=0;u<s.cells.length;u++)s.cells[u]=f(s.cells[u].replace(/^ *\| *| *\| *$/g,""),s.header.length);this.tokens.push(s)}else if(o=this.rules.lheading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(n&&(o=this.rules.paragraph.exec(e)))e=e.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var v={escape:/^\\([!"#$%&'()*+,\-.\/:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:p,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(href(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)|^__([^\s])__(?!_)|^\*\*([^\s])\*\*(?!\*)/,em:/^_([^\s][\s\S]*?[^\s_])_(?!_)|^_([^\s_][\s\S]*?[^\s])_(?!_)|^\*([^\s][\s\S]*?[^\s*])\*(?!\*)|^\*([^\s*][\s\S]*?[^\s])\*(?!\*)|^_([^\s_])_(?!_)|^\*([^\s*])\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`]?)\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:p,text:/^[\s\S]+?(?=[\\<!\[`*]|\b_| {2,}\n|$)/,_escapes:/\\([!"#$%&'()*+,\-.\/:;<=>?@\[\]\\^_`{|}~])/g,_scheme:/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,_email:/[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/};v.autolink=u(v.autolink).replace("scheme",v._scheme).replace("email",v._email).getRegex(),v._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,v.tag=u(v.tag).replace("comment",m._comment).replace("attribute",v._attribute).getRegex(),v._label=/(?:\[[^\[\]]*\]|\\[\[\]]?|`[^`]*`|[^\[\]\\])*?/,v._href=/\s*(<(?:\\[<>]?|[^\s<>\\])*>|(?:\\[()]?|\([^\s\x00-\x1f()\\]*\)|[^\s\x00-\x1f()\\])*?)/,v._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,v.link=u(v.link).replace("label",v._label).replace("href",v._href).replace("title",v._title).getRegex(),v.reflink=u(v.reflink).replace("label",v._label).getRegex(),v.normal=d({},v),v.pedantic=d({},v.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:u(/^!?\[(label)\]\((.*?)\)/).replace("label",v._label).getRegex(),reflink:u(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",v._label).getRegex()}),v.gfm=d({},v.normal,{escape:u(v.escape).replace("])","~|])").getRegex(),url:u(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("email",v._email).getRegex(),_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:u(v.text).replace("]|","~]|").replace("|","|https?://|ftp://|www\\.|[a-zA-Z0-9.!#$%&'*+/=?^_`{\\|}~-]+@|").getRegex()}),v.breaks=d({},v.gfm,{br:u(v.br).replace("{2,}","*").getRegex(),text:u(v.gfm.text).replace("{2,}","*").getRegex()}),r.rules=v,r.output=function(e,n,t){return new r(n,t).output(e)},r.prototype.output=function(e){for(var n,t,o,i,a,c="";e;)if(a=this.rules.escape.exec(e))e=e.substring(a[0].length),c+=a[1];else if(a=this.rules.autolink.exec(e))e=e.substring(a[0].length),o="@"===a[2]?"mailto:"+(t=s(this.mangle(a[1]))):t=s(a[1]),c+=this.renderer.link(o,null,t);else if(this.inLink||!(a=this.rules.url.exec(e))){if(a=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(a[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(a[0])&&(this.inLink=!1),e=e.substring(a[0].length),c+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(a[0]):s(a[0]):a[0];else if(a=this.rules.link.exec(e))e=e.substring(a[0].length),this.inLink=!0,o=a[2],this.options.pedantic?(n=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o))?(o=n[1],i=n[3]):i="":i=a[3]?a[3].slice(1,-1):"",o=o.trim().replace(/^<([\s\S]*)>$/,"$1"),c+=this.outputLink(a,{href:r.escapes(o),title:r.escapes(i)}),this.inLink=!1;else if((a=this.rules.reflink.exec(e))||(a=this.rules.nolink.exec(e))){if(e=e.substring(a[0].length),n=(a[2]||a[1]).replace(/\s+/g," "),!(n=this.links[n.toLowerCase()])||!n.href){c+=a[0].charAt(0),e=a[0].substring(1)+e;continue}this.inLink=!0,c+=this.outputLink(a,n),this.inLink=!1}else if(a=this.rules.strong.exec(e))e=e.substring(a[0].length),c+=this.renderer.strong(this.output(a[4]||a[3]||a[2]||a[1]));else if(a=this.rules.em.exec(e))e=e.substring(a[0].length),c+=this.renderer.em(this.output(a[6]||a[5]||a[4]||a[3]||a[2]||a[1]));else if(a=this.rules.code.exec(e))e=e.substring(a[0].length),c+=this.renderer.codespan(s(a[2].trim(),!0));else if(a=this.rules.br.exec(e))e=e.substring(a[0].length),c+=this.renderer.br();else if(a=this.rules.del.exec(e))e=e.substring(a[0].length),c+=this.renderer.del(this.output(a[1]));else if(a=this.rules.text.exec(e))e=e.substring(a[0].length),c+=this.renderer.text(s(this.smartypants(a[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else a[0]=this.rules._backpedal.exec(a[0])[0],e=e.substring(a[0].length),"@"===a[2]?o="mailto:"+(t=s(a[0])):(t=s(a[0]),o="www."===a[1]?"http://"+t:t),c+=this.renderer.link(o,null,t);return c},r.escapes=function(e){return e?e.replace(r.rules._escapes,"$1"):e},r.prototype.outputLink=function(e,n){var t=n.href,r=n.title?s(n.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(t,r,this.output(e[1])):this.renderer.image(t,r,s(e[1]))},r.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},r.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var n,t="",r=e.length,o=0;o<r;o++)n=e.charCodeAt(o),Math.random()>.5&&(n="x"+n.toString(16)),t+="&#"+n+";";return t},o.prototype.code=function(e,n,t){if(this.options.highlight){var r=this.options.highlight(e,n);null!=r&&r!==e&&(t=!0,e=r)}return n?'<pre><code class="'+this.options.langPrefix+s(n,!0)+'">'+(t?e:s(e,!0))+"</code></pre>\n":"<pre><code>"+(t?e:s(e,!0))+"</code></pre>"},o.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},o.prototype.html=function(e){return e},o.prototype.heading=function(e,n,t){return this.options.headerIds?"<h"+n+' id="'+this.options.headerPrefix+t.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+n+">\n":"<h"+n+">"+e+"</h"+n+">\n"},o.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},o.prototype.list=function(e,n,t){var r=n?"ol":"ul";return"<"+r+(n&&1!==t?' start="'+t+'"':"")+">\n"+e+"</"+r+">\n"},o.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},o.prototype.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},o.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},o.prototype.table=function(e,n){return n&&(n="<tbody>"+n+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+n+"</table>\n"},o.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},o.prototype.tablecell=function(e,n){var t=n.header?"th":"td";return(n.align?"<"+t+' align="'+n.align+'">':"<"+t+">")+e+"</"+t+">\n"},o.prototype.strong=function(e){return"<strong>"+e+"</strong>"},o.prototype.em=function(e){return"<em>"+e+"</em>"},o.prototype.codespan=function(e){return"<code>"+e+"</code>"},o.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},o.prototype.del=function(e){return"<del>"+e+"</del>"},o.prototype.link=function(e,n,t){if(this.options.sanitize){try{var r=decodeURIComponent(c(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return t}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return t}this.options.baseUrl&&!y.test(e)&&(e=l(this.options.baseUrl,e));try{e=encodeURI(e).replace(/%25/g,"%")}catch(e){return t}var o='<a href="'+s(e)+'"';return n&&(o+=' title="'+n+'"'),o+">"+t+"</a>"},o.prototype.image=function(e,n,t){this.options.baseUrl&&!y.test(e)&&(e=l(this.options.baseUrl,e));var r='<img src="'+e+'" alt="'+t+'"';return n&&(r+=' title="'+n+'"'),r+(this.options.xhtml?"/>":">")},o.prototype.text=function(e){return e},i.prototype.strong=i.prototype.em=i.prototype.codespan=i.prototype.del=i.prototype.text=function(e){return e},i.prototype.link=i.prototype.image=function(e,n,t){return""+t},i.prototype.br=function(){return""},a.parse=function(e,n){return new a(n).parse(e)},a.prototype.parse=function(e){this.inline=new r(e.links,this.options),this.inlineText=new r(e.links,d({},this.options,{renderer:new i})),this.tokens=e.reverse();for(var n="";this.next();)n+=this.tok();return n},a.prototype.next=function(){return this.token=this.tokens.pop()},a.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},a.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},a.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,c(this.inlineText.output(this.token.text)));case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,n,t,r,o="",i="";for(t="",e=0;e<this.token.header.length;e++)t+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(o+=this.renderer.tablerow(t),e=0;e<this.token.cells.length;e++){for(n=this.token.cells[e],t="",r=0;r<n.length;r++)t+=this.renderer.tablecell(this.inline.output(n[r]),{header:!1,align:this.token.align[r]});i+=this.renderer.tablerow(t)}return this.renderer.table(o,i);case"blockquote_start":for(i="";"blockquote_end"!==this.next().type;)i+=this.tok();return this.renderer.blockquote(i);case"list_start":i="";for(var a=this.token.ordered,s=this.token.start;"list_end"!==this.next().type;)i+=this.tok();return this.renderer.list(i,a,s);case"list_item_start":for(i="",this.token.task&&(i+=this.renderer.checkbox(this.token.checked));"list_item_end"!==this.next().type;)i+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(i);case"loose_item_start":for(i="";"list_item_end"!==this.next().type;)i+=this.tok();return this.renderer.listitem(i);case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}};var g={},y=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;p.exec=p,h.options=h.setOptions=function(e){return d(h.defaults,e),h},h.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new o,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tables:!0,xhtml:!1}},h.defaults=h.getDefaults(),h.Parser=a,h.parser=a.parse,h.Renderer=o,h.TextRenderer=i,h.Lexer=t,h.lexer=t.lex,h.InlineLexer=r,h.inlineLexer=r.output,h.parse=h,e.exports=h}(this||"undefined"!=typeof window&&window)}).call(n,t(10))},function(e,n){e.exports={name:"valine",version:"1.3.6",description:"A simple comment system based on Leancloud.",main:"/dist/Valine.min.js",author:"xCss <xioveliu@gmail.com> (https://github.com/xCss)",scripts:{test:"webpack",build:"webpack",dev:"webpack-dev-server --env.dev",clean:"rm -rf dist/* "},keywords:["simple","easy-to-use","fast-and-safe","comment-system"],license:"GPL-2.0",repository:{type:"git",url:"git+https://github.com/xcss/Valine.git"},homepage:"https://github.com/xcss/Valine#readme",devDependencies:{autoprefixer:"^7.1.1",autosize:"^4.0.2","babel-core":"^6.25.0","babel-loader":"^7.1.1","babel-polyfill":"^6.23.0","babel-preset-es2015":"^6.24.1","babel-preset-stage-0":"^6.24.1","blueimp-md5":"^2.8.0","css-loader":"^0.28.4","exports-loader":"^0.6.3","file-loader":"^0.11.2",hanabi:"^0.4.0",marked:"^0.4.0","node-sass":"^4.9.2","postcss-loader":"^2.0.5","sass-loader":"^6.0.3","style-loader":"^0.18.2","url-loader":"^0.6.2",webpack:"^2.6.1","webpack-cli":"^3.3.0","webpack-dev-server":"^2.9.1"}}},function(e,n){var t;t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(t=window)}e.exports=t},function(e,n){e.exports={grinning:"😀",smiley:"😃",smile:"😄",grin:"😁",laughing:"😆",sweat_smile:"😅",joy:"😂",blush:"😊",innocent:"😇",wink:"😉",relieved:"😌",heart_eyes:"😍",kissing_heart:"😘",kissing:"😗",kissing_smiling_eyes:"😙",kissing_closed_eyes:"😚",yum:"😋",stuck_out_tongue_winking_eye:"😜",stuck_out_tongue_closed_eyes:"😝",stuck_out_tongue:"😛",sunglasses:"😎",smirk:"😏",unamused:"😒",disappointed:"😞",pensive:"😔",worried:"😟",confused:"😕",persevere:"😣",confounded:"😖",tired_face:"😫",weary:"😩",angry:"😠",rage:"😡",no_mouth:"😶",neutral_face:"😐",expressionless:"😑",hushed:"😯",frowning:"😦",anguished:"😧",open_mouth:"😮",astonished:"😲",dizzy_face:"😵",flushed:"😳",scream:"😱",fearful:"😨",cold_sweat:"😰",cry:"😢",disappointed_relieved:"😥",sob:"😭",sweat:"😓",sleepy:"😪",sleeping:"😴",mask:"😷",smiling_imp:"😈",smiley_cat:"😺",smile_cat:"😸",joy_cat:"😹",heart_eyes_cat:"😻",smirk_cat:"😼",kissing_cat:"😽",scream_cat:"🙀",crying_cat_face:"😿",pouting_cat:"😾",cat:"🐱",mouse:"🐭",cow:"🐮",monkey_face:"🐵",hand:"✋",fist:"✊",v:"✌️",point_up:"👆",point_down:"👇",point_left:"👈",point_right:"👉",facepunch:"👊",wave:"👋",clap:"👏",open_hands:"👐","+1":"👍","-1":"👎",ok_hand:"👌",pray:"🙏",ear:"👂",eyes:"👀",nose:"👃",lips:"👄",tongue:"👅",heart:"❤️",cupid:"💘",sparkling_heart:"💖",star:"⭐️",sparkles:"✨",zap:"⚡️",sunny:"☀️",cloud:"☁️",snowflake:"❄️",umbrella:"☔️",coffee:"☕️",airplane:"✈️",anchor:"⚓️",watch:"⌚️",phone:"☎️",hourglass:"⌛️",email:"✉️",scissors:"✂️",black_nib:"✒️",pencil2:"✏️",x:"❌",recycle:"♻️",white_check_mark:"✅",negative_squared_cross_mark:"❎",m:"Ⓜ️",i:"ℹ️",tm:"™️",copyright:"©️",registered:"®️"}},function(e,n,t){var r=t(13);"string"==typeof r&&(r=[[e.i,r,""]]);var o={transform:void 0};t(15)(r,o),r.locals&&(e.exports=r.locals)},function(e,n,t){(e.exports=t(14)(!1)).push([e.i,'.v *{-webkit-box-sizing:border-box;box-sizing:border-box;line-height:2;color:#555;-webkit-transition:all .3s ease;transition:all .3s ease}.v hr{margin:.825rem 0;border-color:#f6f6f6;border-style:dashed}.v.hide-avatar .vimg{display:none}.v a{position:relative;cursor:pointer;color:#1abc9c;display:inline-block}.v a:before{content:"";position:absolute;width:0;right:0;bottom:0;height:1px;background:#1abc9c;-webkit-transition:width .3s ease;transition:width .3s ease}.v a:hover{color:#d7191a}.v a:hover:before{width:100%;left:0;right:auto}.v code,.v pre{background-color:#f6f6f6;color:#555;padding:.2em .4em;border-radius:3px;font-size:85%;margin:0;font-family:Source Code Pro,courier new,Input Mono,PT Mono,SFMono-Regular,Consolas,Monaco,Menlo,PingFang SC,Liberation Mono,Microsoft YaHei,Courier，monospace}.v pre{padding:10px;overflow:auto;line-height:1.45}.v pre code{padding:0;background:transparent;white-space:pre-wrap;word-break:keep-all}.v blockquote{color:#666;margin:.5rem 0;padding:0 0 0 1rem;border-left:8px solid hsla(0,0%,93%,.5)}.v .vinput{border:none;resize:none;outline:none;padding:10px 5px;max-width:100%;font-size:.775rem}.v input[type=checkbox],.v input[type=radio]{display:inline-block;vertical-align:middle;margin-top:-2px}.v .vwrap{border:1px solid #f0f0f0;border-radius:4px;margin-bottom:10px;overflow:hidden;position:relative;padding:10px}.v .vwrap input{background:transparent}.v .vwrap .vedit{position:relative;padding-top:10px}.v .vwrap .vedit .vctrl{text-align:right;font-size:12px}.v .vwrap .vedit .vctrl span{padding:10px;display:inline-block;vertical-align:middle;cursor:pointer}.v .vwrap .vedit .vemojis{display:none;font-size:18px;text-align:justify;max-height:145px;overflow:auto;margin-bottom:10px;-webkit-box-shadow:0 0 1px #f0f0f0;box-shadow:0 0 1px #f0f0f0}.v .vwrap .vedit .vemojis i{font-style:normal;padding:7px 0;width:38px;cursor:pointer;text-align:center;display:inline-block;vertical-align:middle}.v .vwrap .vedit .vpreview{padding:7px;-webkit-box-shadow:0 0 1px #f0f0f0;box-shadow:0 0 1px #f0f0f0}.v .vwrap .vedit .vpreview frame,.v .vwrap .vedit .vpreview iframe,.v .vwrap .vedit .vpreview img{max-width:100%;border:none}.v .vwrap .vheader .vinput{width:33.33%;border-bottom:1px dashed #dedede}.v .vwrap .vheader.item2 .vinput{width:50%}.v .vwrap .vheader.item1 .vinput{width:100%}.v .vwrap .vheader .vinput:focus{border-bottom-color:#eb5055}@media screen and (max-width:520px){.v .vwrap .vheader.item2 .vinput,.v .vwrap .vheader .vinput{width:100%}}.v .vwrap .vcontrol{font-size:0;padding-top:15px}.v .vwrap .vcontrol .col{display:inline-block;font-size:.725rem;vertical-align:middle;color:#ccc}.v .vwrap .vcontrol .col.text-right{text-align:right}.v .vwrap .vcontrol .col svg{margin-right:2px;overflow:hidden;fill:currentColor;vertical-align:middle}.v .vwrap .vcontrol .col.col-20{width:20%}.v .vwrap .vcontrol .col.col-40{width:40%}.v .vwrap .vcontrol .col.col-60{width:60%}.v .vwrap .vcontrol .col.col-80{width:80%}.v .vwrap .vcontrol .col.split{width:50%}.v .vwrap .vmark{position:absolute;background:rgba(0,0,0,.65);width:100%;height:100%;left:0;top:0}.v .vwrap .vmark .valert{padding-top:3rem}.v .vwrap .vmark .valert .vtext{color:#fff;padding:1rem 0}.v .vwrap .vmark .valert .vcode{width:4.6875rem;border-radius:.3125rem;padding:.5rem;background:#dedede}.v .vwrap .vmark .valert .vcode:focus{border-color:#3090e4;background-color:#fff}@media screen and (max-width:720px){.v .vwrap .vmark .valert{padding-top:5.5rem}.v .vwrap .vmark .valert .vtext{color:#fff;padding:1rem 0}}.v .power{color:#999;padding:.5rem 0}.v .power,.v .power a{font-size:.75rem}.v .vinfo{font-size:0;padding:5px}.v .vinfo .col{font-size:.875rem;display:inline-block;width:50%;vertical-align:middle}.v .vinfo .vcount .vnum{font-weight:600;font-size:1.25rem}.v a{text-decoration:none;color:#555}.v a:hover{color:#222}.v ol,.v ul{padding:0;margin-left:1.25rem}.v .txt-center{text-align:center}.v .txt-right{text-align:right}.v .pd5{padding:5px}.v .pd10{padding:10px}.v .veditor{width:100%;min-height:8.75rem;font-size:.875rem;background:transparent;resize:vertical;-webkit-transition:all .25s ease;transition:all .25s ease}.v .vbtn{-webkit-transition-duration:.4s;transition-duration:.4s;text-align:center;color:#313131;border:1px solid #ededed;border-radius:.3rem;display:inline-block;background:#ededed;margin-bottom:0;font-weight:400;vertical-align:middle;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer;white-space:nowrap;padding:.5rem 1.25rem;font-size:.875rem;line-height:1.42857143;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;outline:none}.v .vbtn+.vbtn{margin-left:1.25rem}.v .vbtn:active,.v .vbtn:hover{color:#3090e4;border-color:#3090e4;background-color:#fff}.v .vempty{padding:1.25rem;text-align:center;color:#999}.v .vlist{width:100%}.v .vlist .vcard{padding-top:1.5rem;position:relative;display:block}.v .vlist .vcard:after{content:"";clear:both;display:block}.v .vlist .vcard .vimg{width:3.125rem;height:3.125rem;float:left;border-radius:50%;margin-right:.7525rem;border:1px solid #f5f5f5;padding:.125rem}@media screen and (max-width:720px){.v .vlist .vcard .vimg{width:2.5rem;height:2.5rem}}.v .vlist .vcard .vhead{line-height:1.5;margin-top:0}.v .vlist .vcard .vhead .vnick{position:relative;font-size:.875rem;font-weight:500;margin-right:.875rem;cursor:pointer;color:#1abc9c;text-decoration:none;display:inline-block}.v .vlist .vcard .vhead .vnick:before{content:"";position:absolute;width:0;right:0;bottom:0;height:1px;background:#1abc9c;-webkit-transition:width .3s ease;transition:width .3s ease}.v .vlist .vcard .vhead .vnick:hover{color:#d7191a}.v .vlist .vcard .vhead .vnick:hover:before{width:100%;left:0;right:auto}.v .vlist .vcard .vhead .vsys{display:inline-block;padding:.2rem .5rem;background:#ededed;color:#b3b1b1;font-size:.75rem;border-radius:.2rem;margin-right:.3rem}@media screen and (max-width:520px){.v .vlist .vcard .vhead .vsys{display:none}}.v .vlist .vcard .vh{overflow:hidden;padding-bottom:.5rem;border-bottom:1px dashed #f5f5f5}.v .vlist .vcard .vh .vtime{color:#b3b3b3;font-size:.75rem;margin-right:.875rem}.v .vlist .vcard .vh .vmeta{line-height:1;position:relative}.v .vlist .vcard .vh .vmeta .vat{font-size:.8125rem;color:#ef2f11;cursor:pointer;float:right}.v .vlist .vcard:last-child .vh{border-bottom:none}.v .vlist .vcard .vcontent{word-wrap:break-word;word-break:break-all;text-align:justify;color:#4a4a4a;font-size:.875rem;line-height:2;position:relative;margin-bottom:.75rem;padding-top:.625rem}.v .vlist .vcard .vcontent frame,.v .vlist .vcard .vcontent iframe,.v .vlist .vcard .vcontent img{max-width:100%;border:none}.v .vlist .vcard .vcontent.expand{cursor:pointer;max-height:11.25rem;overflow:hidden}.v .vlist .vcard .vcontent.expand:before{display:block;content:"";position:absolute;width:100%;left:0;top:0;bottom:3.15rem;pointer-events:none;background:-webkit-gradient(linear,left top,left bottom,from(hsla(0,0%,100%,0)),to(hsla(0,0%,100%,.9)));background:linear-gradient(180deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.9))}.v .vlist .vcard .vcontent.expand:after{display:block;content:"Click on expand";text-align:center;color:#828586;position:absolute;width:100%;height:3.15rem;line-height:3.15rem;left:0;bottom:0;pointer-events:none;background:hsla(0,0%,100%,.9)}.v .vlist .vcard .vquote{color:#666;margin-top:1rem;padding-left:1rem;border-left:1px dashed hsla(0,0%,93%,.5)}.v .vlist .vcard .vquote .vimg{width:2.225rem;height:2.225rem}.v .vpage .vmore{margin:1rem 0}.v .clear{content:"";display:block;clear:both}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes pulse{50%{background:#dcdcdc}}@keyframes pulse{50%{background:#dcdcdc}}.v .vloading{position:relative;padding:20px;display:block;height:80px}.v .vloading:before{-webkit-box-sizing:border-box;box-sizing:border-box;content:"";position:absolute;display:inline-block;top:20px;left:50%;margin-left:-20px;width:40px;height:40px;border:6px double #a0a0a0;border-top-color:transparent;border-bottom-color:transparent;border-radius:50%;-webkit-animation:spin 1s infinite linear;animation:spin 1s infinite linear}',""])},function(e,n){function t(e,n){var t=e[1]||"",r=e[3];if(!r)return t;if(n&&"function"==typeof btoa){var o=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(r);return[t].concat(r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}))).concat([o]).join("\n")}return[t].join("\n")}e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var r=t(n,e);return n[2]?"@media "+n[2]+"{"+r+"}":r})).join("")},n.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(t&&!a[2]?a[2]=t:t&&(a[2]="("+a[2]+") and ("+t+")"),n.push(a))}},n}},function(e,n,t){function r(e,n){for(var t=0;t<e.length;t++){var r=e[t],o=h[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(l(r.parts[i],n))}else{var a=[];for(i=0;i<r.parts.length;i++)a.push(l(r.parts[i],n));h[r.id]={id:r.id,refs:1,parts:a}}}}function o(e,n){for(var t=[],r={},o=0;o<e.length;o++){var i=e[o],a=n.base?i[0]+n.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):t.push(r[a]={id:a,parts:[s]})}return t}function i(e,n){var t=v(e.insertInto);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=b[b.length-1];if("top"===e.insertAt)r?r.nextSibling?t.insertBefore(n,r.nextSibling):t.appendChild(n):t.insertBefore(n,t.firstChild),b.push(n);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");t.appendChild(n)}}function a(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var n=b.indexOf(e);n>=0&&b.splice(n,1)}function s(e){var n=document.createElement("style");return e.attrs.type="text/css",u(n,e.attrs),i(e,n),n}function c(e){var n=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",u(n,e.attrs),i(e,n),n}function u(e,n){Object.keys(n).forEach((function(t){e.setAttribute(t,n[t])}))}function l(e,n){var t,r,o,i;if(n.transform&&e.css){if(!(i=n.transform(e.css)))return function(){};e.css=i}if(n.singleton){var u=y++;t=g||(g=s(n)),r=p.bind(null,t,u,!1),o=p.bind(null,t,u,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(t=c(n),r=f.bind(null,t,n),o=function(){a(t),t.href&&URL.revokeObjectURL(t.href)}):(t=s(n),r=d.bind(null,t),o=function(){a(t)});return r(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;r(e=n)}else o()}}function p(e,n,t,r){var o=t?"":r.css;if(e.styleSheet)e.styleSheet.cssText=E(n,o);else{var i=document.createTextNode(o),a=e.childNodes;a[n]&&e.removeChild(a[n]),a.length?e.insertBefore(i,a[n]):e.appendChild(i)}}function d(e,n){var t=n.css,r=n.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}function f(e,n,t){var r=t.css,o=t.sourceMap,i=void 0===n.convertToAbsoluteUrls&&o;(n.convertToAbsoluteUrls||i)&&(r=w(r)),o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}var h={},m=function(e){var n;return function(){return void 0===n&&(n=e.apply(this,arguments)),n}}((function(){return window&&document&&document.all&&!window.atob})),v=function(e){var n={};return function(t){return void 0===n[t]&&(n[t]=e.call(this,t)),n[t]}}((function(e){return document.querySelector(e)})),g=null,y=0,b=[],w=t(16);e.exports=function(e,n){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(n=n||{}).attrs="object"==typeof n.attrs?n.attrs:{},n.singleton||(n.singleton=m()),n.insertInto||(n.insertInto="head"),n.insertAt||(n.insertAt="bottom");var t=o(e,n);return r(t,n),function(e){for(var i=[],a=0;a<t.length;a++){var s=t[a];(c=h[s.id]).refs--,i.push(c)}for(e&&r(o(e,n),n),a=0;a<i.length;a++){var c;if(0===(c=i[a]).refs){for(var u=0;u<c.parts.length;u++)c.parts[u]();delete h[c.id]}}}};var E=function(){var e=[];return function(n,t){return e[n]=t,e.filter(Boolean).join("\n")}}()},function(e,n){e.exports=function(e){var n="undefined"!=typeof window&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var t=n.protocol+"//"+n.host,r=t+n.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,n){var o,i=n.trim().replace(/^"(.*)"$/,(function(e,n){return n})).replace(/^'(.*)'$/,(function(e,n){return n}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i)?e:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?t+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},function(e,n,t){t(12),e.exports=t(1)}])},function(e,n,t){"undefined"!=typeof self&&self,e.exports=function(e){function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var t={};return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=15)}([function(e,n,t){(function(e,t){var r;!function(){var o="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||this||{},i=o._,a=Array.prototype,s=Object.prototype,c="undefined"!=typeof Symbol?Symbol.prototype:null,u=a.push,l=a.slice,p=s.toString,d=s.hasOwnProperty,f=Array.isArray,h=Object.keys,m=Object.create,v=function(){},g=function(e){return e instanceof g?e:this instanceof g?void(this._wrapped=e):new g(e)};void 0===n||n.nodeType?o._=g:(void 0!==t&&!t.nodeType&&t.exports&&(n=t.exports=g),n._=g),g.VERSION="1.9.1";var y,b=function(e,n,t){if(void 0===n)return e;switch(null==t?3:t){case 1:return function(t){return e.call(n,t)};case 3:return function(t,r,o){return e.call(n,t,r,o)};case 4:return function(t,r,o,i){return e.call(n,t,r,o,i)}}return function(){return e.apply(n,arguments)}},w=function(e,n,t){return g.iteratee!==y?g.iteratee(e,n):null==e?g.identity:g.isFunction(e)?b(e,n,t):g.isObject(e)&&!g.isArray(e)?g.matcher(e):g.property(e)};g.iteratee=y=function(e,n){return w(e,n,1/0)};var E=function(e,n){return n=null==n?e.length-1:+n,function(){for(var t=Math.max(arguments.length-n,0),r=Array(t),o=0;o<t;o++)r[o]=arguments[o+n];switch(n){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var i=Array(n+1);for(o=0;o<n;o++)i[o]=arguments[o];return i[n]=r,e.apply(this,i)}},_=function(e){if(!g.isObject(e))return{};if(m)return m(e);v.prototype=e;var n=new v;return v.prototype=null,n},x=function(e){return function(n){return null==n?void 0:n[e]}},A=function(e,n){return null!=e&&d.call(e,n)},k=function(e,n){for(var t=n.length,r=0;r<t;r++){if(null==e)return;e=e[n[r]]}return t?e:void 0},C=Math.pow(2,53)-1,O=x("length"),S=function(e){var n=O(e);return"number"==typeof n&&n>=0&&n<=C};g.each=g.forEach=function(e,n,t){var r,o;if(n=b(n,t),S(e))for(r=0,o=e.length;r<o;r++)n(e[r],r,e);else{var i=g.keys(e);for(r=0,o=i.length;r<o;r++)n(e[i[r]],i[r],e)}return e},g.map=g.collect=function(e,n,t){n=w(n,t);for(var r=!S(e)&&g.keys(e),o=(r||e).length,i=Array(o),a=0;a<o;a++){var s=r?r[a]:a;i[a]=n(e[s],s,e)}return i};var B=function(e){var n=function(n,t,r,o){var i=!S(n)&&g.keys(n),a=(i||n).length,s=e>0?0:a-1;for(o||(r=n[i?i[s]:s],s+=e);s>=0&&s<a;s+=e){var c=i?i[s]:s;r=t(r,n[c],c,n)}return r};return function(e,t,r,o){var i=arguments.length>=3;return n(e,b(t,o,4),r,i)}};g.reduce=g.foldl=g.inject=B(1),g.reduceRight=g.foldr=B(-1),g.find=g.detect=function(e,n,t){var r=(S(e)?g.findIndex:g.findKey)(e,n,t);if(void 0!==r&&-1!==r)return e[r]},g.filter=g.select=function(e,n,t){var r=[];return n=w(n,t),g.each(e,(function(e,t,o){n(e,t,o)&&r.push(e)})),r},g.reject=function(e,n,t){return g.filter(e,g.negate(w(n)),t)},g.every=g.all=function(e,n,t){n=w(n,t);for(var r=!S(e)&&g.keys(e),o=(r||e).length,i=0;i<o;i++){var a=r?r[i]:i;if(!n(e[a],a,e))return!1}return!0},g.some=g.any=function(e,n,t){n=w(n,t);for(var r=!S(e)&&g.keys(e),o=(r||e).length,i=0;i<o;i++){var a=r?r[i]:i;if(n(e[a],a,e))return!0}return!1},g.contains=g.includes=g.include=function(e,n,t,r){return S(e)||(e=g.values(e)),("number"!=typeof t||r)&&(t=0),g.indexOf(e,n,t)>=0},g.invoke=E((function(e,n,t){var r,o;return g.isFunction(n)?o=n:g.isArray(n)&&(r=n.slice(0,-1),n=n[n.length-1]),g.map(e,(function(e){var i=o;if(!i){if(r&&r.length&&(e=k(e,r)),null==e)return;i=e[n]}return null==i?i:i.apply(e,t)}))})),g.pluck=function(e,n){return g.map(e,g.property(n))},g.where=function(e,n){return g.filter(e,g.matcher(n))},g.findWhere=function(e,n){return g.find(e,g.matcher(n))},g.max=function(e,n,t){var r,o,i=-1/0,a=-1/0;if(null==n||"number"==typeof n&&"object"!=typeof e[0]&&null!=e)for(var s=0,c=(e=S(e)?e:g.values(e)).length;s<c;s++)null!=(r=e[s])&&r>i&&(i=r);else n=w(n,t),g.each(e,(function(e,t,r){((o=n(e,t,r))>a||o===-1/0&&i===-1/0)&&(i=e,a=o)}));return i},g.min=function(e,n,t){var r,o,i=1/0,a=1/0;if(null==n||"number"==typeof n&&"object"!=typeof e[0]&&null!=e)for(var s=0,c=(e=S(e)?e:g.values(e)).length;s<c;s++)null!=(r=e[s])&&r<i&&(i=r);else n=w(n,t),g.each(e,(function(e,t,r){((o=n(e,t,r))<a||o===1/0&&i===1/0)&&(i=e,a=o)}));return i},g.shuffle=function(e){return g.sample(e,1/0)},g.sample=function(e,n,t){if(null==n||t)return S(e)||(e=g.values(e)),e[g.random(e.length-1)];var r=S(e)?g.clone(e):g.values(e),o=O(r);n=Math.max(Math.min(n,o),0);for(var i=o-1,a=0;a<n;a++){var s=g.random(a,i),c=r[a];r[a]=r[s],r[s]=c}return r.slice(0,n)},g.sortBy=function(e,n,t){var r=0;return n=w(n,t),g.pluck(g.map(e,(function(e,t,o){return{value:e,index:r++,criteria:n(e,t,o)}})).sort((function(e,n){var t=e.criteria,r=n.criteria;if(t!==r){if(t>r||void 0===t)return 1;if(t<r||void 0===r)return-1}return e.index-n.index})),"value")};var j=function(e,n){return function(t,r,o){var i=n?[[],[]]:{};return r=w(r,o),g.each(t,(function(n,o){var a=r(n,o,t);e(i,n,a)})),i}};g.groupBy=j((function(e,n,t){A(e,t)?e[t].push(n):e[t]=[n]})),g.indexBy=j((function(e,n,t){e[t]=n})),g.countBy=j((function(e,n,t){A(e,t)?e[t]++:e[t]=1}));var T=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;g.toArray=function(e){return e?g.isArray(e)?l.call(e):g.isString(e)?e.match(T):S(e)?g.map(e,g.identity):g.values(e):[]},g.size=function(e){return null==e?0:S(e)?e.length:g.keys(e).length},g.partition=j((function(e,n,t){e[t?0:1].push(n)}),!0),g.first=g.head=g.take=function(e,n,t){return null==e||e.length<1?null==n?void 0:[]:null==n||t?e[0]:g.initial(e,e.length-n)},g.initial=function(e,n,t){return l.call(e,0,Math.max(0,e.length-(null==n||t?1:n)))},g.last=function(e,n,t){return null==e||e.length<1?null==n?void 0:[]:null==n||t?e[e.length-1]:g.rest(e,Math.max(0,e.length-n))},g.rest=g.tail=g.drop=function(e,n,t){return l.call(e,null==n||t?1:n)},g.compact=function(e){return g.filter(e,Boolean)};var D=function(e,n,t,r){for(var o=(r=r||[]).length,i=0,a=O(e);i<a;i++){var s=e[i];if(S(s)&&(g.isArray(s)||g.isArguments(s)))if(n)for(var c=0,u=s.length;c<u;)r[o++]=s[c++];else D(s,n,t,r),o=r.length;else t||(r[o++]=s)}return r};g.flatten=function(e,n){return D(e,n,!1)},g.without=E((function(e,n){return g.difference(e,n)})),g.uniq=g.unique=function(e,n,t,r){g.isBoolean(n)||(r=t,t=n,n=!1),null!=t&&(t=w(t,r));for(var o=[],i=[],a=0,s=O(e);a<s;a++){var c=e[a],u=t?t(c,a,e):c;n&&!t?(a&&i===u||o.push(c),i=u):t?g.contains(i,u)||(i.push(u),o.push(c)):g.contains(o,c)||o.push(c)}return o},g.union=E((function(e){return g.uniq(D(e,!0,!0))})),g.intersection=function(e){for(var n=[],t=arguments.length,r=0,o=O(e);r<o;r++){var i=e[r];if(!g.contains(n,i)){var a;for(a=1;a<t&&g.contains(arguments[a],i);a++);a===t&&n.push(i)}}return n},g.difference=E((function(e,n){return n=D(n,!0,!0),g.filter(e,(function(e){return!g.contains(n,e)}))})),g.unzip=function(e){for(var n=e&&g.max(e,O).length||0,t=Array(n),r=0;r<n;r++)t[r]=g.pluck(e,r);return t},g.zip=E(g.unzip),g.object=function(e,n){for(var t={},r=0,o=O(e);r<o;r++)n?t[e[r]]=n[r]:t[e[r][0]]=e[r][1];return t};var P=function(e){return function(n,t,r){t=w(t,r);for(var o=O(n),i=e>0?0:o-1;i>=0&&i<o;i+=e)if(t(n[i],i,n))return i;return-1}};g.findIndex=P(1),g.findLastIndex=P(-1),g.sortedIndex=function(e,n,t,r){for(var o=(t=w(t,r,1))(n),i=0,a=O(e);i<a;){var s=Math.floor((i+a)/2);t(e[s])<o?i=s+1:a=s}return i};var I=function(e,n,t){return function(r,o,i){var a=0,s=O(r);if("number"==typeof i)e>0?a=i>=0?i:Math.max(i+s,a):s=i>=0?Math.min(i+1,s):i+s+1;else if(t&&i&&s)return r[i=t(r,o)]===o?i:-1;if(o!=o)return(i=n(l.call(r,a,s),g.isNaN))>=0?i+a:-1;for(i=e>0?a:s-1;i>=0&&i<s;i+=e)if(r[i]===o)return i;return-1}};g.indexOf=I(1,g.findIndex,g.sortedIndex),g.lastIndexOf=I(-1,g.findLastIndex),g.range=function(e,n,t){null==n&&(n=e||0,e=0),t||(t=n<e?-1:1);for(var r=Math.max(Math.ceil((n-e)/t),0),o=Array(r),i=0;i<r;i++,e+=t)o[i]=e;return o},g.chunk=function(e,n){if(null==n||n<1)return[];for(var t=[],r=0,o=e.length;r<o;)t.push(l.call(e,r,r+=n));return t};var N=function(e,n,t,r,o){if(!(r instanceof n))return e.apply(t,o);var i=_(e.prototype),a=e.apply(i,o);return g.isObject(a)?a:i};g.bind=E((function(e,n,t){if(!g.isFunction(e))throw new TypeError("Bind must be called on a function");var r=E((function(o){return N(e,r,n,this,t.concat(o))}));return r})),g.partial=E((function(e,n){var t=g.partial.placeholder,r=function(){for(var o=0,i=n.length,a=Array(i),s=0;s<i;s++)a[s]=n[s]===t?arguments[o++]:n[s];for(;o<arguments.length;)a.push(arguments[o++]);return N(e,r,this,this,a)};return r})),g.partial.placeholder=g,g.bindAll=E((function(e,n){var t=(n=D(n,!1,!1)).length;if(t<1)throw new Error("bindAll must be passed function names");for(;t--;){var r=n[t];e[r]=g.bind(e[r],e)}})),g.memoize=function(e,n){var t=function(r){var o=t.cache,i=""+(n?n.apply(this,arguments):r);return A(o,i)||(o[i]=e.apply(this,arguments)),o[i]};return t.cache={},t},g.delay=E((function(e,n,t){return setTimeout((function(){return e.apply(null,t)}),n)})),g.defer=g.partial(g.delay,g,1),g.throttle=function(e,n,t){var r,o,i,a,s=0;t||(t={});var c=function(){s=!1===t.leading?0:g.now(),r=null,a=e.apply(o,i),r||(o=i=null)},u=function(){var u=g.now();s||!1!==t.leading||(s=u);var l=n-(u-s);return o=this,i=arguments,l<=0||l>n?(r&&(clearTimeout(r),r=null),s=u,a=e.apply(o,i),r||(o=i=null)):r||!1===t.trailing||(r=setTimeout(c,l)),a};return u.cancel=function(){clearTimeout(r),s=0,r=o=i=null},u},g.debounce=function(e,n,t){var r,o,i=function(n,t){r=null,t&&(o=e.apply(n,t))},a=E((function(a){if(r&&clearTimeout(r),t){var s=!r;r=setTimeout(i,n),s&&(o=e.apply(this,a))}else r=g.delay(i,n,this,a);return o}));return a.cancel=function(){clearTimeout(r),r=null},a},g.wrap=function(e,n){return g.partial(n,e)},g.negate=function(e){return function(){return!e.apply(this,arguments)}},g.compose=function(){var e=arguments,n=e.length-1;return function(){for(var t=n,r=e[n].apply(this,arguments);t--;)r=e[t].call(this,r);return r}},g.after=function(e,n){return function(){if(--e<1)return n.apply(this,arguments)}},g.before=function(e,n){var t;return function(){return--e>0&&(t=n.apply(this,arguments)),e<=1&&(n=null),t}},g.once=g.partial(g.before,2),g.restArguments=E;var F=!{toString:null}.propertyIsEnumerable("toString"),$=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],R=function(e,n){var t=$.length,r=e.constructor,o=g.isFunction(r)&&r.prototype||s,i="constructor";for(A(e,i)&&!g.contains(n,i)&&n.push(i);t--;)(i=$[t])in e&&e[i]!==o[i]&&!g.contains(n,i)&&n.push(i)};g.keys=function(e){if(!g.isObject(e))return[];if(h)return h(e);var n=[];for(var t in e)A(e,t)&&n.push(t);return F&&R(e,n),n},g.allKeys=function(e){if(!g.isObject(e))return[];var n=[];for(var t in e)n.push(t);return F&&R(e,n),n},g.values=function(e){for(var n=g.keys(e),t=n.length,r=Array(t),o=0;o<t;o++)r[o]=e[n[o]];return r},g.mapObject=function(e,n,t){n=w(n,t);for(var r=g.keys(e),o=r.length,i={},a=0;a<o;a++){var s=r[a];i[s]=n(e[s],s,e)}return i},g.pairs=function(e){for(var n=g.keys(e),t=n.length,r=Array(t),o=0;o<t;o++)r[o]=[n[o],e[n[o]]];return r},g.invert=function(e){for(var n={},t=g.keys(e),r=0,o=t.length;r<o;r++)n[e[t[r]]]=t[r];return n},g.functions=g.methods=function(e){var n=[];for(var t in e)g.isFunction(e[t])&&n.push(t);return n.sort()};var M=function(e,n){return function(t){var r=arguments.length;if(n&&(t=Object(t)),r<2||null==t)return t;for(var o=1;o<r;o++)for(var i=arguments[o],a=e(i),s=a.length,c=0;c<s;c++){var u=a[c];n&&void 0!==t[u]||(t[u]=i[u])}return t}};g.extend=M(g.allKeys),g.extendOwn=g.assign=M(g.keys),g.findKey=function(e,n,t){n=w(n,t);for(var r,o=g.keys(e),i=0,a=o.length;i<a;i++)if(n(e[r=o[i]],r,e))return r};var z,V,L=function(e,n,t){return n in t};g.pick=E((function(e,n){var t={},r=n[0];if(null==e)return t;g.isFunction(r)?(n.length>1&&(r=b(r,n[1])),n=g.allKeys(e)):(r=L,n=D(n,!1,!1),e=Object(e));for(var o=0,i=n.length;o<i;o++){var a=n[o],s=e[a];r(s,a,e)&&(t[a]=s)}return t})),g.omit=E((function(e,n){var t,r=n[0];return g.isFunction(r)?(r=g.negate(r),n.length>1&&(t=n[1])):(n=g.map(D(n,!1,!1),String),r=function(e,t){return!g.contains(n,t)}),g.pick(e,r,t)})),g.defaults=M(g.allKeys,!0),g.create=function(e,n){var t=_(e);return n&&g.extendOwn(t,n),t},g.clone=function(e){return g.isObject(e)?g.isArray(e)?e.slice():g.extend({},e):e},g.tap=function(e,n){return n(e),e},g.isMatch=function(e,n){var t=g.keys(n),r=t.length;if(null==e)return!r;for(var o=Object(e),i=0;i<r;i++){var a=t[i];if(n[a]!==o[a]||!(a in o))return!1}return!0},z=function(e,n,t,r){if(e===n)return 0!==e||1/e==1/n;if(null==e||null==n)return!1;if(e!=e)return n!=n;var o=typeof e;return("function"===o||"object"===o||"object"==typeof n)&&V(e,n,t,r)},V=function(e,n,t,r){e instanceof g&&(e=e._wrapped),n instanceof g&&(n=n._wrapped);var o=p.call(e);if(o!==p.call(n))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+n;case"[object Number]":return+e!=+e?+n!=+n:0==+e?1/+e==1/n:+e==+n;case"[object Date]":case"[object Boolean]":return+e==+n;case"[object Symbol]":return c.valueOf.call(e)===c.valueOf.call(n)}var i="[object Array]"===o;if(!i){if("object"!=typeof e||"object"!=typeof n)return!1;var a=e.constructor,s=n.constructor;if(a!==s&&!(g.isFunction(a)&&a instanceof a&&g.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in n)return!1}r=r||[];for(var u=(t=t||[]).length;u--;)if(t[u]===e)return r[u]===n;if(t.push(e),r.push(n),i){if((u=e.length)!==n.length)return!1;for(;u--;)if(!z(e[u],n[u],t,r))return!1}else{var l,d=g.keys(e);if(u=d.length,g.keys(n).length!==u)return!1;for(;u--;)if(l=d[u],!A(n,l)||!z(e[l],n[l],t,r))return!1}return t.pop(),r.pop(),!0},g.isEqual=function(e,n){return z(e,n)},g.isEmpty=function(e){return null==e||(S(e)&&(g.isArray(e)||g.isString(e)||g.isArguments(e))?0===e.length:0===g.keys(e).length)},g.isElement=function(e){return!(!e||1!==e.nodeType)},g.isArray=f||function(e){return"[object Array]"===p.call(e)},g.isObject=function(e){var n=typeof e;return"function"===n||"object"===n&&!!e},g.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],(function(e){g["is"+e]=function(n){return p.call(n)==="[object "+e+"]"}})),g.isArguments(arguments)||(g.isArguments=function(e){return A(e,"callee")});var U=o.document&&o.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof U&&(g.isFunction=function(e){return"function"==typeof e||!1}),g.isFinite=function(e){return!g.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},g.isNaN=function(e){return g.isNumber(e)&&isNaN(e)},g.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===p.call(e)},g.isNull=function(e){return null===e},g.isUndefined=function(e){return void 0===e},g.has=function(e,n){if(!g.isArray(n))return A(e,n);for(var t=n.length,r=0;r<t;r++){var o=n[r];if(null==e||!d.call(e,o))return!1;e=e[o]}return!!t},g.noConflict=function(){return o._=i,this},g.identity=function(e){return e},g.constant=function(e){return function(){return e}},g.noop=function(){},g.property=function(e){return g.isArray(e)?function(n){return k(n,e)}:x(e)},g.propertyOf=function(e){return null==e?function(){}:function(n){return g.isArray(n)?k(e,n):e[n]}},g.matcher=g.matches=function(e){return e=g.extendOwn({},e),function(n){return g.isMatch(n,e)}},g.times=function(e,n,t){var r=Array(Math.max(0,e));n=b(n,t,1);for(var o=0;o<e;o++)r[o]=n(o);return r},g.random=function(e,n){return null==n&&(n=e,e=0),e+Math.floor(Math.random()*(n-e+1))},g.now=Date.now||function(){return(new Date).getTime()};var q={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},W=g.invert(q),H=function(e){var n=function(n){return e[n]},t="(?:"+g.keys(e).join("|")+")",r=RegExp(t),o=RegExp(t,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(o,n):e}};g.escape=H(q),g.unescape=H(W),g.result=function(e,n,t){g.isArray(n)||(n=[n]);var r=n.length;if(!r)return g.isFunction(t)?t.call(e):t;for(var o=0;o<r;o++){var i=null==e?void 0:e[n[o]];void 0===i&&(i=t,o=r),e=g.isFunction(i)?i.call(e):i}return e};var G=0;g.uniqueId=function(e){var n=++G+"";return e?e+n:n},g.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,J={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Q=/\\|'|\r|\n|\u2028|\u2029/g,Y=function(e){return"\\"+J[e]};g.template=function(e,n,t){!n&&t&&(n=t),n=g.defaults({},n,g.templateSettings);var r,o=RegExp([(n.escape||K).source,(n.interpolate||K).source,(n.evaluate||K).source].join("|")+"|$","g"),i=0,a="__p+='";e.replace(o,(function(n,t,r,o,s){return a+=e.slice(i,s).replace(Q,Y),i=s+n.length,t?a+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'":r?a+="'+\n((__t=("+r+"))==null?'':__t)+\n'":o&&(a+="';\n"+o+"\n__p+='"),n})),a+="';\n",n.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=new Function(n.variable||"obj","_",a)}catch(e){throw e.source=a,e}var s=function(e){return r.call(this,e,g)};return s.source="function("+(n.variable||"obj")+"){\n"+a+"}",s},g.chain=function(e){var n=g(e);return n._chain=!0,n};var Z=function(e,n){return e._chain?g(n).chain():n};g.mixin=function(e){return g.each(g.functions(e),(function(n){var t=g[n]=e[n];g.prototype[n]=function(){var e=[this._wrapped];return u.apply(e,arguments),Z(this,t.apply(g,e))}})),g},g.mixin(g),g.each(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var n=a[e];g.prototype[e]=function(){var t=this._wrapped;return n.apply(t,arguments),"shift"!==e&&"splice"!==e||0!==t.length||delete t[0],Z(this,t)}})),g.each(["concat","join","slice"],(function(e){var n=a[e];g.prototype[e]=function(){return Z(this,n.apply(this._wrapped,arguments))}})),g.prototype.value=function(){return this._wrapped},g.prototype.valueOf=g.prototype.toJSON=g.prototype.value,g.prototype.toString=function(){return String(this._wrapped)},void 0!==(r=function(){return g}.apply(n,[]))&&(t.exports=r)}()}).call(n,t(7),t(17)(e))},function(e,n,t){"use strict";var r=t(29).Promise;r._continueWhile=function(e,n){return e()?n().then((function(){return r._continueWhile(e,n)})):r.resolve()},e.exports=r},function(e,n,t){"use strict";var r=t(0),o=t(44),i=t(0).extend,a=t(1),s=t(5),c=t(3),u=c.getSessionToken,l=c.ajax,p=function(e,n){var t=(new Date).getTime(),r=o(t+e);return n?r+","+t+",master":r+","+t},d=function(e,n){n?e["X-LC-Sign"]=p(s.applicationKey):e["X-LC-Key"]=s.applicationKey},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],t={"X-LC-Id":s.applicationId,"Content-Type":"application/json;charset=UTF-8"},r=!1;return"boolean"==typeof e.useMasterKey?r=e.useMasterKey:"boolean"==typeof s._config.useMasterKey&&(r=s._config.useMasterKey),r?s.masterKey?n?t["X-LC-Sign"]=p(s.masterKey,!0):t["X-LC-Key"]=s.masterKey+",master":(console.warn("masterKey is not set, fall back to use appKey"),d(t,n)):d(t,n),s.hookKey&&(t["X-LC-Hook-Key"]=s.hookKey),null!==s._config.production&&(t["X-LC-Prod"]=String(s._config.production)),t["X-LC-UA"]=s._sharedConfig.userAgent,a.resolve().then((function(){var n=u(e);if(n)t["X-LC-Session"]=n;else if(!s._config.disableCurrentUser)return s.User.currentAsync().then((function(e){return e&&e._sessionToken&&(t["X-LC-Session"]=e._sessionToken),t}));return t}))},h=function(e){var n=e.service,t=e.version,o=e.method,i=e.path,a=e.query,c=e.data,u=e.authOptions,p=e.signKey,d=void 0===p||p;if(!s.applicationId||!s.applicationKey&&!s.masterKey)throw new Error("Not initialized");s._appRouter.refresh();var h=s._config.requestTimeout,m=function(e){var n=e.service,t=void 0===n?"api":n,r=e.version,o=void 0===r?"1.1":r,i=e.path,a=s._config.serverURLs[t];if(!a)throw new Error("undefined server URL for "+t);return"/"!==a.charAt(a.length-1)&&(a+="/"),a+=o,i&&(a+=i),a}({service:n,path:i,version:t});return f(u,d).then((function(e){return l({method:o,url:m,query:a,data:c,headers:e,timeout:h}).catch((function(e){var n={code:e.code||-1,error:e.message||e.responseText};if(e.response&&e.response.code)n=e.response;else if(e.responseText)try{n=JSON.parse(e.responseText)}catch(e){}n.rawMessage=n.rawMessage||n.error,s._sharedConfig.keepErrorRawMessage||(n.error+=" ["+(e.statusCode||"N/A")+" "+o+" "+m+"]");var t=new Error(n.error);throw delete n.error,r.extend(t,n)}))}))};s.request=h,e.exports={_request:function(e,n,t,r,o,a,s){var c="";if(e&&(c+="/"+e),n&&(c+="/"+n),t&&(c+="/"+t),o&&o._fetchWhenSave)throw new Error("_fetchWhenSave should be in the query");if(o&&o._where)throw new Error("_where should be in the query");return r&&"get"===r.toLowerCase()&&(s=i({},s,o),o=null),h({method:r,path:c,query:s,data:o,authOptions:a})},request:h}},function(e,n,t){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=t(0),i=t(8),a=t(6),s=a("leancloud:request"),c=a("leancloud:request:error"),u=t(1),l=0,p=function(e){return o.isArray(e)?e:null==e?[]:[e]},d=function(){};e.exports={ajax:function(e){var n=e.method,t=e.url,o=e.query,p=e.data,d=e.headers,f=void 0===d?{}:d,h=e.onprogress,m=e.timeout,v={};if(o)for(var g in o){var y=o[g];void 0!==y&&("object"===(void 0===y?"undefined":r(y))?v[g]=JSON.stringify(y):v[g]=y)}var b=l++;return s("request(%d) %s %s %o %o %o",b,n,t,v,p,f),new u((function(e,r){var u=i(n,t).set(f).query(v).send(p);h&&u.on("progress",h),m&&u.timeout(m),u.end((function(i,u){return i?(u&&(a.enabled("leancloud:request")||c("request(%d) %s %s %o %o %o",b,n,t,o,p,f),c("response(%d) %d %O %o",b,u.status,u.body||u.text,u.header),i.statusCode=u.status,i.responseText=u.text,i.response=u.body),r(i)):(s("response(%d) %d %O %o",b,u.status,u.body||u.text,u.header),e(u.body))}))}))},isNullOrUndefined:function(e){return o.isNull(e)||o.isUndefined(e)},ensureArray:p,transformFetchOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.keys,t=e.include,r=e.includeACL,o={};return n&&(o.keys=p(n).join(",")),t&&(o.include=p(t).join(",")),r&&(o.returnACL=r),o},getSessionToken:function(e){return e.sessionToken?e.sessionToken:e.user&&"function"==typeof e.user.getSessionToken?e.user.getSessionToken():void 0},tap:function(e){return function(n){return e(n),n}},inherits:function(e,n,t){var r;return r=n&&n.hasOwnProperty("constructor")?n.constructor:function(){e.apply(this,arguments)},o.extend(r,e),d.prototype=e.prototype,r.prototype=new d,n&&o.extend(r.prototype,n),t&&o.extend(r,t),r.prototype.constructor=r,r.__super__=e.prototype,r},parseDate:function(e){return new Date(e)},setValue:function(e,n,t){var r=n.split("."),o=r.pop(),i=e;return r.forEach((function(e){void 0===i[e]&&(i[e]={}),i=i[e]})),i[o]=t,e},findValue:function(e,n){for(var t=n.split("."),r=t[0],o=t.pop(),i=e,a=0;a<t.length;a++)if(void 0===(i=i[t[a]]))return[void 0,void 0,o];return[i[o],i,o,r]},isPlainObject:function(e){return o.isObject(e)&&Object.getPrototypeOf(e)===Object.prototype}}},function(e,n,t){"use strict";function r(e,n){var t=new Error(n);return t.code=e,t}t(0).extend(r,{OTHER_CAUSE:-1,INTERNAL_SERVER_ERROR:1,CONNECTION_FAILED:100,OBJECT_NOT_FOUND:101,INVALID_QUERY:102,INVALID_CLASS_NAME:103,MISSING_OBJECT_ID:104,INVALID_KEY_NAME:105,INVALID_POINTER:106,INVALID_JSON:107,COMMAND_UNAVAILABLE:108,NOT_INITIALIZED:109,INCORRECT_TYPE:111,INVALID_CHANNEL_NAME:112,PUSH_MISCONFIGURED:115,OBJECT_TOO_LARGE:116,OPERATION_FORBIDDEN:119,CACHE_MISS:120,INVALID_NESTED_KEY:121,INVALID_FILE_NAME:122,INVALID_ACL:123,TIMEOUT:124,INVALID_EMAIL_ADDRESS:125,MISSING_CONTENT_TYPE:126,MISSING_CONTENT_LENGTH:127,INVALID_CONTENT_LENGTH:128,FILE_TOO_LARGE:129,FILE_SAVE_ERROR:130,FILE_DELETE_ERROR:153,DUPLICATE_VALUE:137,INVALID_ROLE_NAME:139,EXCEEDED_QUOTA:140,SCRIPT_FAILED:141,VALIDATION_ERROR:142,INVALID_IMAGE_DATA:150,UNSAVED_FILE_ERROR:151,INVALID_PUSH_TIME_ERROR:152,USERNAME_MISSING:200,PASSWORD_MISSING:201,USERNAME_TAKEN:202,EMAIL_TAKEN:203,EMAIL_MISSING:204,EMAIL_NOT_FOUND:205,SESSION_MISSING:206,MUST_CREATE_USER_THROUGH_SIGNUP:207,ACCOUNT_ALREADY_LINKED:208,LINKED_ID_MISSING:250,INVALID_LINKED_SESSION:251,UNSUPPORTED_SERVICE:252,X_DOMAIN_REQUEST:602}),e.exports=r},function(e,n,t){"use strict";(function(n){var r=t(0),o=t(9),i=t(6),a=t(22),s=t(3),c=s.inherits,u=s.parseDate,l=t(1),p=n.AV||{};p._config={serverURLs:{},useMasterKey:!1,production:null,realtime:null,requestTimeout:null},p._sharedConfig={userAgent:a,liveQueryRealtime:null},p._getAVPath=function(e){if(!p.applicationId)throw new Error("You need to call AV.initialize before using AV.");if(e||(e=""),!r.isString(e))throw new Error("Tried to get a localStorage path that wasn't a String.");return"/"===e[0]&&(e=e.substring(1)),"AV/"+p.applicationId+"/"+e},p._installationId=null,p._getInstallationId=function(){if(p._installationId)return l.resolve(p._installationId);var e=p._getAVPath("installationId");return p.localStorage.getItemAsync(e).then((function(n){return p._installationId=n,p._installationId?n:(p._installationId=n=o(),p.localStorage.setItemAsync(e,n).then((function(){return n})))}))},p._subscriptionId=null,p._refreshSubscriptionId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p._getAVPath("subscriptionId"),n=p._subscriptionId=o();return p.localStorage.setItemAsync(e,n).then((function(){return n}))},p._getSubscriptionId=function(){if(p._subscriptionId)return l.resolve(p._subscriptionId);var e=p._getAVPath("subscriptionId");return p.localStorage.getItemAsync(e).then((function(n){return p._subscriptionId=n,p._subscriptionId||(n=p._refreshSubscriptionId(e)),n}))},p._parseDate=u,p._extend=function(e,n){var t=c(this,e,n);return t.extend=this.extend,t},p._encode=function(e,n,t){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e instanceof p.Object){if(t)throw new Error("AV.Objects not allowed here");return n&&!r.include(n,e)&&e._hasData?e._toFullJSON(n.concat(e),o):e._toPointer()}if(e instanceof p.ACL)return e.toJSON();if(r.isDate(e))return o?{__type:"Date",iso:e.toJSON()}:e.toJSON();if(e instanceof p.GeoPoint)return e.toJSON();if(r.isArray(e))return r.map(e,(function(e){return p._encode(e,n,t,o)}));if(r.isRegExp(e))return e.source;if(e instanceof p.Relation)return e.toJSON();if(e instanceof p.Op)return e.toJSON();if(e instanceof p.File){if(!e.url()&&!e.id)throw new Error("Tried to save an object containing an unsaved file.");return e._toFullJSON(n,o)}return r.isObject(e)?r.mapObject(e,(function(e,r){return p._encode(e,n,t,o)})):e},p._decode=function(e,n){if(!r.isObject(e)||r.isDate(e))return e;if(r.isArray(e))return r.map(e,(function(e){return p._decode(e)}));if(e instanceof p.Object)return e;if(e instanceof p.File)return e;if(e instanceof p.Op)return e;if(e instanceof p.GeoPoint)return e;if(e instanceof p.ACL)return e;if("ACL"===n)return new p.ACL(e);if(e.__op)return p.Op._decode(e);var t;if("Pointer"===e.__type){t=e.className;var o=p.Object._create(t);if(Object.keys(e).length>3){var i=r.clone(e);delete i.__type,delete i.className,o._finishFetch(i,!0)}else o._finishFetch({objectId:e.objectId},!1);return o}if("Object"===e.__type){t=e.className;var a=r.clone(e);delete a.__type,delete a.className;var s=p.Object._create(t);return s._finishFetch(a,!0),s}if("Date"===e.__type)return p._parseDate(e.iso);if("GeoPoint"===e.__type)return new p.GeoPoint({latitude:e.latitude,longitude:e.longitude});if("Relation"===e.__type){if(!n)throw new Error("key missing decoding a Relation");var c=new p.Relation(null,n);return c.targetClassName=e.className,c}if("File"===e.__type){var u=new p.File(e.name),l=r.clone(e);return delete l.__type,u._finishFetch(l),u}return r.mapObject(e,p._decode)},p.parseJSON=p._decode,p.parse=function(e){return p.parseJSON(JSON.parse(e))},p.stringify=function(e){return JSON.stringify(p._encode(e,[],!1,!0))},p._encodeObjectOrArray=function(e){var n=function(e){return e&&e._toFullJSON&&(e=e._toFullJSON([])),r.mapObject(e,(function(e){return p._encode(e,[])}))};return r.isArray(e)?e.map((function(e){return n(e)})):n(e)},p._arrayEach=r.each,p._traverse=function(e,n,t){if(e instanceof p.Object){if(t=t||[],r.indexOf(t,e)>=0)return;return t.push(e),p._traverse(e.attributes,n,t),n(e)}return e instanceof p.Relation||e instanceof p.File?n(e):r.isArray(e)?(r.each(e,(function(r,o){var i=p._traverse(r,n,t);i&&(e[o]=i)})),n(e)):r.isObject(e)?(p._each(e,(function(r,o){var i=p._traverse(r,n,t);i&&(e[o]=i)})),n(e)):n(e)},p._objectEach=p._each=function(e,n){r.isObject(e)?r.each(r.keys(e),(function(t){n(e[t],t)})):r.each(e,n)},p.debug={enable:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"leancloud*";return i.enable(e)},disable:i.disable},e.exports=p}).call(n,t(7))},function(e,n,t){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.log=function(){var e;return"object"===("undefined"==typeof console?"undefined":r(console))&&console.log&&(e=console).log.apply(e,arguments)},n.formatArgs=function(n){if(n[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+n[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var t="color: "+this.color;n.splice(1,0,t,"color: inherit");var r=0,o=0;n[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))})),n.splice(o,0,t)}},n.save=function(e){try{e?n.storage.setItem("debug",e):n.storage.removeItem("debug")}catch(e){}},n.load=function(){var e;try{e=n.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},n.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},n.storage=function(){try{return localStorage}catch(e){}}(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=t(20)(n),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},function(e,n){var t;t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(t=window)}e.exports=t},function(e,n,t){function r(){}function o(e){if(!h(e))return e;var n=[];for(var t in e)i(n,t,e[t]);return n.join("&")}function i(e,n,t){if(null!=t)if(Array.isArray(t))t.forEach((function(t){i(e,n,t)}));else if(h(t))for(var r in t)i(e,n+"["+r+"]",t[r]);else e.push(encodeURIComponent(n)+"="+encodeURIComponent(t));else null===t&&e.push(encodeURIComponent(n))}function a(e){for(var n,t,r={},o=e.split("&"),i=0,a=o.length;i<a;++i)-1==(t=(n=o[i]).indexOf("="))?r[decodeURIComponent(n)]="":r[decodeURIComponent(n.slice(0,t))]=decodeURIComponent(n.slice(t+1));return r}function s(e){return/[\/+]json($|[^-\w])/.test(e)}function c(e){this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var n=this.xhr.status;1223===n&&(n=204),this._setStatusProperties(n),this.header=this.headers=function(e){for(var n,t,r,o,i=e.split(/\r?\n/),a={},s=0,c=i.length;s<c;++s)-1!==(n=(t=i[s]).indexOf(":"))&&(r=t.slice(0,n).toLowerCase(),o=y(t.slice(n+1)),a[r]=o);return a}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&e._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function u(e,n){var t=this;this._query=this._query||[],this.method=e,this.url=n,this.header={},this._header={},this.on("end",(function(){var e,n=null,r=null;try{r=new c(t)}catch(r){return(n=new Error("Parser is unable to parse the response")).parse=!0,n.original=r,t.xhr?(n.rawResponse=void 0===t.xhr.responseType?t.xhr.responseText:t.xhr.response,n.status=t.xhr.status?t.xhr.status:null,n.statusCode=n.status):(n.rawResponse=null,n.status=null),t.callback(n)}t.emit("response",r);try{t._isResponseOK(r)||(e=new Error(r.statusText||"Unsuccessful HTTP response"))}catch(n){e=n}e?(e.original=n,e.response=r,e.status=r.status,t.callback(e,r)):t.callback(null,r)}))}function l(e,n,t){var r=g("DELETE",e);return"function"==typeof n&&(t=n,n=null),n&&r.send(n),t&&r.end(t),r}var p;"undefined"!=typeof window?p=window:"undefined"!=typeof self?p=self:(console.warn("Using browser-only version of superagent in non-browser environment"),p=this);var d=t(24),f=t(25),h=t(11),m=t(26),v=t(28),g=n=e.exports=function(e,t){return"function"==typeof t?new n.Request("GET",e).end(t):1==arguments.length?new n.Request("GET",e):new n.Request(e,t)};n.Request=u,g.getXHR=function(){if(!(!p.XMLHttpRequest||p.location&&"file:"==p.location.protocol&&p.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw Error("Browser-only version of superagent could not find XHR")};var y="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};g.serializeObject=o,g.parseString=a,g.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},g.serialize={"application/x-www-form-urlencoded":o,"application/json":JSON.stringify},g.parse={"application/x-www-form-urlencoded":a,"application/json":JSON.parse},m(c.prototype),c.prototype._parseBody=function(e){var n=g.parse[this.type];return this.req._parser?this.req._parser(this,e):(!n&&s(this.type)&&(n=g.parse["application/json"]),n&&e&&(e.length||e instanceof Object)?n(e):null)},c.prototype.toError=function(){var e=this.req,n=e.method,t=e.url,r="cannot "+n+" "+t+" ("+this.status+")",o=new Error(r);return o.status=this.status,o.method=n,o.url=t,o},g.Response=c,d(u.prototype),f(u.prototype),u.prototype.type=function(e){return this.set("Content-Type",g.types[e]||e),this},u.prototype.accept=function(e){return this.set("Accept",g.types[e]||e),this},u.prototype.auth=function(e,n,t){1===arguments.length&&(n=""),"object"==typeof n&&null!==n&&(t=n,n=""),t||(t={type:"function"==typeof btoa?"basic":"auto"});var r=function(e){if("function"==typeof btoa)return btoa(e);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(e,n,t,r)},u.prototype.query=function(e){return"string"!=typeof e&&(e=o(e)),e&&this._query.push(e),this},u.prototype.attach=function(e,n,t){if(n){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(e,n,t||n.name)}return this},u.prototype._getFormData=function(){return this._formData||(this._formData=new p.FormData),this._formData},u.prototype.callback=function(e,n){if(this._shouldRetry(e,n))return this._retry();var t=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit("error",e)),t(e,n)},u.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},u.prototype.buffer=u.prototype.ca=u.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},u.prototype.pipe=u.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},u.prototype._isHost=function(e){return e&&"object"==typeof e&&!Array.isArray(e)&&"[object Object]"!==Object.prototype.toString.call(e)},u.prototype.end=function(e){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=e||r,this._finalizeQueryString(),this._end()},u.prototype._end=function(){var e=this,n=this.xhr=g.getXHR(),t=this._formData||this._data;this._setTimeouts(),n.onreadystatechange=function(){var t=n.readyState;if(t>=2&&e._responseTimeoutTimer&&clearTimeout(e._responseTimeoutTimer),4==t){var r;try{r=n.status}catch(e){r=0}if(!r){if(e.timedout||e._aborted)return;return e.crossDomainError()}e.emit("end")}};var r=function(n,t){t.total>0&&(t.percent=t.loaded/t.total*100),t.direction=n,e.emit("progress",t)};if(this.hasListeners("progress"))try{n.onprogress=r.bind(null,"download"),n.upload&&(n.upload.onprogress=r.bind(null,"upload"))}catch(e){}try{this.username&&this.password?n.open(this.method,this.url,!0,this.username,this.password):n.open(this.method,this.url,!0)}catch(e){return this.callback(e)}if(this._withCredentials&&(n.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof t&&!this._isHost(t)){var o=this._header["content-type"],i=this._serializer||g.serialize[o?o.split(";")[0]:""];!i&&s(o)&&(i=g.serialize["application/json"]),i&&(t=i(t))}for(var a in this.header)null!=this.header[a]&&this.header.hasOwnProperty(a)&&n.setRequestHeader(a,this.header[a]);return this._responseType&&(n.responseType=this._responseType),this.emit("request",this),n.send(void 0!==t?t:null),this},g.agent=function(){return new v},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach((function(e){v.prototype[e.toLowerCase()]=function(n,t){var r=new g.Request(e,n);return this._setDefaults(r),t&&r.end(t),r}})),v.prototype.del=v.prototype.delete,g.get=function(e,n,t){var r=g("GET",e);return"function"==typeof n&&(t=n,n=null),n&&r.query(n),t&&r.end(t),r},g.head=function(e,n,t){var r=g("HEAD",e);return"function"==typeof n&&(t=n,n=null),n&&r.query(n),t&&r.end(t),r},g.options=function(e,n,t){var r=g("OPTIONS",e);return"function"==typeof n&&(t=n,n=null),n&&r.send(n),t&&r.end(t),r},g.del=l,g.delete=l,g.patch=function(e,n,t){var r=g("PATCH",e);return"function"==typeof n&&(t=n,n=null),n&&r.send(n),t&&r.end(t),r},g.post=function(e,n,t){var r=g("POST",e);return"function"==typeof n&&(t=n,n=null),n&&r.send(n),t&&r.end(t),r},g.put=function(e,n,t){var r=g("PUT",e);return"function"==typeof n&&(t=n,n=null),n&&r.send(n),t&&r.end(t),r}},function(e,n,t){var r=t(18),o=t(19);e.exports=function(e,n,t){var i=n&&t||0;"string"==typeof e&&(n="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,n)for(var s=0;s<16;++s)n[i+s]=a[s];return n||o(a)}},function(e,n,t){"use strict";e.exports="3.15.0"},function(e,n,t){"use strict";e.exports=function(e){return null!==e&&"object"==typeof e}},function(e,n,t){"use strict";var r=t(1),o=t(31),i=["getItem","setItem","removeItem","clear"];o.async?i.forEach((function(e){"function"!=typeof o[e]&&(o[e]=function(){var n=new Error("Synchronous API ["+e+"] is not available in this runtime.");throw n.code="SYNC_API_NOT_AVAILABLE",n})})):i.forEach((function(e){"function"==typeof o[e]&&(o[e+"Async"]=function(){return r.resolve(o[e].apply(o,arguments))})})),e.exports=o},function(e,n,t){"use strict";var r=t(12),o=t(5),i=n.removeAsync=r.removeItemAsync.bind(r);n.getAsync=function(e){return e="AV/"+o.applicationId+"/"+e,r.getItemAsync(e).then((function(n){return function(e,n){try{e=JSON.parse(e)}catch(e){return null}return e?e.expiredAt&&e.expiredAt<Date.now()?i(n).then((function(){return null})):e.value:null}(n,e)}))},n.setAsync=function(e,n,t){var i={value:n};return"number"==typeof t&&(i.expiredAt=Date.now()+t),r.setItemAsync("AV/"+o.applicationId+"/"+e,JSON.stringify(i))}},function(e,n){var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var n=[],t=0;t<e.length;t++)n.push(255&e.charCodeAt(t));return n},bytesToString:function(e){for(var n=[],t=0;t<e.length;t++)n.push(String.fromCharCode(e[t]));return n.join("")}}};e.exports=t},function(e,n,t){"use strict";
/*!
 * LeanCloud JavaScript SDK
 * https://leancloud.cn
 *
 * Copyright 2016 LeanCloud.cn, Inc.
 * The LeanCloud JavaScript SDK is freely distributable under the MIT license.
 */t(16);var r=t(0),o=t(5);o._=r,o.version=t(10),o.Promise=t(1),o.localStorage=t(12),o.Cache=t(13),o.Error=t(4),t(33),t(35)(o),t(36)(o),t(37)(o),t(38)(o),t(39)(o),t(40)(o),t(48)(o),t(49)(o),t(50)(o),t(51)(o),t(52)(o),t(54)(o),t(55)(o),t(56)(o),t(57)(o),t(58)(o),t(59)(o),o.Conversation=t(60),t(61),e.exports=o},function(e,n,t){},function(e,n){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,n){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var r=new Uint8Array(16);e.exports=function(){return t(r),r}}else{var o=new Array(16);e.exports=function(){for(var e,n=0;n<16;n++)0==(3&n)&&(e=4294967296*Math.random()),o[n]=e>>>((3&n)<<3)&255;return o}}},function(e,n){for(var t=[],r=0;r<256;++r)t[r]=(r+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,o=t;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},function(e,n,t){"use strict";e.exports=function(e){function n(e){for(var n=0,t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return r.colors[Math.abs(n)%r.colors.length]}function r(e){function t(){if(t.enabled){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var i=t,s=Number(new Date),c=s-(a||s);i.diff=c,i.prev=a,i.curr=s,a=s,n[0]=r.coerce(n[0]),"string"!=typeof n[0]&&n.unshift("%O");var u=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,(function(e,t){if("%%"===e)return e;u++;var o=r.formatters[t];if("function"==typeof o){var a=n[u];e=o.call(i,a),n.splice(u,1),u--}return e})),r.formatArgs.call(i,n),(i.log||r.log).apply(i,n)}}var a;return t.namespace=e,t.enabled=r.enabled(e),t.useColors=r.useColors(),t.color=n(e),t.destroy=o,t.extend=i,"function"==typeof r.init&&r.init(t),r.instances.push(t),t}function o(){var e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function i(e,n){return r(this.namespace+(void 0===n?":":n)+e)}return r.debug=r,r.default=r,r.coerce=function(e){return e instanceof Error?e.stack||e.message:e},r.disable=function(){r.enable("")},r.enable=function(e){r.save(e),r.names=[],r.skips=[];var n,t=("string"==typeof e?e:"").split(/[\s,]+/),o=t.length;for(n=0;n<o;n++)t[n]&&("-"===(e=t[n].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(n=0;n<r.instances.length;n++){var i=r.instances[n];i.enabled=r.enabled(i.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;var n,t;for(n=0,t=r.skips.length;n<t;n++)if(r.skips[n].test(e))return!1;for(n=0,t=r.names.length;n<t;n++)if(r.names[n].test(e))return!0;return!1},r.humanize=t(21),Object.keys(e).forEach((function(n){r[n]=e[n]})),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=n,r.enable(r.load()),r}},function(e,n){function t(e){var n=Math.abs(e);return n>=s?r(e,n,s,"day"):n>=a?r(e,n,a,"hour"):n>=i?r(e,n,i,"minute"):n>=o?r(e,n,o,"second"):e+" ms"}function r(e,n,t,r){var o=n>=1.5*t;return Math.round(e/t)+" "+r+(o?"s":"")}var o=1e3,i=60*o,a=60*i,s=24*a,c=7*s,u=365.25*s;e.exports=function(e,n){n=n||{};var r=typeof e;if("string"===r&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var n=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(n){var t=parseFloat(n[1]);switch((n[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return t*u;case"weeks":case"week":case"w":return t*c;case"days":case"day":case"d":return t*s;case"hours":case"hour":case"hrs":case"hr":case"h":return t*a;case"minutes":case"minute":case"mins":case"min":case"m":return t*i;case"seconds":case"second":case"secs":case"sec":case"s":return t*o;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}(e);if("number"===r&&!1===isNaN(e))return n.long?t(e):function(e){var n=Math.abs(e);return n>=s?Math.round(e/s)+"d":n>=a?Math.round(e/a)+"h":n>=i?Math.round(e/i)+"m":n>=o?Math.round(e/o)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,n,t){"use strict";var r=t(10),o=["Browser"].concat(t(23));e.exports="LeanCloud-JS-SDK/"+r+" ("+o.join("; ")+")"},function(e,n,t){"use strict";e.exports=[]},function(e,n,t){function r(e){if(e)return function(e){for(var n in r.prototype)e[n]=r.prototype[n];return e}(e)}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(n),this},r.prototype.once=function(e,n){function t(){this.off(e,t),n.apply(this,arguments)}return t.fn=n,this.on(e,t),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,n){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var t=this._callbacks["$"+e];if(!t)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r,o=0;o<t.length;o++)if((r=t[o])===n||r.fn===n){t.splice(o,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var n=[].slice.call(arguments,1),t=this._callbacks["$"+e];if(t)for(var r=0,o=(t=t.slice(0)).length;r<o;++r)t[r].apply(this,n);return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,n,t){"use strict";function r(e){if(e)return function(e){for(var n in r.prototype)e[n]=r.prototype[n];return e}(e)}var o=t(11);e.exports=r,r.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},r.prototype.parse=function(e){return this._parser=e,this},r.prototype.responseType=function(e){return this._responseType=e,this},r.prototype.serialize=function(e){return this._serializer=e,this},r.prototype.timeout=function(e){if(!e||"object"!=typeof e)return this._timeout=e,this._responseTimeout=0,this;for(var n in e)switch(n){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;default:console.warn("Unknown timeout option",n)}return this},r.prototype.retry=function(e,n){return 0!==arguments.length&&!0!==e||(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=n,this};var i=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];r.prototype._shouldRetry=function(e,n){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var t=this._retryCallback(e,n);if(!0===t)return!0;if(!1===t)return!1}catch(e){console.error(e)}if(n&&n.status&&n.status>=500&&501!=n.status)return!0;if(e){if(e.code&&~i.indexOf(e.code))return!0;if(e.timeout&&"ECONNABORTED"==e.code)return!0;if(e.crossDomain)return!0}return!1},r.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},r.prototype.then=function(e,n){if(!this._fullfilledPromise){var t=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise((function(e,n){t.end((function(t,r){t?n(t):e(r)}))}))}return this._fullfilledPromise.then(e,n)},r.prototype.catch=function(e){return this.then(void 0,e)},r.prototype.use=function(e){return e(this),this},r.prototype.ok=function(e){if("function"!=typeof e)throw Error("Callback required");return this._okCallback=e,this},r.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):e.status>=200&&e.status<300)},r.prototype.get=function(e){return this._header[e.toLowerCase()]},r.prototype.getHeader=r.prototype.get,r.prototype.set=function(e,n){if(o(e)){for(var t in e)this.set(t,e[t]);return this}return this._header[e.toLowerCase()]=n,this.header[e]=n,this},r.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},r.prototype.field=function(e,n){if(null==e)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),o(e)){for(var t in e)this.field(t,e[t]);return this}if(Array.isArray(n)){for(var r in n)this.field(e,n[r]);return this}if(null==n)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof n&&(n=""+n),this._getFormData().append(e,n),this},r.prototype.abort=function(){return this._aborted||(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort")),this},r.prototype._auth=function(e,n,t,r){switch(t.type){case"basic":this.set("Authorization","Basic "+r(e+":"+n));break;case"auto":this.username=e,this.password=n;break;case"bearer":this.set("Authorization","Bearer "+e)}return this},r.prototype.withCredentials=function(e){return null==e&&(e=!0),this._withCredentials=e,this},r.prototype.redirects=function(e){return this._maxRedirects=e,this},r.prototype.maxResponseSize=function(e){if("number"!=typeof e)throw TypeError("Invalid argument");return this._maxResponseSize=e,this},r.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},r.prototype.send=function(e){var n=o(e),t=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),n&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(n&&o(this._data))for(var r in e)this._data[r]=e[r];else"string"==typeof e?(t||this.type("form"),t=this._header["content-type"],this._data="application/x-www-form-urlencoded"==t?this._data?this._data+"&"+e:e:(this._data||"")+e):this._data=e;return!n||this._isHost(e)||t||this.type("json"),this},r.prototype.sortQuery=function(e){return this._sort=void 0===e||e,this},r.prototype._finalizeQueryString=function(){var e=this._query.join("&");if(e&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+e),this._query.length=0,this._sort){var n=this.url.indexOf("?");if(n>=0){var t=this.url.substring(n+1).split("&");"function"==typeof this._sort?t.sort(this._sort):t.sort(),this.url=this.url.substring(0,n)+"?"+t.join("&")}}},r.prototype._appendQueryString=function(){console.trace("Unsupported")},r.prototype._timeoutError=function(e,n,t){if(!this._aborted){var r=new Error(e+n+"ms exceeded");r.timeout=n,r.code="ECONNABORTED",r.errno=t,this.timedout=!0,this.abort(),this.callback(r)}},r.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout((function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")}),this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout((function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")}),this._responseTimeout))}},function(e,n,t){"use strict";function r(e){if(e)return function(e){for(var n in r.prototype)e[n]=r.prototype[n];return e}(e)}var o=t(27);e.exports=r,r.prototype.get=function(e){return this.header[e.toLowerCase()]},r.prototype._setHeaderProperties=function(e){var n=e["content-type"]||"";this.type=o.type(n);var t=o.params(n);for(var r in t)this[r]=t[r];this.links={};try{e.link&&(this.links=o.parseLinks(e.link))}catch(e){}},r.prototype._setStatusProperties=function(e){var n=e/100|0;this.status=this.statusCode=e,this.statusType=n,this.info=1==n,this.ok=2==n,this.redirect=3==n,this.clientError=4==n,this.serverError=5==n,this.error=(4==n||5==n)&&this.toError(),this.created=201==e,this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.forbidden=403==e,this.notFound=404==e,this.unprocessableEntity=422==e}},function(e,n,t){"use strict";n.type=function(e){return e.split(/ *; */).shift()},n.params=function(e){return e.split(/ *; */).reduce((function(e,n){var t=n.split(/ *= */),r=t.shift(),o=t.shift();return r&&o&&(e[r]=o),e}),{})},n.parseLinks=function(e){return e.split(/ *, */).reduce((function(e,n){var t=n.split(/ *; */),r=t[0].slice(1,-1);return e[t[1].split(/ *= */)[1].slice(1,-1)]=r,e}),{})},n.cleanHeader=function(e,n){return delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,n&&(delete e.authorization,delete e.cookie),e}},function(e,n){function t(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach((function(e){t.prototype[e]=function(){return this._defaults.push({fn:e,arguments:arguments}),this}})),t.prototype._setDefaults=function(e){this._defaults.forEach((function(n){e[n.fn].apply(e,n.arguments)}))},e.exports=t},function(e,n,t){(function(n){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.3+b33f4734
 */
!function(n,t){e.exports=t()}(0,(function(){"use strict";function e(e){return"function"==typeof e}function r(){var e=setTimeout;return function(){return e(o,1)}}function o(){for(var e=0;e<b;e+=2)(0,S[e])(S[e+1]),S[e]=void 0,S[e+1]=void 0;b=0}function i(e,n){var t=this,r=new this.constructor(s);void 0===r[j]&&g(r);var o=t._state;if(o){var i=arguments[o-1];_((function(){return v(o,r,i,t._result)}))}else h(t,r,e,n);return r}function a(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var n=new this(s);return l(n,e),n}function s(){}function c(e){try{return e.then}catch(e){return I.error=e,I}}function u(n,t,r){t.constructor===n.constructor&&r===i&&t.constructor.resolve===a?function(e,n){n._state===D?d(e,n._result):n._state===P?f(e,n._result):h(n,void 0,(function(n){return l(e,n)}),(function(n){return f(e,n)}))}(n,t):r===I?(f(n,I.error),I.error=null):void 0===r?d(n,t):e(r)?function(e,n,t){_((function(e){var r=!1,o=function(e,n,t,r){try{e.call(n,t,r)}catch(e){return e}}(t,n,(function(t){r||(r=!0,n!==t?l(e,t):d(e,t))}),(function(n){r||(r=!0,f(e,n))}),e._label);!r&&o&&(r=!0,f(e,o))}),e)}(n,t,r):d(n,t)}function l(e,n){e===n?f(e,new TypeError("You cannot resolve a promise with itself")):function(e){var n=typeof e;return null!==e&&("object"===n||"function"===n)}(n)?u(e,n,c(n)):d(e,n)}function p(e){e._onerror&&e._onerror(e._result),m(e)}function d(e,n){e._state===T&&(e._result=n,e._state=D,0!==e._subscribers.length&&_(m,e))}function f(e,n){e._state===T&&(e._state=P,e._result=n,_(p,e))}function h(e,n,t,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=n,o[i+D]=t,o[i+P]=r,0===i&&e._state&&_(m,e)}function m(e){var n=e._subscribers,t=e._state;if(0!==n.length){for(var r=void 0,o=void 0,i=e._result,a=0;a<n.length;a+=3)r=n[a],o=n[a+t],r?v(t,r,o,i):o(i);e._subscribers.length=0}}function v(n,t,r,o){var i=e(r),a=void 0,s=void 0,c=void 0,u=void 0;if(i){if((a=function(e,n){try{return e(n)}catch(e){return I.error=e,I}}(r,o))===I?(u=!0,s=a.error,a.error=null):c=!0,t===a)return void f(t,new TypeError("A promises callback cannot return that same promise."))}else a=o,c=!0;t._state!==T||(i&&c?l(t,a):u?f(t,s):n===D?d(t,a):n===P&&f(t,a))}function g(e){e[j]=N++,e._state=void 0,e._result=void 0,e._subscribers=[]}var y=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},b=0,w=void 0,E=void 0,_=function(e,n){S[b]=e,S[b+1]=n,2===(b+=2)&&(E?E(o):B())},x="undefined"!=typeof window?window:void 0,A=x||{},k=A.MutationObserver||A.WebKitMutationObserver,C="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),O="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,S=new Array(1e3),B=void 0;B=C?function(){return process.nextTick(o)}:k?function(){var e=0,n=new k(o),t=document.createTextNode("");return n.observe(t,{characterData:!0}),function(){t.data=e=++e%2}}():O?function(){var e=new MessageChannel;return e.port1.onmessage=o,function(){return e.port2.postMessage(0)}}():void 0===x?function(){try{var e=t(30);return void 0!==(w=e.runOnLoop||e.runOnContext)?function(){w(o)}:r()}catch(e){return r()}}():r();var j=Math.random().toString(36).substring(2),T=void 0,D=1,P=2,I={error:null},N=0,F=function(){function e(e,n){this._instanceConstructor=e,this.promise=new e(s),this.promise[j]||g(this.promise),y(n)?(this.length=n.length,this._remaining=n.length,this._result=new Array(this.length),0===this.length?d(this.promise,this._result):(this.length=this.length||0,this._enumerate(n),0===this._remaining&&d(this.promise,this._result))):f(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var n=0;this._state===T&&n<e.length;n++)this._eachEntry(e[n],n)},e.prototype._eachEntry=function(e,n){var t=this._instanceConstructor,r=t.resolve;if(r===a){var o=c(e);if(o===i&&e._state!==T)this._settledAt(e._state,n,e._result);else if("function"!=typeof o)this._remaining--,this._result[n]=e;else if(t===$){var l=new t(s);u(l,e,o),this._willSettleAt(l,n)}else this._willSettleAt(new t((function(n){return n(e)})),n)}else this._willSettleAt(r(e),n)},e.prototype._settledAt=function(e,n,t){var r=this.promise;r._state===T&&(this._remaining--,e===P?f(r,t):this._result[n]=t),0===this._remaining&&d(r,this._result)},e.prototype._willSettleAt=function(e,n){var t=this;h(e,void 0,(function(e){return t._settledAt(D,n,e)}),(function(e){return t._settledAt(P,n,e)}))},e}(),$=function(){function e(n){this[j]=N++,this._result=this._state=void 0,this._subscribers=[],s!==n&&("function"!=typeof n&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(e,n){try{n((function(n){l(e,n)}),(function(n){f(e,n)}))}catch(n){f(e,n)}}(this,n):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var n=this.constructor;return this.then((function(t){return n.resolve(e()).then((function(){return t}))}),(function(t){return n.resolve(e()).then((function(){throw t}))}))},e}();return $.prototype.then=i,$.all=function(e){return new F(this,e).promise},$.race=function(e){var n=this;return new n(y(e)?function(t,r){for(var o=e.length,i=0;i<o;i++)n.resolve(e[i]).then(t,r)}:function(e,n){return n(new TypeError("You must pass an array to race."))})},$.resolve=a,$.reject=function(e){var n=new this(s);return f(n,e),n},$._setScheduler=function(e){E=e},$._setAsap=function(e){_=e},$._asap=_,$.polyfill=function(){var e=void 0;if(void 0!==n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=$},$.Promise=$,$}))}).call(n,t(7))},function(e,n){},function(e,n,t){"use strict";(function(n){var r={},o=n.localStorage;try{var i="__storejs__";if(o.setItem(i,i),o.getItem(i)!=i)throw new Error;o.removeItem(i)}catch(e){o=t(32)}["getItem","setItem","removeItem","clear"].forEach((function(e){r[e]=function(){return o[e].apply(o,arguments)}})),r.async=!1,e.exports=r}).call(n,t(7))},function(e,n,t){!function(n){var t={},r={};t.length=0,t.getItem=function(e){return e in r?r[e]:null},t.setItem=function(e,n){void 0===n?t.removeItem(e):(r.hasOwnProperty(e)||t.length++,r[e]=""+n)},t.removeItem=function(e){r.hasOwnProperty(e)&&(delete r[e],t.length--)},t.key=function(e){return Object.keys(r)[e]||null},t.clear=function(){r={},t.length=0},e.exports=t}()},function(e,n,t){"use strict";function r(e){var n=void 0,t=e.slice(0,8).toLowerCase();switch(e.slice(-9)){case"-9Nh9j0Va":n="lncldapi.com";break;case"-MdYXbMMI":n="lncldglobal.com";break;default:n="lncld.net"}return{push:"https://"+t+".push."+n,stats:"https://"+t+".stats."+n,engine:"https://"+t+".engine."+n,api:"https://"+t+".api."+n,rtm:"https://"+t+".rtm."+n}}var o=t(5),i=t(34),a=t(3).isNullOrUndefined,s=t(0),c=s.extend,u=s.isObject,l=function(e){return{push:e,stats:e,engine:e,api:e,rtm:e}},p=!1;o.init=function(e){if(!u(e))return o.init({appId:e,appKey:arguments.length<=1?void 0:arguments[1],masterKey:arguments.length<=2?void 0:arguments[2]});var n=e.appId,t=e.appKey,a=e.masterKey,s=(e.hookKey,e.serverURLs),d=e.disableCurrentUser,f=e.production,h=e.realtime;if(o.applicationId)throw new Error("SDK is already initialized.");if(!n)throw new TypeError("appId must be a string");if(!t)throw new TypeError("appKey must be a string");a&&console.warn("MasterKey is not supposed to be used in browser."),o._config.applicationId=n,o._config.applicationKey=t,o._config.masterKey=a,void 0!==f&&(o._config.production=f),void 0!==d&&(o._config.disableCurrentUser=d),o._appRouter=new i(o);var m=p||void 0!==s;if(o._setServerURLs(c({},r(n),o._config.serverURLs,"string"==typeof s?l(s):s),m),h)o._config.realtime=h;else if(o._sharedConfig.liveQueryRealtime){var v=o._config.serverURLs,g=v.api,y=v.rtm;o._config.realtime=new o._sharedConfig.liveQueryRealtime({appId:n,appKey:t,server:{api:g,RTMRouter:y}})}},o.setProduction=function(e){a(e)?o._config.production=null:o._config.production=e?1:0},o._setServerURLs=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"string"!=typeof e?c(o._config.serverURLs,e):o._config.serverURLs=l(e),n&&(o._appRouter?o._appRouter.disable():p=!0)},o.setServerURLs=function(e){return o._setServerURLs(e)},o.keepErrorRawMessage=function(e){o._sharedConfig.keepErrorRawMessage=e},o.setRequestTimeout=function(e){o._config.requestTimeout=e},o.initialize=o.init,["applicationId","applicationKey","masterKey","hookKey"].forEach((function(e){return Object.defineProperty(o,e,{get:function(){return o._config[e]},set:function(n){o._config[e]=n}})}))},function(e,n,t){"use strict";function r(e){var n=this;this.AV=e,this.lockedUntil=0,i.getAsync("serverURLs").then((function(e){if(!n.disabled){if(!e)return n.lock(0);var t=e.serverURLs,r=e.lockedUntil;n.AV._setServerURLs(t,!1),n.lockedUntil=r}})).catch((function(){return n.lock(0)}))}var o=t(3).ajax,i=t(13);r.prototype.disable=function(){this.disabled=!0},r.prototype.lock=function(e){this.lockedUntil=Date.now()+e},r.prototype.refresh=function(){var e=this;if(!(this.disabled||Date.now()<this.lockedUntil))return this.lock(10),o({method:"get",url:"https://app-router.leancloud.cn/2/route",query:{appId:this.AV.applicationId}}).then((function(n){if(!e.disabled){var t=n.ttl;if(!t)throw new Error("missing ttl");t*=1e3;var r={push:"https://"+n.push_server,stats:"https://"+n.stats_server,engine:"https://"+n.engine_server,api:"https://"+n.api_server};return e.AV._setServerURLs(r,!1),e.lock(t),i.setAsync("serverURLs",{serverURLs:r,lockedUntil:e.lockedUntil},t)}})).catch((function(n){console.warn("refresh server URLs failed: "+n.message),e.lock(600)}))},e.exports=r},function(e,n,t){"use strict";var r=t(0);e.exports=function(e){var n=/\s+/,t=Array.prototype.slice;e.Events={on:function(e,t,r){var o,i,a,s,c;if(!t)return this;for(e=e.split(n),o=this._callbacks||(this._callbacks={}),i=e.shift();i;)(a=(c=o[i])?c.tail:{}).next=s={},a.context=r,a.callback=t,o[i]={tail:s,next:c?c.next:a},i=e.shift();return this},off:function(e,t,o){var i,a,s,c,u,l;if(a=this._callbacks){if(!(e||t||o))return delete this._callbacks,this;for(i=(e=e?e.split(n):r.keys(a)).shift();i;)if(s=a[i],delete a[i],s&&(t||o)){for(c=s.tail,s=s.next;s!==c;)u=s.callback,l=s.context,(t&&u!==t||o&&l!==o)&&this.on(i,u,l),s=s.next;i=e.shift()}return this}},trigger:function(e){var r,o,i,a,s,c,u;if(!(i=this._callbacks))return this;for(c=i.all,e=e.split(n),u=t.call(arguments,1),r=e.shift();r;){if(o=i[r])for(a=o.tail;(o=o.next)!==a;)o.callback.apply(o.context||this,u);if(o=c)for(a=o.tail,s=[r].concat(u);(o=o.next)!==a;)o.callback.apply(o.context||this,s);r=e.shift()}return this}},e.Events.bind=e.Events.on,e.Events.unbind=e.Events.off}},function(e,n,t){"use strict";var r=t(0),o=t(1);e.exports=function(e){e.GeoPoint=function(n,t){r.isArray(n)?(e.GeoPoint._validate(n[0],n[1]),this.latitude=n[0],this.longitude=n[1]):r.isObject(n)?(e.GeoPoint._validate(n.latitude,n.longitude),this.latitude=n.latitude,this.longitude=n.longitude):r.isNumber(n)&&r.isNumber(t)?(e.GeoPoint._validate(n,t),this.latitude=n,this.longitude=t):(this.latitude=0,this.longitude=0);var o=this;this.__defineGetter__&&this.__defineSetter__&&(this._latitude=this.latitude,this._longitude=this.longitude,this.__defineGetter__("latitude",(function(){return o._latitude})),this.__defineGetter__("longitude",(function(){return o._longitude})),this.__defineSetter__("latitude",(function(n){e.GeoPoint._validate(n,o.longitude),o._latitude=n})),this.__defineSetter__("longitude",(function(n){e.GeoPoint._validate(o.latitude,n),o._longitude=n})))},e.GeoPoint._validate=function(e,n){if(e<-90)throw new Error("AV.GeoPoint latitude "+e+" < -90.0.");if(e>90)throw new Error("AV.GeoPoint latitude "+e+" > 90.0.");if(n<-180)throw new Error("AV.GeoPoint longitude "+n+" < -180.0.");if(n>180)throw new Error("AV.GeoPoint longitude "+n+" > 180.0.")},e.GeoPoint.current=function(){return new o((function(n,t){navigator.geolocation.getCurrentPosition((function(t){n(new e.GeoPoint({latitude:t.coords.latitude,longitude:t.coords.longitude}))}),t)}))},r.extend(e.GeoPoint.prototype,{toJSON:function(){return e.GeoPoint._validate(this.latitude,this.longitude),{__type:"GeoPoint",latitude:this.latitude,longitude:this.longitude}},radiansTo:function(e){var n=Math.PI/180,t=this.latitude*n,r=this.longitude*n,o=e.latitude*n,i=t-o,a=r-e.longitude*n,s=Math.sin(i/2),c=Math.sin(a/2),u=s*s+Math.cos(t)*Math.cos(o)*c*c;return u=Math.min(1,u),2*Math.asin(Math.sqrt(u))},kilometersTo:function(e){return 6371*this.radiansTo(e)},milesTo:function(e){return 3958.8*this.radiansTo(e)}})}},function(e,n,t){"use strict";var r=t(0);e.exports=function(e){e.ACL=function(n){var t=this;if(t.permissionsById={},r.isObject(n))if(n instanceof e.User)t.setReadAccess(n,!0),t.setWriteAccess(n,!0);else{if(r.isFunction(n))throw new Error("AV.ACL() called with a function.  Did you forget ()?");e._objectEach(n,(function(n,o){if(!r.isString(o))throw new Error("Tried to create an ACL with an invalid userId.");t.permissionsById[o]={},e._objectEach(n,(function(e,n){if("read"!==n&&"write"!==n)throw new Error("Tried to create an ACL with an invalid permission type.");if(!r.isBoolean(e))throw new Error("Tried to create an ACL with an invalid permission value.");t.permissionsById[o][n]=e}))}))}},e.ACL.prototype.toJSON=function(){return r.clone(this.permissionsById)},e.ACL.prototype._setAccess=function(n,t,o){if(t instanceof e.User?t=t.id:t instanceof e.Role&&(t="role:"+t.getName()),!r.isString(t))throw new Error("userId must be a string.");if(!r.isBoolean(o))throw new Error("allowed must be either true or false.");var i=this.permissionsById[t];if(!i){if(!o)return;i={},this.permissionsById[t]=i}o?this.permissionsById[t][n]=!0:(delete i[n],r.isEmpty(i)&&delete this.permissionsById[t])},e.ACL.prototype._getAccess=function(n,t){t instanceof e.User?t=t.id:t instanceof e.Role&&(t="role:"+t.getName());var r=this.permissionsById[t];return!!r&&!!r[n]},e.ACL.prototype.setReadAccess=function(e,n){this._setAccess("read",e,n)},e.ACL.prototype.getReadAccess=function(e){return this._getAccess("read",e)},e.ACL.prototype.setWriteAccess=function(e,n){this._setAccess("write",e,n)},e.ACL.prototype.getWriteAccess=function(e){return this._getAccess("write",e)},e.ACL.prototype.setPublicReadAccess=function(e){this.setReadAccess("*",e)},e.ACL.prototype.getPublicReadAccess=function(){return this.getReadAccess("*")},e.ACL.prototype.setPublicWriteAccess=function(e){this.setWriteAccess("*",e)},e.ACL.prototype.getPublicWriteAccess=function(){return this.getWriteAccess("*")},e.ACL.prototype.getRoleReadAccess=function(n){if(n instanceof e.Role&&(n=n.getName()),r.isString(n))return this.getReadAccess("role:"+n);throw new Error("role must be a AV.Role or a String")},e.ACL.prototype.getRoleWriteAccess=function(n){if(n instanceof e.Role&&(n=n.getName()),r.isString(n))return this.getWriteAccess("role:"+n);throw new Error("role must be a AV.Role or a String")},e.ACL.prototype.setRoleReadAccess=function(n,t){if(n instanceof e.Role&&(n=n.getName()),!r.isString(n))throw new Error("role must be a AV.Role or a String");this.setReadAccess("role:"+n,t)},e.ACL.prototype.setRoleWriteAccess=function(n,t){if(n instanceof e.Role&&(n=n.getName()),!r.isString(n))throw new Error("role must be a AV.Role or a String");this.setWriteAccess("role:"+n,t)}}},function(e,n,t){"use strict";var r=t(0);e.exports=function(e){e.Op=function(){this._initialize.apply(this,arguments)},r.extend(e.Op.prototype,{_initialize:function(){}}),r.extend(e.Op,{_extend:e._extend,_opDecoderMap:{},_registerDecoder:function(n,t){e.Op._opDecoderMap[n]=t},_decode:function(n){var t=e.Op._opDecoderMap[n.__op];return t?t(n):void 0}}),e.Op._registerDecoder("Batch",(function(n){var t=null;return e._arrayEach(n.ops,(function(n){n=e.Op._decode(n),t=n._mergeWithPrevious(t)})),t})),e.Op.Set=e.Op._extend({_initialize:function(e){this._value=e},value:function(){return this._value},toJSON:function(){return e._encode(this.value())},_mergeWithPrevious:function(e){return this},_estimate:function(e){return this.value()}}),e.Op._UNSET={},e.Op.Unset=e.Op._extend({toJSON:function(){return{__op:"Delete"}},_mergeWithPrevious:function(e){return this},_estimate:function(n){return e.Op._UNSET}}),e.Op._registerDecoder("Delete",(function(n){return new e.Op.Unset})),e.Op.Increment=e.Op._extend({_initialize:function(e){this._amount=e},amount:function(){return this._amount},toJSON:function(){return{__op:"Increment",amount:this._amount}},_mergeWithPrevious:function(n){if(n){if(n instanceof e.Op.Unset)return new e.Op.Set(this.amount());if(n instanceof e.Op.Set)return new e.Op.Set(n.value()+this.amount());if(n instanceof e.Op.Increment)return new e.Op.Increment(this.amount()+n.amount());throw new Error("Op is invalid after previous op.")}return this},_estimate:function(e){return e?e+this.amount():this.amount()}}),e.Op._registerDecoder("Increment",(function(n){return new e.Op.Increment(n.amount)})),e.Op.BitAnd=e.Op._extend({_initialize:function(e){this._value=e},value:function(){return this._value},toJSON:function(){return{__op:"BitAnd",value:this.value()}},_mergeWithPrevious:function(n){if(n){if(n instanceof e.Op.Unset)return new e.Op.Set(0);if(n instanceof e.Op.Set)return new e.Op.Set(n.value()&this.value());throw new Error("Op is invalid after previous op.")}return this},_estimate:function(e){return e&this.value()}}),e.Op._registerDecoder("BitAnd",(function(n){return new e.Op.BitAnd(n.value)})),e.Op.BitOr=e.Op._extend({_initialize:function(e){this._value=e},value:function(){return this._value},toJSON:function(){return{__op:"BitOr",value:this.value()}},_mergeWithPrevious:function(n){if(n){if(n instanceof e.Op.Unset)return new e.Op.Set(this.value());if(n instanceof e.Op.Set)return new e.Op.Set(n.value()|this.value());throw new Error("Op is invalid after previous op.")}return this},_estimate:function(e){return e|this.value()}}),e.Op._registerDecoder("BitOr",(function(n){return new e.Op.BitOr(n.value)})),e.Op.BitXor=e.Op._extend({_initialize:function(e){this._value=e},value:function(){return this._value},toJSON:function(){return{__op:"BitXor",value:this.value()}},_mergeWithPrevious:function(n){if(n){if(n instanceof e.Op.Unset)return new e.Op.Set(this.value());if(n instanceof e.Op.Set)return new e.Op.Set(n.value()^this.value());throw new Error("Op is invalid after previous op.")}return this},_estimate:function(e){return e^this.value()}}),e.Op._registerDecoder("BitXor",(function(n){return new e.Op.BitXor(n.value)})),e.Op.Add=e.Op._extend({_initialize:function(e){this._objects=e},objects:function(){return this._objects},toJSON:function(){return{__op:"Add",objects:e._encode(this.objects())}},_mergeWithPrevious:function(n){if(n){if(n instanceof e.Op.Unset)return new e.Op.Set(this.objects());if(n instanceof e.Op.Set)return new e.Op.Set(this._estimate(n.value()));if(n instanceof e.Op.Add)return new e.Op.Add(n.objects().concat(this.objects()));throw new Error("Op is invalid after previous op.")}return this},_estimate:function(e){return e?e.concat(this.objects()):r.clone(this.objects())}}),e.Op._registerDecoder("Add",(function(n){return new e.Op.Add(e._decode(n.objects))})),e.Op.AddUnique=e.Op._extend({_initialize:function(e){this._objects=r.uniq(e)},objects:function(){return this._objects},toJSON:function(){return{__op:"AddUnique",objects:e._encode(this.objects())}},_mergeWithPrevious:function(n){if(n){if(n instanceof e.Op.Unset)return new e.Op.Set(this.objects());if(n instanceof e.Op.Set)return new e.Op.Set(this._estimate(n.value()));if(n instanceof e.Op.AddUnique)return new e.Op.AddUnique(this._estimate(n.objects()));throw new Error("Op is invalid after previous op.")}return this},_estimate:function(n){if(n){var t=r.clone(n);return e._arrayEach(this.objects(),(function(n){if(n instanceof e.Object&&n.id){var o=r.find(t,(function(t){return t instanceof e.Object&&t.id===n.id}));if(o){var i=r.indexOf(t,o);t[i]=n}else t.push(n)}else r.contains(t,n)||t.push(n)})),t}return r.clone(this.objects())}}),e.Op._registerDecoder("AddUnique",(function(n){return new e.Op.AddUnique(e._decode(n.objects))})),e.Op.Remove=e.Op._extend({_initialize:function(e){this._objects=r.uniq(e)},objects:function(){return this._objects},toJSON:function(){return{__op:"Remove",objects:e._encode(this.objects())}},_mergeWithPrevious:function(n){if(n){if(n instanceof e.Op.Unset)return n;if(n instanceof e.Op.Set)return new e.Op.Set(this._estimate(n.value()));if(n instanceof e.Op.Remove)return new e.Op.Remove(r.union(n.objects(),this.objects()));throw new Error("Op is invalid after previous op.")}return this},_estimate:function(n){if(n){var t=r.difference(n,this.objects());return e._arrayEach(this.objects(),(function(n){n instanceof e.Object&&n.id&&(t=r.reject(t,(function(t){return t instanceof e.Object&&t.id===n.id})))})),t}return[]}}),e.Op._registerDecoder("Remove",(function(n){return new e.Op.Remove(e._decode(n.objects))})),e.Op.Relation=e.Op._extend({_initialize:function(n,t){this._targetClassName=null;var o=this,i=function(n){if(n instanceof e.Object){if(!n.id)throw new Error("You can't add an unsaved AV.Object to a relation.");if(o._targetClassName||(o._targetClassName=n.className),o._targetClassName!==n.className)throw new Error("Tried to create a AV.Relation with 2 different types: "+o._targetClassName+" and "+n.className+".");return n.id}return n};this.relationsToAdd=r.uniq(r.map(n,i)),this.relationsToRemove=r.uniq(r.map(t,i))},added:function(){var n=this;return r.map(this.relationsToAdd,(function(t){var r=e.Object._create(n._targetClassName);return r.id=t,r}))},removed:function(){var n=this;return r.map(this.relationsToRemove,(function(t){var r=e.Object._create(n._targetClassName);return r.id=t,r}))},toJSON:function(){var e=null,n=null,t=this,o=function(e){return{__type:"Pointer",className:t._targetClassName,objectId:e}};return this.relationsToAdd.length>0&&(e={__op:"AddRelation",objects:r.map(this.relationsToAdd,o)}),this.relationsToRemove.length>0&&(n={__op:"RemoveRelation",objects:r.map(this.relationsToRemove,o)}),e&&n?{__op:"Batch",ops:[e,n]}:e||n||{}},_mergeWithPrevious:function(n){if(n){if(n instanceof e.Op.Unset)throw new Error("You can't modify a relation after deleting it.");if(n instanceof e.Op.Relation){if(n._targetClassName&&n._targetClassName!==this._targetClassName)throw new Error("Related object must be of class "+n._targetClassName+", but "+this._targetClassName+" was passed in.");var t=r.union(r.difference(n.relationsToAdd,this.relationsToRemove),this.relationsToAdd),o=r.union(r.difference(n.relationsToRemove,this.relationsToAdd),this.relationsToRemove),i=new e.Op.Relation(t,o);return i._targetClassName=this._targetClassName,i}throw new Error("Op is invalid after previous op.")}return this},_estimate:function(n,t,r){if(n){if(n instanceof e.Relation){if(this._targetClassName)if(n.targetClassName){if(n.targetClassName!==this._targetClassName)throw new Error("Related object must be a "+n.targetClassName+", but a "+this._targetClassName+" was passed in.")}else n.targetClassName=this._targetClassName;return n}throw new Error("Op is invalid after previous op.")}new e.Relation(t,r).targetClassName=this._targetClassName}}),e.Op._registerDecoder("AddRelation",(function(n){return new e.Op.Relation(e._decode(n.objects),[])})),e.Op._registerDecoder("RemoveRelation",(function(n){return new e.Op.Relation([],e._decode(n.objects))}))}},function(e,n,t){"use strict";var r=t(0);e.exports=function(e){e.Relation=function(e,n){if(!r.isString(n))throw new TypeError("key must be a string");this.parent=e,this.key=n,this.targetClassName=null},e.Relation.reverseQuery=function(n,t,r){var o=new e.Query(n);return o.equalTo(t,r._toPointer()),o},r.extend(e.Relation.prototype,{_ensureParentAndKey:function(e,n){if(this.parent=this.parent||e,this.key=this.key||n,this.parent!==e)throw new Error("Internal Error. Relation retrieved from two different Objects.");if(this.key!==n)throw new Error("Internal Error. Relation retrieved from two different keys.")},add:function(n){r.isArray(n)||(n=[n]);var t=new e.Op.Relation(n,[]);this.parent.set(this.key,t),this.targetClassName=t._targetClassName},remove:function(n){r.isArray(n)||(n=[n]);var t=new e.Op.Relation([],n);this.parent.set(this.key,t),this.targetClassName=t._targetClassName},toJSON:function(){return{__type:"Relation",className:this.targetClassName}},query:function(){var n,t;return this.targetClassName?(n=e.Object._getSubclass(this.targetClassName),t=new e.Query(n)):(n=e.Object._getSubclass(this.parent.className),(t=new e.Query(n))._extraOptions.redirectClassNameForKey=this.key),t._addCondition("$relatedTo","object",this.parent._toPointer()),t._addCondition("$relatedTo","key",this.key),t}})}},function(e,n,t){"use strict";var r=t(0),o=t(41),i=t(42),a=t(43),s=t(4),c=t(2)._request,u=t(1),l=t(3),p=l.tap,d=l.transformFetchOptions,f=t(6)("leancloud:file"),h=t(47);e.exports=function(e){var n=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},t=function(e){return r.isString(e)?e.match(/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/)[4]:""},l=function(e){if(e<26)return String.fromCharCode(65+e);if(e<52)return String.fromCharCode(e-26+97);if(e<62)return String.fromCharCode(e-52+48);if(62===e)return"+";if(63===e)return"/";throw new Error("Tried to encode large digit "+e+" in base64.")},m=function(e){var n=[];return n.length=Math.ceil(e.length/3),r.times(n.length,(function(t){var r=e[3*t],o=e[3*t+1]||0,i=e[3*t+2]||0,a=3*t+1<e.length,s=3*t+2<e.length;n[t]=[l(r>>2&63),l(r<<4&48|o>>4&15),a?l(o<<2&60|i>>6&3):"=",s?l(63&i):"="].join("")})),n.join("")};e.File=function(n,o,i){if(this.attributes={name:n,url:"",metaData:{},base64:""},r.isString(o))throw new TypeError("Creating an AV.File from a String is not yet supported.");r.isArray(o)&&(this.attributes.metaData.size=o.length,o={base64:m(o)}),this._extName="",this._data=o,this._uploadHeaders={},"undefined"!=typeof Blob&&o instanceof Blob&&(o.size&&(this.attributes.metaData.size=o.size),o.name&&(this._extName=t(o.name)));var a=void 0;if(o&&o.owner)a=o.owner;else if(!e._config.disableCurrentUser)try{a=e.User.current()}catch(e){if("SYNC_API_NOT_AVAILABLE"!==e.code)throw e}this.attributes.metaData.owner=a?a.id:"unknown",this.set("mime_type",i)},e.File.withURL=function(n,t,r,o){if(!n||!t)throw new Error("Please provide file name and url");var i=new e.File(n,null,o);if(r)for(var a in r)i.attributes.metaData[a]||(i.attributes.metaData[a]=r[a]);return i.attributes.url=t,i.attributes.metaData.__source="external",i},e.File.createWithoutData=function(n){var t=new e.File;return t.id=n,t},r.extend(e.File.prototype,{className:"_File",_toFullJSON:function(n){var t=this,o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=r.clone(this.attributes);return e._objectEach(i,(function(t,r){i[r]=e._encode(t,n,void 0,o)})),e._objectEach(this._operations,(function(e,n){i[n]=e})),r.has(this,"id")&&(i.objectId=this.id),r(["createdAt","updatedAt"]).each((function(e){if(r.has(t,e)){var n=t[e];i[e]=r.isDate(n)?n.toJSON():n}})),o&&(i.__type="File"),i},toFullJSON:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this._toFullJSON(e)},toJSON:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[this];return this._toFullJSON(t,!1)},_toPointer:function(){return{__type:"Pointer",className:this.className,objectId:this.id}},getACL:function(){return this._acl},setACL:function(n){return n instanceof e.ACL?(this._acl=n,this):new s(s.OTHER_CAUSE,"ACL must be a AV.ACL.")},name:function(){return this.get("name")},url:function(){return this.get("url")},get:function(e){switch(e){case"objectId":return this.id;case"url":case"name":case"mime_type":case"metaData":case"createdAt":case"updatedAt":return this.attributes[e];default:return this.attributes.metaData[e]}},set:function(){for(var e=this,n=function(n,t){switch(n){case"name":case"url":case"mime_type":case"base64":case"metaData":e.attributes[n]=t;break;default:e.attributes.metaData[n]=t}},t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];switch(r.length){case 1:for(var i in r[0])n(i,r[0][i]);break;case 2:n(r[0],r[1])}return this},setUploadHeader:function(e,n){return this._uploadHeaders[e]=n,this},metaData:function(e,n){return e&&n?(this.attributes.metaData[e]=n,this):e&&!n?this.attributes.metaData[e]:this.attributes.metaData},thumbnailURL:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"png",i=this.attributes.url;if(!i)throw new Error("Invalid url.");if(!e||!n||e<=0||n<=0)throw new Error("Invalid width or height value.");if(t<=0||t>100)throw new Error("Invalid quality value.");return i+"?imageView/"+(r?2:1)+"/w/"+e+"/h/"+n+"/q/"+t+"/format/"+o},size:function(){return this.metaData().size},ownerId:function(){return this.metaData().owner},destroy:function(e){return this.id?c("files",null,this.id,"DELETE",null,e):u.reject(new Error("The file id does not eixst."))},_fileToken:function(e,r){var o=this.attributes.name,i=t(o);!i&&this._extName&&(o+=this._extName,i=this._extName);var a=n()+n()+n()+n()+n()+i,s={key:a,name:o,keep_file_name:r.keepFileName,ACL:this._acl,mime_type:e,metaData:this.attributes.metaData};return this._qiniu_key=a,c("fileTokens",null,null,"POST",s,r)},save:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.id)throw new Error("File is already saved.");if(!this._previousSave)if(this._data){var t=this.get("mime_type");this._previousSave=this._fileToken(t,n).then((function(s){return s.mime_type&&(t=s.mime_type,e.set("mime_type",t)),e._token=s.token,u.resolve().then((function(){var n=e._data;if(n&&n.base64)return h(n.base64,t);if(n&&n.blob)return!n.blob.type&&t&&(n.blob.type=t),n.blob.name||(n.blob.name=e.get("name")),n.blob;if("undefined"!=typeof Blob&&n instanceof Blob)return n;throw new TypeError("malformed file data")})).then((function(t){var c=r.extend({},n);switch(n.onprogress&&(c.onprogress=function(e){if("download"!==e.direction)return n.onprogress(e)}),s.provider){case"s3":return a(s,t,e,c);case"qcloud":return o(s,t,e,c);case"qiniu":default:return i(s,t,e,c)}})).then(p((function(){return e._callback(!0)})),(function(n){throw e._callback(!1),n}))}))}else if(this.attributes.url&&"external"===this.attributes.metaData.__source){var s={name:this.attributes.name,ACL:this._acl,metaData:this.attributes.metaData,mime_type:this.mimeType,url:this.attributes.url};this._previousSave=c("files",this.attributes.name,null,"post",s,n).then((function(n){return e.attributes.name=n.name,e.attributes.url=n.url,e.id=n.objectId,n.size&&(e.attributes.metaData.size=n.size),e}))}return this._previousSave},_callback:function(e){c("fileCallback",null,null,"post",{token:this._token,result:e}).catch(f),delete this._token,delete this._data},fetch:function(e,n){return c("files",null,this.id,"GET",d(e),n).then(this._finishFetch.bind(this))},_finishFetch:function(n){var t=e.Object.prototype.parse(n);return t.attributes={name:t.name,url:t.url,mime_type:t.mime_type,bucket:t.bucket},t.attributes.metaData=t.metaData||{},t.id=t.objectId,delete t.objectId,delete t.metaData,delete t.url,delete t.name,delete t.mime_type,delete t.bucket,r.extend(this,t),this}})}},function(e,n,t){"use strict";var r=t(8),o=t(6)("cos"),i=t(1);e.exports=function(e,n,t){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t.attributes.url=e.url,t._bucket=e.bucket,t.id=e.objectId;var s=e.upload_url+"?sign="+encodeURIComponent(e.token);return new i((function(e,i){var c=r("POST",s).set(t._uploadHeaders).attach("fileContent",n,t.attributes.name).field("op","upload");a.onprogress&&c.on("progress",a.onprogress),c.end((function(n,r){if(r&&o(r.status,r.body,r.text),n)return r&&(n.statusCode=r.status,n.responseText=r.text,n.response=r.body),i(n);e(t)}))}))}},function(e,n,t){"use strict";var r=t(8),o=t(1),i=t(6)("qiniu");e.exports=function(e,n,t){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t.attributes.url=e.url,t._bucket=e.bucket,t.id=e.objectId;var s=e.token,c=e.upload_url||"https://upload.qiniup.com";return new o((function(o,u){var l=r("POST",c).set(t._uploadHeaders).attach("file",n,t.attributes.name).field("name",t.attributes.name).field("key",e.key||t._qiniu_key).field("token",s);a.onprogress&&l.on("progress",a.onprogress),l.end((function(e,n){if(n&&i(n.status,n.body,n.text),e)return n&&(e.statusCode=n.status,e.responseText=n.text,e.response=n.body),u(e);o(t)}))}))}},function(e,n,t){"use strict";var r=t(8),o=t(1),i=function(e,n){return n&&(e.statusCode=n.status,e.responseText=n.text,e.response=n.body),e};e.exports=function(e,n,t){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return t.attributes.url=e.url,t._bucket=e.bucket,t.id=e.objectId,new o((function(o,s){var c=r("PUT",e.upload_url).set(Object.assign({"Content-Type":t.get("mime_type"),"Cache-Control":"public, max-age=31536000"},t._uploadHeaders));a.onprogress&&c.on("progress",a.onprogress),c.on("response",(function(e){if(e.ok)return o(t);s(i(e.error,e))})),c.on("error",(function(e,n){return s(i(e,n))})),c.send(n).end()}))}},function(e,n,t){!function(){var n=t(45),r=t(14).utf8,o=t(46),i=t(14).bin,a=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?i.stringToBytes(e):r.stringToBytes(e):o(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var s=n.bytesToWords(e),c=8*e.length,u=1732584193,l=-271733879,p=-1732584194,d=271733878,f=0;f<s.length;f++)s[f]=16711935&(s[f]<<8|s[f]>>>24)|4278255360&(s[f]<<24|s[f]>>>8);s[c>>>5]|=128<<c%32,s[14+(c+64>>>9<<4)]=c;var h=a._ff,m=a._gg,v=a._hh,g=a._ii;for(f=0;f<s.length;f+=16){var y=u,b=l,w=p,E=d;u=h(u,l,p,d,s[f+0],7,-680876936),d=h(d,u,l,p,s[f+1],12,-389564586),p=h(p,d,u,l,s[f+2],17,606105819),l=h(l,p,d,u,s[f+3],22,-1044525330),u=h(u,l,p,d,s[f+4],7,-176418897),d=h(d,u,l,p,s[f+5],12,1200080426),p=h(p,d,u,l,s[f+6],17,-1473231341),l=h(l,p,d,u,s[f+7],22,-45705983),u=h(u,l,p,d,s[f+8],7,1770035416),d=h(d,u,l,p,s[f+9],12,-1958414417),p=h(p,d,u,l,s[f+10],17,-42063),l=h(l,p,d,u,s[f+11],22,-1990404162),u=h(u,l,p,d,s[f+12],7,1804603682),d=h(d,u,l,p,s[f+13],12,-40341101),p=h(p,d,u,l,s[f+14],17,-1502002290),u=m(u,l=h(l,p,d,u,s[f+15],22,1236535329),p,d,s[f+1],5,-165796510),d=m(d,u,l,p,s[f+6],9,-1069501632),p=m(p,d,u,l,s[f+11],14,643717713),l=m(l,p,d,u,s[f+0],20,-373897302),u=m(u,l,p,d,s[f+5],5,-701558691),d=m(d,u,l,p,s[f+10],9,38016083),p=m(p,d,u,l,s[f+15],14,-660478335),l=m(l,p,d,u,s[f+4],20,-405537848),u=m(u,l,p,d,s[f+9],5,568446438),d=m(d,u,l,p,s[f+14],9,-1019803690),p=m(p,d,u,l,s[f+3],14,-187363961),l=m(l,p,d,u,s[f+8],20,1163531501),u=m(u,l,p,d,s[f+13],5,-1444681467),d=m(d,u,l,p,s[f+2],9,-51403784),p=m(p,d,u,l,s[f+7],14,1735328473),u=v(u,l=m(l,p,d,u,s[f+12],20,-1926607734),p,d,s[f+5],4,-378558),d=v(d,u,l,p,s[f+8],11,-2022574463),p=v(p,d,u,l,s[f+11],16,1839030562),l=v(l,p,d,u,s[f+14],23,-35309556),u=v(u,l,p,d,s[f+1],4,-1530992060),d=v(d,u,l,p,s[f+4],11,1272893353),p=v(p,d,u,l,s[f+7],16,-155497632),l=v(l,p,d,u,s[f+10],23,-1094730640),u=v(u,l,p,d,s[f+13],4,681279174),d=v(d,u,l,p,s[f+0],11,-358537222),p=v(p,d,u,l,s[f+3],16,-722521979),l=v(l,p,d,u,s[f+6],23,76029189),u=v(u,l,p,d,s[f+9],4,-640364487),d=v(d,u,l,p,s[f+12],11,-421815835),p=v(p,d,u,l,s[f+15],16,530742520),u=g(u,l=v(l,p,d,u,s[f+2],23,-995338651),p,d,s[f+0],6,-198630844),d=g(d,u,l,p,s[f+7],10,1126891415),p=g(p,d,u,l,s[f+14],15,-1416354905),l=g(l,p,d,u,s[f+5],21,-57434055),u=g(u,l,p,d,s[f+12],6,1700485571),d=g(d,u,l,p,s[f+3],10,-1894986606),p=g(p,d,u,l,s[f+10],15,-1051523),l=g(l,p,d,u,s[f+1],21,-2054922799),u=g(u,l,p,d,s[f+8],6,1873313359),d=g(d,u,l,p,s[f+15],10,-30611744),p=g(p,d,u,l,s[f+6],15,-1560198380),l=g(l,p,d,u,s[f+13],21,1309151649),u=g(u,l,p,d,s[f+4],6,-145523070),d=g(d,u,l,p,s[f+11],10,-1120210379),p=g(p,d,u,l,s[f+2],15,718787259),l=g(l,p,d,u,s[f+9],21,-343485551),u=u+y>>>0,l=l+b>>>0,p=p+w>>>0,d=d+E>>>0}return n.endian([u,l,p,d])};a._ff=function(e,n,t,r,o,i,a){var s=e+(n&t|~n&r)+(o>>>0)+a;return(s<<i|s>>>32-i)+n},a._gg=function(e,n,t,r,o,i,a){var s=e+(n&r|t&~r)+(o>>>0)+a;return(s<<i|s>>>32-i)+n},a._hh=function(e,n,t,r,o,i,a){var s=e+(n^t^r)+(o>>>0)+a;return(s<<i|s>>>32-i)+n},a._ii=function(e,n,t,r,o,i,a){var s=e+(t^(n|~r))+(o>>>0)+a;return(s<<i|s>>>32-i)+n},a._blocksize=16,a._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var r=n.wordsToBytes(a(e,t));return t&&t.asBytes?r:t&&t.asString?i.bytesToString(r):n.bytesToHex(r)}}()},function(e,n){!function(){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t={rotl:function(e,n){return e<<n|e>>>32-n},rotr:function(e,n){return e<<32-n|e>>>n},endian:function(e){if(e.constructor==Number)return 16711935&t.rotl(e,8)|4278255360&t.rotl(e,24);for(var n=0;n<e.length;n++)e[n]=t.endian(e[n]);return e},randomBytes:function(e){for(var n=[];e>0;e--)n.push(Math.floor(256*Math.random()));return n},bytesToWords:function(e){for(var n=[],t=0,r=0;t<e.length;t++,r+=8)n[r>>>5]|=e[t]<<24-r%32;return n},wordsToBytes:function(e){for(var n=[],t=0;t<32*e.length;t+=8)n.push(e[t>>>5]>>>24-t%32&255);return n},bytesToHex:function(e){for(var n=[],t=0;t<e.length;t++)n.push((e[t]>>>4).toString(16)),n.push((15&e[t]).toString(16));return n.join("")},hexToBytes:function(e){for(var n=[],t=0;t<e.length;t+=2)n.push(parseInt(e.substr(t,2),16));return n},bytesToBase64:function(e){for(var t=[],r=0;r<e.length;r+=3)for(var o=e[r]<<16|e[r+1]<<8|e[r+2],i=0;i<4;i++)8*r+6*i<=8*e.length?t.push(n.charAt(o>>>6*(3-i)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],r=0,o=0;r<e.length;o=++r%4)0!=o&&t.push((n.indexOf(e.charAt(r-1))&Math.pow(2,-2*o+8)-1)<<2*o|n.indexOf(e.charAt(r))>>>6-2*o);return t}};e.exports=t}()},function(e,n){function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,n,t){"use strict";e.exports=function(e,n){var t;e.indexOf("base64")<0?t=atob(e):e.split(",")[0].indexOf("base64")>=0?(n=n||e.split(",")[0].split(":")[1].split(";")[0],t=atob(e.split(",")[1])):t=unescape(e.split(",")[1]);for(var r=new Uint8Array(t.length),o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return new Blob([r],{type:n})}},function(e,n,t){"use strict";function r(e,n){return e&&e[n]?i.isFunction(e[n])?e[n]():e[n]:null}var o=function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,n){var t=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return t}(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=t(0),a=t(4),s=t(1),c=t(2)._request,u=t(3),l=u.isNullOrUndefined,p=u.ensureArray,d=u.transformFetchOptions,f=u.setValue,h=u.findValue,m=u.isPlainObject,v=["objectId","createdAt","updatedAt"],g=function(e){if(-1!==v.indexOf(e))throw new Error("key["+e+"] is reserved")},y=function(e){var n=i.find(e,(function(e){return e instanceof Error}));if(!n)return e;var t=new a(n.code,n.message);throw t.results=e,t};e.exports=function(e){e.Object=function(n,t){if(i.isString(n))return e.Object._create.apply(this,arguments);n=n||{},t&&t.parse&&(n=this.parse(n),n=this._mergeMagicFields(n));var o=r(this,"defaults");o&&(n=i.extend({},o,n)),t&&t.collection&&(this.collection=t.collection),this._serverData={},this._opSetQueue=[{}],this._flags={},this.attributes={},this._hashedJSON={},this._escapedAttributes={},this.cid=i.uniqueId("c"),this.changed={},this._silent={},this._pending={},this.set(n,{silent:!0}),this.changed={},this._silent={},this._pending={},this._hasData=!0,this._previousAttributes=i.clone(this.attributes),this.initialize.apply(this,arguments)},e.Object.saveAll=function(n,t){return e.Object._deepSaveAsync(n,null,t)},e.Object.fetchAll=function(e,n){return s.resolve().then((function(){return c("batch",null,null,"POST",{requests:i.map(e,(function(e){if(!e.className)throw new Error("object must have className to fetch");if(!e.id)throw new Error("object must have id to fetch");if(e.dirty())throw new Error("object is modified but not saved");return{method:"GET",path:"/1.1/classes/"+e.className+"/"+e.id}}))},n)})).then((function(n){var t=i.map(e,(function(e,t){if(n[t].success){var r=e.parse(n[t].success);return e._cleanupUnsetKeys(r),e._finishFetch(r),e}return null===n[t].success?new a(a.OBJECT_NOT_FOUND,"Object not found."):new a(n[t].error.code,n[t].error.error)}));return y(t)}))},i.extend(e.Object.prototype,e.Events,{_fetchWhenSave:!1,initialize:function(){},fetchWhenSave:function(e){if(console.warn("AV.Object#fetchWhenSave is deprecated, use AV.Object#save with options.fetchWhenSave instead."),!i.isBoolean(e))throw new Error("Expect boolean value for fetchWhenSave");this._fetchWhenSave=e},getObjectId:function(){return this.id},getCreatedAt:function(){return this.createdAt},getUpdatedAt:function(){return this.updatedAt},toJSON:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this._toFullJSON(t,!1)},toFullJSON:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this._toFullJSON(e)},_toFullJSON:function(n){var t=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=i.clone(this.attributes);if(i.isArray(n))var a=n.concat(this);return e._objectEach(o,(function(n,t){o[t]=e._encode(n,a,void 0,r)})),e._objectEach(this._operations,(function(e,n){o[n]=e})),i.has(this,"id")&&(o.objectId=this.id),i(["createdAt","updatedAt"]).each((function(e){if(i.has(t,e)){var n=t[e];o[e]=i.isDate(n)?n.toJSON():n}})),r&&(o.__type="Object",i.isArray(n)&&n.length&&(o.__type="Pointer"),o.className=this.className),o},_refreshCache:function(){var n=this;n._refreshingCache||(n._refreshingCache=!0,e._objectEach(this.attributes,(function(t,r){t instanceof e.Object?t._refreshCache():i.isObject(t)&&n._resetCacheForKey(r)&&n.set(r,new e.Op.Set(t),{silent:!0})})),delete n._refreshingCache)},dirty:function(e){this._refreshCache();var n=i.last(this._opSetQueue);return e?!!n[e]:!this.id||i.keys(n).length>0},_toPointer:function(){return{__type:"Pointer",className:this.className,objectId:this.id}},get:function(e){switch(e){case"objectId":return this.id;case"createdAt":case"updatedAt":return this[e];default:return this.attributes[e]}},relation:function(n){var t=this.get(n);if(t){if(!(t instanceof e.Relation))throw new Error("Called relation() on non-relation field "+n);return t._ensureParentAndKey(this,n),t}return new e.Relation(this,n)},escape:function(e){var n=this._escapedAttributes[e];if(n)return n;var t,r=this.attributes[e];return t=l(r)?"":i.escape(r.toString()),this._escapedAttributes[e]=t,t},has:function(e){return!l(this.attributes[e])},_mergeMagicFields:function(n){var t=this;return e._arrayEach(["objectId","createdAt","updatedAt"],(function(r){n[r]&&("objectId"===r?t.id=n[r]:"createdAt"!==r&&"updatedAt"!==r||i.isDate(n[r])?t[r]=n[r]:t[r]=e._parseDate(n[r]),delete n[r])})),n},_startSave:function(){this._opSetQueue.push({})},_cancelSave:function(){var n=i.first(this._opSetQueue);this._opSetQueue=i.rest(this._opSetQueue);var t=i.first(this._opSetQueue);e._objectEach(n,(function(e,r){var o=n[r],i=t[r];o&&i?t[r]=i._mergeWithPrevious(o):o&&(t[r]=o)})),this._saving=this._saving-1},_finishSave:function(n){var t={};e._traverse(this.attributes,(function(n){n instanceof e.Object&&n.id&&n._hasData&&(t[n.id]=n)}));var r=i.first(this._opSetQueue);this._opSetQueue=i.rest(this._opSetQueue),this._applyOpSet(r,this._serverData),this._mergeMagicFields(n);var o=this;e._objectEach(n,(function(n,r){o._serverData[r]=e._decode(n,r);var i=e._traverse(o._serverData[r],(function(n){if(n instanceof e.Object&&t[n.id])return t[n.id]}));i&&(o._serverData[r]=i)})),this._rebuildAllEstimatedData();var a=this._opSetQueue.map(i.clone);this._refreshCache(),this._opSetQueue=a,this._saving=this._saving-1},_finishFetch:function(n,t){this._opSetQueue=[{}],this._mergeMagicFields(n);var r=this;e._objectEach(n,(function(n,t){r._serverData[t]=e._decode(n,t)})),this._rebuildAllEstimatedData(),this._refreshCache(),this._opSetQueue=[{}],this._hasData=t},_applyOpSet:function(n,t){var r=this;e._objectEach(n,(function(n,i){var a=h(t,i),s=o(a,3),c=s[0],u=s[1],l=s[2];f(t,i,n._estimate(c,r,i)),u&&u[l]===e.Op._UNSET&&delete u[l]}))},_resetCacheForKey:function(n){var t=this.attributes[n];if(i.isObject(t)&&!(t instanceof e.Object)&&!(t instanceof e.File)){var r=JSON.stringify(function e(n){return i.isArray(n)?n.map(e):m(n)?i.mapObject(n,e):i.isObject(n)&&n._toPointer?n._toPointer():n}(t));if(this._hashedJSON[n]!==r){var o=!!this._hashedJSON[n];return this._hashedJSON[n]=r,o}}return!1},_rebuildEstimatedDataForKey:function(n){var t=this;delete this.attributes[n],this._serverData[n]&&(this.attributes[n]=this._serverData[n]),e._arrayEach(this._opSetQueue,(function(r){var i=r[n];if(i){var a=h(t.attributes,n),s=o(a,4),c=s[0],u=s[1],l=s[2],p=s[3];f(t.attributes,n,i._estimate(c,t,n)),u&&u[l]===e.Op._UNSET&&delete u[l],t._resetCacheForKey(p)}}))},_rebuildAllEstimatedData:function(){var n=this,t=i.clone(this.attributes);this.attributes=i.clone(this._serverData),e._arrayEach(this._opSetQueue,(function(t){n._applyOpSet(t,n.attributes),e._objectEach(t,(function(e,t){n._resetCacheForKey(t)}))})),e._objectEach(t,(function(e,t){n.attributes[t]!==e&&n.trigger("change:"+t,n,n.attributes[t],{})})),e._objectEach(this.attributes,(function(e,r){i.has(t,r)||n.trigger("change:"+r,n,e,{})}))},set:function(n,t,r){var o;if(i.isObject(n)||l(n)?(o=i.mapObject(n,(function(n,t){return g(t),e._decode(n,t)})),r=t):(o={},g(n),o[n]=e._decode(t,n)),r=r||{},!o)return this;o instanceof e.Object&&(o=o.attributes),r.unset&&e._objectEach(o,(function(n,t){o[t]=new e.Op.Unset}));var a=i.clone(o),s=this;e._objectEach(a,(function(n,t){n instanceof e.Op&&(a[t]=n._estimate(s.attributes[t],s,t),a[t]===e.Op._UNSET&&delete a[t])})),this._validate(o,r),r.changes={};var c=this._escapedAttributes;return e._arrayEach(i.keys(o),(function(n){var t=o[n];t instanceof e.Relation&&(t.parent=s),t instanceof e.Op||(t=new e.Op.Set(t));var a=!0;t instanceof e.Op.Set&&i.isEqual(s.attributes[n],t.value)&&(a=!1),a&&(delete c[n],r.silent?s._silent[n]=!0:r.changes[n]=!0);var u=i.last(s._opSetQueue);u[n]=t._mergeWithPrevious(u[n]),s._rebuildEstimatedDataForKey(n),a?(s.changed[n]=s.attributes[n],r.silent||(s._pending[n]=!0)):(delete s.changed[n],delete s._pending[n])})),r.silent||this.change(r),this},unset:function(e,n){return(n=n||{}).unset=!0,this.set(e,null,n)},increment:function(n,t){return(i.isUndefined(t)||i.isNull(t))&&(t=1),this.set(n,new e.Op.Increment(t))},add:function(n,t){return this.set(n,new e.Op.Add(p(t)))},addUnique:function(n,t){return this.set(n,new e.Op.AddUnique(p(t)))},remove:function(n,t){return this.set(n,new e.Op.Remove(p(t)))},bitAnd:function(n,t){return this.set(n,new e.Op.BitAnd(t))},bitOr:function(n,t){return this.set(n,new e.Op.BitOr(t))},bitXor:function(n,t){return this.set(n,new e.Op.BitXor(t))},op:function(e){return i.last(this._opSetQueue)[e]},clear:function(e){(e=e||{}).unset=!0;var n=i.extend(this.attributes,this._operations);return this.set(n,e)},revert:function(e){var n=i.last(this._opSetQueue);return p(e||i.keys(n)).forEach((function(e){delete n[e]})),this._rebuildAllEstimatedData(),this},_getSaveJSON:function(){var n=i.clone(i.first(this._opSetQueue));return e._objectEach(n,(function(e,t){n[t]=e.toJSON()})),n},_canBeSerialized:function(){return e.Object._canBeSerializedAsValue(this.attributes)},fetch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],t=this;return c("classes",this.className,this.id,"GET",d(e),n).then((function(n){var r=t.parse(n);return e.keys||t._cleanupUnsetKeys(r),t._finishFetch(r,!0),t}))},_cleanupUnsetKeys:function(n){var t=this;e._objectEach(this._serverData,(function(e,r){void 0===n[r]&&delete t._serverData[r]}))},save:function(n,t,r){var o,a,u;i.isObject(n)||l(n)?(o=n,u=t):((o={})[n]=t,u=r),(u=i.clone(u)||{}).wait&&(a=i.clone(this.attributes));var p=i.clone(u)||{};p.wait&&(p.silent=!0),o&&this.set(o,p);var d=this,f=[],h=[];return e.Object._findUnsavedChildren(d,f,h),f.length+h.length>1?e.Object._deepSaveAsync(this,d,u):(this._startSave(),this._saving=(this._saving||0)+1,this._allPreviousSaves=this._allPreviousSaves||s.resolve(),this._allPreviousSaves=this._allPreviousSaves.catch((function(e){})).then((function(){var e,n=d.id?"PUT":"POST",t=d._getSaveJSON(),r={};if((d._fetchWhenSave||u.fetchWhenSave)&&(r.new="true"),u._failOnNotExist&&(r.failOnNotExist="true"),u.query&&("function"==typeof u.query.toJSON&&(e=u.query.toJSON())&&(r.where=e.where),!r.where))throw new Error("options.query is not an AV.Query");i.extend(t,d._flags);var s="classes",l=d.className;"_User"!==d.className||d.id||(s="users",l=null);var f=(u._makeRequest||c)(s,l,d.id,n,t,u,r);return f.then((function(e){var n=d.parse(e);return u.wait&&(n=i.extend(o||{},n)),d._finishSave(n),u.wait&&d.set(a,p),d}),(function(e){throw d._cancelSave(),e}))})),this._allPreviousSaves)},destroy:function(e){e=e||{};var n=this,t=function(){n.trigger("destroy",n,n.collection,e)};return this.id?(e.wait||t(),c("classes",this.className,this.id,"DELETE",this._flags,e).then((function(){return e.wait&&t(),n}))):t()},parse:function(n){var t=i.clone(n);return i(["createdAt","updatedAt"]).each((function(n){t[n]&&(t[n]=e._parseDate(t[n]))})),t.createdAt&&!t.updatedAt&&(t.updatedAt=t.createdAt),t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.id},change:function(n){n=n||{};var t=this._changing;this._changing=!0;var r=this;e._objectEach(this._silent,(function(e){r._pending[e]=!0}));var o=i.extend({},n.changes,this._silent);if(this._silent={},e._objectEach(o,(function(e,t){r.trigger("change:"+t,r,r.get(t),n)})),t)return this;for(var a=function(e,n){r._pending[n]||r._silent[n]||delete r.changed[n]};!i.isEmpty(this._pending);)this._pending={},this.trigger("change",this,n),e._objectEach(this.changed,a),r._previousAttributes=i.clone(this.attributes);return this._changing=!1,this},hasChanged:function(e){return arguments.length?this.changed&&i.has(this.changed,e):!i.isEmpty(this.changed)},changedAttributes:function(n){if(!n)return!!this.hasChanged()&&i.clone(this.changed);var t={},r=this._previousAttributes;return e._objectEach(n,(function(e,n){i.isEqual(r[n],e)||(t[n]=e)})),t},previous:function(e){return arguments.length&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return i.clone(this._previousAttributes)},isValid:function(){try{this.validate(this.attributes)}catch(e){return!1}return!0},validate:function(n){if(i.has(n,"ACL")&&!(n.ACL instanceof e.ACL))throw new a(a.OTHER_CAUSE,"ACL must be a AV.ACL.")},_validate:function(e,n){!n.silent&&this.validate&&(e=i.extend({},this.attributes,e),this.validate(e))},getACL:function(){return this.get("ACL")},setACL:function(e,n){return this.set("ACL",e,n)},disableBeforeHook:function(){this.ignoreHook("beforeSave"),this.ignoreHook("beforeUpdate"),this.ignoreHook("beforeDelete")},disableAfterHook:function(){this.ignoreHook("afterSave"),this.ignoreHook("afterUpdate"),this.ignoreHook("afterDelete")},ignoreHook:function(n){i.contains(["beforeSave","afterSave","beforeUpdate","afterUpdate","beforeDelete","afterDelete"],n)||console.trace("Unsupported hookName: "+n),e.hookKey||console.trace("ignoreHook required hookKey"),this._flags.__ignore_hooks||(this._flags.__ignore_hooks=[]),this._flags.__ignore_hooks.push(n)}}),e.Object.createWithoutData=function(n,t,r){var o=void 0;if(i.isString(n))o=e.Object._getSubclass(n);else{if(!(n.prototype&&n.prototype instanceof e.Object))throw new Error("class must be a string or a subclass of AV.Object.");o=n}var a=new o;return a.id=t,a._hasData=r,a},e.Object.destroyAll=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||0===e.length)return s.resolve();var t=i.groupBy(e,(function(e){return JSON.stringify({className:e.className,flags:e._flags})})),r={requests:i.map(t,(function(e){var n=i.map(e,"id").join(",");return{method:"DELETE",path:"/1.1/classes/"+e[0].className+"/"+n,body:e[0]._flags}}))};return c("batch",null,null,"POST",r,n).then((function(e){var n=i.find(e,(function(e){return!e.success}));if(n)throw new a(n.error.code,n.error.error)}))},e.Object._getSubclass=function(n){if(!i.isString(n))throw new Error("AV.Object._getSubclass requires a string argument.");var t=e.Object._classMap[n];return t||(t=e.Object.extend(n),e.Object._classMap[n]=t),t},e.Object._create=function(n,t,r){return new(e.Object._getSubclass(n))(t,r)},e.Object._classMap={},e.Object._extend=e._extend,e.Object.new=function(n,t){return new e.Object(n,t)},e.Object.extend=function(n,t,r){if(!i.isString(n)){if(n&&i.has(n,"className"))return e.Object.extend(n.className,n,t);throw new Error("AV.Object.extend's first argument should be the className.")}"User"===n&&(n="_User");var o=null;if(i.has(e.Object._classMap,n)){var a=e.Object._classMap[n];if(!t&&!r)return a;o=a._extend(t,r)}else(t=t||{})._className=n,o=this._extend(t,r);return o.extend=function(t){if(i.isString(t)||t&&i.has(t,"className"))return e.Object.extend.apply(o,arguments);var r=[n].concat(i.toArray(arguments));return e.Object.extend.apply(o,r)},Object.defineProperty(o,"query",Object.getOwnPropertyDescriptor(e.Object,"query")),o.new=function(e,n){return new o(e,n)},e.Object._classMap[n]=o,o},Object.defineProperty(e.Object.prototype,"className",{get:function(){var e=this._className||this.constructor._LCClassName||this.constructor.name;return"User"===e?"_User":e}}),e.Object.register=function(n,t){if(!(n.prototype instanceof e.Object))throw new Error("registered class is not a subclass of AV.Object");var r=t||n.name;if(!r.length)throw new Error("registered class must be named");t&&(n._LCClassName=t),e.Object._classMap[r]=n},Object.defineProperty(e.Object,"query",{get:function(){return new e.Query(this.prototype.className)}}),e.Object._findUnsavedChildren=function(n,t,r){e._traverse(n,(function(n){return n instanceof e.Object?void(n.dirty()&&t.push(n)):n instanceof e.File?void(n.id||r.push(n)):void 0}))},e.Object._canBeSerializedAsValue=function(n){var t=!0;return n instanceof e.Object||n instanceof e.File?t=!!n.id:i.isArray(n)?e._arrayEach(n,(function(n){e.Object._canBeSerializedAsValue(n)||(t=!1)})):i.isObject(n)&&e._objectEach(n,(function(n){e.Object._canBeSerializedAsValue(n)||(t=!1)})),t},e.Object._deepSaveAsync=function(n,t,r){var o=[],u=[];e.Object._findUnsavedChildren(n,o,u);var l=s.resolve();i.each(u,(function(e){l=l.then((function(){return e.save()}))}));var p=i.uniq(o),d=i.uniq(p);return l.then((function(){return s._continueWhile((function(){return d.length>0}),(function(){var n=[],t=[];if(e._arrayEach(d,(function(e){n.length>20?t.push(e):e._canBeSerialized()?n.push(e):t.push(e)})),d=t,0===n.length)return s.reject(new a(a.OTHER_CAUSE,"Tried to save a batch with a cycle."));var o=s.resolve(i.map(n,(function(e){return e._allPreviousSaves||s.resolve()}))).then((function(){return c("batch",null,null,"POST",{requests:i.map(n,(function(e){var n=e.id?"PUT":"POST",t=e._getSaveJSON();i.extend(t,e._flags);var r="/classes/"+e.className;return"_User"!==e.className||e.id||(r="/users"),r="/1.1"+r,e.id&&(r=r+"/"+e.id),e._startSave(),{method:n,path:r,body:t}}))},r).then((function(e){var t=i.map(n,(function(n,t){return e[t].success?(n._finishSave(n.parse(e[t].success)),n):(n._cancelSave(),new a(e[t].error.code,e[t].error.error))}));return y(t)}))}));return e._arrayEach(n,(function(e){e._allPreviousSaves=o})),o}))})).then((function(){return n}))}}},function(e,n,t){"use strict";var r=t(0),o=t(4);e.exports=function(e){e.Role=e.Object.extend("_Role",{constructor:function(n,t){if(r.isString(n)?(e.Object.prototype.constructor.call(this,null,null),this.setName(n)):e.Object.prototype.constructor.call(this,n,t),t){if(!(t instanceof e.ACL))throw new TypeError("acl must be an instance of AV.ACL");this.setACL(t)}},getName:function(){return this.get("name")},setName:function(e,n){return this.set("name",e,n)},getUsers:function(){return this.relation("users")},getRoles:function(){return this.relation("roles")},validate:function(n,t){if("name"in n&&n.name!==this.getName()){var i=n.name;if(this.id&&this.id!==n.objectId)return new o(o.OTHER_CAUSE,"A role's name can only be set before it has been saved.");if(!r.isString(i))return new o(o.OTHER_CAUSE,"A role's name must be a String.");if(!/^[0-9a-zA-Z\-_ ]+$/.test(i))return new o(o.OTHER_CAUSE,"A role's name can only contain alphanumeric characters, _, -, and spaces.")}return!!e.Object.prototype.validate&&e.Object.prototype.validate.call(this,n,t)}})}},function(e,n,t){"use strict";function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var o=t(0),i=t(9),a=t(4),s=t(2),c=s._request,u=s.request,l=t(1),p=function(){if("undefined"==typeof wx||"function"!=typeof wx.login)throw new Error("Weapp Login is only available in Weapp");return new l((function(e,n){wx.login({success:function(t){var r=t.code,o=t.errMsg;r?e(r):n(new Error(o))},fail:function(){return n(new Error("wx.login 失败"))}})}))},d=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.preferUnionId,r=n.unionIdPlatform,o=void 0===r?"weixin":r,i=n.asMainAccount,a=void 0===i||i;return t?{platform:o,main_account:a,code:e}:{code:e}},f=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.unionIdPlatform,i=void 0===r?"weixin":r,s=t.asMainAccount,c=void 0!==s&&s;if("string"!=typeof n)throw new a(a.OTHER_CAUSE,"unionId is not a string");if("string"!=typeof i)throw new a(a.OTHER_CAUSE,"unionIdPlatform is not a string");return o.extend({},e,{platform:i,unionid:n,main_account:Boolean(c)})};e.exports=function(e){e.User=e.Object.extend("_User",{_isCurrentUser:!1,_mergeMagicFields:function(n){return n.sessionToken&&(this._sessionToken=n.sessionToken,delete n.sessionToken),e.User.__super__._mergeMagicFields.call(this,n)},_cleanupAuthData:function(){if(this.isCurrent()){var n=this.get("authData");n&&e._objectEach(this.get("authData"),(function(e,t){n[t]||delete n[t]}))}},_synchronizeAllAuthData:function(){if(this.get("authData")){var n=this;e._objectEach(this.get("authData"),(function(e,t){n._synchronizeAuthData(t)}))}},_synchronizeAuthData:function(n){if(this.isCurrent()){var t;o.isString(n)?(t=n,n=e.User._authProviders[t]):t=n.getAuthType();var r=this.get("authData");r&&n&&(n.restoreAuthentication(r[t])||this.dissociateAuthData(n))}},_handleSaveResult:function(n){return n&&!e._config.disableCurrentUser&&(this._isCurrentUser=!0),this._cleanupAuthData(),this._synchronizeAllAuthData(),delete this._serverData.password,this._rebuildEstimatedDataForKey("password"),this._refreshCache(),!n&&!this.isCurrent()||e._config.disableCurrentUser?l.resolve():l.resolve(e.User._saveCurrentUser(this))},_linkWith:function(n,t){var i,a=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=s.failOnNotExist,u=void 0!==c&&c;return o.isString(n)?(i=n,n=e.User._authProviders[n]):i=n.getAuthType(),t?this.save({authData:r({},i,t)},{fetchWhenSave:!!this.get("authData"),_failOnNotExist:u}).then((function(e){return e._handleSaveResult(!0).then((function(){return e}))})):n.authenticate().then((function(e){return a._linkWith(n,e)}))},associateWithAuthData:function(e,n){return this._linkWith(n,e)},associateWithAuthDataAndUnionId:function(e,n,t,r){return this._linkWith(n,f(e,t,r))},associateWithWeapp:function(e){var n=this;return p().then((function(t){return n._linkWith("lc_weapp",d(t,e))}))},linkWithWeapp:function(e){return console.warn("DEPRECATED: User#linkWithWeapp 已废弃，请使用 User#associateWithWeapp 代替"),this.associateWithWeapp(e)},associateWithWeappWithUnionId:function(e,n){var t=this;return p().then((function(r){return t._linkWith("lc_weapp",f({code:r},e,n))}))},dissociateAuthData:function(e){return this.unset("authData."+e),this.save().then((function(e){return e._handleSaveResult(!0).then((function(){return e}))}))},_unlinkFrom:function(e){return console.warn("DEPRECATED: User#_unlinkFrom 已废弃，请使用 User#dissociateAuthData 代替"),this.dissociateAuthData(e)},_isLinked:function(e){var n;return n=o.isString(e)?e:e.getAuthType(),!!(this.get("authData")||{})[n]},isAnonymous:function(){return this._isLinked("anonymous")},logOut:function(){this._logOutWithAll(),this._isCurrentUser=!1},_logOutWithAll:function(){if(this.get("authData")){var n=this;e._objectEach(this.get("authData"),(function(e,t){n._logOutWith(t)}))}},_logOutWith:function(n){this.isCurrent()&&(o.isString(n)&&(n=e.User._authProviders[n]),n&&n.deauthenticate&&n.deauthenticate())},signUp:function(e,n){var t=e&&e.username||this.get("username");if(!t||""===t)throw new a(a.OTHER_CAUSE,"Cannot sign up user with an empty name.");var r=e&&e.password||this.get("password");if(!r||""===r)throw new a(a.OTHER_CAUSE,"Cannot sign up user with an empty password.");return this.save(e,n).then((function(e){return e.isAnonymous()&&(e.unset("authData.anonymous"),e._opSetQueue=[{}]),e._handleSaveResult(!0).then((function(){return e}))}))},signUpOrlogInWithMobilePhone:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e&&e.mobilePhoneNumber||this.get("mobilePhoneNumber");if(!t||""===t)throw new a(a.OTHER_CAUSE,"Cannot sign up or login user by mobilePhoneNumber with an empty mobilePhoneNumber.");var r=e&&e.smsCode||this.get("smsCode");if(!r||""===r)throw new a(a.OTHER_CAUSE,"Cannot sign up or login user by mobilePhoneNumber  with an empty smsCode.");return n._makeRequest=function(e,n,t,r,o){return c("usersByMobilePhone",null,null,"POST",o)},this.save(e,n).then((function(e){return delete e.attributes.smsCode,delete e._serverData.smsCode,e._handleSaveResult(!0).then((function(){return e}))}))},loginWithAuthData:function(e,n,t){return this._linkWith(n,e,t)},loginWithAuthDataAndUnionId:function(e,n,t,r){return this.loginWithAuthData(f(e,t,r),n,r)},loginWithWeapp:function(e){var n=this;return p().then((function(t){return n.loginWithAuthData(d(t,e),"lc_weapp",e)}))},loginWithWeappWithUnionId:function(e,n){var t=this;return p().then((function(r){return t.loginWithAuthData(f({code:r},e,n),"lc_weapp",n)}))},logIn:function(){var e=this;return c("login",null,null,"POST",this.toJSON()).then((function(n){var t=e.parse(n);return e._finishFetch(t),e._handleSaveResult(!0).then((function(){return t.smsCode||delete e.attributes.smsCode,e}))}))},save:function(n,t,r){var i,a;return o.isObject(n)||o.isNull(n)||o.isUndefined(n)?(i=n,a=t):((i={})[n]=t,a=r),a=a||{},e.Object.prototype.save.call(this,i,a).then((function(e){return e._handleSaveResult(!1).then((function(){return e}))}))},follow:function(n,t){if(!this.id)throw new Error("Please signin.");var r=void 0,i=void 0;n.user?(r=n.user,i=n.attributes):r=n;var a=o.isString(r)?r:r.id;if(!a)throw new Error("Invalid target user.");var s="users/"+this.id+"/friendship/"+a;return c(s,null,null,"POST",e._encode(i),t)},unfollow:function(e,n){if(!this.id)throw new Error("Please signin.");var t;t=e.user?e.user:e;var r=o.isString(t)?t:t.id;if(!r)throw new Error("Invalid target user.");var i="users/"+this.id+"/friendship/"+r;return c(i,null,null,"DELETE",null,n)},followerQuery:function(){return e.User.followerQuery(this.id)},followeeQuery:function(){return e.User.followeeQuery(this.id)},fetch:function(n,t){return e.Object.prototype.fetch.call(this,n,t).then((function(e){return e._handleSaveResult(!1).then((function(){return e}))}))},updatePassword:function(e,n,t){var r="users/"+this.id+"/updatePassword";return c(r,null,null,"PUT",{old_password:e,new_password:n},t)},isCurrent:function(){return this._isCurrentUser},getUsername:function(){return this.get("username")},getMobilePhoneNumber:function(){return this.get("mobilePhoneNumber")},setMobilePhoneNumber:function(e,n){return this.set("mobilePhoneNumber",e,n)},setUsername:function(e,n){return this.set("username",e,n)},setPassword:function(e,n){return this.set("password",e,n)},getEmail:function(){return this.get("email")},setEmail:function(e,n){return this.set("email",e,n)},authenticated:function(){return console.warn("DEPRECATED: 如果要判断当前用户的登录状态是否有效，请使用 currentUser.isAuthenticated().then()，如果要判断该用户是否是当前登录用户，请使用 user.id === currentUser.id。"),!!this._sessionToken&&!e._config.disableCurrentUser&&e.User.current()&&e.User.current().id===this.id},isAuthenticated:function(){var n=this;return l.resolve().then((function(){return!!n._sessionToken&&e.User._fetchUserBySessionToken(n._sessionToken).then((function(){return!0}),(function(e){if(211===e.code)return!1;throw e}))}))},getSessionToken:function(){return this._sessionToken},refreshSessionToken:function(e){var n=this;return c("users/"+this.id+"/refreshSessionToken",null,null,"PUT",null,e).then((function(e){return n._finishFetch(e),n._handleSaveResult(!0).then((function(){return n}))}))},getRoles:function(n){return e.Relation.reverseQuery("_Role","users",this).find(n)}},{_currentUser:null,_currentUserMatchesDisk:!1,_CURRENT_USER_KEY:"currentUser",_authProviders:{},signUp:function(n,t,r,o){return(r=r||{}).username=n,r.password=t,e.Object._create("_User").signUp(r,o)},logIn:function(n,t){var r=e.Object._create("_User");return r._finishFetch({username:n,password:t}),r.logIn()},become:function(e){return this._fetchUserBySessionToken(e).then((function(e){return e._handleSaveResult(!0).then((function(){return e}))}))},_fetchUserBySessionToken:function(n){var t=e.Object._create("_User");return u({method:"GET",path:"/users/me",authOptions:{sessionToken:n}}).then((function(e){var n=t.parse(e);return t._finishFetch(n),t}))},logInWithMobilePhoneSmsCode:function(n,t){var r=e.Object._create("_User");return r._finishFetch({mobilePhoneNumber:n,smsCode:t}),r.logIn()},signUpOrlogInWithMobilePhone:function(n,t,r,o){return(r=r||{}).mobilePhoneNumber=n,r.smsCode=t,e.Object._create("_User").signUpOrlogInWithMobilePhone(r,o)},logInWithMobilePhone:function(n,t){var r=e.Object._create("_User");return r._finishFetch({mobilePhoneNumber:n,password:t}),r.logIn()},loginWithEmail:function(n,t){var r=e.Object._create("_User");return r._finishFetch({email:n,password:t}),r.logIn()},loginWithAuthData:function(n,t,r){return e.User._logInWith(t,n,r)},signUpOrlogInWithAuthData:function(){return console.warn("DEPRECATED: User.signUpOrlogInWithAuthData 已废弃，请使用 User#loginWithAuthData 代替"),this.loginWithAuthData.apply(this,arguments)},loginWithAuthDataAndUnionId:function(e,n,t,r){return this.loginWithAuthData(f(e,t,r),n,r)},signUpOrlogInWithAuthDataAndUnionId:function(){return console.warn("DEPRECATED: User.signUpOrlogInWithAuthDataAndUnionId 已废弃，请使用 User#loginWithAuthDataAndUnionId 代替"),this.loginWithAuthDataAndUnionId.apply(this,arguments)},loginWithWeapp:function(e){var n=this;return p().then((function(t){return n.loginWithAuthData(d(t,e),"lc_weapp",e)}))},loginWithWeappWithUnionId:function(e,n){var t=this;return p().then((function(r){return t.loginWithAuthData(f({code:r},e,n),"lc_weapp",n)}))},loginAnonymously:function(){return this.loginWithAuthData({id:i()},"anonymous")},associateWithAuthData:function(e,n,t){return console.warn("DEPRECATED: User.associateWithAuthData 已废弃，请使用 User#associateWithAuthData 代替"),e._linkWith(n,t)},logOut:function(){return e._config.disableCurrentUser?(console.warn("AV.User.current() was disabled in multi-user environment, call logOut() from user object instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html"),l.resolve(null)):(null!==e.User._currentUser&&(e.User._currentUser._logOutWithAll(),e.User._currentUser._isCurrentUser=!1),e.User._currentUserMatchesDisk=!0,e.User._currentUser=null,e.localStorage.removeItemAsync(e._getAVPath(e.User._CURRENT_USER_KEY)).then((function(){return e._refreshSubscriptionId()})))},followerQuery:function(n){if(!n||!o.isString(n))throw new Error("Invalid user object id.");var t=new e.FriendShipQuery("_Follower");return t._friendshipTag="follower",t.equalTo("user",e.Object.createWithoutData("_User",n)),t},followeeQuery:function(n){if(!n||!o.isString(n))throw new Error("Invalid user object id.");var t=new e.FriendShipQuery("_Followee");return t._friendshipTag="followee",t.equalTo("user",e.Object.createWithoutData("_User",n)),t},requestPasswordReset:function(e){return c("requestPasswordReset",null,null,"POST",{email:e})},requestEmailVerify:function(e){return c("requestEmailVerify",null,null,"POST",{email:e})},requestMobilePhoneVerify:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t={mobilePhoneNumber:e};return n.validateToken&&(t.validate_token=n.validateToken),c("requestMobilePhoneVerify",null,null,"POST",t,n)},requestPasswordResetBySmsCode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t={mobilePhoneNumber:e};return n.validateToken&&(t.validate_token=n.validateToken),c("requestPasswordResetBySmsCode",null,null,"POST",t,n)},resetPasswordBySmsCode:function(e,n){return c("resetPasswordBySmsCode",null,e,"PUT",{password:n})},verifyMobilePhone:function(e){return c("verifyMobilePhone",null,e,"POST",null)},requestLoginSmsCode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t={mobilePhoneNumber:e};return n.validateToken&&(t.validate_token=n.validateToken),c("requestLoginSmsCode",null,null,"POST",t,n)},currentAsync:function(){return e._config.disableCurrentUser?(console.warn("AV.User.currentAsync() was disabled in multi-user environment, access user from request instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html"),l.resolve(null)):e.User._currentUser||e.User._currentUserMatchesDisk?l.resolve(e.User._currentUser):e.localStorage.getItemAsync(e._getAVPath(e.User._CURRENT_USER_KEY)).then((function(n){if(!n)return null;e.User._currentUserMatchesDisk=!0,e.User._currentUser=e.Object._create("_User"),e.User._currentUser._isCurrentUser=!0;var t=JSON.parse(n);return e.User._currentUser.id=t._id,delete t._id,e.User._currentUser._sessionToken=t._sessionToken,delete t._sessionToken,e.User._currentUser._finishFetch(t),e.User._currentUser._synchronizeAllAuthData(),e.User._currentUser._refreshCache(),e.User._currentUser._opSetQueue=[{}],e.User._currentUser}))},current:function(){if(e._config.disableCurrentUser)return console.warn("AV.User.current() was disabled in multi-user environment, access user from request instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html"),null;if(e.User._currentUser)return e.User._currentUser;if(e.User._currentUserMatchesDisk)return e.User._currentUser;e.User._currentUserMatchesDisk=!0;var n=e.localStorage.getItem(e._getAVPath(e.User._CURRENT_USER_KEY));if(!n)return null;e.User._currentUser=e.Object._create("_User"),e.User._currentUser._isCurrentUser=!0;var t=JSON.parse(n);return e.User._currentUser.id=t._id,delete t._id,e.User._currentUser._sessionToken=t._sessionToken,delete t._sessionToken,e.User._currentUser._finishFetch(t),e.User._currentUser._synchronizeAllAuthData(),e.User._currentUser._refreshCache(),e.User._currentUser._opSetQueue=[{}],e.User._currentUser},_saveCurrentUser:function(n){return(e.User._currentUser!==n?e.User.logOut():l.resolve()).then((function(){n._isCurrentUser=!0,e.User._currentUser=n;var t=n._toFullJSON();return t._id=n.id,t._sessionToken=n._sessionToken,e.localStorage.setItemAsync(e._getAVPath(e.User._CURRENT_USER_KEY),JSON.stringify(t)).then((function(){return e.User._currentUserMatchesDisk=!0,e._refreshSubscriptionId()}))}))},_registerAuthenticationProvider:function(n){e.User._authProviders[n.getAuthType()]=n,!e._config.disableCurrentUser&&e.User.current()&&e.User.current()._synchronizeAuthData(n.getAuthType())},_logInWith:function(n,t,r){return e.Object._create("_User")._linkWith(n,t,r)}})}},function(e,n,t){"use strict";var r=t(0),o=t(6)("leancloud:query"),i=t(1),a=t(4),s=t(2),c=s._request,u=s.request,l=t(3),p=l.ensureArray,d=l.transformFetchOptions,f=function(e,n){if(void 0===e)throw new Error(n)};e.exports=function(e){e.Query=function(n){r.isString(n)&&(n=e.Object._getSubclass(n)),this.objectClass=n,this.className=n.prototype.className,this._where={},this._include=[],this._select=[],this._limit=-1,this._skip=0,this._extraOptions={}},e.Query.or=function(){var n=r.toArray(arguments),t=null;e._arrayEach(n,(function(e){if(r.isNull(t)&&(t=e.className),t!==e.className)throw new Error("All queries must be for the same class")}));var o=new e.Query(t);return o._orQuery(n),o},e.Query.and=function(){var n=r.toArray(arguments),t=null;e._arrayEach(n,(function(e){if(r.isNull(t)&&(t=e.className),t!==e.className)throw new Error("All queries must be for the same class")}));var o=new e.Query(t);return o._andQuery(n),o},e.Query.doCloudQuery=function(n,t,o){var i={cql:n};return r.isArray(t)?i.pvalues=t:o=t,c("cloudQuery",null,null,"GET",i,o).then((function(n){var t=new e.Query(n.className);return{results:r.map(n.results,(function(e){var r=t._newObject(n);return r._finishFetch&&r._finishFetch(t._processResult(e),!0),r})),count:n.count,className:n.className}}))},e.Query._extend=e._extend,r.extend(e.Query.prototype,{_processResult:function(e){return e},get:function(e,n){if(!r.isString(e))throw new Error("objectId must be a string");if(""===e)return i.reject(new a(a.OBJECT_NOT_FOUND,"Object not found."));var t=this._newObject();t.id=e;var o=this.toJSON(),s={};return o.keys&&(s.keys=o.keys),o.include&&(s.include=o.include),o.includeACL&&(s.includeACL=o.includeACL),c("classes",this.className,e,"GET",d(s),n).then((function(e){if(r.isEmpty(e))throw new a(a.OBJECT_NOT_FOUND,"Object not found.");return t._finishFetch(t.parse(e),!0),t}))},toJSON:function(){var n={where:this._where};return this._include.length>0&&(n.include=this._include.join(",")),this._select.length>0&&(n.keys=this._select.join(",")),void 0!==this._includeACL&&(n.returnACL=this._includeACL),this._limit>=0&&(n.limit=this._limit),this._skip>0&&(n.skip=this._skip),void 0!==this._order&&(n.order=this._order),e._objectEach(this._extraOptions,(function(e,t){n[t]=e})),n},_newObject:function(n){return n&&n.className?new e.Object(n.className):new this.objectClass},_createRequest:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.toJSON(),n=arguments[1],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/classes/"+this.className;return encodeURIComponent(JSON.stringify(e)).length>2e3?u({path:"/batch",method:"POST",data:{requests:[{method:"GET",path:"/1.1"+t,params:e}]},authOptions:n}).then((function(e){var n=e[0];if(n.success)return n.success;var t=new Error(n.error.error||"Unknown batch error");throw t.code=n.error.code,t})):u({method:"GET",path:t,query:e,authOptions:n})},_parseResponse:function(e){var n=this;return r.map(e.results,(function(t){var r=n._newObject(e);return r._finishFetch&&r._finishFetch(n._processResult(t),!0),r}))},find:function(e){return this._createRequest(void 0,e).then(this._parseResponse.bind(this))},scan:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.orderedBy,a=n.batchSize,s=arguments[1],u=this.toJSON();o("scan %O",u),u.order&&(console.warn("The order of the query is ignored for Query#scan. Checkout the orderedBy option of Query#scan."),delete u.order),u.skip&&(console.warn("The skip option of the query is ignored for Query#scan."),delete u.skip),u.limit&&(console.warn("The limit option of the query is ignored for Query#scan."),delete u.limit),t&&(u.scan_key=t),a&&(u.limit=a);var l=i.resolve([]),p=void 0,d=!1;return{next:function(){return(l=l.then((function(n){return d?[]:n.length>1?n:p||0===n.length?c("scan/classes",e.className,null,"GET",p?r.extend({},u,{cursor:p}):u,s).then((function(n){return p=n.cursor,e._parseResponse(n)})).then((function(e){return e.length||(d=!0),n.concat(e)})):(d=!0,n)}))).then((function(e){return e.shift()})).then((function(e){return{value:e,done:d}}))}}},destroyAll:function(n){return this.find(n).then((function(t){return e.Object.destroyAll(t,n)}))},count:function(e){var n=this.toJSON();return n.limit=0,n.count=1,this._createRequest(n,e).then((function(e){return e.count}))},first:function(e){var n=this,t=this.toJSON();return t.limit=1,this._createRequest(t,e).then((function(e){return r.map(e.results,(function(e){var t=n._newObject();return t._finishFetch&&t._finishFetch(n._processResult(e),!0),t}))[0]}))},skip:function(e){return f(e,"undefined is not a valid skip value"),this._skip=e,this},limit:function(e){return f(e,"undefined is not a valid limit value"),this._limit=e,this},equalTo:function(n,t){return f(n,"undefined is not a valid key"),f(t,"undefined is not a valid value"),this._where[n]=e._encode(t),this},_addCondition:function(n,t,r){return f(n,"undefined is not a valid condition key"),f(t,"undefined is not a valid condition"),f(r,"undefined is not a valid condition value"),this._where[n]||(this._where[n]={}),this._where[n][t]=e._encode(r),this},sizeEqualTo:function(e,n){return this._addCondition(e,"$size",n),this},notEqualTo:function(e,n){return this._addCondition(e,"$ne",n),this},lessThan:function(e,n){return this._addCondition(e,"$lt",n),this},greaterThan:function(e,n){return this._addCondition(e,"$gt",n),this},lessThanOrEqualTo:function(e,n){return this._addCondition(e,"$lte",n),this},greaterThanOrEqualTo:function(e,n){return this._addCondition(e,"$gte",n),this},containedIn:function(e,n){return this._addCondition(e,"$in",n),this},notContainedIn:function(e,n){return this._addCondition(e,"$nin",n),this},containsAll:function(e,n){return this._addCondition(e,"$all",n),this},exists:function(e){return this._addCondition(e,"$exists",!0),this},doesNotExist:function(e){return this._addCondition(e,"$exists",!1),this},matches:function(e,n,t){return this._addCondition(e,"$regex",n),t||(t=""),n.ignoreCase&&(t+="i"),n.multiline&&(t+="m"),t&&t.length&&this._addCondition(e,"$options",t),this},matchesQuery:function(e,n){var t=n.toJSON();return t.className=n.className,this._addCondition(e,"$inQuery",t),this},doesNotMatchQuery:function(e,n){var t=n.toJSON();return t.className=n.className,this._addCondition(e,"$notInQuery",t),this},matchesKeyInQuery:function(e,n,t){var r=t.toJSON();return r.className=t.className,this._addCondition(e,"$select",{key:n,query:r}),this},doesNotMatchKeyInQuery:function(e,n,t){var r=t.toJSON();return r.className=t.className,this._addCondition(e,"$dontSelect",{key:n,query:r}),this},_orQuery:function(e){var n=r.map(e,(function(e){return e.toJSON().where}));return this._where.$or=n,this},_andQuery:function(e){var n=r.map(e,(function(e){return e.toJSON().where}));return this._where.$and=n,this},_quote:function(e){return"\\Q"+e.replace("\\E","\\E\\\\E\\Q")+"\\E"},contains:function(e,n){return this._addCondition(e,"$regex",this._quote(n)),this},startsWith:function(e,n){return this._addCondition(e,"$regex","^"+this._quote(n)),this},endsWith:function(e,n){return this._addCondition(e,"$regex",this._quote(n)+"$"),this},ascending:function(e){return f(e,"undefined is not a valid key"),this._order=e,this},addAscending:function(e){return f(e,"undefined is not a valid key"),this._order?this._order+=","+e:this._order=e,this},descending:function(e){return f(e,"undefined is not a valid key"),this._order="-"+e,this},addDescending:function(e){return f(e,"undefined is not a valid key"),this._order?this._order+=",-"+e:this._order="-"+e,this},near:function(n,t){return t instanceof e.GeoPoint||(t=new e.GeoPoint(t)),this._addCondition(n,"$nearSphere",t),this},withinRadians:function(e,n,t){return this.near(e,n),this._addCondition(e,"$maxDistance",t),this},withinMiles:function(e,n,t){return this.withinRadians(e,n,t/3958.8)},withinKilometers:function(e,n,t){return this.withinRadians(e,n,t/6371)},withinGeoBox:function(n,t,r){return t instanceof e.GeoPoint||(t=new e.GeoPoint(t)),r instanceof e.GeoPoint||(r=new e.GeoPoint(r)),this._addCondition(n,"$within",{$box:[t,r]}),this},include:function(e){var n=this;return f(e,"undefined is not a valid key"),r.forEach(arguments,(function(e){n._include=n._include.concat(p(e))})),this},includeACL:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._includeACL=e,this},select:function(e){var n=this;return f(e,"undefined is not a valid key"),r.forEach(arguments,(function(e){n._select=n._select.concat(p(e))})),this},each:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._order||this._skip||this._limit>=0){var o=new Error("Cannot iterate on a query with sort, skip, or limit.");return i.reject(o)}var a=new e.Query(this.objectClass);a._limit=t.batchSize||100,a._where=r.clone(this._where),a._include=r.clone(this._include),a.ascending("objectId");var s=!1;return i._continueWhile((function(){return!s}),(function(){return a.find(t).then((function(e){var t=i.resolve();return r.each(e,(function(e){t=t.then((function(){return n(e)}))})),t.then((function(){e.length>=a._limit?a.greaterThan("objectId",e[e.length-1].id):s=!0}))}))}))},subscribe:function(n){return e.LiveQuery.init(this,n)}}),e.FriendShipQuery=e.Query._extend({_newObject:function(){return new(e.Object._getSubclass("_User"))},_processResult:function(e){if(e&&e[this._friendshipTag]){var n=e[this._friendshipTag];return"Pointer"===n.__type&&"_User"===n.className&&(delete n.__type,delete n.className),n}return null}})}},function(e,n,t){"use strict";var r=t(0),o=t(53),i=t(1),a=t(3).inherits,s=t(2).request,c=function(e,n){return s({method:"POST",path:"/LiveQuery/subscribe",data:{query:e,id:n}})};e.exports=function(e){var n=function(){if(!e._config.realtime)throw new Error("LiveQuery not supported. Please use the LiveQuery bundle. https://url.leanapp.cn/enable-live-query")};e.LiveQuery=a(o,{constructor:function(e,n,t,r){var i=this;o.apply(this),this.id=e,this._client=n,this._client.register(this),this._queryJSON=t,this._subscriptionId=r,this._onMessage=this._dispatch.bind(this),this._onReconnect=function(){c(i._queryJSON,i._subscriptionId).catch((function(e){return console.error("LiveQuery resubscribe error: "+e.message)}))},n.on("message",this._onMessage),n.on("reconnect",this._onReconnect)},_dispatch:function(n){var t=this;n.forEach((function(n){var o=n.op,i=n.object,a=n.query_id,s=n.updatedKeys;if(a===t.id){var c=e.parseJSON(r.extend({__type:"_File"===i.className?"File":"Object"},i));s?t.emit(o,c,s):t.emit(o,c)}}))},unsubscribe:function(){var e=this._client;return e.off("message",this._onMessage),e.off("reconnect",this._onReconnect),e.deregister(this),s({method:"POST",path:"/LiveQuery/unsubscribe",data:{id:e.id,query_id:this.id}})}},{init:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.subscriptionId,a=void 0===o?e._getSubscriptionId():o;if(n(),!(t instanceof e.Query))throw new TypeError("LiveQuery must be inited with a Query");return i.resolve(a).then((function(n){return e._config.realtime.createLiveQueryClient(n).then((function(r){var o=t.toJSON(),i={where:o.where,keys:o.keys,returnACL:o.returnACL,className:t.className},a=c(i,n).then((function(t){var o=t.query_id;return new e.LiveQuery(o,r,i,n)})).finally((function(){r.deregister(a)}));return r.register(a),a}))}))},pause:function(){return n(),e._config.realtime.pause()},resume:function(){return n(),e._config.realtime.resume()}})}},function(e,n,t){"use strict";function r(){}function o(e,n,t){this.fn=e,this.context=n,this.once=t||!1}function i(){this._events=new r,this._eventsCount=0}var a=Object.prototype.hasOwnProperty,s="~";Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(s=!1)),i.prototype.eventNames=function(){var e,n,t=[];if(0===this._eventsCount)return t;for(n in e=this._events)a.call(e,n)&&t.push(s?n.slice(1):n);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(e)):t},i.prototype.listeners=function(e,n){var t=s?s+e:e,r=this._events[t];if(n)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,a=new Array(i);o<i;o++)a[o]=r[o].fn;return a},i.prototype.emit=function(e,n,t,r,o,i){var a=s?s+e:e;if(!this._events[a])return!1;var c,u,l=this._events[a],p=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),p){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,n),!0;case 3:return l.fn.call(l.context,n,t),!0;case 4:return l.fn.call(l.context,n,t,r),!0;case 5:return l.fn.call(l.context,n,t,r,o),!0;case 6:return l.fn.call(l.context,n,t,r,o,i),!0}for(u=1,c=new Array(p-1);u<p;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var d,f=l.length;for(u=0;u<f;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),p){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,n);break;case 3:l[u].fn.call(l[u].context,n,t);break;case 4:l[u].fn.call(l[u].context,n,t,r);break;default:if(!c)for(d=1,c=new Array(p-1);d<p;d++)c[d-1]=arguments[d];l[u].fn.apply(l[u].context,c)}}return!0},i.prototype.on=function(e,n,t){var r=new o(n,t||this),i=s?s+e:e;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],r]:this._events[i].push(r):(this._events[i]=r,this._eventsCount++),this},i.prototype.once=function(e,n,t){var r=new o(n,t||this,!0),i=s?s+e:e;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],r]:this._events[i].push(r):(this._events[i]=r,this._eventsCount++),this},i.prototype.removeListener=function(e,n,t,o){var i=s?s+e:e;if(!this._events[i])return this;if(!n)return 0==--this._eventsCount?this._events=new r:delete this._events[i],this;var a=this._events[i];if(a.fn)a.fn!==n||o&&!a.once||t&&a.context!==t||(0==--this._eventsCount?this._events=new r:delete this._events[i]);else{for(var c=0,u=[],l=a.length;c<l;c++)(a[c].fn!==n||o&&!a[c].once||t&&a[c].context!==t)&&u.push(a[c]);u.length?this._events[i]=1===u.length?u[0]:u:0==--this._eventsCount?this._events=new r:delete this._events[i]}return this},i.prototype.removeAllListeners=function(e){var n;return e?(n=s?s+e:e,this._events[n]&&(0==--this._eventsCount?this._events=new r:delete this._events[n])):(this._events=new r,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prototype.setMaxListeners=function(){return this},i.prefixed=s,i.EventEmitter=i,e.exports=i},function(e,n,t){"use strict";var r=t(0),o=t(3).tap;e.exports=function(e){e.Captcha=function(e,n){this._options=e,this._authOptions=n,this.url=void 0,this.captchaToken=void 0,this.validateToken=void 0},e.Captcha.prototype.refresh=function(){var n=this;return e.Cloud._requestCaptcha(this._options,this._authOptions).then((function(e){var t=e.captchaToken,o=e.url;return r.extend(n,{captchaToken:t,url:o}),o}))},e.Captcha.prototype.verify=function(n){var t=this;return e.Cloud.verifyCaptcha(n,this.captchaToken).then(o((function(e){return t.validateToken=e})))},e.Captcha.prototype.bind=function(e,n){var t=this,r=e.textInput,o=e.image,i=e.verifyButton,a=n.success,s=n.error;if("string"==typeof r&&!(r=document.getElementById(r)))throw new Error("textInput with id "+r+" not found");if("string"==typeof o&&!(o=document.getElementById(o)))throw new Error("image with id "+o+" not found");if("string"==typeof i&&!(i=document.getElementById(i)))throw new Error("verifyButton with id "+i+" not found");this.__refresh=function(){return t.refresh().then((function(e){o.src=e,r&&(r.value="",r.focus())})).catch((function(e){return console.warn("refresh captcha fail: "+e.message)}))},o&&(this.__image=o,o.src=this.url,o.addEventListener("click",this.__refresh)),this.__verify=function(){var e=r.value;t.verify(e).catch((function(e){throw t.__refresh(),e})).then(a,s).catch((function(e){return console.warn("verify captcha fail: "+e.message)}))},r&&i&&(this.__verifyButton=i,i.addEventListener("click",this.__verify))},e.Captcha.prototype.unbind=function(){this.__image&&this.__image.removeEventListener("click",this.__refresh),this.__verifyButton&&this.__verifyButton.removeEventListener("click",this.__verify)},e.Captcha.request=function(n,t){var r=new e.Captcha(n,t);return r.refresh().then((function(){return r}))}}},function(e,n,t){"use strict";var r=t(0),o=t(2),i=o._request,a=o.request,s=t(1);e.exports=function(e){e.Cloud=e.Cloud||{},r.extend(e.Cloud,{run:function(n,t,r){return a({service:"engine",method:"POST",path:"/functions/"+n,data:e._encode(t,null,!0),authOptions:r}).then((function(n){return e._decode(n).result}))},rpc:function(n,t,o){return r.isArray(t)?s.reject(new Error("Can't pass Array as the param of rpc function in JavaScript SDK.")):a({service:"engine",method:"POST",path:"/call/"+n,data:e._encodeObjectOrArray(t),authOptions:o}).then((function(n){return e._decode(n).result}))},getServerDate:function(){return i("date",null,null,"GET").then((function(n){return e._decode(n)}))},requestSmsCode:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r.isString(e)&&(e={mobilePhoneNumber:e}),!e.mobilePhoneNumber)throw new Error("Missing mobilePhoneNumber.");return n.validateToken&&(e=r.extend({},e,{validate_token:n.validateToken})),i("requestSmsCode",null,null,"POST",e,n)},verifySmsCode:function(e,n){if(!e)throw new Error("Missing sms code.");var t={};return r.isString(n)&&(t.mobilePhoneNumber=n),i("verifySmsCode",e,null,"POST",t)},_requestCaptcha:function(e,n){return i("requestCaptcha",null,null,"GET",e,n).then((function(e){var n=e.captcha_url;return{captchaToken:e.captcha_token,url:n}}))},requestCaptcha:e.Captcha.request,verifyCaptcha:function(e,n){return i("verifyCaptcha",null,null,"POST",{captcha_code:e,captcha_token:n}).then((function(e){return e.validate_token}))}})}},function(e,n,t){"use strict";var r=t(2).request;e.exports=function(e){e.Installation=e.Object.extend("_Installation"),e.Push=e.Push||{},e.Push.send=function(e,n){if(e.where&&(e.where=e.where.toJSON().where),e.where&&e.cql)throw new Error("Both where and cql can't be set");if(e.push_time&&(e.push_time=e.push_time.toJSON()),e.expiration_time&&(e.expiration_time=e.expiration_time.toJSON()),e.expiration_time&&e.expiration_time_interval)throw new Error("Both expiration_time and expiration_time_interval can't be set");return r({service:"push",method:"POST",path:"/push",data:e,authOptions:n})}}},function(e,n,t){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=t(0),i=t(1),a=t(2)._request,s=t(3).getSessionToken;e.exports=function(e){var n=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s(n)?e.User._fetchUserBySessionToken(s(n)):e.User.currentAsync()},t=function(t){return n(t).then((function(n){return e.Object.createWithoutData("_User",n.id)._toPointer()}))};e.Status=function(e,n){return this.data={},this.inboxType="default",this.query=null,e&&"object"===(void 0===e?"undefined":r(e))?this.data=e:(e&&(this.data.image=e),n&&(this.data.message=n)),this},o.extend(e.Status.prototype,{get:function(e){return this.data[e]},set:function(e,n){return this.data[e]=n,this},destroy:function(e){return this.id?a("statuses",null,this.id,"DELETE",e):i.reject(new Error("The status id is not exists."))},toObject:function(){return this.id?e.Object.createWithoutData("_Status",this.id):null},_getDataJSON:function(){var n=o.clone(this.data);return e._encode(n)},send:function(){var n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!s(r)&&!e.User.current())throw new Error("Please signin an user.");return this.query?t(r).then((function(e){var t=n.query.toJSON();t.className=n.query.className;var o={};return o.query=t,n.data=n.data||{},n.data.source=n.data.source||e,o.data=n._getDataJSON(),o.inboxType=n.inboxType||"default",a("statuses",null,null,"POST",o,r)})).then((function(t){return n.id=t.objectId,n.createdAt=e._parseDate(t.createdAt),n})):e.Status.sendStatusToFollowers(this,r)},_finishFetch:function(n){this.id=n.objectId,this.createdAt=e._parseDate(n.createdAt),this.updatedAt=e._parseDate(n.updatedAt),this.messageId=n.messageId,delete n.messageId,delete n.objectId,delete n.createdAt,delete n.updatedAt,this.data=e._decode(n)}}),e.Status.sendStatusToFollowers=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!s(r)&&!e.User.current())throw new Error("Please signin an user.");return t(r).then((function(t){var o={className:"_Follower",keys:"follower"};o.where={user:t};var i={};return i.query=o,n.data=n.data||{},n.data.source=n.data.source||t,i.data=n._getDataJSON(),i.inboxType=n.inboxType||"default",a("statuses",null,null,"POST",i,r).then((function(t){return n.id=t.objectId,n.createdAt=e._parseDate(t.createdAt),n}))}))},e.Status.sendPrivateStatus=function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!s(i)&&!e.User.current())throw new Error("Please signin an user.");if(!r)throw new Error("Invalid target user.");var c=o.isString(r)?r:r.id;if(!c)throw new Error("Invalid target user.");return t(i).then((function(t){var r={className:"_User"};r.where={objectId:c};var o={};return o.query=r,n.data=n.data||{},n.data.source=n.data.source||t,o.data=n._getDataJSON(),o.inboxType="private",n.inboxType="private",a("statuses",null,null,"POST",o,i).then((function(t){return n.id=t.objectId,n.createdAt=e._parseDate(t.createdAt),n}))}))},e.Status.countUnreadStatuses=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(o.isString(r)||(c=r),!s(c)&&null==t&&!e.User.current())throw new Error("Please signin an user or pass the owner objectId.");return i.resolve(t||n(c)).then((function(n){var t={};return t.inboxType=e._encode(r),t.owner=e._encode(n),a("subscribe/statuses/count",null,null,"GET",t,c)}))},e.Status.resetUnreadCount=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(o.isString(r)||(c=r),!s(c)&&null==t&&!e.User.current())throw new Error("Please signin an user or pass the owner objectId.");return i.resolve(t||n(c)).then((function(n){var t={};return t.inboxType=e._encode(r),t.owner=e._encode(n),a("subscribe/statuses/resetUnreadCount",null,null,"POST",t,c)}))},e.Status.statusQuery=function(n){var t=new e.Query("_Status");return n&&t.equalTo("source",n),t},e.InboxQuery=e.Query._extend({_objectClass:e.Status,_sinceId:0,_maxId:0,_inboxType:"default",_owner:null,_newObject:function(){return new e.Status},_createRequest:function(n,t){return e.InboxQuery.__super__._createRequest.call(this,n,t,"/subscribe/statuses")},sinceId:function(e){return this._sinceId=e,this},maxId:function(e){return this._maxId=e,this},owner:function(e){return this._owner=e,this},inboxType:function(e){return this._inboxType=e,this},toJSON:function(){var n=e.InboxQuery.__super__.toJSON.call(this);return n.owner=e._encode(this._owner),n.inboxType=e._encode(this._inboxType),n.sinceId=e._encode(this._sinceId),n.maxId=e._encode(this._maxId),n}}),e.Status.inboxQuery=function(n,t){var r=new e.InboxQuery(e.Status);return n&&(r._owner=n),t&&(r._inboxType=t),r}}},function(e,n,t){"use strict";var r=t(0),o=t(2)._request;e.exports=function(e){e.SearchSortBuilder=function(){this._sortFields=[]},r.extend(e.SearchSortBuilder.prototype,{_addField:function(e,n,t,r){var o={};return o[e]={order:n||"asc",mode:t||"avg",missing:"_"+(r||"last")},this._sortFields.push(o),this},ascending:function(e,n,t){return this._addField(e,"asc",n,t)},descending:function(e,n,t){return this._addField(e,"desc",n,t)},whereNear:function(e,n,t){t=t||{};var r={},o={lat:n.latitude,lon:n.longitude},i={order:t.order||"asc",mode:t.mode||"avg",unit:t.unit||"km"};return i[e]=o,r._geo_distance=i,this._sortFields.push(r),this},build:function(){return JSON.stringify(e._encode(this._sortFields))}}),e.SearchQuery=e.Query._extend({_sid:null,_hits:0,_queryString:null,_highlights:null,_sortBuilder:null,_createRequest:function(e,n){return o("search/select",null,null,"GET",e||this.toJSON(),n)},sid:function(e){return this._sid=e,this},queryString:function(e){return this._queryString=e,this},highlights:function(e){var n;return n=e&&r.isString(e)?arguments:e,this._highlights=n,this},sortBy:function(e){return this._sortBuilder=e,this},hits:function(){return this._hits||(this._hits=0),this._hits},_processResult:function(e){return delete e.className,delete e._app_url,delete e._deeplink,e},hasMore:function(){return!this._hitEnd},reset:function(){this._hitEnd=!1,this._sid=null,this._hits=0},find:function(){var e=this;return this._createRequest().then((function(n){return n.sid?(e._oldSid=e._sid,e._sid=n.sid):(e._sid=null,e._hitEnd=!0),e._hits=n.hits||0,r.map(n.results,(function(t){t.className&&(n.className=t.className);var r=e._newObject(n);return r.appURL=t._app_url,r._finishFetch(e._processResult(t),!0),r}))}))},toJSON:function(){var n=e.SearchQuery.__super__.toJSON.call(this);if(delete n.where,this.className&&(n.clazz=this.className),this._sid&&(n.sid=this._sid),!this._queryString)throw new Error("Please set query string.");if(n.q=this._queryString,this._highlights&&(n.highlights=this._highlights.join(",")),this._sortBuilder&&n.order)throw new Error("sort and order can not be set at same time.");return this._sortBuilder&&(n.sort=this._sortBuilder.build()),n}})}},function(e,n,t){"use strict";var r=t(0),o=t(4),i=t(2).request,a=t(1);e.exports=function(e){e.Insight=e.Insight||{},r.extend(e.Insight,{startJob:function(n,t){if(!n||!n.sql)throw new Error("Please provide the sql to run the job.");var r={jobConfig:n,appId:e.applicationId};return i({path:"/bigquery/jobs",method:"POST",data:e._encode(r,null,!0),authOptions:t,signKey:!1}).then((function(n){return e._decode(n).id}))},on:function(e,n){}}),e.Insight.JobQuery=function(e,n){if(!e)throw new Error("Please provide the job id.");this.id=e,this.className=n,this._skip=0,this._limit=100},r.extend(e.Insight.JobQuery.prototype,{skip:function(e){return this._skip=e,this},limit:function(e){return this._limit=e,this},find:function(e){var n={skip:this._skip,limit:this._limit};return i({path:"/bigquery/jobs/"+this.id,method:"GET",query:n,authOptions:e,signKey:!1}).then((function(e){return e.error?a.reject(new o(e.code,e.error)):a.resolve(e)}))}})}},function(e,n,t){"use strict";var r=t(0),o=t(2)._request,i=t(5),a=function(e){return"string"==typeof e?e:"function"==typeof e.getPayload?JSON.stringify(e.getPayload()):JSON.stringify(e)};e.exports=i.Object.extend("_Conversation",{constructor:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i.Object.prototype.constructor.call(this,null,null),this.set("name",e),void 0!==n.isSystem&&this.set("sys",!!n.isSystem),void 0!==n.isTransient&&this.set("tr",!!n.isTransient)},getCreator:function(){return this.get("c")},getLastMessageAt:function(){return this.get("lm")},getMembers:function(){return this.get("m")},addMember:function(e){return this.add("m",e)},getMutedMembers:function(){return this.get("mu")},getName:function(){return this.get("name")},isTransient:function(){return this.get("tr")},isSystem:function(){return this.get("sys")},send:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i={from_peer:e,conv_id:this.id,transient:!1,message:a(n)};return void 0!==t.toClients&&(i.to_peers=t.toClients),void 0!==t.transient&&(i.transient=!!t.transient),void 0!==t.pushData&&(i.push_data=t.pushData),o("rtm","messages",null,"POST",i,r)},broadcast:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s={from_peer:e,conv_id:this.id,message:a(n)};if(void 0!==t.pushData&&(s.push=t.pushData),void 0!==t.validTill){var c=t.validTill;r.isDate(c)&&(c=c.getTime()),t.valid_till=c}return o("rtm","broadcast",null,"POST",s,i)}})},function(e,n,t){"use strict";function r(e){var n=e.name,t=e.value,r=e.version;this.name=n,this.value=t,this.version=r}var o=t(0),i=t(1),a=t(2).request,s=t(3),c=s.ensureArray,u=s.parseDate,l=t(5);l.LeaderboardVersionChangeInterval={NEVER:"never",DAY:"day",WEEK:"week",MONTH:"month"},l.LeaderboardOrder={ASCENDING:"ascending",DESCENDING:"descending"},l.LeaderboardUpdateStrategy={BETTER:"better",LAST:"last",SUM:"sum"};var p=function(e){var n=l._decode(e);return new r({name:n.statisticName,value:n.statisticValue,version:n.version})};l.Leaderboard=function(e){this.statisticName=e,this.order=void 0,this.updateStrategy=void 0,this.versionChangeInterval=void 0,this.version=void 0,this.nextResetAt=void 0,this.createdAt=void 0};var d=l.Leaderboard;l.Leaderboard.createWithoutData=function(e){return new d(e)},l.Leaderboard.createLeaderboard=function(e,n){var t=e.statisticName,r=e.order,o=e.versionChangeInterval,i=e.updateStrategy;return a({method:"POST",path:"/leaderboard/leaderboards",data:{statisticName:t,order:r,versionChangeInterval:o,updateStrategy:i},authOptions:n}).then((function(e){return new d(t)._finishFetch(e)}))},l.Leaderboard.getLeaderboard=function(e,n){return d.createWithoutData(e).fetch(n)},l.Leaderboard.getStatistics=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.statisticNames,r=arguments[2];return i.resolve().then((function(){if(!e||!e.id)throw new Error("user must be an AV.User");return a({method:"GET",path:"/leaderboard/users/"+e.id+"/statistics",query:{statistics:t?c(t).join(","):void 0},authOptions:r}).then((function(e){return e.results.map(p)}))}))},l.Leaderboard.updateStatistics=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i.resolve().then((function(){if(!e||!e.id)throw new Error("user must be an AV.User");var r=o.map(n,(function(e,n){return{statisticName:n,statisticValue:e}})),i=t.overwrite;return a({method:"POST",path:"/leaderboard/users/"+e.id+"/statistics",query:{overwrite:i?1:void 0},data:r,authOptions:t}).then((function(e){return e.results.map(p)}))}))},l.Leaderboard.deleteStatistics=function(e,n,t){return i.resolve().then((function(){if(!e||!e.id)throw new Error("user must be an AV.User");return a({method:"DELETE",path:"/leaderboard/users/"+e.id+"/statistics",query:{statistics:c(n).join(",")},authOptions:t}).then((function(){}))}))},o.extend(d.prototype,{_finishFetch:function(e){var n=this;return o.forEach(e,(function(e,t){"updatedAt"!==t&&"objectId"!==t&&("expiredAt"===t&&(t="nextResetAt"),"createdAt"===t&&(e=u(e)),e&&"Date"===e.__type&&(e=u(e.iso)),n[t]=e)})),this},fetch:function(e){var n=this;return a({method:"GET",path:"/leaderboard/leaderboards/"+this.statisticName,authOptions:e}).then((function(e){return n._finishFetch(e)}))},count:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.version,t=arguments[1];return a({method:"GET",path:"/leaderboard/leaderboards/"+this.statisticName+"/ranks",query:{count:1,limit:0,version:n},authOptions:t}).then((function(e){return e.count}))},_getResults:function(e,n,t){var r=e.skip,i=e.limit,s=e.selectUserKeys,u=e.includeUserKeys,d=e.includeStatistics,f=e.version;return a({method:"GET",path:"/leaderboard/leaderboards/"+this.statisticName+"/ranks"+(t?"/"+t:""),query:{skip:r,limit:i,selectUserKeys:o.union(c(s),c(u)).join(",")||void 0,includeUser:u?c(u).join(","):void 0,includeStatistics:d?c(d).join(","):void 0,version:f},authOptions:n}).then((function(e){return e.results.map((function(e){var n=l._decode(e),t=n.user,r=n.statisticValue,o=n.rank,i=n.statistics;return{user:t,value:r,rank:o,includedStatistics:(void 0===i?[]:i).map(p)}}))}))},getResults:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.skip,t=e.limit,r=e.selectUserKeys,o=e.includeUserKeys,i=e.includeStatistics,a=e.version,s=arguments[1];return this._getResults({skip:n,limit:t,selectUserKeys:r,includeUserKeys:o,includeStatistics:i,version:a},s)},getResultsAroundUser:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments[2];if(e&&"string"!=typeof e.id)return this.getResultsAroundUser(void 0,e,n);var r=n.limit,o=n.selectUserKeys,i=n.includeUserKeys,a=n.includeStatistics,s=n.version;return this._getResults({limit:r,selectUserKeys:o,includeUserKeys:i,includeStatistics:a,version:s},t,e?e.id:"self")},_update:function(e,n){var t=this;return a({method:"PUT",path:"/leaderboard/leaderboards/"+this.statisticName,data:e,authOptions:n}).then((function(e){return t._finishFetch(e)}))},updateVersionChangeInterval:function(e,n){return this._update({versionChangeInterval:e},n)},updateUpdateStrategy:function(e,n){return this._update({updateStrategy:e},n)},reset:function(e){var n=this;return a({method:"PUT",path:"/leaderboard/leaderboards/"+this.statisticName+"/incrementVersion",authOptions:e}).then((function(e){return n._finishFetch(e)}))},destroy:function(e){return l.request({method:"DELETE",path:"/leaderboard/leaderboards/"+this.statisticName,authOptions:e}).then((function(){}))},getArchives:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.skip,r=n.limit,o=arguments[1];return a({method:"GET",path:"/leaderboard/leaderboards/"+this.statisticName+"/archives",query:{skip:t,limit:r},authOptions:o}).then((function(n){return n.results.map((function(n){var t=n.version,r=n.status,o=n.url,i=n.activatedAt,a=n.deactivatedAt;return{statisticName:e.statisticName,version:t,status:r,url:o,activatedAt:u(i.iso),deactivatedAt:u(a.iso)}}))}))}})}])},function(e,n,t){"use strict";t(206)},function(e,n,t){"use strict";var r=t(386),o=t(207),i=t(131),a=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,n){return e+"["+n+"]"},repeat:function(e){return e}},c=Array.isArray,u=Array.prototype.push,l=function(e,n){u.apply(e,c(n)?n:[n])},p=Date.prototype.toISOString,d=i.default,f={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:o.encode,encodeValuesOnly:!1,format:d,formatter:i.formatters[d],indices:!1,serializeDate:function(e){return p.call(e)},skipNulls:!1,strictNullHandling:!1},h=function e(n,t,i,a,s,u,p,d,h,m,v,g,y,b,w){var E,_=n;if(w.has(n))throw new RangeError("Cyclic object value");if("function"==typeof p?_=p(t,_):_ instanceof Date?_=m(_):"comma"===i&&c(_)&&(_=o.maybeMap(_,(function(e){return e instanceof Date?m(e):e}))),null===_){if(a)return u&&!y?u(t,f.encoder,b,"key",v):t;_=""}if("string"==typeof(E=_)||"number"==typeof E||"boolean"==typeof E||"symbol"==typeof E||"bigint"==typeof E||o.isBuffer(_))return u?[g(y?t:u(t,f.encoder,b,"key",v))+"="+g(u(_,f.encoder,b,"value",v))]:[g(t)+"="+g(String(_))];var x,A=[];if(void 0===_)return A;if("comma"===i&&c(_))x=[{value:_.length>0?_.join(",")||null:void 0}];else if(c(p))x=p;else{var k=Object.keys(_);x=d?k.sort(d):k}for(var C=0;C<x.length;++C){var O=x[C],S="object"==typeof O&&void 0!==O.value?O.value:_[O];if(!s||null!==S){var B=c(_)?"function"==typeof i?i(t,O):t:t+(h?"."+O:"["+O+"]");w.set(n,!0);var j=r();l(A,e(S,B,i,a,s,u,p,d,h,m,v,g,y,b,j))}}return A};e.exports=function(e,n){var t,o=e,u=function(e){if(!e)return f;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var n=e.charset||f.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=i.default;if(void 0!==e.format){if(!a.call(i.formatters,e.format))throw new TypeError("Unknown format option provided.");t=e.format}var r=i.formatters[t],o=f.filter;return("function"==typeof e.filter||c(e.filter))&&(o=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:f.addQueryPrefix,allowDots:void 0===e.allowDots?f.allowDots:!!e.allowDots,charset:n,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:f.charsetSentinel,delimiter:void 0===e.delimiter?f.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:f.encode,encoder:"function"==typeof e.encoder?e.encoder:f.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:f.encodeValuesOnly,filter:o,format:t,formatter:r,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:f.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:f.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:f.strictNullHandling}}(n);"function"==typeof u.filter?o=(0,u.filter)("",o):c(u.filter)&&(t=u.filter);var p,d=[];if("object"!=typeof o||null===o)return"";p=n&&n.arrayFormat in s?n.arrayFormat:n&&"indices"in n?n.indices?"indices":"repeat":"indices";var m=s[p];t||(t=Object.keys(o)),u.sort&&t.sort(u.sort);for(var v=r(),g=0;g<t.length;++g){var y=t[g];u.skipNulls&&null===o[y]||l(d,h(o[y],y,m,u.strictNullHandling,u.skipNulls,u.encode?u.encoder:null,u.filter,u.sort,u.allowDots,u.serializeDate,u.format,u.formatter,u.encodeValuesOnly,u.charset,v))}var b=d.join(u.delimiter),w=!0===u.addQueryPrefix?"?":"";return u.charsetSentinel&&("iso-8859-1"===u.charset?w+="utf8=%26%2310003%3B&":w+="utf8=%E2%9C%93&"),b.length>0?w+b:""}},function(e,n,t){"use strict";var r=t(129),o=t(391),i=t(393),a=r("%TypeError%"),s=r("%WeakMap%",!0),c=r("%Map%",!0),u=o("WeakMap.prototype.get",!0),l=o("WeakMap.prototype.set",!0),p=o("WeakMap.prototype.has",!0),d=o("Map.prototype.get",!0),f=o("Map.prototype.set",!0),h=o("Map.prototype.has",!0),m=function(e,n){for(var t,r=e;null!==(t=r.next);r=t)if(t.key===n)return r.next=t.next,t.next=e.next,e.next=t,t};e.exports=function(){var e,n,t,r={assert:function(e){if(!r.has(e))throw new a("Side channel does not contain "+i(e))},get:function(r){if(s&&r&&("object"==typeof r||"function"==typeof r)){if(e)return u(e,r)}else if(c){if(n)return d(n,r)}else if(t)return function(e,n){var t=m(e,n);return t&&t.value}(t,r)},has:function(r){if(s&&r&&("object"==typeof r||"function"==typeof r)){if(e)return p(e,r)}else if(c){if(n)return h(n,r)}else if(t)return function(e,n){return!!m(e,n)}(t,r);return!1},set:function(r,o){s&&r&&("object"==typeof r||"function"==typeof r)?(e||(e=new s),l(e,r,o)):c?(n||(n=new c),f(n,r,o)):(t||(t={key:{},next:null}),function(e,n,t){var r=m(e,n);r?r.value=t:e.next={key:n,next:e.next,value:t}}(t,r,o))}};return r}},function(e,n,t){"use strict";var r="undefined"!=typeof Symbol&&Symbol,o=t(388);e.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&o())))}},function(e,n,t){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},n=Symbol("test"),t=Object(n);if("string"==typeof n)return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;for(n in e[n]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==n)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,n);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},function(e,n,t){"use strict";var r="Function.prototype.bind called on incompatible ",o=Array.prototype.slice,i=Object.prototype.toString;e.exports=function(e){var n=this;if("function"!=typeof n||"[object Function]"!==i.call(n))throw new TypeError(r+n);for(var t,a=o.call(arguments,1),s=function(){if(this instanceof t){var r=n.apply(this,a.concat(o.call(arguments)));return Object(r)===r?r:this}return n.apply(e,a.concat(o.call(arguments)))},c=Math.max(0,n.length-a.length),u=[],l=0;l<c;l++)u.push("$"+l);if(t=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(s),n.prototype){var p=function(){};p.prototype=n.prototype,t.prototype=new p,p.prototype=null}return t}},function(e,n,t){"use strict";var r=t(130);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},function(e,n,t){"use strict";var r=t(129),o=t(392),i=o(r("String.prototype.indexOf"));e.exports=function(e,n){var t=r(e,!!n);return"function"==typeof t&&i(e,".prototype.")>-1?o(t):t}},function(e,n,t){"use strict";var r=t(130),o=t(129),i=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),s=o("%Reflect.apply%",!0)||r.call(a,i),c=o("%Object.getOwnPropertyDescriptor%",!0),u=o("%Object.defineProperty%",!0),l=o("%Math.max%");if(u)try{u({},"a",{value:1})}catch(e){u=null}e.exports=function(e){var n=s(r,a,arguments);if(c&&u){var t=c(n,"length");t.configurable&&u(n,"length",{value:1+l(0,e.length-(arguments.length-1))})}return n};var p=function(){return s(r,i,arguments)};u?u(e.exports,"apply",{value:p}):e.exports.apply=p},function(e,n,t){var r="function"==typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=r&&o&&"function"==typeof o.get?o.get:null,a=r&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,c=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=s&&c&&"function"==typeof c.get?c.get:null,l=s&&Set.prototype.forEach,p="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,d="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,f="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,h=Boolean.prototype.valueOf,m=Object.prototype.toString,v=Function.prototype.toString,g=String.prototype.match,y="function"==typeof BigInt?BigInt.prototype.valueOf:null,b=Object.getOwnPropertySymbols,w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,E="function"==typeof Symbol&&"object"==typeof Symbol.iterator,_=Object.prototype.propertyIsEnumerable,x=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null),A=t(394).custom,k=A&&j(A)?A:null,C="function"==typeof Symbol&&void 0!==Symbol.toStringTag?Symbol.toStringTag:null;function O(e,n,t){var r="double"===(t.quoteStyle||n)?'"':"'";return r+e+r}function S(e){return String(e).replace(/"/g,"&quot;")}function B(e){return!("[object Array]"!==P(e)||C&&"object"==typeof e&&C in e)}function j(e){if(E)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!w)return!1;try{return w.call(e),!0}catch(e){}return!1}e.exports=function e(n,t,r,o){var s=t||{};if(D(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(D(s,"maxStringLength")&&("number"==typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var c=!D(s,"customInspect")||s.customInspect;if("boolean"!=typeof c&&"symbol"!==c)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(D(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(void 0===n)return"undefined";if(null===n)return"null";if("boolean"==typeof n)return n?"true":"false";if("string"==typeof n)return function e(n,t){if(n.length>t.maxStringLength){var r=n.length-t.maxStringLength,o="... "+r+" more character"+(r>1?"s":"");return e(n.slice(0,t.maxStringLength),t)+o}return O(n.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,N),"single",t)}(n,s);if("number"==typeof n)return 0===n?1/0/n>0?"0":"-0":String(n);if("bigint"==typeof n)return String(n)+"n";var m=void 0===s.depth?5:s.depth;if(void 0===r&&(r=0),r>=m&&m>0&&"object"==typeof n)return B(n)?"[Array]":"[Object]";var b=function(e,n){var t;if("\t"===e.indent)t="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;t=Array(e.indent+1).join(" ")}return{base:t,prev:Array(n+1).join(t)}}(s,r);if(void 0===o)o=[];else if(I(o,n)>=0)return"[Circular]";function _(n,t,i){if(t&&(o=o.slice()).push(t),i){var a={depth:s.depth};return D(s,"quoteStyle")&&(a.quoteStyle=s.quoteStyle),e(n,a,r+1,o)}return e(n,s,r+1,o)}if("function"==typeof n){var A=function(e){if(e.name)return e.name;var n=g.call(v.call(e),/^function\s*([\w$]+)/);if(n)return n[1];return null}(n),T=z(n,_);return"[Function"+(A?": "+A:" (anonymous)")+"]"+(T.length>0?" { "+T.join(", ")+" }":"")}if(j(n)){var V=E?String(n).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):w.call(n);return"object"!=typeof n||E?V:F(V)}if(function(e){if(!e||"object"!=typeof e)return!1;if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"==typeof e.nodeName&&"function"==typeof e.getAttribute}(n)){for(var L="<"+String(n.nodeName).toLowerCase(),U=n.attributes||[],q=0;q<U.length;q++)L+=" "+U[q].name+"="+O(S(U[q].value),"double",s);return L+=">",n.childNodes&&n.childNodes.length&&(L+="..."),L+="</"+String(n.nodeName).toLowerCase()+">"}if(B(n)){if(0===n.length)return"[]";var W=z(n,_);return b&&!function(e){for(var n=0;n<e.length;n++)if(I(e[n],"\n")>=0)return!1;return!0}(W)?"["+M(W,b)+"]":"[ "+W.join(", ")+" ]"}if(function(e){return!("[object Error]"!==P(e)||C&&"object"==typeof e&&C in e)}(n)){var H=z(n,_);return 0===H.length?"["+String(n)+"]":"{ ["+String(n)+"] "+H.join(", ")+" }"}if("object"==typeof n&&c){if(k&&"function"==typeof n[k])return n[k]();if("symbol"!==c&&"function"==typeof n.inspect)return n.inspect()}if(function(e){if(!i||!e||"object"!=typeof e)return!1;try{i.call(e);try{u.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(n)){var G=[];return a.call(n,(function(e,t){G.push(_(t,n,!0)+" => "+_(e,n))})),R("Map",i.call(n),G,b)}if(function(e){if(!u||!e||"object"!=typeof e)return!1;try{u.call(e);try{i.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(n)){var K=[];return l.call(n,(function(e){K.push(_(e,n))})),R("Set",u.call(n),K,b)}if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{p.call(e,p);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(n))return $("WeakMap");if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{p.call(e,p)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(n))return $("WeakSet");if(function(e){if(!f||!e||"object"!=typeof e)return!1;try{return f.call(e),!0}catch(e){}return!1}(n))return $("WeakRef");if(function(e){return!("[object Number]"!==P(e)||C&&"object"==typeof e&&C in e)}(n))return F(_(Number(n)));if(function(e){if(!e||"object"!=typeof e||!y)return!1;try{return y.call(e),!0}catch(e){}return!1}(n))return F(_(y.call(n)));if(function(e){return!("[object Boolean]"!==P(e)||C&&"object"==typeof e&&C in e)}(n))return F(h.call(n));if(function(e){return!("[object String]"!==P(e)||C&&"object"==typeof e&&C in e)}(n))return F(_(String(n)));if(!function(e){return!("[object Date]"!==P(e)||C&&"object"==typeof e&&C in e)}(n)&&!function(e){return!("[object RegExp]"!==P(e)||C&&"object"==typeof e&&C in e)}(n)){var J=z(n,_),Q=x?x(n)===Object.prototype:n instanceof Object||n.constructor===Object,Y=n instanceof Object?"":"null prototype",Z=!Q&&C&&Object(n)===n&&C in n?P(n).slice(8,-1):Y?"Object":"",X=(Q||"function"!=typeof n.constructor?"":n.constructor.name?n.constructor.name+" ":"")+(Z||Y?"["+[].concat(Z||[],Y||[]).join(": ")+"] ":"");return 0===J.length?X+"{}":b?X+"{"+M(J,b)+"}":X+"{ "+J.join(", ")+" }"}return String(n)};var T=Object.prototype.hasOwnProperty||function(e){return e in this};function D(e,n){return T.call(e,n)}function P(e){return m.call(e)}function I(e,n){if(e.indexOf)return e.indexOf(n);for(var t=0,r=e.length;t<r;t++)if(e[t]===n)return t;return-1}function N(e){var n=e.charCodeAt(0),t={8:"b",9:"t",10:"n",12:"f",13:"r"}[n];return t?"\\"+t:"\\x"+(n<16?"0":"")+n.toString(16).toUpperCase()}function F(e){return"Object("+e+")"}function $(e){return e+" { ? }"}function R(e,n,t,r){return e+" ("+n+") {"+(r?M(t,r):t.join(", "))+"}"}function M(e,n){if(0===e.length)return"";var t="\n"+n.prev+n.base;return t+e.join(","+t)+"\n"+n.prev}function z(e,n){var t=B(e),r=[];if(t){r.length=e.length;for(var o=0;o<e.length;o++)r[o]=D(e,o)?n(e[o],e):""}var i,a="function"==typeof b?b(e):[];if(E){i={};for(var s=0;s<a.length;s++)i["$"+a[s]]=a[s]}for(var c in e)D(e,c)&&(t&&String(Number(c))===c&&c<e.length||E&&i["$"+c]instanceof Symbol||(/[^\w$]/.test(c)?r.push(n(c,e)+": "+n(e[c],e)):r.push(c+": "+n(e[c],e))));if("function"==typeof b)for(var u=0;u<a.length;u++)_.call(e,a[u])&&r.push("["+n(a[u])+"]: "+n(e[a[u]],e));return r}},function(e,n){},function(e,n,t){"use strict";var r=t(207),o=Object.prototype.hasOwnProperty,i=Array.isArray,a={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(e){return e.replace(/&#(\d+);/g,(function(e,n){return String.fromCharCode(parseInt(n,10))}))},c=function(e,n){return e&&"string"==typeof e&&n.comma&&e.indexOf(",")>-1?e.split(","):e},u=function(e,n,t,r){if(e){var i=t.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,s=t.depth>0&&/(\[[^[\]]*])/.exec(i),u=s?i.slice(0,s.index):i,l=[];if(u){if(!t.plainObjects&&o.call(Object.prototype,u)&&!t.allowPrototypes)return;l.push(u)}for(var p=0;t.depth>0&&null!==(s=a.exec(i))&&p<t.depth;){if(p+=1,!t.plainObjects&&o.call(Object.prototype,s[1].slice(1,-1))&&!t.allowPrototypes)return;l.push(s[1])}return s&&l.push("["+i.slice(s.index)+"]"),function(e,n,t,r){for(var o=r?n:c(n,t),i=e.length-1;i>=0;--i){var a,s=e[i];if("[]"===s&&t.parseArrays)a=[].concat(o);else{a=t.plainObjects?Object.create(null):{};var u="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,l=parseInt(u,10);t.parseArrays||""!==u?!isNaN(l)&&s!==u&&String(l)===u&&l>=0&&t.parseArrays&&l<=t.arrayLimit?(a=[])[l]=o:a[u]=o:a={0:o}}o=a}return o}(l,n,t,r)}};e.exports=function(e,n){var t=function(e){if(!e)return a;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=void 0===e.charset?a.charset:e.charset;return{allowDots:void 0===e.allowDots?a.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:a.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:n,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:a.comma,decoder:"function"==typeof e.decoder?e.decoder:a.decoder,delimiter:"string"==typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:a.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:a.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling}}(n);if(""===e||null==e)return t.plainObjects?Object.create(null):{};for(var l="string"==typeof e?function(e,n){var t,u={},l=n.ignoreQueryPrefix?e.replace(/^\?/,""):e,p=n.parameterLimit===1/0?void 0:n.parameterLimit,d=l.split(n.delimiter,p),f=-1,h=n.charset;if(n.charsetSentinel)for(t=0;t<d.length;++t)0===d[t].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[t]?h="utf-8":"utf8=%26%2310003%3B"===d[t]&&(h="iso-8859-1"),f=t,t=d.length);for(t=0;t<d.length;++t)if(t!==f){var m,v,g=d[t],y=g.indexOf("]="),b=-1===y?g.indexOf("="):y+1;-1===b?(m=n.decoder(g,a.decoder,h,"key"),v=n.strictNullHandling?null:""):(m=n.decoder(g.slice(0,b),a.decoder,h,"key"),v=r.maybeMap(c(g.slice(b+1),n),(function(e){return n.decoder(e,a.decoder,h,"value")}))),v&&n.interpretNumericEntities&&"iso-8859-1"===h&&(v=s(v)),g.indexOf("[]=")>-1&&(v=i(v)?[v]:v),o.call(u,m)?u[m]=r.combine(u[m],v):u[m]=v}return u}(e,t):e,p=t.plainObjects?Object.create(null):{},d=Object.keys(l),f=0;f<d.length;++f){var h=d[f],m=u(h,l[h],t,"string"==typeof e);p=r.merge(p,m,t)}return!0===t.allowSparse?p:r.compact(p)}},function(e,n,t){var r=t(40),o=t(398),i=t(399);e.exports=function(e){var n=r(e);return i(n,o(n))+1}},function(e,n){e.exports=function(e){var n=new Date(e.getTime()),t=n.getTimezoneOffset();return n.setSeconds(0,0),6e4*t+n.getTime()%6e4}},function(e,n,t){var r=t(40);e.exports=function(e){var n=r(e),t=new Date(0);return t.setFullYear(n.getFullYear(),0,1),t.setHours(0,0,0,0),t}},function(e,n,t){var r=t(400);e.exports=function(e,n){var t=r(e),o=r(n),i=t.getTime()-6e4*t.getTimezoneOffset(),a=o.getTime()-6e4*o.getTimezoneOffset();return Math.round((i-a)/864e5)}},function(e,n,t){var r=t(40);e.exports=function(e){var n=r(e);return n.setHours(0,0,0,0),n}},function(e,n,t){var r=t(40),o=t(132),i=t(403);e.exports=function(e){var n=r(e),t=o(n).getTime()-i(n).getTime();return Math.round(t/6048e5)+1}},function(e,n,t){var r=t(40);e.exports=function(e,n){var t=n&&Number(n.weekStartsOn)||0,o=r(e),i=o.getDay(),a=(i<t?7:0)+i-t;return o.setDate(o.getDate()-a),o.setHours(0,0,0,0),o}},function(e,n,t){var r=t(209),o=t(132);e.exports=function(e){var n=r(e),t=new Date(0);return t.setFullYear(n,0,4),t.setHours(0,0,0,0),o(t)}},function(e,n,t){var r=t(208);e.exports=function(e){if(r(e))return!isNaN(e);throw new TypeError(toString.call(e)+" is not an instance of Date")}},function(e,n,t){var r=t(406),o=t(407);e.exports={distanceInWords:r(),format:o()}},function(e,n){e.exports=function(){var e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:function(n,t,r){var o;return r=r||{},o="string"==typeof e[n]?e[n]:1===t?e[n].one:e[n].other.replace("{{count}}",t),r.addSuffix?r.comparison>0?"in "+o:o+" ago":o}}}},function(e,n,t){var r=t(408);e.exports=function(){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n=["January","February","March","April","May","June","July","August","September","October","November","December"],t=["Su","Mo","Tu","We","Th","Fr","Sa"],o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=["AM","PM"],s=["am","pm"],c=["a.m.","p.m."],u={MMM:function(n){return e[n.getMonth()]},MMMM:function(e){return n[e.getMonth()]},dd:function(e){return t[e.getDay()]},ddd:function(e){return o[e.getDay()]},dddd:function(e){return i[e.getDay()]},A:function(e){return e.getHours()/12>=1?a[1]:a[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach((function(e){u[e+"o"]=function(n,t){return function(e){var n=e%100;if(n>20||n<10)switch(n%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"}(t[e](n))}})),{formatters:u,formattingTokensRegExp:r(u)}}},function(e,n){var t=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];e.exports=function(e){var n=[];for(var r in e)e.hasOwnProperty(r)&&n.push(r);var o=t.concat(n).sort().reverse();return new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+o.join("|")+"|.)","g")}},function(e,n,t){"use strict";var r=t(16),o=t(210),i=t(410),a=t(216);function s(e){var n=new i(e),t=o(i.prototype.request,n);return r.extend(t,i.prototype,n),r.extend(t,n),t}var c=s(t(213));c.Axios=i,c.create=function(e){return s(a(c.defaults,e))},c.Cancel=t(217),c.CancelToken=t(423),c.isCancel=t(212),c.all=function(e){return Promise.all(e)},c.spread=t(424),c.isAxiosError=t(425),e.exports=c,e.exports.default=c},function(e,n,t){"use strict";var r=t(16),o=t(211),i=t(411),a=t(412),s=t(216);function c(e){this.defaults=e,this.interceptors={request:new i,response:new i}}c.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var n=[a,void 0],t=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){n.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){n.push(e.fulfilled,e.rejected)}));n.length;)t=t.then(n.shift(),n.shift());return t},c.prototype.getUri=function(e){return e=s(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(n,t){return this.request(s(t||{},{method:e,url:n,data:(t||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(n,t,r){return this.request(s(r||{},{method:e,url:n,data:t}))}})),e.exports=c},function(e,n,t){"use strict";var r=t(16);function o(){this.handlers=[]}o.prototype.use=function(e,n){return this.handlers.push({fulfilled:e,rejected:n}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(n){null!==n&&e(n)}))},e.exports=o},function(e,n,t){"use strict";var r=t(16),o=t(413),i=t(212),a=t(213);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(n){delete e.headers[n]})),(e.adapter||a.adapter)(e).then((function(n){return s(e),n.data=o(n.data,n.headers,e.transformResponse),n}),(function(n){return i(n)||(s(e),n&&n.response&&(n.response.data=o(n.response.data,n.response.headers,e.transformResponse))),Promise.reject(n)}))}},function(e,n,t){"use strict";var r=t(16);e.exports=function(e,n,t){return r.forEach(t,(function(t){e=t(e,n)})),e}},function(e,n,t){"use strict";var r=t(16);e.exports=function(e,n){r.forEach(e,(function(t,r){r!==n&&r.toUpperCase()===n.toUpperCase()&&(e[n]=t,delete e[r])}))}},function(e,n,t){"use strict";var r=t(215);e.exports=function(e,n,t){var o=t.config.validateStatus;t.status&&o&&!o(t.status)?n(r("Request failed with status code "+t.status,t.config,null,t.request,t)):e(t)}},function(e,n,t){"use strict";e.exports=function(e,n,t,r,o){return e.config=n,t&&(e.code=t),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,n,t){"use strict";var r=t(16);e.exports=r.isStandardBrowserEnv()?{write:function(e,n,t,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(n)),r.isNumber(t)&&s.push("expires="+new Date(t).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,n,t){"use strict";var r=t(419),o=t(420);e.exports=function(e,n){return e&&!r(n)?o(e,n):n}},function(e,n,t){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,n,t){"use strict";e.exports=function(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e}},function(e,n,t){"use strict";var r=t(16),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var n,t,i,a={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),n=r.trim(e.substr(0,i)).toLowerCase(),t=r.trim(e.substr(i+1)),n){if(a[n]&&o.indexOf(n)>=0)return;a[n]="set-cookie"===n?(a[n]?a[n]:[]).concat([t]):a[n]?a[n]+", "+t:t}})),a):a}},function(e,n,t){"use strict";var r=t(16);e.exports=r.isStandardBrowserEnv()?function(){var e,n=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");function o(e){var r=e;return n&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return e=o(window.location.href),function(n){var t=r.isString(n)?o(n):n;return t.protocol===e.protocol&&t.host===e.host}}():function(){return!0}},function(e,n,t){"use strict";var r=t(217);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var t=this;e((function(e){t.reason||(t.reason=new r(e),n(t.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(n){e=n})),cancel:e}},e.exports=o},function(e,n,t){"use strict";e.exports=function(e){return function(n){return e.apply(null,n)}}},function(e,n,t){"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},function(e,n,t){},function(e,n,t){"use strict";t(218)},function(e,n,t){},function(e,n,t){var r;function o(e){function t(){if(t.enabled){var e=t,o=+new Date,i=o-(r||o);e.diff=i,e.prev=r,e.curr=o,r=o;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=n.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var c=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(t,r){if("%%"===t)return t;c++;var o=n.formatters[r];if("function"==typeof o){var i=a[c];t=o.call(e,i),a.splice(c,1),c--}return t})),n.formatArgs.call(e,a);var u=t.log||n.log||console.log.bind(console);u.apply(e,a)}}return t.namespace=e,t.enabled=n.enabled(e),t.useColors=n.useColors(),t.color=function(e){var t,r=0;for(t in e)r=(r<<5)-r+e.charCodeAt(t),r|=0;return n.colors[Math.abs(r)%n.colors.length]}(e),"function"==typeof n.init&&n.init(t),t}(n=e.exports=o.debug=o.default=o).coerce=function(e){return e instanceof Error?e.stack||e.message:e},n.disable=function(){n.enable("")},n.enable=function(e){n.save(e),n.names=[],n.skips=[];for(var t=("string"==typeof e?e:"").split(/[\s,]+/),r=t.length,o=0;o<r;o++)t[o]&&("-"===(e=t[o].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))},n.enabled=function(e){var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=t(430),n.names=[],n.skips=[],n.formatters={}},function(e,n){var t=1e3,r=6e4,o=60*r,i=24*o;function a(e,n,t){if(!(e<n))return e<1.5*n?Math.floor(e/n)+" "+t:Math.ceil(e/n)+" "+t+"s"}e.exports=function(e,n){n=n||{};var s,c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var n=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!n)return;var a=parseFloat(n[1]);switch((n[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*o;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(e);if("number"===c&&!1===isNaN(e))return n.long?a(s=e,i,"day")||a(s,o,"hour")||a(s,r,"minute")||a(s,t,"second")||s+" ms":function(e){if(e>=i)return Math.round(e/i)+"d";if(e>=o)return Math.round(e/o)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,n,t){t(2)({target:"Number",stat:!0},{isFinite:t(432)})},function(e,n,t){var r=t(4).isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&r(e)}},function(e,n,t){"use strict";t(219)},function(e,n,t){"use strict";t(220)},function(e,n,t){"use strict";var r=t(30),o=t(7),i=[].slice,a={},s=function(e,n,t){if(!(n in a)){for(var r=[],o=0;o<n;o++)r[o]="a["+o+"]";a[n]=Function("C,a","return new C("+r.join(",")+")")}return a[n](e,t)};e.exports=Function.bind||function(e){var n=r(this),t=i.call(arguments,1),a=function(){var r=t.concat(i.call(arguments));return this instanceof a?s(n,r.length,r):n.apply(e,r)};return o(n.prototype)&&(a.prototype=n.prototype),a}},function(e,n,t){"use strict";t(223)},function(e,n,t){"use strict";t(224)},function(e,n,t){"use strict";t.r(n);t(137),t(251),t(259),t(260);var r=t(49),o=(t(97),t(32),t(13),t(18),t(20),t(52),t(24),t(1));function i(e,n){for(var t in n)e[t]=n[t];return e}var a=/[!'()*]/g,s=function(e){return"%"+e.charCodeAt(0).toString(16)},c=/%2C/g,u=function(e){return encodeURIComponent(e).replace(a,s).replace(c,",")};function l(e){try{return decodeURIComponent(e)}catch(e){0}return e}var p=function(e){return null==e||"object"==typeof e?e:String(e)};function d(e){var n={};return(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),r=l(t.shift()),o=t.length>0?l(t.join("=")):null;void 0===n[r]?n[r]=o:Array.isArray(n[r])?n[r].push(o):n[r]=[n[r],o]})),n):n}function f(e){var n=e?Object.keys(e).map((function(n){var t=e[n];if(void 0===t)return"";if(null===t)return u(n);if(Array.isArray(t)){var r=[];return t.forEach((function(e){void 0!==e&&(null===e?r.push(u(n)):r.push(u(n)+"="+u(e)))})),r.join("&")}return u(n)+"="+u(t)})).filter((function(e){return e.length>0})).join("&"):null;return n?"?"+n:""}var h=/\/?$/;function m(e,n,t,r){var o=r&&r.options.stringifyQuery,i=n.query||{};try{i=v(i)}catch(e){}var a={name:n.name||e&&e.name,meta:e&&e.meta||{},path:n.path||"/",hash:n.hash||"",query:i,params:n.params||{},fullPath:b(n,o),matched:e?y(e):[]};return t&&(a.redirectedFrom=b(t,o)),Object.freeze(a)}function v(e){if(Array.isArray(e))return e.map(v);if(e&&"object"==typeof e){var n={};for(var t in e)n[t]=v(e[t]);return n}return e}var g=m(null,{path:"/"});function y(e){for(var n=[];e;)n.unshift(e),e=e.parent;return n}function b(e,n){var t=e.path,r=e.query;void 0===r&&(r={});var o=e.hash;return void 0===o&&(o=""),(t||"/")+(n||f)(r)+o}function w(e,n,t){return n===g?e===n:!!n&&(e.path&&n.path?e.path.replace(h,"")===n.path.replace(h,"")&&(t||e.hash===n.hash&&E(e.query,n.query)):!(!e.name||!n.name)&&(e.name===n.name&&(t||e.hash===n.hash&&E(e.query,n.query)&&E(e.params,n.params))))}function E(e,n){if(void 0===e&&(e={}),void 0===n&&(n={}),!e||!n)return e===n;var t=Object.keys(e).sort(),r=Object.keys(n).sort();return t.length===r.length&&t.every((function(t,o){var i=e[t];if(r[o]!==t)return!1;var a=n[t];return null==i||null==a?i===a:"object"==typeof i&&"object"==typeof a?E(i,a):String(i)===String(a)}))}function _(e){for(var n=0;n<e.matched.length;n++){var t=e.matched[n];for(var r in t.instances){var o=t.instances[r],i=t.enteredCbs[r];if(o&&i){delete t.enteredCbs[r];for(var a=0;a<i.length;a++)o._isBeingDestroyed||i[a](o)}}}}var x={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(e,n){var t=n.props,r=n.children,o=n.parent,a=n.data;a.routerView=!0;for(var s=o.$createElement,c=t.name,u=o.$route,l=o._routerViewCache||(o._routerViewCache={}),p=0,d=!1;o&&o._routerRoot!==o;){var f=o.$vnode?o.$vnode.data:{};f.routerView&&p++,f.keepAlive&&o._directInactive&&o._inactive&&(d=!0),o=o.$parent}if(a.routerViewDepth=p,d){var h=l[c],m=h&&h.component;return m?(h.configProps&&A(m,a,h.route,h.configProps),s(m,a,r)):s()}var v=u.matched[p],g=v&&v.components[c];if(!v||!g)return l[c]=null,s();l[c]={component:g},a.registerRouteInstance=function(e,n){var t=v.instances[c];(n&&t!==e||!n&&t===e)&&(v.instances[c]=n)},(a.hook||(a.hook={})).prepatch=function(e,n){v.instances[c]=n.componentInstance},a.hook.init=function(e){e.data.keepAlive&&e.componentInstance&&e.componentInstance!==v.instances[c]&&(v.instances[c]=e.componentInstance),_(u)};var y=v.props&&v.props[c];return y&&(i(l[c],{route:u,configProps:y}),A(g,a,u,y)),s(g,a,r)}};function A(e,n,t,r){var o=n.props=function(e,n){switch(typeof n){case"undefined":return;case"object":return n;case"function":return n(e);case"boolean":return n?e.params:void 0;default:0}}(t,r);if(o){o=n.props=i({},o);var a=n.attrs=n.attrs||{};for(var s in o)e.props&&s in e.props||(a[s]=o[s],delete o[s])}}function k(e,n,t){var r=e.charAt(0);if("/"===r)return e;if("?"===r||"#"===r)return n+e;var o=n.split("/");t&&o[o.length-1]||o.pop();for(var i=e.replace(/^\//,"").split("/"),a=0;a<i.length;a++){var s=i[a];".."===s?o.pop():"."!==s&&o.push(s)}return""!==o[0]&&o.unshift(""),o.join("/")}function C(e){return e.replace(/\/\//g,"/")}var O=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},S=L,B=I,j=function(e,n){return F(I(e,n),n)},T=F,D=V,P=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function I(e,n){for(var t,r=[],o=0,i=0,a="",s=n&&n.delimiter||"/";null!=(t=P.exec(e));){var c=t[0],u=t[1],l=t.index;if(a+=e.slice(i,l),i=l+c.length,u)a+=u[1];else{var p=e[i],d=t[2],f=t[3],h=t[4],m=t[5],v=t[6],g=t[7];a&&(r.push(a),a="");var y=null!=d&&null!=p&&p!==d,b="+"===v||"*"===v,w="?"===v||"*"===v,E=t[2]||s,_=h||m;r.push({name:f||o++,prefix:d||"",delimiter:E,optional:w,repeat:b,partial:y,asterisk:!!g,pattern:_?R(_):g?".*":"[^"+$(E)+"]+?"})}}return i<e.length&&(a+=e.substr(i)),a&&r.push(a),r}function N(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function F(e,n){for(var t=new Array(e.length),r=0;r<e.length;r++)"object"==typeof e[r]&&(t[r]=new RegExp("^(?:"+e[r].pattern+")$",z(n)));return function(n,r){for(var o="",i=n||{},a=(r||{}).pretty?N:encodeURIComponent,s=0;s<e.length;s++){var c=e[s];if("string"!=typeof c){var u,l=i[c.name];if(null==l){if(c.optional){c.partial&&(o+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(O(l)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(l)+"`");if(0===l.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var p=0;p<l.length;p++){if(u=a(l[p]),!t[s].test(u))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(u)+"`");o+=(0===p?c.prefix:c.delimiter)+u}}else{if(u=c.asterisk?encodeURI(l).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):a(l),!t[s].test(u))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+u+'"');o+=c.prefix+u}}else o+=c}return o}}function $(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function R(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function M(e,n){return e.keys=n,e}function z(e){return e&&e.sensitive?"":"i"}function V(e,n,t){O(n)||(t=n||t,n=[]);for(var r=(t=t||{}).strict,o=!1!==t.end,i="",a=0;a<e.length;a++){var s=e[a];if("string"==typeof s)i+=$(s);else{var c=$(s.prefix),u="(?:"+s.pattern+")";n.push(s),s.repeat&&(u+="(?:"+c+u+")*"),i+=u=s.optional?s.partial?c+"("+u+")?":"(?:"+c+"("+u+"))?":c+"("+u+")"}}var l=$(t.delimiter||"/"),p=i.slice(-l.length)===l;return r||(i=(p?i.slice(0,-l.length):i)+"(?:"+l+"(?=$))?"),i+=o?"$":r&&p?"":"(?="+l+"|$)",M(new RegExp("^"+i,z(t)),n)}function L(e,n,t){return O(n)||(t=n||t,n=[]),t=t||{},e instanceof RegExp?function(e,n){var t=e.source.match(/\((?!\?)/g);if(t)for(var r=0;r<t.length;r++)n.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return M(e,n)}(e,n):O(e)?function(e,n,t){for(var r=[],o=0;o<e.length;o++)r.push(L(e[o],n,t).source);return M(new RegExp("(?:"+r.join("|")+")",z(t)),n)}(e,n,t):function(e,n,t){return V(I(e,t),n,t)}(e,n,t)}S.parse=B,S.compile=j,S.tokensToFunction=T,S.tokensToRegExp=D;var U=Object.create(null);function q(e,n,t){n=n||{};try{var r=U[e]||(U[e]=S.compile(e));return"string"==typeof n.pathMatch&&(n[0]=n.pathMatch),r(n,{pretty:!0})}catch(e){return""}finally{delete n[0]}}function W(e,n,t,r){var o="string"==typeof e?{path:e}:e;if(o._normalized)return o;if(o.name){var a=(o=i({},e)).params;return a&&"object"==typeof a&&(o.params=i({},a)),o}if(!o.path&&o.params&&n){(o=i({},o))._normalized=!0;var s=i(i({},n.params),o.params);if(n.name)o.name=n.name,o.params=s;else if(n.matched.length){var c=n.matched[n.matched.length-1].path;o.path=q(c,s,n.path)}else 0;return o}var u=function(e){var n="",t="",r=e.indexOf("#");r>=0&&(n=e.slice(r),e=e.slice(0,r));var o=e.indexOf("?");return o>=0&&(t=e.slice(o+1),e=e.slice(0,o)),{path:e,query:t,hash:n}}(o.path||""),l=n&&n.path||"/",f=u.path?k(u.path,l,t||o.append):l,h=function(e,n,t){void 0===n&&(n={});var r,o=t||d;try{r=o(e||"")}catch(e){r={}}for(var i in n){var a=n[i];r[i]=Array.isArray(a)?a.map(p):p(a)}return r}(u.query,o.query,r&&r.options.parseQuery),m=o.hash||u.hash;return m&&"#"!==m.charAt(0)&&(m="#"+m),{_normalized:!0,path:f,query:h,hash:m}}var H,G=function(){},K={name:"RouterLink",props:{to:{type:[String,Object],required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:[String,Array],default:"click"}},render:function(e){var n=this,t=this.$router,r=this.$route,o=t.resolve(this.to,r,this.append),a=o.location,s=o.route,c=o.href,u={},l=t.options.linkActiveClass,p=t.options.linkExactActiveClass,d=null==l?"router-link-active":l,f=null==p?"router-link-exact-active":p,v=null==this.activeClass?d:this.activeClass,g=null==this.exactActiveClass?f:this.exactActiveClass,y=s.redirectedFrom?m(null,W(s.redirectedFrom),null,t):s;u[g]=w(r,y,this.exactPath),u[v]=this.exact||this.exactPath?u[g]:function(e,n){return 0===e.path.replace(h,"/").indexOf(n.path.replace(h,"/"))&&(!n.hash||e.hash===n.hash)&&function(e,n){for(var t in n)if(!(t in e))return!1;return!0}(e.query,n.query)}(r,y);var b=u[g]?this.ariaCurrentValue:null,E=function(e){J(e)&&(n.replace?t.replace(a,G):t.push(a,G))},_={click:J};Array.isArray(this.event)?this.event.forEach((function(e){_[e]=E})):_[this.event]=E;var x={class:u},A=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:c,route:s,navigate:E,isActive:u[v],isExactActive:u[g]});if(A){if(1===A.length)return A[0];if(A.length>1||!A.length)return 0===A.length?e():e("span",{},A)}if("a"===this.tag)x.on=_,x.attrs={href:c,"aria-current":b};else{var k=function e(n){var t;if(n)for(var r=0;r<n.length;r++){if("a"===(t=n[r]).tag)return t;if(t.children&&(t=e(t.children)))return t}}(this.$slots.default);if(k){k.isStatic=!1;var C=k.data=i({},k.data);for(var O in C.on=C.on||{},C.on){var S=C.on[O];O in _&&(C.on[O]=Array.isArray(S)?S:[S])}for(var B in _)B in C.on?C.on[B].push(_[B]):C.on[B]=E;var j=k.data.attrs=i({},k.data.attrs);j.href=c,j["aria-current"]=b}else x.on=_}return e(this.tag,x,this.$slots.default)}};function J(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||e.defaultPrevented||void 0!==e.button&&0!==e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){var n=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(n))return}return e.preventDefault&&e.preventDefault(),!0}}var Q="undefined"!=typeof window;function Y(e,n,t,r,o){var i=n||[],a=t||Object.create(null),s=r||Object.create(null);e.forEach((function(e){!function e(n,t,r,o,i,a){var s=o.path,c=o.name;0;var u=o.pathToRegexpOptions||{},l=function(e,n,t){t||(e=e.replace(/\/$/,""));if("/"===e[0])return e;if(null==n)return e;return C(n.path+"/"+e)}(s,i,u.strict);"boolean"==typeof o.caseSensitive&&(u.sensitive=o.caseSensitive);var p={path:l,regex:Z(l,u),components:o.components||{default:o.component},alias:o.alias?"string"==typeof o.alias?[o.alias]:o.alias:[],instances:{},enteredCbs:{},name:c,parent:i,matchAs:a,redirect:o.redirect,beforeEnter:o.beforeEnter,meta:o.meta||{},props:null==o.props?{}:o.components?o.props:{default:o.props}};o.children&&o.children.forEach((function(o){var i=a?C(a+"/"+o.path):void 0;e(n,t,r,o,p,i)}));t[p.path]||(n.push(p.path),t[p.path]=p);if(void 0!==o.alias)for(var d=Array.isArray(o.alias)?o.alias:[o.alias],f=0;f<d.length;++f){0;var h={path:d[f],children:o.children};e(n,t,r,h,i,p.path||"/")}c&&(r[c]||(r[c]=p))}(i,a,s,e,o)}));for(var c=0,u=i.length;c<u;c++)"*"===i[c]&&(i.push(i.splice(c,1)[0]),u--,c--);return{pathList:i,pathMap:a,nameMap:s}}function Z(e,n){return S(e,[],n)}function X(e,n){var t=Y(e),r=t.pathList,o=t.pathMap,i=t.nameMap;function a(e,t,a){var s=W(e,t,!1,n),u=s.name;if(u){var l=i[u];if(!l)return c(null,s);var p=l.regex.keys.filter((function(e){return!e.optional})).map((function(e){return e.name}));if("object"!=typeof s.params&&(s.params={}),t&&"object"==typeof t.params)for(var d in t.params)!(d in s.params)&&p.indexOf(d)>-1&&(s.params[d]=t.params[d]);return s.path=q(l.path,s.params),c(l,s,a)}if(s.path){s.params={};for(var f=0;f<r.length;f++){var h=r[f],m=o[h];if(ee(m.regex,s.path,s.params))return c(m,s,a)}}return c(null,s)}function s(e,t){var r=e.redirect,o="function"==typeof r?r(m(e,t,null,n)):r;if("string"==typeof o&&(o={path:o}),!o||"object"!=typeof o)return c(null,t);var s=o,u=s.name,l=s.path,p=t.query,d=t.hash,f=t.params;if(p=s.hasOwnProperty("query")?s.query:p,d=s.hasOwnProperty("hash")?s.hash:d,f=s.hasOwnProperty("params")?s.params:f,u){i[u];return a({_normalized:!0,name:u,query:p,hash:d,params:f},void 0,t)}if(l){var h=function(e,n){return k(e,n.parent?n.parent.path:"/",!0)}(l,e);return a({_normalized:!0,path:q(h,f),query:p,hash:d},void 0,t)}return c(null,t)}function c(e,t,r){return e&&e.redirect?s(e,r||t):e&&e.matchAs?function(e,n,t){var r=a({_normalized:!0,path:q(t,n.params)});if(r){var o=r.matched,i=o[o.length-1];return n.params=r.params,c(i,n)}return c(null,n)}(0,t,e.matchAs):m(e,t,r,n)}return{match:a,addRoute:function(e,n){var t="object"!=typeof e?i[e]:void 0;Y([n||e],r,o,i,t),t&&t.alias.length&&Y(t.alias.map((function(e){return{path:e,children:[n]}})),r,o,i,t)},getRoutes:function(){return r.map((function(e){return o[e]}))},addRoutes:function(e){Y(e,r,o,i)}}}function ee(e,n,t){var r=n.match(e);if(!r)return!1;if(!t)return!0;for(var o=1,i=r.length;o<i;++o){var a=e.keys[o-1];a&&(t[a.name||"pathMatch"]="string"==typeof r[o]?l(r[o]):r[o])}return!0}var ne=Q&&window.performance&&window.performance.now?window.performance:Date;function te(){return ne.now().toFixed(3)}var re=te();function oe(){return re}function ie(e){return re=e}var ae=Object.create(null);function se(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var e=window.location.protocol+"//"+window.location.host,n=window.location.href.replace(e,""),t=i({},window.history.state);return t.key=oe(),window.history.replaceState(t,"",n),window.addEventListener("popstate",le),function(){window.removeEventListener("popstate",le)}}function ce(e,n,t,r){if(e.app){var o=e.options.scrollBehavior;o&&e.app.$nextTick((function(){var i=function(){var e=oe();if(e)return ae[e]}(),a=o.call(e,n,t,r?i:null);a&&("function"==typeof a.then?a.then((function(e){me(e,i)})).catch((function(e){0})):me(a,i))}))}}function ue(){var e=oe();e&&(ae[e]={x:window.pageXOffset,y:window.pageYOffset})}function le(e){ue(),e.state&&e.state.key&&ie(e.state.key)}function pe(e){return fe(e.x)||fe(e.y)}function de(e){return{x:fe(e.x)?e.x:window.pageXOffset,y:fe(e.y)?e.y:window.pageYOffset}}function fe(e){return"number"==typeof e}var he=/^#\d/;function me(e,n){var t,r="object"==typeof e;if(r&&"string"==typeof e.selector){var o=he.test(e.selector)?document.getElementById(e.selector.slice(1)):document.querySelector(e.selector);if(o){var i=e.offset&&"object"==typeof e.offset?e.offset:{};n=function(e,n){var t=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{x:r.left-t.left-n.x,y:r.top-t.top-n.y}}(o,i={x:fe((t=i).x)?t.x:0,y:fe(t.y)?t.y:0})}else pe(e)&&(n=de(e))}else r&&pe(e)&&(n=de(e));n&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:n.x,top:n.y,behavior:e.behavior}):window.scrollTo(n.x,n.y))}var ve,ge=Q&&((-1===(ve=window.navigator.userAgent).indexOf("Android 2.")&&-1===ve.indexOf("Android 4.0")||-1===ve.indexOf("Mobile Safari")||-1!==ve.indexOf("Chrome")||-1!==ve.indexOf("Windows Phone"))&&window.history&&"function"==typeof window.history.pushState);function ye(e,n){ue();var t=window.history;try{if(n){var r=i({},t.state);r.key=oe(),t.replaceState(r,"",e)}else t.pushState({key:ie(te())},"",e)}catch(t){window.location[n?"replace":"assign"](e)}}function be(e){ye(e,!0)}function we(e,n,t){var r=function(o){o>=e.length?t():e[o]?n(e[o],(function(){r(o+1)})):r(o+1)};r(0)}var Ee={redirected:2,aborted:4,cancelled:8,duplicated:16};function _e(e,n){return Ae(e,n,Ee.redirected,'Redirected when going from "'+e.fullPath+'" to "'+function(e){if("string"==typeof e)return e;if("path"in e)return e.path;var n={};return ke.forEach((function(t){t in e&&(n[t]=e[t])})),JSON.stringify(n,null,2)}(n)+'" via a navigation guard.')}function xe(e,n){return Ae(e,n,Ee.cancelled,'Navigation cancelled from "'+e.fullPath+'" to "'+n.fullPath+'" with a new navigation.')}function Ae(e,n,t,r){var o=new Error(r);return o._isRouter=!0,o.from=e,o.to=n,o.type=t,o}var ke=["params","query","hash"];function Ce(e){return Object.prototype.toString.call(e).indexOf("Error")>-1}function Oe(e,n){return Ce(e)&&e._isRouter&&(null==n||e.type===n)}function Se(e){return function(n,t,r){var o=!1,i=0,a=null;Be(e,(function(e,n,t,s){if("function"==typeof e&&void 0===e.cid){o=!0,i++;var c,u=De((function(n){var o;((o=n).__esModule||Te&&"Module"===o[Symbol.toStringTag])&&(n=n.default),e.resolved="function"==typeof n?n:H.extend(n),t.components[s]=n,--i<=0&&r()})),l=De((function(e){var n="Failed to resolve async component "+s+": "+e;a||(a=Ce(e)?e:new Error(n),r(a))}));try{c=e(u,l)}catch(e){l(e)}if(c)if("function"==typeof c.then)c.then(u,l);else{var p=c.component;p&&"function"==typeof p.then&&p.then(u,l)}}})),o||r()}}function Be(e,n){return je(e.map((function(e){return Object.keys(e.components).map((function(t){return n(e.components[t],e.instances[t],e,t)}))})))}function je(e){return Array.prototype.concat.apply([],e)}var Te="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function De(e){var n=!1;return function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(!n)return n=!0,e.apply(this,t)}}var Pe=function(e,n){this.router=e,this.base=function(e){if(!e)if(Q){var n=document.querySelector("base");e=(e=n&&n.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else e="/";"/"!==e.charAt(0)&&(e="/"+e);return e.replace(/\/$/,"")}(n),this.current=g,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function Ie(e,n,t,r){var o=Be(e,(function(e,r,o,i){var a=function(e,n){"function"!=typeof e&&(e=H.extend(e));return e.options[n]}(e,n);if(a)return Array.isArray(a)?a.map((function(e){return t(e,r,o,i)})):t(a,r,o,i)}));return je(r?o.reverse():o)}function Ne(e,n){if(n)return function(){return e.apply(n,arguments)}}Pe.prototype.listen=function(e){this.cb=e},Pe.prototype.onReady=function(e,n){this.ready?e():(this.readyCbs.push(e),n&&this.readyErrorCbs.push(n))},Pe.prototype.onError=function(e){this.errorCbs.push(e)},Pe.prototype.transitionTo=function(e,n,t){var r,o=this;try{r=this.router.match(e,this.current)}catch(e){throw this.errorCbs.forEach((function(n){n(e)})),e}var i=this.current;this.confirmTransition(r,(function(){o.updateRoute(r),n&&n(r),o.ensureURL(),o.router.afterHooks.forEach((function(e){e&&e(r,i)})),o.ready||(o.ready=!0,o.readyCbs.forEach((function(e){e(r)})))}),(function(e){t&&t(e),e&&!o.ready&&(Oe(e,Ee.redirected)&&i===g||(o.ready=!0,o.readyErrorCbs.forEach((function(n){n(e)}))))}))},Pe.prototype.confirmTransition=function(e,n,t){var r=this,o=this.current;this.pending=e;var i,a,s=function(e){!Oe(e)&&Ce(e)&&(r.errorCbs.length?r.errorCbs.forEach((function(n){n(e)})):console.error(e)),t&&t(e)},c=e.matched.length-1,u=o.matched.length-1;if(w(e,o)&&c===u&&e.matched[c]===o.matched[u])return this.ensureURL(),s(((a=Ae(i=o,e,Ee.duplicated,'Avoided redundant navigation to current location: "'+i.fullPath+'".')).name="NavigationDuplicated",a));var l=function(e,n){var t,r=Math.max(e.length,n.length);for(t=0;t<r&&e[t]===n[t];t++);return{updated:n.slice(0,t),activated:n.slice(t),deactivated:e.slice(t)}}(this.current.matched,e.matched),p=l.updated,d=l.deactivated,f=l.activated,h=[].concat(function(e){return Ie(e,"beforeRouteLeave",Ne,!0)}(d),this.router.beforeHooks,function(e){return Ie(e,"beforeRouteUpdate",Ne)}(p),f.map((function(e){return e.beforeEnter})),Se(f)),m=function(n,t){if(r.pending!==e)return s(xe(o,e));try{n(e,o,(function(n){!1===n?(r.ensureURL(!0),s(function(e,n){return Ae(e,n,Ee.aborted,'Navigation aborted from "'+e.fullPath+'" to "'+n.fullPath+'" via a navigation guard.')}(o,e))):Ce(n)?(r.ensureURL(!0),s(n)):"string"==typeof n||"object"==typeof n&&("string"==typeof n.path||"string"==typeof n.name)?(s(_e(o,e)),"object"==typeof n&&n.replace?r.replace(n):r.push(n)):t(n)}))}catch(e){s(e)}};we(h,m,(function(){we(function(e){return Ie(e,"beforeRouteEnter",(function(e,n,t,r){return function(e,n,t){return function(r,o,i){return e(r,o,(function(e){"function"==typeof e&&(n.enteredCbs[t]||(n.enteredCbs[t]=[]),n.enteredCbs[t].push(e)),i(e)}))}}(e,t,r)}))}(f).concat(r.router.resolveHooks),m,(function(){if(r.pending!==e)return s(xe(o,e));r.pending=null,n(e),r.router.app&&r.router.app.$nextTick((function(){_(e)}))}))}))},Pe.prototype.updateRoute=function(e){this.current=e,this.cb&&this.cb(e)},Pe.prototype.setupListeners=function(){},Pe.prototype.teardown=function(){this.listeners.forEach((function(e){e()})),this.listeners=[],this.current=g,this.pending=null};var Fe=function(e){function n(n,t){e.call(this,n,t),this._startLocation=$e(this.base)}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.setupListeners=function(){var e=this;if(!(this.listeners.length>0)){var n=this.router,t=n.options.scrollBehavior,r=ge&&t;r&&this.listeners.push(se());var o=function(){var t=e.current,o=$e(e.base);e.current===g&&o===e._startLocation||e.transitionTo(o,(function(e){r&&ce(n,e,t,!0)}))};window.addEventListener("popstate",o),this.listeners.push((function(){window.removeEventListener("popstate",o)}))}},n.prototype.go=function(e){window.history.go(e)},n.prototype.push=function(e,n,t){var r=this,o=this.current;this.transitionTo(e,(function(e){ye(C(r.base+e.fullPath)),ce(r.router,e,o,!1),n&&n(e)}),t)},n.prototype.replace=function(e,n,t){var r=this,o=this.current;this.transitionTo(e,(function(e){be(C(r.base+e.fullPath)),ce(r.router,e,o,!1),n&&n(e)}),t)},n.prototype.ensureURL=function(e){if($e(this.base)!==this.current.fullPath){var n=C(this.base+this.current.fullPath);e?ye(n):be(n)}},n.prototype.getCurrentLocation=function(){return $e(this.base)},n}(Pe);function $e(e){var n=window.location.pathname,t=n.toLowerCase(),r=e.toLowerCase();return!e||t!==r&&0!==t.indexOf(C(r+"/"))||(n=n.slice(e.length)),(n||"/")+window.location.search+window.location.hash}var Re=function(e){function n(n,t,r){e.call(this,n,t),r&&function(e){var n=$e(e);if(!/^\/#/.test(n))return window.location.replace(C(e+"/#"+n)),!0}(this.base)||Me()}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.setupListeners=function(){var e=this;if(!(this.listeners.length>0)){var n=this.router.options.scrollBehavior,t=ge&&n;t&&this.listeners.push(se());var r=function(){var n=e.current;Me()&&e.transitionTo(ze(),(function(r){t&&ce(e.router,r,n,!0),ge||Ue(r.fullPath)}))},o=ge?"popstate":"hashchange";window.addEventListener(o,r),this.listeners.push((function(){window.removeEventListener(o,r)}))}},n.prototype.push=function(e,n,t){var r=this,o=this.current;this.transitionTo(e,(function(e){Le(e.fullPath),ce(r.router,e,o,!1),n&&n(e)}),t)},n.prototype.replace=function(e,n,t){var r=this,o=this.current;this.transitionTo(e,(function(e){Ue(e.fullPath),ce(r.router,e,o,!1),n&&n(e)}),t)},n.prototype.go=function(e){window.history.go(e)},n.prototype.ensureURL=function(e){var n=this.current.fullPath;ze()!==n&&(e?Le(n):Ue(n))},n.prototype.getCurrentLocation=function(){return ze()},n}(Pe);function Me(){var e=ze();return"/"===e.charAt(0)||(Ue("/"+e),!1)}function ze(){var e=window.location.href,n=e.indexOf("#");return n<0?"":e=e.slice(n+1)}function Ve(e){var n=window.location.href,t=n.indexOf("#");return(t>=0?n.slice(0,t):n)+"#"+e}function Le(e){ge?ye(Ve(e)):window.location.hash=e}function Ue(e){ge?be(Ve(e)):window.location.replace(Ve(e))}var qe=function(e){function n(n,t){e.call(this,n,t),this.stack=[],this.index=-1}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.push=function(e,n,t){var r=this;this.transitionTo(e,(function(e){r.stack=r.stack.slice(0,r.index+1).concat(e),r.index++,n&&n(e)}),t)},n.prototype.replace=function(e,n,t){var r=this;this.transitionTo(e,(function(e){r.stack=r.stack.slice(0,r.index).concat(e),n&&n(e)}),t)},n.prototype.go=function(e){var n=this,t=this.index+e;if(!(t<0||t>=this.stack.length)){var r=this.stack[t];this.confirmTransition(r,(function(){var e=n.current;n.index=t,n.updateRoute(r),n.router.afterHooks.forEach((function(n){n&&n(r,e)}))}),(function(e){Oe(e,Ee.duplicated)&&(n.index=t)}))}},n.prototype.getCurrentLocation=function(){var e=this.stack[this.stack.length-1];return e?e.fullPath:"/"},n.prototype.ensureURL=function(){},n}(Pe),We=function(e){void 0===e&&(e={}),this.app=null,this.apps=[],this.options=e,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=X(e.routes||[],this);var n=e.mode||"hash";switch(this.fallback="history"===n&&!ge&&!1!==e.fallback,this.fallback&&(n="hash"),Q||(n="abstract"),this.mode=n,n){case"history":this.history=new Fe(this,e.base);break;case"hash":this.history=new Re(this,e.base,this.fallback);break;case"abstract":this.history=new qe(this,e.base);break;default:0}},He={currentRoute:{configurable:!0}};function Ge(e,n){return e.push(n),function(){var t=e.indexOf(n);t>-1&&e.splice(t,1)}}We.prototype.match=function(e,n,t){return this.matcher.match(e,n,t)},He.currentRoute.get=function(){return this.history&&this.history.current},We.prototype.init=function(e){var n=this;if(this.apps.push(e),e.$once("hook:destroyed",(function(){var t=n.apps.indexOf(e);t>-1&&n.apps.splice(t,1),n.app===e&&(n.app=n.apps[0]||null),n.app||n.history.teardown()})),!this.app){this.app=e;var t=this.history;if(t instanceof Fe||t instanceof Re){var r=function(e){t.setupListeners(),function(e){var r=t.current,o=n.options.scrollBehavior;ge&&o&&"fullPath"in e&&ce(n,e,r,!1)}(e)};t.transitionTo(t.getCurrentLocation(),r,r)}t.listen((function(e){n.apps.forEach((function(n){n._route=e}))}))}},We.prototype.beforeEach=function(e){return Ge(this.beforeHooks,e)},We.prototype.beforeResolve=function(e){return Ge(this.resolveHooks,e)},We.prototype.afterEach=function(e){return Ge(this.afterHooks,e)},We.prototype.onReady=function(e,n){this.history.onReady(e,n)},We.prototype.onError=function(e){this.history.onError(e)},We.prototype.push=function(e,n,t){var r=this;if(!n&&!t&&"undefined"!=typeof Promise)return new Promise((function(n,t){r.history.push(e,n,t)}));this.history.push(e,n,t)},We.prototype.replace=function(e,n,t){var r=this;if(!n&&!t&&"undefined"!=typeof Promise)return new Promise((function(n,t){r.history.replace(e,n,t)}));this.history.replace(e,n,t)},We.prototype.go=function(e){this.history.go(e)},We.prototype.back=function(){this.go(-1)},We.prototype.forward=function(){this.go(1)},We.prototype.getMatchedComponents=function(e){var n=e?e.matched?e:this.resolve(e).route:this.currentRoute;return n?[].concat.apply([],n.matched.map((function(e){return Object.keys(e.components).map((function(n){return e.components[n]}))}))):[]},We.prototype.resolve=function(e,n,t){var r=W(e,n=n||this.history.current,t,this),o=this.match(r,n),i=o.redirectedFrom||o.fullPath;return{location:r,route:o,href:function(e,n,t){var r="hash"===t?"#"+n:n;return e?C(e+"/"+r):r}(this.history.base,i,this.mode),normalizedTo:r,resolved:o}},We.prototype.getRoutes=function(){return this.matcher.getRoutes()},We.prototype.addRoute=function(e,n){this.matcher.addRoute(e,n),this.history.current!==g&&this.history.transitionTo(this.history.getCurrentLocation())},We.prototype.addRoutes=function(e){this.matcher.addRoutes(e),this.history.current!==g&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(We.prototype,He),We.install=function e(n){if(!e.installed||H!==n){e.installed=!0,H=n;var t=function(e){return void 0!==e},r=function(e,n){var r=e.$options._parentVnode;t(r)&&t(r=r.data)&&t(r=r.registerRouteInstance)&&r(e,n)};n.mixin({beforeCreate:function(){t(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),n.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,r(this,this)},destroyed:function(){r(this)}}),Object.defineProperty(n.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(n.prototype,"$route",{get:function(){return this._routerRoot._route}}),n.component("RouterView",x),n.component("RouterLink",K);var o=n.config.optionMergeStrategies;o.beforeRouteEnter=o.beforeRouteLeave=o.beforeRouteUpdate=o.created}},We.version="3.5.2",We.isNavigationFailure=Oe,We.NavigationFailureType=Ee,We.START_LOCATION=g,Q&&window.Vue&&window.Vue.use(We);var Ke=We;t(166),t(167),t(114),t(73),t(239),t(45),t(46),t(264);function Je(e){e.locales&&Object.keys(e.locales).forEach((function(n){e.locales[n].path=n})),Object.freeze(e)}var Qe=t(0),Ye=t(31),Ze=t(66),Xe=(t(143),t(133),t(225)),en=t.n(Xe),nn={created:function(){if(this.siteMeta=this.$site.headTags.filter((function(e){return"meta"===Object(Ze.a)(e,1)[0]})).map((function(e){var n=Object(Ze.a)(e,2);n[0];return n[1]})),this.$ssrContext){var e=this.getMergedMetaTags();this.$ssrContext.title=this.$title,this.$ssrContext.lang=this.$lang,this.$ssrContext.pageMeta=(n=e)?n.map((function(e){var n="<meta";return Object.keys(e).forEach((function(t){n+=" ".concat(t,'="').concat(e[t],'"')})),n+">"})).join("\n    "):"",this.$ssrContext.canonicalLink=rn(this.$canonicalUrl)}var n},mounted:function(){this.currentMetaTags=Object(Ye.a)(document.querySelectorAll("meta")),this.updateMeta(),this.updateCanonicalLink()},methods:{updateMeta:function(){document.title=this.$title,document.documentElement.lang=this.$lang;var e=this.getMergedMetaTags();this.currentMetaTags=on(e,this.currentMetaTags)},getMergedMetaTags:function(){var e=this.$page.frontmatter.meta||[];return en()([{name:"description",content:this.$description}],e,this.siteMeta,an)},updateCanonicalLink:function(){tn(),this.$canonicalUrl&&document.head.insertAdjacentHTML("beforeend",rn(this.$canonicalUrl))}},watch:{$page:function(){this.updateMeta(),this.updateCanonicalLink()}},beforeDestroy:function(){on(null,this.currentMetaTags),tn()}};function tn(){var e=document.querySelector("link[rel='canonical']");e&&e.remove()}function rn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?'<link href="'.concat(e,'" rel="canonical" />'):""}function on(e,n){if(n&&Object(Ye.a)(n).filter((function(e){return e.parentNode===document.head})).forEach((function(e){return document.head.removeChild(e)})),e)return e.map((function(e){var n=document.createElement("meta");return Object.keys(e).forEach((function(t){n.setAttribute(t,e[t])})),document.head.appendChild(n),n}))}function an(e){for(var n=0,t=["name","property","itemprop"];n<t.length;n++){var r=t[n];if(e.hasOwnProperty(r))return e[r]+r}return JSON.stringify(e)}t(34),t(364);var sn=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},cn=function(e){return"IMG"===e.tagName},un=function(e){return e&&1===e.nodeType},ln=function(e){return".svg"===(e.currentSrc||e.src).substr(-4).toLowerCase()},pn=function(e){try{return Array.isArray(e)?e.filter(cn):function(e){return NodeList.prototype.isPrototypeOf(e)}(e)?[].slice.call(e).filter(cn):un(e)?[e].filter(cn):"string"==typeof e?[].slice.call(document.querySelectorAll(e)).filter(cn):[]}catch(e){throw new TypeError("The provided selector is invalid.\nExpects a CSS selector, a Node element, a NodeList or an array.\nSee: https://github.com/francoischalifour/medium-zoom")}},dn=function(e){var n=document.createElement("div");return n.classList.add("medium-zoom-overlay"),n.style.background=e,n},fn=function(e){var n=e.getBoundingClientRect(),t=n.top,r=n.left,o=n.width,i=n.height,a=e.cloneNode(),s=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,c=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return a.removeAttribute("id"),a.style.position="absolute",a.style.top=t+s+"px",a.style.left=r+c+"px",a.style.width=o+"px",a.style.height=i+"px",a.style.transform="",a},hn=function(e,n){var t=sn({bubbles:!1,cancelable:!1,detail:void 0},n);if("function"==typeof window.CustomEvent)return new CustomEvent(e,t);var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),r};!function(e,n){void 0===n&&(n={});var t=n.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===t&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}(".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}");var mn,vn=function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=window.Promise||function(e){function n(){}e(n,n)},o=function(e){var n=e.target;n!==k?-1!==b.indexOf(n)&&m({target:n}):h()},i=function(){if(!E&&A.original){var e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(_-e)>x.scrollOffset&&setTimeout(h,150)}},a=function(e){var n=e.key||e.keyCode;"Escape"!==n&&"Esc"!==n&&27!==n||h()},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e;if(e.background&&(k.style.background=e.background),e.container&&e.container instanceof Object&&(n.container=sn({},x.container,e.container)),e.template){var t=un(e.template)?e.template:document.querySelector(e.template);n.template=t}return x=sn({},x,n),b.forEach((function(e){e.dispatchEvent(hn("medium-zoom:update",{detail:{zoom:C}}))})),C},c=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e(sn({},x,n))},u=function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];var r=n.reduce((function(e,n){return[].concat(e,pn(n))}),[]);return r.filter((function(e){return-1===b.indexOf(e)})).forEach((function(e){b.push(e),e.classList.add("medium-zoom-image")})),w.forEach((function(e){var n=e.type,t=e.listener,o=e.options;r.forEach((function(e){e.addEventListener(n,t,o)}))})),C},l=function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];A.zoomed&&h();var r=n.length>0?n.reduce((function(e,n){return[].concat(e,pn(n))}),[]):b;return r.forEach((function(e){e.classList.remove("medium-zoom-image"),e.dispatchEvent(hn("medium-zoom:detach",{detail:{zoom:C}}))})),b=b.filter((function(e){return-1===r.indexOf(e)})),C},p=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return b.forEach((function(r){r.addEventListener("medium-zoom:"+e,n,t)})),w.push({type:"medium-zoom:"+e,listener:n,options:t}),C},d=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return b.forEach((function(r){r.removeEventListener("medium-zoom:"+e,n,t)})),w=w.filter((function(t){return!(t.type==="medium-zoom:"+e&&t.listener.toString()===n.toString())})),C},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.target,t=function(){var e={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},n=void 0,t=void 0;if(x.container)if(x.container instanceof Object)n=(e=sn({},e,x.container)).width-e.left-e.right-2*x.margin,t=e.height-e.top-e.bottom-2*x.margin;else{var r=(un(x.container)?x.container:document.querySelector(x.container)).getBoundingClientRect(),o=r.width,i=r.height,a=r.left,s=r.top;e=sn({},e,{width:o,height:i,left:a,top:s})}n=n||e.width-2*x.margin,t=t||e.height-2*x.margin;var c=A.zoomedHd||A.original,u=ln(c)?n:c.naturalWidth||n,l=ln(c)?t:c.naturalHeight||t,p=c.getBoundingClientRect(),d=p.top,f=p.left,h=p.width,m=p.height,v=Math.min(u,n)/h,g=Math.min(l,t)/m,y=Math.min(v,g),b="scale("+y+") translate3d("+((n-h)/2-f+x.margin+e.left)/y+"px, "+((t-m)/2-d+x.margin+e.top)/y+"px, 0)";A.zoomed.style.transform=b,A.zoomedHd&&(A.zoomedHd.style.transform=b)};return new r((function(e){if(n&&-1===b.indexOf(n))e(C);else{if(A.zoomed)e(C);else{if(n)A.original=n;else{if(!(b.length>0))return void e(C);var r=b;A.original=r[0]}if(A.original.dispatchEvent(hn("medium-zoom:open",{detail:{zoom:C}})),_=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,E=!0,A.zoomed=fn(A.original),document.body.appendChild(k),x.template){var o=un(x.template)?x.template:document.querySelector(x.template);A.template=document.createElement("div"),A.template.appendChild(o.content.cloneNode(!0)),document.body.appendChild(A.template)}if(document.body.appendChild(A.zoomed),window.requestAnimationFrame((function(){document.body.classList.add("medium-zoom--opened")})),A.original.classList.add("medium-zoom-image--hidden"),A.zoomed.classList.add("medium-zoom-image--opened"),A.zoomed.addEventListener("click",h),A.zoomed.addEventListener("transitionend",(function n(){E=!1,A.zoomed.removeEventListener("transitionend",n),A.original.dispatchEvent(hn("medium-zoom:opened",{detail:{zoom:C}})),e(C)})),A.original.getAttribute("data-zoom-src")){A.zoomedHd=A.zoomed.cloneNode(),A.zoomedHd.removeAttribute("srcset"),A.zoomedHd.removeAttribute("sizes"),A.zoomedHd.src=A.zoomed.getAttribute("data-zoom-src"),A.zoomedHd.onerror=function(){clearInterval(i),console.warn("Unable to reach the zoom image target "+A.zoomedHd.src),A.zoomedHd=null,t()};var i=setInterval((function(){A.zoomedHd.complete&&(clearInterval(i),A.zoomedHd.classList.add("medium-zoom-image--opened"),A.zoomedHd.addEventListener("click",h),document.body.appendChild(A.zoomedHd),t())}),10)}else if(A.original.hasAttribute("srcset")){A.zoomedHd=A.zoomed.cloneNode(),A.zoomedHd.removeAttribute("sizes"),A.zoomedHd.removeAttribute("loading");var a=A.zoomedHd.addEventListener("load",(function(){A.zoomedHd.removeEventListener("load",a),A.zoomedHd.classList.add("medium-zoom-image--opened"),A.zoomedHd.addEventListener("click",h),document.body.appendChild(A.zoomedHd),t()}))}else t()}}}))},h=function(){return new r((function(e){if(!E&&A.original){E=!0,document.body.classList.remove("medium-zoom--opened"),A.zoomed.style.transform="",A.zoomedHd&&(A.zoomedHd.style.transform=""),A.template&&(A.template.style.transition="opacity 150ms",A.template.style.opacity=0),A.original.dispatchEvent(hn("medium-zoom:close",{detail:{zoom:C}})),A.zoomed.addEventListener("transitionend",(function n(){A.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(A.zoomed),A.zoomedHd&&document.body.removeChild(A.zoomedHd),document.body.removeChild(k),A.zoomed.classList.remove("medium-zoom-image--opened"),A.template&&document.body.removeChild(A.template),E=!1,A.zoomed.removeEventListener("transitionend",n),A.original.dispatchEvent(hn("medium-zoom:closed",{detail:{zoom:C}})),A.original=null,A.zoomed=null,A.zoomedHd=null,A.template=null,e(C)}))}else e(C)}))},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.target;return A.original?h():f({target:n})},v=function(){return x},g=function(){return b},y=function(){return A.original},b=[],w=[],E=!1,_=0,x=t,A={original:null,zoomed:null,zoomedHd:null,template:null};"[object Object]"===Object.prototype.toString.call(n)?x=n:(n||"string"==typeof n)&&u(n),x=sn({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},x);var k=dn(x.background);document.addEventListener("click",o),document.addEventListener("keyup",a),document.addEventListener("scroll",i),window.addEventListener("resize",h);var C={open:f,close:h,toggle:m,update:s,clone:c,attach:u,detach:l,on:p,off:d,getOptions:v,getImages:g,getZoomedImage:y};return C},gn={data:function(){return{zoom:null}},mounted:function(){this.updateZoom()},updated:function(){this.updateZoom()},methods:{updateZoom:function(){var e=this;setTimeout((function(){e.zoom&&e.zoom.detach(),e.zoom=vn(".theme-reco-content :not(a) > img",{})}),1e3)}}},yn=(t(98),t(94)),bn=t.n(yn),wn={mounted:function(){var e=this;bn.a.configure({showSpinner:!1}),this.$router.beforeEach((function(e,n,t){e.path===n.path||o.a.component(e.name)||bn.a.start(),t()})),this.$router.afterEach((function(){bn.a.done(),e.isSidebarOpen=!1}))}},En=(t(95),t(33),t(41),t(226)),_n={mounted:function(){window.addEventListener("scroll",this.onScroll)},methods:{onScroll:t.n(En)()((function(){this.setActiveHash()}),300),setActiveHash:function(){for(var e=this,n=[].slice.call(document.querySelectorAll(".sidebar-link")),t=[].slice.call(document.querySelectorAll(".header-anchor")).filter((function(e){return n.some((function(n){return n.hash===e.hash}))})),r=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop),o=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),i=window.innerHeight+r,a=0;a<t.length;a++){var s=t[a],c=t[a+1],u=0===a&&0===r||r>=s.parentElement.offsetTop+10&&(!c||r<c.parentElement.offsetTop-10),l=decodeURIComponent(this.$route.hash);if(u&&l!==decodeURIComponent(s.hash)){var p=s;if(i===o)for(var d=a+1;d<t.length;d++)if(l===decodeURIComponent(t[d].hash))return;return this.$vuepress.$set("disableScrollBehavior",!0),void this.$router.replace(decodeURIComponent(p.hash),(function(){e.$nextTick((function(){e.$vuepress.$set("disableScrollBehavior",!1)}))}))}}}},beforeDestroy:function(){window.removeEventListener("scroll",this.onScroll)}},xn=(t(116),t(227)),An=t.n(xn);var kn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new Promise((function(n,t){mn||((mn=document.createElement("div")).style.display="none",document.body.appendChild(mn));var r=new An.a(mn,{text:function(){return e}}),o=new Event("click");r.on("success",(function(){n(e),r.destroy()})),r.on("error",(function(e){t(e.action),r.destroy()})),mn.dispatchEvent(o)}))},Cn={props:{copyText:String,code:String},methods:{copyClick:function(){var e=function(e){0};this.$message({time:3e3,content:"复制成功!",title:"Tips"}),kn(this.code).then((function(n){return e})).catch(e)}}},On=(t(365),t(366),t(6)),Sn=Object(On.a)(Cn,(function(){var e=this.$createElement,n=this._self._c||e;return n("span",[n("span",{ref:"btn",staticClass:"v-copy-code-btn",on:{click:this.copyClick}},[this._v(this._s(this.copyText))])])}),[],!1,null,"a4cb51ca",null).exports,Bn=[nn,gn,wn,_n,{updated:function(){var e=this;setTimeout((function(){e.$copyUpdates()}),0)},methods:{$copyUpdates:function(){Array.from(document.querySelectorAll('div[class*="language-"] pre')).forEach((function(e){var n=e;if(!/v-copy/.test(n.className)){var t=new(o.a.extend(Sn));t.copyText="Copy",t.code=n.textContent,t.$mount(),n.className+=" v-copy",n.parentElement.appendChild(t.$el)}}))}}}],jn={name:"GlobalLayout",computed:{layout:function(){var e=this.getLayout();return Object(Qe.i)("layout",e),o.a.component(e)}},methods:{getLayout:function(){if(this.$page.path){var e=this.$page.frontmatter.layout;return e&&(this.$vuepress.getLayoutAsyncComponent(e)||this.$vuepress.getVueComponent(e))?e:"Layout"}return"NotFound"}}},Tn=Object(On.a)(jn,(function(){var e=this.$createElement;return(this._self._c||e)(this.layout,{tag:"component"})}),[],!1,null,null,null).exports;Object(Qe.g)(Tn,"mixins",Bn);var Dn=[{name:"v-6319eb4e",path:"/timeline/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("TimeLines","v-6319eb4e").then(t)},meta:{pid:"timeline",id:"timeline"}},{path:"/timeline/index.html",redirect:"/timeline/"},{name:"v-3ba3c14b",path:"/views/Deno/2020/%E3%80%90Deno%E3%80%91%E5%88%9D%E8%AF%86Deno.html",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Layout","v-3ba3c14b").then(t)}},{path:"/views/Deno/2020/【Deno】初识Deno.html",redirect:"/views/Deno/2020/%E3%80%90Deno%E3%80%91%E5%88%9D%E8%AF%86Deno.html"},{path:"/views/Deno/2020/【Deno】初识Deno.html",redirect:"/views/Deno/2020/%E3%80%90Deno%E3%80%91%E5%88%9D%E8%AF%86Deno.html"},{name:"v-8a51e478",path:"/views/Docker/2019/Docker%20%E4%BB%93%E5%BA%93.html",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Layout","v-8a51e478").then(t)}},{path:"/views/Docker/2019/Docker 仓库.html",redirect:"/views/Docker/2019/Docker%20%E4%BB%93%E5%BA%93.html"},{path:"/views/Docker/2019/Docker 仓库.html",redirect:"/views/Docker/2019/Docker%20%E4%BB%93%E5%BA%93.html"},{name:"v-0dd25412",path:"/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Layout","v-0dd25412").then(t)}},{path:"/index.html",redirect:"/"},{name:"v-6d0101e4",path:"/views/Docker/2019/%E4%BD%BF%E7%94%A8%20Dockerfile%20%E5%88%B6%E4%BD%9C%E9%95%9C%E5%83%8F.html",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Layout","v-6d0101e4").then(t)}},{path:"/views/Docker/2019/使用 Dockerfile 制作镜像.html",redirect:"/views/Docker/2019/%E4%BD%BF%E7%94%A8%20Dockerfile%20%E5%88%B6%E4%BD%9C%E9%95%9C%E5%83%8F.html"},{path:"/views/Docker/2019/使用 Dockerfile 制作镜像.html",redirect:"/views/Docker/2019/%E4%BD%BF%E7%94%A8%20Dockerfile%20%E5%88%B6%E4%BD%9C%E9%95%9C%E5%83%8F.html"},{name:"v-5ccf3384",path:"/views/Docker/2019/%E4%BD%BF%E7%94%A8%20Nexus%20%E5%88%9B%E5%BB%BA%20Docker%20%E4%BB%93%E5%BA%93.html",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Layout","v-5ccf3384").then(t)}},{path:"/views/Docker/2019/使用 Nexus 创建 Docker 仓库.html",redirect:"/views/Docker/2019/%E4%BD%BF%E7%94%A8%20Nexus%20%E5%88%9B%E5%BB%BA%20Docker%20%E4%BB%93%E5%BA%93.html"},{path:"/views/Docker/2019/使用 Nexus 创建 Docker 仓库.html",redirect:"/views/Docker/2019/%E4%BD%BF%E7%94%A8%20Nexus%20%E5%88%9B%E5%BB%BA%20Docker%20%E4%BB%93%E5%BA%93.html"},{name:"v-3530d46e",path:"/views/Docker/2019/%E5%88%9D%E8%AF%86%20Docker.html",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Layout","v-3530d46e").then(t)}},{path:"/views/Docker/2019/初识 Docker.html",redirect:"/views/Docker/2019/%E5%88%9D%E8%AF%86%20Docker.html"},{path:"/views/Docker/2019/初识 Docker.html",redirect:"/views/Docker/2019/%E5%88%9D%E8%AF%86%20Docker.html"},{name:"v-523b5356",path:"/views/Nginx/2018/Nginx%20%E9%85%8D%E7%BD%AE.html",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Layout","v-523b5356").then(t)}},{path:"/views/Nginx/2018/Nginx 配置.html",redirect:"/views/Nginx/2018/Nginx%20%E9%85%8D%E7%BD%AE.html"},{path:"/views/Nginx/2018/Nginx 配置.html",redirect:"/views/Nginx/2018/Nginx%20%E9%85%8D%E7%BD%AE.html"},{name:"v-4a462752",path:"/views/Python/2019/Python%E5%AE%9E%E7%8E%B0%E5%A4%B4%E6%9D%A1%E8%87%AA%E5%8A%A8%E5%8F%91%E6%96%87%E7%AB%A0%EF%BC%8C%E8%B5%9A%E7%82%B9%E5%B9%BF%E5%91%8A%E8%B4%B9.html",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Layout","v-4a462752").then(t)}},{path:"/views/Python/2019/Python实现头条自动发文章，赚点广告费.html",redirect:"/views/Python/2019/Python%E5%AE%9E%E7%8E%B0%E5%A4%B4%E6%9D%A1%E8%87%AA%E5%8A%A8%E5%8F%91%E6%96%87%E7%AB%A0%EF%BC%8C%E8%B5%9A%E7%82%B9%E5%B9%BF%E5%91%8A%E8%B4%B9.html"},{path:"/views/Python/2019/Python实现头条自动发文章，赚点广告费.html",redirect:"/views/Python/2019/Python%E5%AE%9E%E7%8E%B0%E5%A4%B4%E6%9D%A1%E8%87%AA%E5%8A%A8%E5%8F%91%E6%96%87%E7%AB%A0%EF%BC%8C%E8%B5%9A%E7%82%B9%E5%B9%BF%E5%91%8A%E8%B4%B9.html"},{name:"v-2ef205fb",path:"/views/Python/2019/%E8%A3%85%E9%A5%B0%E5%99%A8%E8%AF%A6%E8%A7%A3.html",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Layout","v-2ef205fb").then(t)}},{path:"/views/Python/2019/装饰器详解.html",redirect:"/views/Python/2019/%E8%A3%85%E9%A5%B0%E5%99%A8%E8%AF%A6%E8%A7%A3.html"},{path:"/views/Python/2019/装饰器详解.html",redirect:"/views/Python/2019/%E8%A3%85%E9%A5%B0%E5%99%A8%E8%AF%A6%E8%A7%A3.html"},{name:"v-deaeb36e",path:"/views/about.html",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Layout","v-deaeb36e").then(t)}},{name:"v-8840e594",path:"/views/%E5%89%8D%E7%AB%AF/2017/%E8%85%BE%E8%AE%AF%E5%9C%B0%E5%9B%BE%E5%AE%9E%E7%8E%B0%E5%9C%B0%E5%9B%BE%E6%89%BE%E6%88%BF%E5%8A%9F%E8%83%BD.html",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Layout","v-8840e594").then(t)}},{path:"/views/前端/2017/腾讯地图实现地图找房功能.html",redirect:"/views/%E5%89%8D%E7%AB%AF/2017/%E8%85%BE%E8%AE%AF%E5%9C%B0%E5%9B%BE%E5%AE%9E%E7%8E%B0%E5%9C%B0%E5%9B%BE%E6%89%BE%E6%88%BF%E5%8A%9F%E8%83%BD.html"},{path:"/views/前端/2017/腾讯地图实现地图找房功能.html",redirect:"/views/%E5%89%8D%E7%AB%AF/2017/%E8%85%BE%E8%AE%AF%E5%9C%B0%E5%9B%BE%E5%AE%9E%E7%8E%B0%E5%9C%B0%E5%9B%BE%E6%89%BE%E6%88%BF%E5%8A%9F%E8%83%BD.html"},{name:"v-74d83086",path:"/views/%E5%89%8D%E7%AB%AF/2018/Nuxt%20%E5%AE%9E%E8%B7%B5.html",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Layout","v-74d83086").then(t)}},{path:"/views/前端/2018/Nuxt 实践.html",redirect:"/views/%E5%89%8D%E7%AB%AF/2018/Nuxt%20%E5%AE%9E%E8%B7%B5.html"},{path:"/views/前端/2018/Nuxt 实践.html",redirect:"/views/%E5%89%8D%E7%AB%AF/2018/Nuxt%20%E5%AE%9E%E8%B7%B5.html"},{name:"v-b7202dc4",path:"/views/%E5%89%8D%E7%AB%AF/2018/Vue%20%E5%BE%AE%E4%BF%A1%E8%87%AA%E5%AE%9A%E4%B9%89%E5%88%86%E4%BA%AB%E6%80%BB%E7%BB%93.html",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Layout","v-b7202dc4").then(t)}},{path:"/views/前端/2018/Vue 微信自定义分享总结.html",redirect:"/views/%E5%89%8D%E7%AB%AF/2018/Vue%20%E5%BE%AE%E4%BF%A1%E8%87%AA%E5%AE%9A%E4%B9%89%E5%88%86%E4%BA%AB%E6%80%BB%E7%BB%93.html"},{path:"/views/前端/2018/Vue 微信自定义分享总结.html",redirect:"/views/%E5%89%8D%E7%AB%AF/2018/Vue%20%E5%BE%AE%E4%BF%A1%E8%87%AA%E5%AE%9A%E4%B9%89%E5%88%86%E4%BA%AB%E6%80%BB%E7%BB%93.html"},{name:"v-5173ead6",path:"/views/%E5%89%8D%E7%AB%AF/2018/%E8%AE%B0%20Nuxt%20%E5%BC%80%E5%8F%91%E9%81%87%E5%88%B0%20OOM.html",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Layout","v-5173ead6").then(t)}},{path:"/views/前端/2018/记 Nuxt 开发遇到 OOM.html",redirect:"/views/%E5%89%8D%E7%AB%AF/2018/%E8%AE%B0%20Nuxt%20%E5%BC%80%E5%8F%91%E9%81%87%E5%88%B0%20OOM.html"},{path:"/views/前端/2018/记 Nuxt 开发遇到 OOM.html",redirect:"/views/%E5%89%8D%E7%AB%AF/2018/%E8%AE%B0%20Nuxt%20%E5%BC%80%E5%8F%91%E9%81%87%E5%88%B0%20OOM.html"},{name:"v-1883794a",path:"/views/%E5%89%8D%E7%AB%AF/2019/10%20%E5%88%86%E9%92%9F%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%8D%20NPM.html",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Layout","v-1883794a").then(t)}},{path:"/views/前端/2019/10 分钟搭建私服 NPM.html",redirect:"/views/%E5%89%8D%E7%AB%AF/2019/10%20%E5%88%86%E9%92%9F%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%8D%20NPM.html"},{path:"/views/前端/2019/10 分钟搭建私服 NPM.html",redirect:"/views/%E5%89%8D%E7%AB%AF/2019/10%20%E5%88%86%E9%92%9F%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%8D%20NPM.html"},{name:"v-17869ba0",path:"/views/%E5%89%8D%E7%AB%AF/2020/%E3%80%90%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB%E3%80%91%E9%80%9A%E8%BF%87%E5%88%86%E6%9E%90%20Vue%20computed%20%E7%9A%84%E5%AE%9E%E7%8E%B0%EF%BC%8C%E5%B1%85%E7%84%B6%E5%8F%91%E7%8E%B0%E9%9A%90%E8%97%8F%E7%9A%84%E5%B0%8F%E5%BD%A9%E8%9B%8B.html",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Layout","v-17869ba0").then(t)}},{path:"/views/前端/2020/【源码解读】通过分析 Vue computed 的实现，居然发现隐藏的小彩蛋.html",redirect:"/views/%E5%89%8D%E7%AB%AF/2020/%E3%80%90%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB%E3%80%91%E9%80%9A%E8%BF%87%E5%88%86%E6%9E%90%20Vue%20computed%20%E7%9A%84%E5%AE%9E%E7%8E%B0%EF%BC%8C%E5%B1%85%E7%84%B6%E5%8F%91%E7%8E%B0%E9%9A%90%E8%97%8F%E7%9A%84%E5%B0%8F%E5%BD%A9%E8%9B%8B.html"},{path:"/views/前端/2020/【源码解读】通过分析 Vue computed 的实现，居然发现隐藏的小彩蛋.html",redirect:"/views/%E5%89%8D%E7%AB%AF/2020/%E3%80%90%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB%E3%80%91%E9%80%9A%E8%BF%87%E5%88%86%E6%9E%90%20Vue%20computed%20%E7%9A%84%E5%AE%9E%E7%8E%B0%EF%BC%8C%E5%B1%85%E7%84%B6%E5%8F%91%E7%8E%B0%E9%9A%90%E8%97%8F%E7%9A%84%E5%B0%8F%E5%BD%A9%E8%9B%8B.html"},{name:"v-358226fc",path:"/views/%E5%89%8D%E7%AB%AF/2020/%E3%80%90%E9%9D%A2%E8%AF%95%E9%A2%98%E8%A7%A3%E6%9E%90%E2%9C%A8%E3%80%91Vue%20%E7%9A%84%E6%95%B0%E6%8D%AE%E6%98%AF%E5%A6%82%E4%BD%95%E6%B8%B2%E6%9F%93%E5%88%B0%E9%A1%B5%E9%9D%A2%E7%9A%84%EF%BC%9F.html",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Layout","v-358226fc").then(t)}},{path:"/views/前端/2020/【面试题解析✨】Vue 的数据是如何渲染到页面的？.html",redirect:"/views/%E5%89%8D%E7%AB%AF/2020/%E3%80%90%E9%9D%A2%E8%AF%95%E9%A2%98%E8%A7%A3%E6%9E%90%E2%9C%A8%E3%80%91Vue%20%E7%9A%84%E6%95%B0%E6%8D%AE%E6%98%AF%E5%A6%82%E4%BD%95%E6%B8%B2%E6%9F%93%E5%88%B0%E9%A1%B5%E9%9D%A2%E7%9A%84%EF%BC%9F.html"},{path:"/views/前端/2020/【面试题解析✨】Vue 的数据是如何渲染到页面的？.html",redirect:"/views/%E5%89%8D%E7%AB%AF/2020/%E3%80%90%E9%9D%A2%E8%AF%95%E9%A2%98%E8%A7%A3%E6%9E%90%E2%9C%A8%E3%80%91Vue%20%E7%9A%84%E6%95%B0%E6%8D%AE%E6%98%AF%E5%A6%82%E4%BD%95%E6%B8%B2%E6%9F%93%E5%88%B0%E9%A1%B5%E9%9D%A2%E7%9A%84%EF%BC%9F.html"},{name:"v-f62f16ea",path:"/views/%E5%89%8D%E7%AB%AF/2020/%E3%80%90%E9%9D%A2%E8%AF%95%E9%A2%98%E8%A7%A3%E6%9E%90%E3%80%91%E4%BB%8E%20Vue%20%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%20key%20%E7%9A%84%E4%BD%9C%E7%94%A8.html",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Layout","v-f62f16ea").then(t)}},{path:"/views/前端/2020/【面试题解析】从 Vue 源码分析 key 的作用.html",redirect:"/views/%E5%89%8D%E7%AB%AF/2020/%E3%80%90%E9%9D%A2%E8%AF%95%E9%A2%98%E8%A7%A3%E6%9E%90%E3%80%91%E4%BB%8E%20Vue%20%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%20key%20%E7%9A%84%E4%BD%9C%E7%94%A8.html"},{path:"/views/前端/2020/【面试题解析】从 Vue 源码分析 key 的作用.html",redirect:"/views/%E5%89%8D%E7%AB%AF/2020/%E3%80%90%E9%9D%A2%E8%AF%95%E9%A2%98%E8%A7%A3%E6%9E%90%E3%80%91%E4%BB%8E%20Vue%20%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%20key%20%E7%9A%84%E4%BD%9C%E7%94%A8.html"},{name:"v-288515c3",path:"/views/%E5%89%8D%E7%AB%AF/2020/%E3%80%90%E9%9D%A2%E8%AF%95%E9%A2%98%E8%A7%A3%E6%9E%90%E3%80%91%E6%89%8B%E5%8A%A8%E5%AE%9E%E7%8E%B0%20Promise.html",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Layout","v-288515c3").then(t)}},{path:"/views/前端/2020/【面试题解析】手动实现 Promise.html",redirect:"/views/%E5%89%8D%E7%AB%AF/2020/%E3%80%90%E9%9D%A2%E8%AF%95%E9%A2%98%E8%A7%A3%E6%9E%90%E3%80%91%E6%89%8B%E5%8A%A8%E5%AE%9E%E7%8E%B0%20Promise.html"},{path:"/views/前端/2020/【面试题解析】手动实现 Promise.html",redirect:"/views/%E5%89%8D%E7%AB%AF/2020/%E3%80%90%E9%9D%A2%E8%AF%95%E9%A2%98%E8%A7%A3%E6%9E%90%E3%80%91%E6%89%8B%E5%8A%A8%E5%AE%9E%E7%8E%B0%20Promise.html"},{name:"v-d5e5f2f4",path:"/views/%E5%89%8D%E7%AB%AF/2020/%E5%BC%80%E6%BA%90%E4%BA%86%E4%B8%80%E4%B8%AA%E5%9B%BE%E8%A1%A8%E5%BA%93lw-chart.html",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Layout","v-d5e5f2f4").then(t)}},{path:"/views/前端/2020/开源了一个图表库lw-chart.html",redirect:"/views/%E5%89%8D%E7%AB%AF/2020/%E5%BC%80%E6%BA%90%E4%BA%86%E4%B8%80%E4%B8%AA%E5%9B%BE%E8%A1%A8%E5%BA%93lw-chart.html"},{path:"/views/前端/2020/开源了一个图表库lw-chart.html",redirect:"/views/%E5%89%8D%E7%AB%AF/2020/%E5%BC%80%E6%BA%90%E4%BA%86%E4%B8%80%E4%B8%AA%E5%9B%BE%E8%A1%A8%E5%BA%93lw-chart.html"},{name:"v-0072bc1a",path:"/views/%E5%89%8D%E7%AB%AF/2020/%E9%80%9A%E5%AE%B5%E5%86%99%E4%BA%86%E4%B8%AA%20Chrome%20%E6%8F%92%E4%BB%B6.html",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Layout","v-0072bc1a").then(t)}},{path:"/views/前端/2020/通宵写了个 Chrome 插件.html",redirect:"/views/%E5%89%8D%E7%AB%AF/2020/%E9%80%9A%E5%AE%B5%E5%86%99%E4%BA%86%E4%B8%AA%20Chrome%20%E6%8F%92%E4%BB%B6.html"},{path:"/views/前端/2020/通宵写了个 Chrome 插件.html",redirect:"/views/%E5%89%8D%E7%AB%AF/2020/%E9%80%9A%E5%AE%B5%E5%86%99%E4%BA%86%E4%B8%AA%20Chrome%20%E6%8F%92%E4%BB%B6.html"},{name:"v-5bfe3b3e",path:"/views/%E5%89%8D%E7%AB%AF/2020/%E9%80%9A%E8%BF%87%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%BA%91%E5%BC%80%E5%8F%91%E4%BA%86%E8%A7%A3Serverless.html",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Layout","v-5bfe3b3e").then(t)}},{path:"/views/前端/2020/通过小程序云开发了解Serverless.html",redirect:"/views/%E5%89%8D%E7%AB%AF/2020/%E9%80%9A%E8%BF%87%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%BA%91%E5%BC%80%E5%8F%91%E4%BA%86%E8%A7%A3Serverless.html"},{path:"/views/前端/2020/通过小程序云开发了解Serverless.html",redirect:"/views/%E5%89%8D%E7%AB%AF/2020/%E9%80%9A%E8%BF%87%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%BA%91%E5%BC%80%E5%8F%91%E4%BA%86%E8%A7%A3Serverless.html"},{name:"v-d72c9f84",path:"/views/%E5%89%8D%E7%AB%AF/2021/%E6%8A%80%E6%9C%AF%E4%BA%BA%E7%8E%A9%E5%B0%8F%E6%B8%B8%E6%88%8F%EF%BC%8C%E5%A6%82%E4%BD%95%E2%80%9C%E4%B8%8D%E6%88%98%E8%80%8C%E8%83%9C%E2%80%9D.html",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Layout","v-d72c9f84").then(t)}},{path:"/views/前端/2021/技术人玩小游戏，如何“不战而胜”.html",redirect:"/views/%E5%89%8D%E7%AB%AF/2021/%E6%8A%80%E6%9C%AF%E4%BA%BA%E7%8E%A9%E5%B0%8F%E6%B8%B8%E6%88%8F%EF%BC%8C%E5%A6%82%E4%BD%95%E2%80%9C%E4%B8%8D%E6%88%98%E8%80%8C%E8%83%9C%E2%80%9D.html"},{path:"/views/前端/2021/技术人玩小游戏，如何“不战而胜”.html",redirect:"/views/%E5%89%8D%E7%AB%AF/2021/%E6%8A%80%E6%9C%AF%E4%BA%BA%E7%8E%A9%E5%B0%8F%E6%B8%B8%E6%88%8F%EF%BC%8C%E5%A6%82%E4%BD%95%E2%80%9C%E4%B8%8D%E6%88%98%E8%80%8C%E8%83%9C%E2%80%9D.html"},{name:"v-54cddafe",path:"/views/%E5%B7%A5%E5%85%B7/2019/%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%B7%A5%E5%85%B7.html",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Layout","v-54cddafe").then(t)}},{path:"/views/工具/2019/持续集成工具.html",redirect:"/views/%E5%B7%A5%E5%85%B7/2019/%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%B7%A5%E5%85%B7.html"},{path:"/views/工具/2019/持续集成工具.html",redirect:"/views/%E5%B7%A5%E5%85%B7/2019/%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%B7%A5%E5%85%B7.html"},{name:"v-d5699b42",path:"/views/%E9%9A%8F%E7%AC%94/2019/%E5%85%B3%E4%BA%8E%20IT%20%E5%9F%B9%E8%AE%AD.html",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Layout","v-d5699b42").then(t)}},{path:"/views/随笔/2019/关于 IT 培训.html",redirect:"/views/%E9%9A%8F%E7%AC%94/2019/%E5%85%B3%E4%BA%8E%20IT%20%E5%9F%B9%E8%AE%AD.html"},{path:"/views/随笔/2019/关于 IT 培训.html",redirect:"/views/%E9%9A%8F%E7%AC%94/2019/%E5%85%B3%E4%BA%8E%20IT%20%E5%9F%B9%E8%AE%AD.html"},{name:"v-39c39aa6",path:"/views/%E9%9A%8F%E7%AC%94/2019/%E5%AF%B9%E6%9C%AA%E6%9D%A5%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83.html",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Layout","v-39c39aa6").then(t)}},{path:"/views/随笔/2019/对未来的一些思考.html",redirect:"/views/%E9%9A%8F%E7%AC%94/2019/%E5%AF%B9%E6%9C%AA%E6%9D%A5%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83.html"},{path:"/views/随笔/2019/对未来的一些思考.html",redirect:"/views/%E9%9A%8F%E7%AC%94/2019/%E5%AF%B9%E6%9C%AA%E6%9D%A5%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83.html"},{name:"v-3620476a",path:"/views/%E9%9A%8F%E7%AC%94/2019/%E6%88%91%E6%98%AF%E5%A6%82%E4%BD%95%E9%9D%A2%E8%AF%95%E5%88%AB%E4%BA%BA%E7%9A%84.html",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Layout","v-3620476a").then(t)}},{path:"/views/随笔/2019/我是如何面试别人的.html",redirect:"/views/%E9%9A%8F%E7%AC%94/2019/%E6%88%91%E6%98%AF%E5%A6%82%E4%BD%95%E9%9D%A2%E8%AF%95%E5%88%AB%E4%BA%BA%E7%9A%84.html"},{path:"/views/随笔/2019/我是如何面试别人的.html",redirect:"/views/%E9%9A%8F%E7%AC%94/2019/%E6%88%91%E6%98%AF%E5%A6%82%E4%BD%95%E9%9D%A2%E8%AF%95%E5%88%AB%E4%BA%BA%E7%9A%84.html"},{name:"v-1e2524b3",path:"/views/%E5%89%8D%E7%AB%AF/2021/%E6%B7%B1%E5%85%A5%20Vue3%20%E6%BA%90%E7%A0%81%EF%BC%8C%E5%AD%A6%E4%B9%A0%E5%88%9D%E5%A7%8B%E5%8C%96%E6%B5%81%E7%A8%8B.html",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Layout","v-1e2524b3").then(t)}},{path:"/views/前端/2021/深入 Vue3 源码，学习初始化流程.html",redirect:"/views/%E5%89%8D%E7%AB%AF/2021/%E6%B7%B1%E5%85%A5%20Vue3%20%E6%BA%90%E7%A0%81%EF%BC%8C%E5%AD%A6%E4%B9%A0%E5%88%9D%E5%A7%8B%E5%8C%96%E6%B5%81%E7%A8%8B.html"},{path:"/views/前端/2021/深入 Vue3 源码，学习初始化流程.html",redirect:"/views/%E5%89%8D%E7%AB%AF/2021/%E6%B7%B1%E5%85%A5%20Vue3%20%E6%BA%90%E7%A0%81%EF%BC%8C%E5%AD%A6%E4%B9%A0%E5%88%9D%E5%A7%8B%E5%8C%96%E6%B5%81%E7%A8%8B.html"},{name:"v-18fd2e5b",path:"/views/%E9%9A%8F%E7%AC%94/2019/%E7%A8%8B%E5%BA%8F%E5%91%98%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%9F%B9%E5%85%BB%E7%AC%AC%E4%BA%8C%E6%8A%80%E8%83%BD.html",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Layout","v-18fd2e5b").then(t)}},{path:"/views/随笔/2019/程序员为什么要培养第二技能.html",redirect:"/views/%E9%9A%8F%E7%AC%94/2019/%E7%A8%8B%E5%BA%8F%E5%91%98%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%9F%B9%E5%85%BB%E7%AC%AC%E4%BA%8C%E6%8A%80%E8%83%BD.html"},{path:"/views/随笔/2019/程序员为什么要培养第二技能.html",redirect:"/views/%E9%9A%8F%E7%AC%94/2019/%E7%A8%8B%E5%BA%8F%E5%91%98%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%9F%B9%E5%85%BB%E7%AC%AC%E4%BA%8C%E6%8A%80%E8%83%BD.html"},{name:"v-9f984b4c",path:"/views/%E9%9A%8F%E7%AC%94/2020/%E5%A6%82%E4%BD%95%E5%A2%9E%E5%8A%A0%E6%94%B6%E5%85%A5%EF%BC%9F.html",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Layout","v-9f984b4c").then(t)}},{path:"/views/随笔/2020/如何增加收入？.html",redirect:"/views/%E9%9A%8F%E7%AC%94/2020/%E5%A6%82%E4%BD%95%E5%A2%9E%E5%8A%A0%E6%94%B6%E5%85%A5%EF%BC%9F.html"},{path:"/views/随笔/2020/如何增加收入？.html",redirect:"/views/%E9%9A%8F%E7%AC%94/2020/%E5%A6%82%E4%BD%95%E5%A2%9E%E5%8A%A0%E6%94%B6%E5%85%A5%EF%BC%9F.html"},{name:"v-21daaa6c",path:"/views/%E9%9A%8F%E7%AC%94/2021/%E6%88%91%E7%9A%84%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93%E4%BB%A5%E5%8F%8A%E6%96%B0%E5%B9%B4%E8%AE%A1%E5%88%92.html",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Layout","v-21daaa6c").then(t)}},{path:"/views/随笔/2021/我的年终总结以及新年计划.html",redirect:"/views/%E9%9A%8F%E7%AC%94/2021/%E6%88%91%E7%9A%84%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93%E4%BB%A5%E5%8F%8A%E6%96%B0%E5%B9%B4%E8%AE%A1%E5%88%92.html"},{path:"/views/随笔/2021/我的年终总结以及新年计划.html",redirect:"/views/%E9%9A%8F%E7%AC%94/2021/%E6%88%91%E7%9A%84%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93%E4%BB%A5%E5%8F%8A%E6%96%B0%E5%B9%B4%E8%AE%A1%E5%88%92.html"},{name:"v-de9e813e",path:"/views/%E5%89%8D%E7%AB%AF/2021/%E6%B7%B1%E5%85%A5%20Vue3%20%E6%BA%90%E7%A0%81%EF%BC%8C%E5%AD%A6%E4%B9%A0%E5%93%8D%E5%BA%94%E5%BC%8F%E5%8E%9F%E7%90%86.html",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Layout","v-de9e813e").then(t)}},{path:"/views/前端/2021/深入 Vue3 源码，学习响应式原理.html",redirect:"/views/%E5%89%8D%E7%AB%AF/2021/%E6%B7%B1%E5%85%A5%20Vue3%20%E6%BA%90%E7%A0%81%EF%BC%8C%E5%AD%A6%E4%B9%A0%E5%93%8D%E5%BA%94%E5%BC%8F%E5%8E%9F%E7%90%86.html"},{path:"/views/前端/2021/深入 Vue3 源码，学习响应式原理.html",redirect:"/views/%E5%89%8D%E7%AB%AF/2021/%E6%B7%B1%E5%85%A5%20Vue3%20%E6%BA%90%E7%A0%81%EF%BC%8C%E5%AD%A6%E4%B9%A0%E5%93%8D%E5%BA%94%E5%BC%8F%E5%8E%9F%E7%90%86.html"},{name:"v-78add9ad",path:"/views/%E9%9A%8F%E7%AC%94/2021/VuePress%20%E9%85%8D%E7%BD%AE%E5%85%AC%E4%BC%97%E5%8F%B7%E8%8E%B7%E5%8F%96%E9%AA%8C%E8%AF%81%E7%A0%81%E9%98%85%E8%AF%BB%E5%85%A8%E6%96%87%20-%20%E5%85%AC%E4%BC%97%E5%8F%B7%E5%BC%95%E6%B5%81%E6%8F%92%E4%BB%B6.html",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Layout","v-78add9ad").then(t)}},{path:"/views/随笔/2021/VuePress 配置公众号获取验证码阅读全文 - 公众号引流插件.html",redirect:"/views/%E9%9A%8F%E7%AC%94/2021/VuePress%20%E9%85%8D%E7%BD%AE%E5%85%AC%E4%BC%97%E5%8F%B7%E8%8E%B7%E5%8F%96%E9%AA%8C%E8%AF%81%E7%A0%81%E9%98%85%E8%AF%BB%E5%85%A8%E6%96%87%20-%20%E5%85%AC%E4%BC%97%E5%8F%B7%E5%BC%95%E6%B5%81%E6%8F%92%E4%BB%B6.html"},{path:"/views/随笔/2021/VuePress 配置公众号获取验证码阅读全文 - 公众号引流插件.html",redirect:"/views/%E9%9A%8F%E7%AC%94/2021/VuePress%20%E9%85%8D%E7%BD%AE%E5%85%AC%E4%BC%97%E5%8F%B7%E8%8E%B7%E5%8F%96%E9%AA%8C%E8%AF%81%E7%A0%81%E9%98%85%E8%AF%BB%E5%85%A8%E6%96%87%20-%20%E5%85%AC%E4%BC%97%E5%8F%B7%E5%BC%95%E6%B5%81%E6%8F%92%E4%BB%B6.html"},{name:"v-4ab872ee",path:"/views/%E9%9A%8F%E7%AC%94/2021/%E6%9C%8B%E5%8F%8B%E5%9C%88%E5%B0%8F%E9%9C%B8%E7%8E%8B%E6%B8%B8%E6%88%8F%E6%9C%BA%EF%BC%8C%E5%BF%AB%E6%9D%A5%E9%A2%86%E5%8F%96%E9%93%BE%E6%8E%A5%E5%92%8C%E6%BA%90%E7%A0%81%E6%89%BE%E5%9B%9E%E9%9D%92%E6%98%A5%E8%AE%B0%E5%BF%86.html",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Layout","v-4ab872ee").then(t)}},{path:"/views/随笔/2021/朋友圈小霸王游戏机，快来领取链接和源码找回青春记忆.html",redirect:"/views/%E9%9A%8F%E7%AC%94/2021/%E6%9C%8B%E5%8F%8B%E5%9C%88%E5%B0%8F%E9%9C%B8%E7%8E%8B%E6%B8%B8%E6%88%8F%E6%9C%BA%EF%BC%8C%E5%BF%AB%E6%9D%A5%E9%A2%86%E5%8F%96%E9%93%BE%E6%8E%A5%E5%92%8C%E6%BA%90%E7%A0%81%E6%89%BE%E5%9B%9E%E9%9D%92%E6%98%A5%E8%AE%B0%E5%BF%86.html"},{path:"/views/随笔/2021/朋友圈小霸王游戏机，快来领取链接和源码找回青春记忆.html",redirect:"/views/%E9%9A%8F%E7%AC%94/2021/%E6%9C%8B%E5%8F%8B%E5%9C%88%E5%B0%8F%E9%9C%B8%E7%8E%8B%E6%B8%B8%E6%88%8F%E6%9C%BA%EF%BC%8C%E5%BF%AB%E6%9D%A5%E9%A2%86%E5%8F%96%E9%93%BE%E6%8E%A5%E5%92%8C%E6%BA%90%E7%A0%81%E6%89%BE%E5%9B%9E%E9%9D%92%E6%98%A5%E8%AE%B0%E5%BF%86.html"},{name:"v-b1564aac",path:"/tag/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tags","v-b1564aac").then(t)},meta:{pid:"tags",id:"tags"}},{path:"/tag/index.html",redirect:"/tag/"},{name:"v-ef9325c4",path:"/categories/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("FrontmatterKey","v-ef9325c4").then(t)},meta:{pid:"categories",id:"categories"}},{path:"/categories/index.html",redirect:"/categories/"},{name:"v-68f607ec",path:"/tags/Deno/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-68f607ec").then(t)},meta:{pid:"tags",id:"Deno"}},{path:"/tags/Deno/index.html",redirect:"/tags/Deno/"},{name:"v-140837ce",path:"/tags/Docker/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-140837ce").then(t)},meta:{pid:"tags",id:"Docker"}},{path:"/tags/Docker/index.html",redirect:"/tags/Docker/"},{name:"v-34b7eb5c",path:"/tags/Dockerfile/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-34b7eb5c").then(t)},meta:{pid:"tags",id:"Dockerfile"}},{path:"/tags/Dockerfile/index.html",redirect:"/tags/Dockerfile/"},{name:"v-723fd31e",path:"/tags/Nexus/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-723fd31e").then(t)},meta:{pid:"tags",id:"Nexus"}},{path:"/tags/Nexus/index.html",redirect:"/tags/Nexus/"},{name:"v-72154b94",path:"/tags/Nginx/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-72154b94").then(t)},meta:{pid:"tags",id:"Nginx"}},{path:"/tags/Nginx/index.html",redirect:"/tags/Nginx/"},{name:"v-3a3ca238",path:"/tags/今日头条/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-3a3ca238").then(t)},meta:{pid:"tags",id:"今日头条"}},{path:"/tags/今日头条/index.html",redirect:"/tags/今日头条/"},{name:"v-2ef4eeb0",path:"/tags/selenium/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-2ef4eeb0").then(t)},meta:{pid:"tags",id:"selenium"}},{path:"/tags/selenium/index.html",redirect:"/tags/selenium/"},{name:"v-2062ecb1",path:"/tags/滑块验证码/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-2062ecb1").then(t)},meta:{pid:"tags",id:"滑块验证码"}},{path:"/tags/滑块验证码/index.html",redirect:"/tags/滑块验证码/"},{name:"v-01306f34",path:"/tags/装饰器/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-01306f34").then(t)},meta:{pid:"tags",id:"装饰器"}},{path:"/tags/装饰器/index.html",redirect:"/tags/装饰器/"},{name:"v-0f8f667b",path:"/tags/关于我/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-0f8f667b").then(t)},meta:{pid:"tags",id:"关于我"}},{path:"/tags/关于我/index.html",redirect:"/tags/关于我/"},{name:"v-6683f60a",path:"/tags/Vue/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-6683f60a").then(t)},meta:{pid:"tags",id:"Vue"}},{path:"/tags/Vue/index.html",redirect:"/tags/Vue/"},{name:"v-f61d6310",path:"/tags/地图/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-f61d6310").then(t)},meta:{pid:"tags",id:"地图"}},{path:"/tags/地图/index.html",redirect:"/tags/地图/"},{name:"v-698a5f0b",path:"/tags/Nuxt/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-698a5f0b").then(t)},meta:{pid:"tags",id:"Nuxt"}},{path:"/tags/Nuxt/index.html",redirect:"/tags/Nuxt/"},{name:"v-48276b04",path:"/tags/微信/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-48276b04").then(t)},meta:{pid:"tags",id:"微信"}},{path:"/tags/微信/index.html",redirect:"/tags/微信/"},{name:"v-667fc545",path:"/tags/NPM/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-667fc545").then(t)},meta:{pid:"tags",id:"NPM"}},{path:"/tags/NPM/index.html",redirect:"/tags/NPM/"},{name:"v-5c7a564a",path:"/tags/源码/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-5c7a564a").then(t)},meta:{pid:"tags",id:"源码"}},{path:"/tags/源码/index.html",redirect:"/tags/源码/"},{name:"v-68f7ba49",path:"/tags/Diff/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-68f7ba49").then(t)},meta:{pid:"tags",id:"Diff"}},{path:"/tags/Diff/index.html",redirect:"/tags/Diff/"},{name:"v-6c55000e",path:"/tags/面试题/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-6c55000e").then(t)},meta:{pid:"tags",id:"面试题"}},{path:"/tags/面试题/index.html",redirect:"/tags/面试题/"},{name:"v-02507ed6",path:"/tags/Promise/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-02507ed6").then(t)},meta:{pid:"tags",id:"Promise"}},{path:"/tags/Promise/index.html",redirect:"/tags/Promise/"},{name:"v-64a57fb6",path:"/tags/canvas/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-64a57fb6").then(t)},meta:{pid:"tags",id:"canvas"}},{path:"/tags/canvas/index.html",redirect:"/tags/canvas/"},{name:"v-66808cb2",path:"/tags/lw-chart/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-66808cb2").then(t)},meta:{pid:"tags",id:"lw-chart"}},{path:"/tags/lw-chart/index.html",redirect:"/tags/lw-chart/"},{name:"v-5bd4d7d4",path:"/tags/插件开发/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-5bd4d7d4").then(t)},meta:{pid:"tags",id:"插件开发"}},{path:"/tags/插件开发/index.html",redirect:"/tags/插件开发/"},{name:"v-3b2e5e92",path:"/tags/Serverless/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-3b2e5e92").then(t)},meta:{pid:"tags",id:"Serverless"}},{path:"/tags/Serverless/index.html",redirect:"/tags/Serverless/"},{name:"v-8bf328fe",path:"/tags/小程序/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-8bf328fe").then(t)},meta:{pid:"tags",id:"小程序"}},{path:"/tags/小程序/index.html",redirect:"/tags/小程序/"},{name:"v-d4092720",path:"/tags/云开发/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-d4092720").then(t)},meta:{pid:"tags",id:"云开发"}},{path:"/tags/云开发/index.html",redirect:"/tags/云开发/"},{name:"v-6774d888",path:"/tags/网站安全/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-6774d888").then(t)},meta:{pid:"tags",id:"网站安全"}},{path:"/tags/网站安全/index.html",redirect:"/tags/网站安全/"},{name:"v-2fcc8e4e",path:"/tags/抓包/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-2fcc8e4e").then(t)},meta:{pid:"tags",id:"抓包"}},{path:"/tags/抓包/index.html",redirect:"/tags/抓包/"},{name:"v-e0642068",path:"/tags/Charles/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-e0642068").then(t)},meta:{pid:"tags",id:"Charles"}},{path:"/tags/Charles/index.html",redirect:"/tags/Charles/"},{name:"v-675ca4d6",path:"/tags/Postman/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-675ca4d6").then(t)},meta:{pid:"tags",id:"Postman"}},{path:"/tags/Postman/index.html",redirect:"/tags/Postman/"},{name:"v-2aefd430",path:"/tags/CI/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-2aefd430").then(t)},meta:{pid:"tags",id:"CI"}},{path:"/tags/CI/index.html",redirect:"/tags/CI/"},{name:"v-677355f1",path:"/tags/Travis/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-677355f1").then(t)},meta:{pid:"tags",id:"Travis"}},{path:"/tags/Travis/index.html",redirect:"/tags/Travis/"},{name:"v-a7ecfb54",path:"/tags/培训/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-a7ecfb54").then(t)},meta:{pid:"tags",id:"培训"}},{path:"/tags/培训/index.html",redirect:"/tags/培训/"},{name:"v-1916bc1b",path:"/tags/未来/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-1916bc1b").then(t)},meta:{pid:"tags",id:"未来"}},{path:"/tags/未来/index.html",redirect:"/tags/未来/"},{name:"v-1110d61e",path:"/tags/面试/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-1110d61e").then(t)},meta:{pid:"tags",id:"面试"}},{path:"/tags/面试/index.html",redirect:"/tags/面试/"},{name:"v-69facbe1",path:"/tags/Vue3/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-69facbe1").then(t)},meta:{pid:"tags",id:"Vue3"}},{path:"/tags/Vue3/index.html",redirect:"/tags/Vue3/"},{name:"v-61666fae",path:"/tags/程序员/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-61666fae").then(t)},meta:{pid:"tags",id:"程序员"}},{path:"/tags/程序员/index.html",redirect:"/tags/程序员/"},{name:"v-d3327f2a",path:"/tags/第二技能/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-d3327f2a").then(t)},meta:{pid:"tags",id:"第二技能"}},{path:"/tags/第二技能/index.html",redirect:"/tags/第二技能/"},{name:"v-7b3d6199",path:"/tags/自媒体/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-7b3d6199").then(t)},meta:{pid:"tags",id:"自媒体"}},{path:"/tags/自媒体/index.html",redirect:"/tags/自媒体/"},{name:"v-8638f0aa",path:"/tags/公众号/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-8638f0aa").then(t)},meta:{pid:"tags",id:"公众号"}},{path:"/tags/公众号/index.html",redirect:"/tags/公众号/"},{name:"v-4b5c4b71",path:"/tags/VuePress/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-4b5c4b71").then(t)},meta:{pid:"tags",id:"VuePress"}},{path:"/tags/VuePress/index.html",redirect:"/tags/VuePress/"},{name:"v-7133adbc",path:"/tags/引流/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-7133adbc").then(t)},meta:{pid:"tags",id:"引流"}},{path:"/tags/引流/index.html",redirect:"/tags/引流/"},{name:"v-db20ae0a",path:"/tags/OpenWrite/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-db20ae0a").then(t)},meta:{pid:"tags",id:"OpenWrite"}},{path:"/tags/OpenWrite/index.html",redirect:"/tags/OpenWrite/"},{name:"v-3e45c675",path:"/tags/小霸王游戏机/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-3e45c675").then(t)},meta:{pid:"tags",id:"小霸王游戏机"}},{path:"/tags/小霸王游戏机/index.html",redirect:"/tags/小霸王游戏机/"},{name:"v-821170a2",path:"/tags/JSENS/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Tag","v-821170a2").then(t)},meta:{pid:"tags",id:"JSENS"}},{path:"/tags/JSENS/index.html",redirect:"/tags/JSENS/"},{name:"v-60e4e7ef",path:"/categories/Deno/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Category","v-60e4e7ef").then(t)},meta:{pid:"categories",id:"Deno"}},{path:"/categories/Deno/index.html",redirect:"/categories/Deno/"},{name:"v-6881b9de",path:"/categories/Docker/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Category","v-6881b9de").then(t)},meta:{pid:"categories",id:"Docker"}},{path:"/categories/Docker/index.html",redirect:"/categories/Docker/"},{name:"v-663b0ada",path:"/categories/Nginx/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Category","v-663b0ada").then(t)},meta:{pid:"categories",id:"Nginx"}},{path:"/categories/Nginx/index.html",redirect:"/categories/Nginx/"},{name:"v-5888b7d5",path:"/categories/Python/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Category","v-5888b7d5").then(t)},meta:{pid:"categories",id:"Python"}},{path:"/categories/Python/index.html",redirect:"/categories/Python/"},{name:"v-5ce93318",path:"/categories/关于我/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Category","v-5ce93318").then(t)},meta:{pid:"categories",id:"关于我"}},{path:"/categories/关于我/index.html",redirect:"/categories/关于我/"},{name:"v-14bbbf36",path:"/categories/前端/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Category","v-14bbbf36").then(t)},meta:{pid:"categories",id:"前端"}},{path:"/categories/前端/index.html",redirect:"/categories/前端/"},{name:"v-375741ea",path:"/categories/插件/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Category","v-375741ea").then(t)},meta:{pid:"categories",id:"插件"}},{path:"/categories/插件/index.html",redirect:"/categories/插件/"},{name:"v-35a51aab",path:"/categories/CI/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Category","v-35a51aab").then(t)},meta:{pid:"categories",id:"CI"}},{path:"/categories/CI/index.html",redirect:"/categories/CI/"},{name:"v-2bf76980",path:"/categories/随笔/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Category","v-2bf76980").then(t)},meta:{pid:"categories",id:"随笔"}},{path:"/categories/随笔/index.html",redirect:"/categories/随笔/"},{name:"v-1df51c18",path:"/categories/VuePress/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Category","v-1df51c18").then(t)},meta:{pid:"categories",id:"VuePress"}},{path:"/categories/VuePress/index.html",redirect:"/categories/VuePress/"},{name:"v-260e2472",path:"/categories/前端/page/2/",component:Tn,beforeEnter:function(e,n,t){Object(Qe.a)("Layout","v-260e2472").then(t)},meta:{pid:"categories",id:"前端"}},{path:"/categories/前端/page/2/index.html",redirect:"/categories/前端/page/2/"},{path:"*",component:Tn}],Pn={title:"前端develop",description:"技术分享，Not only front-end!",base:"/",headTags:[["meta",{name:"keywords",content:"前端develop,博客分享,前端技术,Vue.js,JavaScript,HTML,H5,副业"}],["meta",{name:"baidu_union_verify",content:"d9618350592112eff127ae228cba0df0"}],["meta",{name:"360-site-verification",content:"56d456e576ca6c5b90493dcda7f96be4"}],["link",{rel:"icon",href:"/favicon.ico"}],["meta",{name:"viewport",content:"width=device-width,initial-scale=1,user-scalable=no"}],["link",{rel:"icon",href:"/imgs/logo.png"}],["link",{rel:"manifest",href:"/manifest.json"}],["meta",{name:"theme-color",content:"#3eaf7c"}],["meta",{name:"apple-mobile-web-app-capable",content:"yes"}],["meta",{name:"apple-mobile-web-app-status-bar-style",content:"black"}],["link",{rel:"apple-touch-icon",href:"/imgs/logo.png"}],["link",{rel:"mask-icon",href:"/icons/safari-pinned-tab.svg",color:"#3eaf7c"}],["meta",{name:"msapplication-TileColor",content:"#000000"}],["script",{type:"text/javascript",src:"/js/push.js"}],["script",{charset:"utf-8",src:"https://hm.baidu.com/hm.js?c03dc728c7c7aea53311f86758b041c7"}],["script",{charset:"utf-8",src:"https://readmore.openwrite.cn/js/readmore.js"}],["script",{defer:"defer",async:"async",src:"https://cpro.baidustatic.com/cpro/ui/cm.js"}]],pages:[{frontmatter:{layout:"TimeLines",title:"Timeline",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/timeline/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/timeline/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/timeline/",key:"v-6319eb4e",path:"/timeline/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{title:"【Deno】初识Deno",frontmatter:{title:"【Deno】初识Deno",date:"2020-05-19T00:00:00.000Z",categories:["Deno"],tags:["Deno"],description:"5月13号 Deno 发布了 1.0 版本，Deno 的发布引起了很多人关注。\n官网描述 Deno 是一个安全的 JavaScript 和 TypeScript 的运行时。\n\nA secure runtime for JavaScript and TypeScript.  ---https://deno.land/\n\nDeno 的作者 Ryan Dahl (ry) 就是 Node.js 的作者，因为 Node.js 存在设计上存在缺陷，而且 Node.js 拥有大量的用户使得 Node.js 的发展变得困难、缓慢，所以 Ryan Dahl 选择离开 Node.js 开发 Deno。",meta:[{name:"image",content:"https://www.fedevelop.cn/imgs/qrcode.png"},{name:"twitter:title",content:"【Deno】初识Deno"},{name:"twitter:description",content:"5月13号 Deno 发布了 1.0 版本，Deno 的发布引起了很多人关注。\n官网描述 Deno 是一个安全的 JavaScript 和 TypeScript 的运行时。\n\nA secure runtime for JavaScript and TypeScript.  ---https://deno.land/\n\nDeno 的作者 Ryan Dahl (ry) 就是 Node.js 的作者，因为 Node.js 存在设计上存在缺陷，而且 Node.js 拥有大量的用户使得 Node.js 的发展变得困难、缓慢，所以 Ryan Dahl 选择离开 Node.js 开发 Deno。"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://www.fedevelop.cn/imgs/qrcode.png"},{name:"twitter:url",content:"https://www.fedevelop.cn/views/Deno/2020/%E3%80%90Deno%E3%80%91%E5%88%9D%E8%AF%86Deno.html"},{property:"og:type",content:"article"},{property:"og:title",content:"【Deno】初识Deno"},{property:"og:description",content:"5月13号 Deno 发布了 1.0 版本，Deno 的发布引起了很多人关注。\n官网描述 Deno 是一个安全的 JavaScript 和 TypeScript 的运行时。\n\nA secure runtime for JavaScript and TypeScript.  ---https://deno.land/\n\nDeno 的作者 Ryan Dahl (ry) 就是 Node.js 的作者，因为 Node.js 存在设计上存在缺陷，而且 Node.js 拥有大量的用户使得 Node.js 的发展变得困难、缓慢，所以 Ryan Dahl 选择离开 Node.js 开发 Deno。"},{property:"og:image",content:"https://www.fedevelop.cn/imgs/qrcode.png"},{property:"og:url",content:"https://www.fedevelop.cn/views/Deno/2020/%E3%80%90Deno%E3%80%91%E5%88%9D%E8%AF%86Deno.html"},{property:"og:site_name",content:"前端develop"},{property:"article:published_time",content:"2020-05-19T00:00:00.000Z"},{property:"article:tag",content:"Deno"},{itemprop:"name",content:"【Deno】初识Deno"},{itemprop:"description",content:"5月13号 Deno 发布了 1.0 版本，Deno 的发布引起了很多人关注。\n官网描述 Deno 是一个安全的 JavaScript 和 TypeScript 的运行时。\n\nA secure runtime for JavaScript and TypeScript.  ---https://deno.land/\n\nDeno 的作者 Ryan Dahl (ry) 就是 Node.js 的作者，因为 Node.js 存在设计上存在缺陷，而且 Node.js 拥有大量的用户使得 Node.js 的发展变得困难、缓慢，所以 Ryan Dahl 选择离开 Node.js 开发 Deno。"},{itemprop:"image",content:"https://www.fedevelop.cn/imgs/qrcode.png"}]},regularPath:"/views/Deno/2020/%E3%80%90Deno%E3%80%91%E5%88%9D%E8%AF%86Deno.html",relativePath:"views/Deno/2020/【Deno】初识Deno.md",key:"v-3ba3c14b",path:"/views/Deno/2020/%E3%80%90Deno%E3%80%91%E5%88%9D%E8%AF%86Deno.html",headers:[{level:2,title:"Deno 与 Node.js 的区别",slug:"deno-与-node-js-的区别",normalizedTitle:"deno 与 node.js 的区别",charIndex:301},{level:3,title:"异步操作",slug:"异步操作",normalizedTitle:"异步操作",charIndex:324},{level:3,title:"模块",slug:"模块",normalizedTitle:"模块",charIndex:481},{level:3,title:"外部模块",slug:"外部模块",normalizedTitle:"外部模块",charIndex:544},{level:3,title:"安全",slug:"安全",normalizedTitle:"安全",charIndex:54},{level:3,title:"支持 TypeScript",slug:"支持-typescript",normalizedTitle:"支持 typescript",charIndex:1571},{level:2,title:"安装 Deno",slug:"安装-deno",normalizedTitle:"安装 deno",charIndex:1681},{level:2,title:"Deno 的运行参数及子命令",slug:"deno-的运行参数及子命令",normalizedTitle:"deno 的运行参数及子命令",charIndex:2204},{level:2,title:"案例",slug:"案例",normalizedTitle:"案例",charIndex:4995},{level:2,title:"总结",slug:"总结",normalizedTitle:"总结",charIndex:5847}],excerpt:"<p>5月13号 Deno 发布了 1.0 版本，Deno 的发布引起了很多人关注。</p>\n<p>官网描述 Deno 是一个安全的 JavaScript 和 TypeScript 的运行时。</p>\n<blockquote>\n<p>A secure runtime for JavaScript and TypeScript.  ---https://deno.land/</p>\n</blockquote>\n<p>Deno 的作者 Ryan Dahl (ry) 就是 Node.js 的作者，因为 Node.js 存在设计上存在缺陷，而且 Node.js 拥有大量的用户使得 Node.js 的发展变得困难、缓慢，所以 Ryan Dahl 选择离开 Node.js 开发 Deno。</p>\n",lastUpdated:"5/19/2020, 1:52:56 AM",headersStr:"Deno 与 Node.js 的区别 异步操作 模块 外部模块 安全 支持 TypeScript 安装 Deno Deno 的运行参数及子命令 案例 总结",content:"5月13号 Deno 发布了 1.0 版本，Deno 的发布引起了很多人关注。\n\n官网描述 Deno 是一个安全的 JavaScript 和 TypeScript 的运行时。\n\n> A secure runtime for JavaScript and TypeScript. ---https://deno.land/\n\nDeno 的作者 Ryan Dahl (ry) 就是 Node.js 的作者，因为 Node.js 存在设计上存在缺陷，而且 Node.js 拥有大量的用户使得 Node.js 的发展变得困难、缓慢，所以 Ryan Dahl 选择离开 Node.js 开发 Deno。\n\n\n# Deno 与 Node.js 的区别\n\n\n# 异步操作\n\n在 Node.js 设计之初，JavaScript 还没有 Promise、async/await 的概念。Node.js 通过回调函数的方式实现异步操作。这就导致了在 Node.js 中存在回调函数和 Promise 两种写法。\n\n而 Deno 所有的异步操作将会返回一个 Promise。\n\n\n# 模块\n\nNode.js 使用与 ES 模块不兼容的 CommonJS，Deno 使用的则是浏览器一致的 ES 模块。\n\n\n# 外部模块\n\nNode.js 使用 NPM 管理外部模块，node_modules 极其复杂。\n\nDeno 通过 url 链接外部模块，可以使用绝对路径或相对路径导入模块，因此外部模块可以存放在任意系统，不需要集中存放在类似 NPM 的模块管理中心。\n\n例如：\n\nimport { foo } from \"https://foo.com/foo.ts\";\nimport { foo } from \"./foo.ts\";\n\n\n1\n2\n\n\n需要注意的是在 Deno 中使用外部模块不能省略后缀。\n\nDeno 在首次运行时会将外部模块下载到本地缓存。\n\n\n# 安全\n\nNode.js 没有任何安全性可言，因此是不是会传出某个 NPM 包中存在恶意代码的消息。\n\n而 Deno 在执行时需要开发者进行对应操作的授权。\n\n# 允许所有授权\n-A, --allow-all                    Allow all permissions\n\n# 允许读取环境变量\n    --allow-env                    Allow environment access\n\n# 允许高精度时间测量\n    --allow-hrtime                 Allow high resolution time measurement\n\n# 允许网络通信，支持指定域名\n    --allow-net=<allow-net>        Allow network access\n\n# 允许加载插件\n    --allow-plugin                 Allow loading plugins\n\n# 允许文件读操作，可以指定文件\n    --allow-read=<allow-read>      Allow file system read access\n\n# 允许运行子进程\n    --allow-run                    Allow running subprocesses\n\n# 允许文件写操作，可以指定文件\n    --allow-write=<allow-write>    Allow file system write access\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# 支持 TypeScript\n\nDeno 不需要额外配置，默认就支持 TypeScript。Deno 会通过文件后缀名进行判断，.ts 文件会先通过 TS 编译器转成 JS，.js 文件则会传入 V8 引擎运行。\n\n\n# 安装 Deno\n\n在 Deno 的官网中提供了各个系统的安装方法，这里简单搬运一下。\n\nUsing Shell (macOS, Linux):\n\ncurl -fsSL https://deno.land/x/install/install.sh | sh\n\n\n1\n\n\nUsing PowerShell (Windows):\n\niwr https://deno.land/x/install/install.ps1 -useb | iex\n\n\n1\n\n\nUsing Cargo (Windows, macOS, Linux):\n\ncargo install deno\n\n\n1\n\n\nUsing Homebrew (macOS):\n\nbrew install deno\n\n\n1\n\n\nUsing Chocolatey (Windows):\n\nchoco install deno\n\n\n1\n\n\nUsing Scoop (Windows):\n\nscoop install deno\n\n\n1\n\n\n关于 Deno 更多安装选项，例如指定 Deno 版本安装等可以到 https://github.com/denoland/deno_install 查看。\n\n\n# Deno 的运行参数及子命令\n\n通过执行 deno -h 可以查看 Deno 的帮助信息。\n\n# deno 版本\ndeno 0.42.0\nA secure JavaScript and TypeScript runtime\n\n# 文档地址\nDocs: https://deno.land/std/manual.md\n# 标准库及第三方模块的地址\nModules: https://deno.land/std/ https://deno.land/x/\n# bug 反馈地址\nBugs: https://github.com/denoland/deno/issues\n\n# 无需参数就可启动 REPL 环境\nTo start the REPL, supply no arguments:\n  deno\n\n# 执行脚本\nTo execute a script:\n  deno run https://deno.land/std/examples/welcome.ts\n  deno https://deno.land/std/examples/welcome.ts\n\n# 在 shell 中执行代码\nTo evaluate code in the shell:\n  deno eval \"console.log(30933 + 404)\"\n\n# 运行 deno help run 查看 run 命令的特殊标记\nRun 'deno help run' for 'run'-specific flags.\n\n# 用法 deno [参数] [子命令]\nUSAGE:\n    deno [OPTIONS] [SUBCOMMAND]\n\nOPTIONS:\n    # 查看帮助信息\n    -h, --help                     Prints help information\n    # 设置日志级别，可选值 [debug, info]\n    -L, --log-level <log-level>    Set log level [possible values: debug, info]\n    # 禁止输出\n    -q, --quiet                    Suppress diagnostic output\n    # 查看版本信息\n    -V, --version                  Prints version information\n\nSUBCOMMANDS:\n    # 将模块和依赖打包成单文件\n    bundle         Bundle module and dependencies into single file\n    # 缓存依赖\n    cache          Cache the dependencies\n    completions    Generate shell completions\n    # 显示文档\n    doc            Show documentation for a module\n    # 执行脚本\n    eval           Eval script\n    # 格式化源码\n    fmt            Format source files\n    # 打印子命令帮助信息\n    help           Prints this message or the help of the given subcommand(s)\n    # 显示源码的依赖信息或缓存信息\n    info           Show info about cache or info related to source file\n    # 将脚本安装为可执行文件\n    install        Install script as an executable\n    # 进入 REPL 环境\n    repl           Read Eval Print Loop\n    # 运行脚本\n    run            Run a program given a filename or url to the module\n    # 运行测试\n    test           Run tests\n    # 打印运行时 TS 类型声明\n    types          Print runtime TypeScript declarations\n    # 升级 Deno 到最新版本\n    upgrade        Upgrade deno executable to newest version\n\n# 环境变量\nENVIRONMENT VARIABLES:\n    # 设置 deno 的基础目录，默认在 $HOME/.deno\n    DENO_DIR             Set deno's base directory (defaults to $HOME/.deno)\n    # deno install 输出的目录，默认在 $HOME/.deno/bin\n    DENO_INSTALL_ROOT    Set deno install's output directory\n                         (defaults to $HOME/.deno/bin)\n    # 关闭颜色\n    NO_COLOR             Set to disable color\n    # http 代理\n    HTTP_PROXY           Proxy address for HTTP requests\n                         (module downloads, fetch)\n    # https 代理\n    HTTPS_PROXY          Same but for HTTPS\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n\n\n\n# 案例\n\n开启 http 服务\n\n// demo1.ts\nimport { serve } from 'https://deno.land/std@0.50.0/http/server.ts';\n\nfor await (const req of serve({ hostname: '0.0.0.0', port: 8000 })) {\n  req.respond({ body: 'Hello Deno. \\n' });\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n运行\n\ndeno run demo1.ts\n\n\n1\n\n\nCompile file:///Users/test/demo1.ts\nDownload https://deno.land/std@0.50.0/http/server.ts\n...\nerror: Uncaught PermissionDenied: network access to \"127.0.0.1:8000\", run again with the --allow-net flag\n    at unwrapResponse ($deno$/ops/dispatch_json.ts:43:11)\n    at Object.sendSync ($deno$/ops/dispatch_json.ts:72:10)\n    at Object.listen ($deno$/ops/net.ts:51:10)\n    at listen ($deno$/net.ts:164:18)\n    at serve (server.ts:261:20)\n    at demo1.ts:3:25\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n首先会编译代码，编译完成后下载外部模块到本地，下载完成就可以执行代码。执行时会检查所需权限，如果没有授权则会报 error: Uncaught PermissionDenied。\n\n加上 --allow-net 再执行即可。\n\n\n# 总结\n\n相比于 Node.js，Deno 在使用上更加简单，大部分 api 与浏览器一致，作为前端码农应该会更加容易接受 Deno。在将来我们可以根据项目来选择 Node.js 或者 Deno，这对于我们来说应该是一件好事。\n\n短期内 Deno 还不能用于生产环境，通过各大框架对 TypeScript 的支持可以知道 TypeScript 对于前端来说已经越来越重要了，所以还是抓紧学习 TypeScript 吧。\n\n----------------------------------------\n\n以上内容均是个人理解，如果有讲的不对的地方，还请各位大佬指点。\n\n如果觉得内容还不错的话，希望小伙伴可以帮忙点赞转发，给更多的同学看到，感谢感谢！\n\n",normalizedContent:"5月13号 deno 发布了 1.0 版本，deno 的发布引起了很多人关注。\n\n官网描述 deno 是一个安全的 javascript 和 typescript 的运行时。\n\n> a secure runtime for javascript and typescript. ---https://deno.land/\n\ndeno 的作者 ryan dahl (ry) 就是 node.js 的作者，因为 node.js 存在设计上存在缺陷，而且 node.js 拥有大量的用户使得 node.js 的发展变得困难、缓慢，所以 ryan dahl 选择离开 node.js 开发 deno。\n\n\n# deno 与 node.js 的区别\n\n\n# 异步操作\n\n在 node.js 设计之初，javascript 还没有 promise、async/await 的概念。node.js 通过回调函数的方式实现异步操作。这就导致了在 node.js 中存在回调函数和 promise 两种写法。\n\n而 deno 所有的异步操作将会返回一个 promise。\n\n\n# 模块\n\nnode.js 使用与 es 模块不兼容的 commonjs，deno 使用的则是浏览器一致的 es 模块。\n\n\n# 外部模块\n\nnode.js 使用 npm 管理外部模块，node_modules 极其复杂。\n\ndeno 通过 url 链接外部模块，可以使用绝对路径或相对路径导入模块，因此外部模块可以存放在任意系统，不需要集中存放在类似 npm 的模块管理中心。\n\n例如：\n\nimport { foo } from \"https://foo.com/foo.ts\";\nimport { foo } from \"./foo.ts\";\n\n\n1\n2\n\n\n需要注意的是在 deno 中使用外部模块不能省略后缀。\n\ndeno 在首次运行时会将外部模块下载到本地缓存。\n\n\n# 安全\n\nnode.js 没有任何安全性可言，因此是不是会传出某个 npm 包中存在恶意代码的消息。\n\n而 deno 在执行时需要开发者进行对应操作的授权。\n\n# 允许所有授权\n-a, --allow-all                    allow all permissions\n\n# 允许读取环境变量\n    --allow-env                    allow environment access\n\n# 允许高精度时间测量\n    --allow-hrtime                 allow high resolution time measurement\n\n# 允许网络通信，支持指定域名\n    --allow-net=<allow-net>        allow network access\n\n# 允许加载插件\n    --allow-plugin                 allow loading plugins\n\n# 允许文件读操作，可以指定文件\n    --allow-read=<allow-read>      allow file system read access\n\n# 允许运行子进程\n    --allow-run                    allow running subprocesses\n\n# 允许文件写操作，可以指定文件\n    --allow-write=<allow-write>    allow file system write access\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# 支持 typescript\n\ndeno 不需要额外配置，默认就支持 typescript。deno 会通过文件后缀名进行判断，.ts 文件会先通过 ts 编译器转成 js，.js 文件则会传入 v8 引擎运行。\n\n\n# 安装 deno\n\n在 deno 的官网中提供了各个系统的安装方法，这里简单搬运一下。\n\nusing shell (macos, linux):\n\ncurl -fssl https://deno.land/x/install/install.sh | sh\n\n\n1\n\n\nusing powershell (windows):\n\niwr https://deno.land/x/install/install.ps1 -useb | iex\n\n\n1\n\n\nusing cargo (windows, macos, linux):\n\ncargo install deno\n\n\n1\n\n\nusing homebrew (macos):\n\nbrew install deno\n\n\n1\n\n\nusing chocolatey (windows):\n\nchoco install deno\n\n\n1\n\n\nusing scoop (windows):\n\nscoop install deno\n\n\n1\n\n\n关于 deno 更多安装选项，例如指定 deno 版本安装等可以到 https://github.com/denoland/deno_install 查看。\n\n\n# deno 的运行参数及子命令\n\n通过执行 deno -h 可以查看 deno 的帮助信息。\n\n# deno 版本\ndeno 0.42.0\na secure javascript and typescript runtime\n\n# 文档地址\ndocs: https://deno.land/std/manual.md\n# 标准库及第三方模块的地址\nmodules: https://deno.land/std/ https://deno.land/x/\n# bug 反馈地址\nbugs: https://github.com/denoland/deno/issues\n\n# 无需参数就可启动 repl 环境\nto start the repl, supply no arguments:\n  deno\n\n# 执行脚本\nto execute a script:\n  deno run https://deno.land/std/examples/welcome.ts\n  deno https://deno.land/std/examples/welcome.ts\n\n# 在 shell 中执行代码\nto evaluate code in the shell:\n  deno eval \"console.log(30933 + 404)\"\n\n# 运行 deno help run 查看 run 命令的特殊标记\nrun 'deno help run' for 'run'-specific flags.\n\n# 用法 deno [参数] [子命令]\nusage:\n    deno [options] [subcommand]\n\noptions:\n    # 查看帮助信息\n    -h, --help                     prints help information\n    # 设置日志级别，可选值 [debug, info]\n    -l, --log-level <log-level>    set log level [possible values: debug, info]\n    # 禁止输出\n    -q, --quiet                    suppress diagnostic output\n    # 查看版本信息\n    -v, --version                  prints version information\n\nsubcommands:\n    # 将模块和依赖打包成单文件\n    bundle         bundle module and dependencies into single file\n    # 缓存依赖\n    cache          cache the dependencies\n    completions    generate shell completions\n    # 显示文档\n    doc            show documentation for a module\n    # 执行脚本\n    eval           eval script\n    # 格式化源码\n    fmt            format source files\n    # 打印子命令帮助信息\n    help           prints this message or the help of the given subcommand(s)\n    # 显示源码的依赖信息或缓存信息\n    info           show info about cache or info related to source file\n    # 将脚本安装为可执行文件\n    install        install script as an executable\n    # 进入 repl 环境\n    repl           read eval print loop\n    # 运行脚本\n    run            run a program given a filename or url to the module\n    # 运行测试\n    test           run tests\n    # 打印运行时 ts 类型声明\n    types          print runtime typescript declarations\n    # 升级 deno 到最新版本\n    upgrade        upgrade deno executable to newest version\n\n# 环境变量\nenvironment variables:\n    # 设置 deno 的基础目录，默认在 $home/.deno\n    deno_dir             set deno's base directory (defaults to $home/.deno)\n    # deno install 输出的目录，默认在 $home/.deno/bin\n    deno_install_root    set deno install's output directory\n                         (defaults to $home/.deno/bin)\n    # 关闭颜色\n    no_color             set to disable color\n    # http 代理\n    http_proxy           proxy address for http requests\n                         (module downloads, fetch)\n    # https 代理\n    https_proxy          same but for https\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n\n\n\n# 案例\n\n开启 http 服务\n\n// demo1.ts\nimport { serve } from 'https://deno.land/std@0.50.0/http/server.ts';\n\nfor await (const req of serve({ hostname: '0.0.0.0', port: 8000 })) {\n  req.respond({ body: 'hello deno. \\n' });\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n运行\n\ndeno run demo1.ts\n\n\n1\n\n\ncompile file:///users/test/demo1.ts\ndownload https://deno.land/std@0.50.0/http/server.ts\n...\nerror: uncaught permissiondenied: network access to \"127.0.0.1:8000\", run again with the --allow-net flag\n    at unwrapresponse ($deno$/ops/dispatch_json.ts:43:11)\n    at object.sendsync ($deno$/ops/dispatch_json.ts:72:10)\n    at object.listen ($deno$/ops/net.ts:51:10)\n    at listen ($deno$/net.ts:164:18)\n    at serve (server.ts:261:20)\n    at demo1.ts:3:25\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n首先会编译代码，编译完成后下载外部模块到本地，下载完成就可以执行代码。执行时会检查所需权限，如果没有授权则会报 error: uncaught permissiondenied。\n\n加上 --allow-net 再执行即可。\n\n\n# 总结\n\n相比于 node.js，deno 在使用上更加简单，大部分 api 与浏览器一致，作为前端码农应该会更加容易接受 deno。在将来我们可以根据项目来选择 node.js 或者 deno，这对于我们来说应该是一件好事。\n\n短期内 deno 还不能用于生产环境，通过各大框架对 typescript 的支持可以知道 typescript 对于前端来说已经越来越重要了，所以还是抓紧学习 typescript 吧。\n\n----------------------------------------\n\n以上内容均是个人理解，如果有讲的不对的地方，还请各位大佬指点。\n\n如果觉得内容还不错的话，希望小伙伴可以帮忙点赞转发，给更多的同学看到，感谢感谢！\n\n",charsets:{cjk:!0}},{title:"Docker 仓库",frontmatter:{title:"Docker 仓库",date:"2019-10-12T00:00:00.000Z",categories:["Docker"],tags:["Docker"],description:"如果还未了解过 Docker, 建议先阅读上一篇文章 初识 Docker。",meta:[{name:"image",content:"https://www.fedevelop.cn/imgs/qrcode.png"},{name:"twitter:title",content:"Docker 仓库"},{name:"twitter:description",content:"如果还未了解过 Docker, 建议先阅读上一篇文章 初识 Docker。"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://www.fedevelop.cn/imgs/qrcode.png"},{name:"twitter:url",content:"https://www.fedevelop.cn/views/Docker/2019/Docker%20%E4%BB%93%E5%BA%93.html"},{property:"og:type",content:"article"},{property:"og:title",content:"Docker 仓库"},{property:"og:description",content:"如果还未了解过 Docker, 建议先阅读上一篇文章 初识 Docker。"},{property:"og:image",content:"https://www.fedevelop.cn/imgs/qrcode.png"},{property:"og:url",content:"https://www.fedevelop.cn/views/Docker/2019/Docker%20%E4%BB%93%E5%BA%93.html"},{property:"og:site_name",content:"前端develop"},{property:"article:published_time",content:"2019-10-12T00:00:00.000Z"},{property:"article:tag",content:"Docker"},{itemprop:"name",content:"Docker 仓库"},{itemprop:"description",content:"如果还未了解过 Docker, 建议先阅读上一篇文章 初识 Docker。"},{itemprop:"image",content:"https://www.fedevelop.cn/imgs/qrcode.png"}]},regularPath:"/views/Docker/2019/Docker%20%E4%BB%93%E5%BA%93.html",relativePath:"views/Docker/2019/Docker 仓库.md",key:"v-8a51e478",path:"/views/Docker/2019/Docker%20%E4%BB%93%E5%BA%93.html",headers:[{level:2,title:"Docker Hub",slug:"docker-hub",normalizedTitle:"docker hub",charIndex:298},{level:3,title:"注册",slug:"注册",normalizedTitle:"注册",charIndex:137},{level:3,title:"登录",slug:"登录",normalizedTitle:"登录",charIndex:425},{level:3,title:"镜像分类",slug:"镜像分类",normalizedTitle:"镜像分类",charIndex:513},{level:3,title:"推送镜像",slug:"推送镜像",normalizedTitle:"推送镜像",charIndex:2486},{level:3,title:"自动构建",slug:"自动构建",normalizedTitle:"自动构建",charIndex:3493},{level:2,title:"私有仓库",slug:"私有仓库",normalizedTitle:"私有仓库",charIndex:3960},{level:3,title:"容器运行",slug:"容器运行",normalizedTitle:"容器运行",charIndex:4027},{level:3,title:"在私有仓库搜索、上传、下载镜像",slug:"在私有仓库搜索、上传、下载镜像",normalizedTitle:"在私有仓库搜索、上传、下载镜像",charIndex:4466}],lastUpdated:"10/24/2019, 10:00:46 PM",headersStr:"Docker Hub 注册 登录 镜像分类 推送镜像 自动构建 私有仓库 容器运行 在私有仓库搜索、上传、下载镜像",content:'如果还未了解过 Docker, 建议先阅读上一篇文章 初识 Docker。\n\n----------------------------------------\n\n仓库（Repository）就是存放镜像的地方。类似于 Node 的 npm； Python 的 PyPi。\n\n注册服务器（Registry）的概念比较容易与仓库混淆。实际上注册服务器是用来管理仓库的服务器，一个服务器上可以存在多个仓库，而每个仓库下可以有多个镜像。\n\n例如对于仓库地址 hub.dockerpool.com/nginx 来说，hub.dockerpool.com 是注册服务器的地址，nginx 是仓库名。\n\n\n# Docker Hub\n\n目前 Docker 官方维护的一个公共仓库，大部分需求我们都可以从 Docker Hub 中直接下载镜像来实现。\n\n\n# 注册\n\n我们可以在 https://hub.docker.com/ 注册一个 Docker 账号。\n\n\n# 登录\n\n可以通过 docker login 命令在终端输入用户名及密码来完成 Docker Hub 的登录。\n\n我们也可以通过 docker logout 退出登录。\n\n\n# 镜像分类\n\n通过上一篇文章可以知道，使用 docker search 搜索镜像时，搜索出来可以看到下面的镜像列表。\n\n$ docker search nginx\nNAME                              DESCRIPTION                                     STARS               OFFICIAL            AUTOMATED\nnginx                             Official build of Nginx.                        12036               [OK]\njwilder/nginx-proxy               Automated Nginx reverse proxy for docker con…   1671                                    [OK]\nricharvey/nginx-php-fpm           Container running Nginx + PHP-FPM capable of…   742                                     [OK]\nlinuxserver/nginx                 An Nginx container, brought to you by LinuxS…   78\nbitnami/nginx                     Bitnami nginx Docker Image                      71                                      [OK]\ntiangolo/nginx-rtmp               Docker image with Nginx using the nginx-rtmp…   56                                      [OK]\nnginxdemos/hello                  NGINX webserver that serves a simple page co…   28                                      [OK]\njlesage/nginx-proxy-manager       Docker container for Nginx Proxy Manager        24                                      [OK]\njc21/nginx-proxy-manager          Docker container for managing Nginx proxy ho…   24\nnginx/nginx-ingress               NGINX Ingress Controller for Kubernetes         22\nprivatebin/nginx-fpm-alpine       PrivateBin running on an Nginx, php-fpm & Al…   18                                      [OK]\nschmunk42/nginx-redirect          A very simple container to redirect HTTP tra…   17                                      [OK]\nblacklabelops/nginx               Dockerized Nginx Reverse Proxy Server.          12                                      [OK]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n根据是否是官方提供，可以将镜像分为两类。\n\n一类是类似 nginx 这样的镜像，被称为基础镜像或跟镜像。这些基础镜像由 Docker 公司创建、验证、支持、提供。这样的镜像往往使用单个单词作为名字。\n\n还有一种类型，比如 feiben/nginx 镜像，它是由 Docker Hub 的注册用户创建并维护的，往往带有用户名称前缀。可以通过前缀 username/ 来指定使用某个用户提供的镜像，比如 feiben 用户。\n\n\n# 推送镜像\n\n用户登录后可以通过 docker push 命令来把自己的镜像推送到 Docker Hub，例如将 nginx 镜像改成我们自己的镜像，然后推送到 Docker Hub。\n\n首先通过 docker pull nginx 将 nginx 镜像下载到本地。\n\n给 nginx 添加标签 docker tag nginx feiben/nginx:1.17.5\n\n$ docker images\nREPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\nfeiben/nginx        1.17.5              f949e7d76d63        2 weeks ago         126MB\nnginx               latest              f949e7d76d63        2 weeks ago         126MB\n\n\n1\n2\n3\n4\n\n\n将自己的镜像推送到 Docker Hub\n\n$ docker push feiben/nginx:1.17.5\nThe push refers to repository [docker.io/feiben/nginx]\n509a5ea4aeeb: Mounted from library/nginx\n3bb51901dfa3: Mounted from library/nginx\n2db44bce66cd: Mounted from library/nginx\n1.17.5: digest: sha256:066edc156bcada86155fd80ae03667cf3811c499df73815a2b76e43755ebbc76 size: 948\n\n\n1\n2\n3\n4\n5\n6\n\n\n稍等片刻，我们就可以搜索出推送的镜像了\n\n$ docker search feiben\nNAME                DESCRIPTION         STARS               OFFICIAL            AUTOMATED\nfeiben/nginx                            0\n\n\n1\n2\n3\n\n\n\n# 自动构建\n\n我们可以通过 Docker Hub 指定跟踪一个目标网站（支持 GitHub 或 BitBucket）上的项目，项目一旦有新的提交或者创建了新标签，将会触发 Docker Hub 自动构建镜像并推送到 Docker Hub中。\n\n设置自动构建的步骤如下：\n\n 1. 登录 Docker Hub\n 2. 点击头像，选择 Account Setting 再选择 Linked Accounts 管理账号\n 3. 在 Docker Hub 中新建或选择已有的仓库，在 Builds 选项卡中选择 Configure Automated Builds\n 4. 选取一个目标网站中的项目（需要含 Dockerfile）和分支\n 5. 指定 Dockerfile 的位置，并保存\n\n完成自动构建配置之后，指定的分支一旦提交代码就会触发自动构建，我们可以在仓库页面的 Timeline 选项卡中查看每次构建的状态。\n\n除了 Docker Hub 的自动构建外，我们也可以使用 Travis CI 等持续集成工具来实现自动构建。\n\n\n# 私有仓库\n\n公司的项目一般不予许我们上传到 Docker Hub 这类的公共仓库中，所有学会创建一个私有仓库也是非常必要的。\n\n\n# 容器运行\n\n我们可以通过获取官方的 registry 镜像来运行。\n\n$ docker run -d -p 5000:5000 --restart=always --name registry registry\n\n\n1\n\n\n这将使用官方提供的 registry 镜像来启动私有仓库。默认情况下，仓库会被创建在容器的 /var/lib/registry 目录下。我们可以通过 -v 参数将镜像文件存放在本地的指定路径。\n\n$ docker run -d \\\n> -p 5000:5000 \\\n> -v /opt/data/registry:/var/lib/registry \\\n> --restart=always \\\n> registry\n\n\n1\n2\n3\n4\n5\n\n\n这时我们可以通过浏览器访问 http://domain:5000/v2/_catalog 查看仓库是否启动成功。\n\n * 其中 domain 是你的域名或 ip 地址，下文中的 domain 同理。\n\n\n# 在私有仓库搜索、上传、下载镜像\n\n# 上传镜像\n\n首先使用 docker tag 将本地的 nginx 镜像添加标签\n\n$ docker tag nginx:latest domain/nginx:latest\n\n\n1\n\n\n接下来就可以使用 docker push 命令将镜像推送到我们的私有仓库中\n\n$ docker push domain/nginx:latest\nThe push refers to repository [domain/nginx]\nGet https://domain/v2/: EOF\n\n\n1\n2\n3\n\n\n出现上面的提示时，说明推送失败了。因为 Docker 默认使用 HTTPS 的方式推送镜像。我们可以通过 Docker 的配置来取消这个限制。\n\n对于 Linux 系统，我们可以在 /etc/docker/deamon.json （deamon.josn 文件不存在则新建该文件）添加下面的配置\n\n{ "insecure-registries": ["domain:5000"] }\n\n\n1\n\n\n对于桌面版，我们可以在 Docker 的设置 Daemon 选项中的 Insecure registries 中加上 domain:5000。\n\n【注】如果仓库主机是远程服务器的话，需要将服务器与本地的 docker 配置进行修改\n\n设置完成后再使用上面的命令进行推送。除了上面这种方式外，我们也可以将私有仓库的地址配置成支持 HTTPS 访问的，本文就不作展开了。\n\n$ docker push domain:5000/nginx:latest\nThe push refers to repository [domain:5000/nginx]\n509a5ea4aeeb: Pushed\n3bb51901dfa3: Pushed\n2db44bce66cd: Pushed\nlatest: digest: sha256:066edc156bcada86155fd80ae03667cf3811c499df73815a2b76e43755ebbc76 size: 948\n\n\n1\n2\n3\n4\n5\n6\n\n\n当看到上面的信息时，说明已经推送成功了。我们可以再次访问 http://domain:5000/v2/_catalog 进行验证\n\n$ curl http://domain:5000/v2/_catalog\n{"repositories":["nginx"]}\n\n\n1\n2\n\n\n看到这个说明上传成功了。\n\n# 搜索镜像\n\n搜索私有仓库的镜像并不能用 docker search 命令, 只能通过 http://domain:5000/v2/image_name/tags/list 查看指定镜像存在的 tag 列表\n\n$ curl domain:5000/v2/nginx/tags/list\n{"name":"nginx","tags":["latest"]}\n\n\n1\n2\n\n\n# 下载镜像\n\n首先我们通过 docker rmi 将本地的镜像删除（取消标签）。\n\n$ docker rmi domain:5000/nginx\nUntagged: domain:5000/nginx:latest\nUntagged: domain:5000/nginx@sha256:066edc156bcada86155fd80ae03667cf3811c499df73815a2b76e43755ebbc76\n\n\n1\n2\n3\n\n\n再使用 docker images 确认 domain:5000/nginx 这个镜像在本地不存在，接下来我们就可以从私有仓库进行下载。\n\n$ docker pull domain:5000/nginx:latest\n\n\n1\n\n\n除了使用官方提供的 Registry，我们也可以使用 Nexus3.x 来创建仓库，关于如何使用 Nexus 版本的仓库将放到下一篇文章中。当然你也可以从 https://docker_practice.gitee.io/zh-cn/repository/nexus3_registry.html 学习。\n\n----------------------------------------\n\n如果你喜欢我的文章，希望可以关注一下我的公众号【前端develop】\n\n',normalizedContent:'如果还未了解过 docker, 建议先阅读上一篇文章 初识 docker。\n\n----------------------------------------\n\n仓库（repository）就是存放镜像的地方。类似于 node 的 npm； python 的 pypi。\n\n注册服务器（registry）的概念比较容易与仓库混淆。实际上注册服务器是用来管理仓库的服务器，一个服务器上可以存在多个仓库，而每个仓库下可以有多个镜像。\n\n例如对于仓库地址 hub.dockerpool.com/nginx 来说，hub.dockerpool.com 是注册服务器的地址，nginx 是仓库名。\n\n\n# docker hub\n\n目前 docker 官方维护的一个公共仓库，大部分需求我们都可以从 docker hub 中直接下载镜像来实现。\n\n\n# 注册\n\n我们可以在 https://hub.docker.com/ 注册一个 docker 账号。\n\n\n# 登录\n\n可以通过 docker login 命令在终端输入用户名及密码来完成 docker hub 的登录。\n\n我们也可以通过 docker logout 退出登录。\n\n\n# 镜像分类\n\n通过上一篇文章可以知道，使用 docker search 搜索镜像时，搜索出来可以看到下面的镜像列表。\n\n$ docker search nginx\nname                              description                                     stars               official            automated\nnginx                             official build of nginx.                        12036               [ok]\njwilder/nginx-proxy               automated nginx reverse proxy for docker con…   1671                                    [ok]\nricharvey/nginx-php-fpm           container running nginx + php-fpm capable of…   742                                     [ok]\nlinuxserver/nginx                 an nginx container, brought to you by linuxs…   78\nbitnami/nginx                     bitnami nginx docker image                      71                                      [ok]\ntiangolo/nginx-rtmp               docker image with nginx using the nginx-rtmp…   56                                      [ok]\nnginxdemos/hello                  nginx webserver that serves a simple page co…   28                                      [ok]\njlesage/nginx-proxy-manager       docker container for nginx proxy manager        24                                      [ok]\njc21/nginx-proxy-manager          docker container for managing nginx proxy ho…   24\nnginx/nginx-ingress               nginx ingress controller for kubernetes         22\nprivatebin/nginx-fpm-alpine       privatebin running on an nginx, php-fpm & al…   18                                      [ok]\nschmunk42/nginx-redirect          a very simple container to redirect http tra…   17                                      [ok]\nblacklabelops/nginx               dockerized nginx reverse proxy server.          12                                      [ok]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n根据是否是官方提供，可以将镜像分为两类。\n\n一类是类似 nginx 这样的镜像，被称为基础镜像或跟镜像。这些基础镜像由 docker 公司创建、验证、支持、提供。这样的镜像往往使用单个单词作为名字。\n\n还有一种类型，比如 feiben/nginx 镜像，它是由 docker hub 的注册用户创建并维护的，往往带有用户名称前缀。可以通过前缀 username/ 来指定使用某个用户提供的镜像，比如 feiben 用户。\n\n\n# 推送镜像\n\n用户登录后可以通过 docker push 命令来把自己的镜像推送到 docker hub，例如将 nginx 镜像改成我们自己的镜像，然后推送到 docker hub。\n\n首先通过 docker pull nginx 将 nginx 镜像下载到本地。\n\n给 nginx 添加标签 docker tag nginx feiben/nginx:1.17.5\n\n$ docker images\nrepository          tag                 image id            created             size\nfeiben/nginx        1.17.5              f949e7d76d63        2 weeks ago         126mb\nnginx               latest              f949e7d76d63        2 weeks ago         126mb\n\n\n1\n2\n3\n4\n\n\n将自己的镜像推送到 docker hub\n\n$ docker push feiben/nginx:1.17.5\nthe push refers to repository [docker.io/feiben/nginx]\n509a5ea4aeeb: mounted from library/nginx\n3bb51901dfa3: mounted from library/nginx\n2db44bce66cd: mounted from library/nginx\n1.17.5: digest: sha256:066edc156bcada86155fd80ae03667cf3811c499df73815a2b76e43755ebbc76 size: 948\n\n\n1\n2\n3\n4\n5\n6\n\n\n稍等片刻，我们就可以搜索出推送的镜像了\n\n$ docker search feiben\nname                description         stars               official            automated\nfeiben/nginx                            0\n\n\n1\n2\n3\n\n\n\n# 自动构建\n\n我们可以通过 docker hub 指定跟踪一个目标网站（支持 github 或 bitbucket）上的项目，项目一旦有新的提交或者创建了新标签，将会触发 docker hub 自动构建镜像并推送到 docker hub中。\n\n设置自动构建的步骤如下：\n\n 1. 登录 docker hub\n 2. 点击头像，选择 account setting 再选择 linked accounts 管理账号\n 3. 在 docker hub 中新建或选择已有的仓库，在 builds 选项卡中选择 configure automated builds\n 4. 选取一个目标网站中的项目（需要含 dockerfile）和分支\n 5. 指定 dockerfile 的位置，并保存\n\n完成自动构建配置之后，指定的分支一旦提交代码就会触发自动构建，我们可以在仓库页面的 timeline 选项卡中查看每次构建的状态。\n\n除了 docker hub 的自动构建外，我们也可以使用 travis ci 等持续集成工具来实现自动构建。\n\n\n# 私有仓库\n\n公司的项目一般不予许我们上传到 docker hub 这类的公共仓库中，所有学会创建一个私有仓库也是非常必要的。\n\n\n# 容器运行\n\n我们可以通过获取官方的 registry 镜像来运行。\n\n$ docker run -d -p 5000:5000 --restart=always --name registry registry\n\n\n1\n\n\n这将使用官方提供的 registry 镜像来启动私有仓库。默认情况下，仓库会被创建在容器的 /var/lib/registry 目录下。我们可以通过 -v 参数将镜像文件存放在本地的指定路径。\n\n$ docker run -d \\\n> -p 5000:5000 \\\n> -v /opt/data/registry:/var/lib/registry \\\n> --restart=always \\\n> registry\n\n\n1\n2\n3\n4\n5\n\n\n这时我们可以通过浏览器访问 http://domain:5000/v2/_catalog 查看仓库是否启动成功。\n\n * 其中 domain 是你的域名或 ip 地址，下文中的 domain 同理。\n\n\n# 在私有仓库搜索、上传、下载镜像\n\n# 上传镜像\n\n首先使用 docker tag 将本地的 nginx 镜像添加标签\n\n$ docker tag nginx:latest domain/nginx:latest\n\n\n1\n\n\n接下来就可以使用 docker push 命令将镜像推送到我们的私有仓库中\n\n$ docker push domain/nginx:latest\nthe push refers to repository [domain/nginx]\nget https://domain/v2/: eof\n\n\n1\n2\n3\n\n\n出现上面的提示时，说明推送失败了。因为 docker 默认使用 https 的方式推送镜像。我们可以通过 docker 的配置来取消这个限制。\n\n对于 linux 系统，我们可以在 /etc/docker/deamon.json （deamon.josn 文件不存在则新建该文件）添加下面的配置\n\n{ "insecure-registries": ["domain:5000"] }\n\n\n1\n\n\n对于桌面版，我们可以在 docker 的设置 daemon 选项中的 insecure registries 中加上 domain:5000。\n\n【注】如果仓库主机是远程服务器的话，需要将服务器与本地的 docker 配置进行修改\n\n设置完成后再使用上面的命令进行推送。除了上面这种方式外，我们也可以将私有仓库的地址配置成支持 https 访问的，本文就不作展开了。\n\n$ docker push domain:5000/nginx:latest\nthe push refers to repository [domain:5000/nginx]\n509a5ea4aeeb: pushed\n3bb51901dfa3: pushed\n2db44bce66cd: pushed\nlatest: digest: sha256:066edc156bcada86155fd80ae03667cf3811c499df73815a2b76e43755ebbc76 size: 948\n\n\n1\n2\n3\n4\n5\n6\n\n\n当看到上面的信息时，说明已经推送成功了。我们可以再次访问 http://domain:5000/v2/_catalog 进行验证\n\n$ curl http://domain:5000/v2/_catalog\n{"repositories":["nginx"]}\n\n\n1\n2\n\n\n看到这个说明上传成功了。\n\n# 搜索镜像\n\n搜索私有仓库的镜像并不能用 docker search 命令, 只能通过 http://domain:5000/v2/image_name/tags/list 查看指定镜像存在的 tag 列表\n\n$ curl domain:5000/v2/nginx/tags/list\n{"name":"nginx","tags":["latest"]}\n\n\n1\n2\n\n\n# 下载镜像\n\n首先我们通过 docker rmi 将本地的镜像删除（取消标签）。\n\n$ docker rmi domain:5000/nginx\nuntagged: domain:5000/nginx:latest\nuntagged: domain:5000/nginx@sha256:066edc156bcada86155fd80ae03667cf3811c499df73815a2b76e43755ebbc76\n\n\n1\n2\n3\n\n\n再使用 docker images 确认 domain:5000/nginx 这个镜像在本地不存在，接下来我们就可以从私有仓库进行下载。\n\n$ docker pull domain:5000/nginx:latest\n\n\n1\n\n\n除了使用官方提供的 registry，我们也可以使用 nexus3.x 来创建仓库，关于如何使用 nexus 版本的仓库将放到下一篇文章中。当然你也可以从 https://docker_practice.gitee.io/zh-cn/repository/nexus3_registry.html 学习。\n\n----------------------------------------\n\n如果你喜欢我的文章，希望可以关注一下我的公众号【前端develop】\n\n',charsets:{cjk:!0}},{title:"Home",frontmatter:{home:!0,bgImage:"/banner.jpg",bgImageStyle:{height:"400px",backgroundPosition:"center"},actionText:"About Me",actionLink:"/views/about/",description:"技术分享，Not only front-end!",meta:[{name:"twitter:title",content:"前端develop"},{name:"twitter:description",content:"技术分享，Not only front-end!"},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/"},{property:"og:type",content:"website"},{property:"og:title",content:"前端develop"},{property:"og:description",content:"技术分享，Not only front-end!"},{property:"og:url",content:"https://www.fedevelop.cn/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:"前端develop"},{itemprop:"description",content:"技术分享，Not only front-end!"}]},regularPath:"/",relativePath:"README.md",key:"v-0dd25412",path:"/",lastUpdated:"3/13/2020, 10:24:15 PM",headersStr:null,content:"",normalizedContent:"",charsets:{}},{title:"使用 Dockerfile 制作镜像",frontmatter:{title:"使用 Dockerfile 制作镜像",date:"2019-10-25T00:00:00.000Z",categories:["Docker"],tags:["Docker","Dockerfile"],description:"前面几篇文章已经给大家介绍了 Docker 的基本概念，相信大家也会使用 Docker 运行自己想要的容器了。但是只有学会制作镜像，才能将 Docker 应用到我们的项目中去。下面我们就来学习如何使用 Dockerfile 来制作镜像。",meta:[{name:"image",content:"https://www.fedevelop.cn/imgs/qrcode.png"},{name:"twitter:title",content:"使用 Dockerfile 制作镜像"},{name:"twitter:description",content:"前面几篇文章已经给大家介绍了 Docker 的基本概念，相信大家也会使用 Docker 运行自己想要的容器了。但是只有学会制作镜像，才能将 Docker 应用到我们的项目中去。下面我们就来学习如何使用 Dockerfile 来制作镜像。"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://www.fedevelop.cn/imgs/qrcode.png"},{name:"twitter:url",content:"https://www.fedevelop.cn/views/Docker/2019/%E4%BD%BF%E7%94%A8%20Dockerfile%20%E5%88%B6%E4%BD%9C%E9%95%9C%E5%83%8F.html"},{property:"og:type",content:"article"},{property:"og:title",content:"使用 Dockerfile 制作镜像"},{property:"og:description",content:"前面几篇文章已经给大家介绍了 Docker 的基本概念，相信大家也会使用 Docker 运行自己想要的容器了。但是只有学会制作镜像，才能将 Docker 应用到我们的项目中去。下面我们就来学习如何使用 Dockerfile 来制作镜像。"},{property:"og:image",content:"https://www.fedevelop.cn/imgs/qrcode.png"},{property:"og:url",content:"https://www.fedevelop.cn/views/Docker/2019/%E4%BD%BF%E7%94%A8%20Dockerfile%20%E5%88%B6%E4%BD%9C%E9%95%9C%E5%83%8F.html"},{property:"og:site_name",content:"前端develop"},{property:"article:published_time",content:"2019-10-25T00:00:00.000Z"},{property:"article:tag",content:"Docker"},{property:"article:tag",content:"Dockerfile"},{itemprop:"name",content:"使用 Dockerfile 制作镜像"},{itemprop:"description",content:"前面几篇文章已经给大家介绍了 Docker 的基本概念，相信大家也会使用 Docker 运行自己想要的容器了。但是只有学会制作镜像，才能将 Docker 应用到我们的项目中去。下面我们就来学习如何使用 Dockerfile 来制作镜像。"},{itemprop:"image",content:"https://www.fedevelop.cn/imgs/qrcode.png"}]},regularPath:"/views/Docker/2019/%E4%BD%BF%E7%94%A8%20Dockerfile%20%E5%88%B6%E4%BD%9C%E9%95%9C%E5%83%8F.html",relativePath:"views/Docker/2019/使用 Dockerfile 制作镜像.md",key:"v-6d0101e4",path:"/views/Docker/2019/%E4%BD%BF%E7%94%A8%20Dockerfile%20%E5%88%B6%E4%BD%9C%E9%95%9C%E5%83%8F.html",headers:[{level:2,title:"编写 Dockerfile",slug:"编写-dockerfile",normalizedTitle:"编写 dockerfile",charIndex:192},{level:2,title:"构建命令详解",slug:"构建命令详解",normalizedTitle:"构建命令详解",charIndex:533},{level:2,title:"指令详解",slug:"指令详解",normalizedTitle:"指令详解",charIndex:2979},{level:2,title:"示例",slug:"示例",normalizedTitle:"示例",charIndex:5195},{level:2,title:"部署",slug:"部署",normalizedTitle:"部署",charIndex:5877}],lastUpdated:"10/25/2019, 1:17:06 AM",headersStr:"编写 Dockerfile 构建命令详解 指令详解 示例 部署",content:'前面几篇文章已经给大家介绍了 Docker 的基本概念，相信大家也会使用 Docker 运行自己想要的容器了。但是只有学会制作镜像，才能将 Docker 应用到我们的项目中去。下面我们就来学习如何使用 Dockerfile 来制作镜像。\n\nDockerfile 是一个文本文件，里面的内容是一条条的指令，每一条指令将会构建一层，因此每条指令的内容就是在描述该层应当如何创建。\n\n\n# 编写 Dockerfile\n\n接下来以 nginx 镜像为例，定制一个简单的镜像，首先创建一个目录 mynginx，进入目录再创建一个文本文件，名字为 Dockerfile。\n\n$ mkdir mynginx\n$ cd mynginx\n$ touch Dockerfile\n\n\n1\n2\n3\n\n\n把以下内容写到 Dockerfile 中\n\nFROM nginx\nRUN echo \'<h1>Hello, Docker!<h1>\' > /usr/share/nginx/html/index.html\n\n\n1\n2\n\n\n其中 FROM 用来指定基础镜像，上面的例子是以 nginx 为基础镜像。\n\nRUN 命令则表示执行一个 shell 命令，将文本写进 index.html。\n\n\n# 构建命令详解\n\n编写完 Dockerfile 之后就可以用来构建镜像。构建 docker 镜像的命令如下：\n\n$ docker build [OPTIONS] PATH | URL | -\n\n\n1\n\n\n选项的说明如下：\n\nOPTIONS                   说明\n--build-arg=[]            设置镜像创建时的变量\n--cpu-shares              设置 CPU 使用权重\n--cpu-period              限制 CPU CFS 周期\n--cpu-quota               限制 CPU CFS 配额\n--cpuset-cpus             指定使用的 CPU\n--cpuset-mems             指定使用的内存 id\n--disable-content-trust   忽略检验，默认开启\n-f                        指定要使用的 Dockerfile 路径\n--force-rm                设置镜像过程中删除中间容器\n--isolation               使用容器隔离技术\n--label=[]                设置镜像使用的元数据\n-m                        设置内存最大最\n--memory-swap             设置 Swap 的最大值为内存 + swap，\'-1\' 表示不限 swap\n--no-cache                创建镜像的过程中不适用缓存\n--pull                    尝试更新镜像的新版本\n--quiet,-q                安静模式，成功后只输出镜像 ID\n--rm                      设置镜像成功后删除中间容器\n--shm-size                设置 /dev/shm 的大小，默认值是 64M\n--ulimit                  Ulimit 配置\n--tag,-t                  镜像的名字及标签，通常 name:tag 或者 name 格式，可以在一次构建中为一个镜像设置多个标签\n--network                 默认 default。在构建期间设置 RUN 指令的网络模式\n\n下面举几个例子，说明选项的用法\n\n * 使用当前目录的 Dockerfile 创建镜像，标签为 fedevelop/example:v1\n\n$ docker build -t fedevelop/example:v1 .\n\n\n1\n\n * 使用 URL github.com/ad-feiben/qc-remind 的 Dockerfile 创建镜像\n\n$ docker build github.com/ad-feiben/qc-remind\n\n\n1\n\n * 通过 -f Dockerfile 文件的位置\n\n$ docker build -f /path/to/a/Dockerfile .\n\n\n1\n\n\n回到 mynginx 目录中执行下面的命令\n\n$ docker build -t nginx:v2 .\nSending build context to Docker daemon  2.048kB\nStep 1/2 : FROM nginx\n ---\x3e f949e7d76d63\nStep 2/2 : RUN echo \'<h1>Hello, Docker!</h1>\' > /usr/share/nginx/html/index.html\n ---\x3e Running in 88dc64292fa7\nRemoving intermediate container 88dc64292fa7\n ---\x3e 5d1e253d361c\nSuccessfully built 5d1e253d361c\nSuccessfully tagged nginx:v2\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n注意不要漏了最后的 .，. 代表将当前目录设置为镜像构建上下文（Context）。\n\n例如 Dockerfile 的内容如下：\n\nCOPY ./requirements.txt /app/\n\n\n1\n\n\n意思为复制上下文目录下的 requirements.txt，与 Dockerfile、执行 docker build 所在的目录无关。\n\n构建完成后，我们可以通过 Docker images 查看我们构建的镜像\n\n$ docker images\ndocker images\nREPOSITORY              TAG                 IMAGE ID            CREATED              SIZE\nnginx                   v2                  5d1e253d361c        About a minute ago   126MB\nnginx                   latest              f949e7d76d63        4 weeks ago          126MB\n\n\n1\n2\n3\n4\n5\n\n\n接下来用我们定制的镜像来启动一个容器看看，其中 5d1e253d361c 替换为你的镜像 id\n\n$ docker run -it -p 80:80 5d1e253d361c\n\n\n1\n\n\n浏览器打开 http://localhost/ 可以看到页面显示的是 Hello, Docker!，说明我们的 Dockerfile 中的命令生效了。\n\n\n# 指令详解\n\nFROM 指定基础镜像\n\nFROM 是用来指定基础镜像，这个命令是 Dockerfile 中必备的指令，并且必须是第一条指令。\n\n假如不需要基础镜像，可以使用空白镜像 scratch 作为基础镜像。scratch 这个镜像是虚拟的，实际并不存在。\n\nFROM scratch\n...\n\n\n1\n2\n\n\nRUN 执行命令\n\n从上面的例子中可以看到 RUN 可以执行一个 shell 命令，除了此之外还有另一种格式。\n\nexec 格式：RUN ["可执行文件", "参数"]。\n\n我们在编写 Dockerfile 的时候需要尽可能将指令链接起来，因为 Dockerfile 中的每一条指令都会建立一层，如果建立太多层，不仅会使得镜像非常臃肿，也会增加构建时间。\n\n# 错误示范\nFROM debian:stretch\n\nRUN apt-get update\nRUN apt-get install -y gcc libc6-dev make wget\nRUN wget -O redis.tar.gz "http://download.redis.io/releases/redis-5.0.3.tar.gz"\nRUN mkdir -p /usr/src/redis\nRUN tar -xzf redis.tar.gz -C /usr/src/redis --strip-components=1\nRUN make -C /usr/src/redis\nRUN make -C /usr/src/redis install\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n正确的写法如下，使用 && 将多条命令合并为一条，并且删除不必要的文件、清理 apt 缓存等，尽量保持容器干净。如果没有做清理工作的话，这些冗余的文件等将会带到下一层，并且会一直跟随镜像。\n\nFROM debian:stretch\n\nRUN buildDeps=\'gcc libc6-dev make wget\' \\\n    && apt-get update \\\n    && apt-get install -y $buildDeps \\\n    && wget -O redis.tar.gz "http://download.redis.io/releases/redis-5.0.3.tar.gz" \\\n    && mkdir -p /usr/src/redis \\\n    && tar -xzf redis.tar.gz -C /usr/src/redis --strip-components=1 \\\n    && make -C /usr/src/redis \\\n    && make -C /usr/src/redis install \\\n    && rm -rf /var/lib/apt/lists/* \\\n    && rm redis.tar.gz \\\n    && rm -r /usr/src/redis \\\n    && apt-get purge -y --auto-remove $buildDeps\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nWORKDIR 指定工作目录\n\nWORKDIR 的格式为 WORKDIR <工作目录路径>\n\n当使用 WORKDIR 指定工作路径后，以后的每一层的当前目录都会被改为工作目录，如果目录不存在，WORKDIR 会帮助我们创建目录。\n\n如果需要改变以后各层的工作目录的位置，只需要再使用 WORKDIR 指令即可。\n\nCOPY 复制文件\n\nCOPY 的格式为 COPY [--chown=<user>:<group>] <源路径>... <目标路径>\n\n源路径可以是多个，也可以使用通配符，例如下面这样：\n\nCOPY hom* /mydir/\nCOPY hom?.txt /mydir/\n\n\n1\n2\n\n\n目标路径可以是容器内的绝对路径，也可以相对工作目录的相对路径。目标路径不需要我们创建，如果目标路径不存在会在复制文件前先行创建缺失的目录。\n\n使用 COPY 复制文件时，会保留文件的元数据，比如读写权限，文件变更的时间等。如果需要修改文件的所属用户及所属组，可以通过添加 --chown=<user>:<group> 选项进行修改。\n\nCMD 容器启动命令\n\nshell 格式为 CMD <命令>\n\nexec 格式为 CND ["可执行文件", "参数1", "参数2"]\n\n使用 shell 格式的话，实际的命令会被包装成 sh -c 的形式进行执行，比如：\n\nCMD echo $HOME 在实际执行中，将会变成 CMD [ "sh", "-c", "echo $HOME" ]\n\n所以在使用 CMD 的时候一般推荐使用 exec 的格式，需要注意的是 exec 的格式会被解析成 JSON 数组，所以只能够使用双引号，而不能使用单引号。\n\n----------------------------------------\n\nDockerfile 的指令不止这么几个，感兴趣的小伙伴可以到 https://yeasy.gitbooks.io/docker_practice/image/dockerfile/ 自行查看。\n\n\n# 示例\n\n下面将通过我的 Python 项目来演示，怎么编写一个 Dockerfile，文件地址在 https://raw.githubusercontent.com/AD-feiben/qc-remind/master/Dockerfile\n\n文件的内容如下:\n\n# 指定基础镜像\nFROM python:3.7.4\n\n# 设置镜像作者\nMAINTAINER feiben <feiben.dev@gmail.com>\n\n# 设置工作目录\nWORKDIR /app\n\n# 复制上下文的文件到容器的 app 目录下\n# 不需要复制到镜像的文件可以使用 .dockerignore 进行忽略\nCOPY . /app\n\n# 执行下面命令，同步时区，安装依赖\nRUN cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime \\\n    && echo \'Asia/Shanghai\' >/etc/timezone \\\n    && pip install -r requirements.txt\n\n# 启动容器\nCMD ["python", "main.py", "--log-file-prefix", "qc-remind.log"]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n当我们的代码编写完成后，就可以执行 docker build -t <name>:<tag> . 将代码打包成一个 Docker 镜像，再 push 到镜像仓库中。\n\n\n# 部署\n\n按照传统的方式部署项目，通常需要在服务器安装一套运行环境，而且常常会遇到环境不一致导致本地开发没问题，一到线上部署就出现各种问题的情况。并且一旦服务器到期，迁移的工作量也是十分巨大。\n\n而使用 Docker，我们只需要在服务器安装一个 Docker 环境即可，部署项目只需要执行 docker run xxx。不仅减少了安装环境的时间，也保证了环境的一致性。\n\n----------------------------------------\n\n如果你喜欢我的文章，希望可以关注一下我的公众号【前端develop】\n\n',normalizedContent:'前面几篇文章已经给大家介绍了 docker 的基本概念，相信大家也会使用 docker 运行自己想要的容器了。但是只有学会制作镜像，才能将 docker 应用到我们的项目中去。下面我们就来学习如何使用 dockerfile 来制作镜像。\n\ndockerfile 是一个文本文件，里面的内容是一条条的指令，每一条指令将会构建一层，因此每条指令的内容就是在描述该层应当如何创建。\n\n\n# 编写 dockerfile\n\n接下来以 nginx 镜像为例，定制一个简单的镜像，首先创建一个目录 mynginx，进入目录再创建一个文本文件，名字为 dockerfile。\n\n$ mkdir mynginx\n$ cd mynginx\n$ touch dockerfile\n\n\n1\n2\n3\n\n\n把以下内容写到 dockerfile 中\n\nfrom nginx\nrun echo \'<h1>hello, docker!<h1>\' > /usr/share/nginx/html/index.html\n\n\n1\n2\n\n\n其中 from 用来指定基础镜像，上面的例子是以 nginx 为基础镜像。\n\nrun 命令则表示执行一个 shell 命令，将文本写进 index.html。\n\n\n# 构建命令详解\n\n编写完 dockerfile 之后就可以用来构建镜像。构建 docker 镜像的命令如下：\n\n$ docker build [options] path | url | -\n\n\n1\n\n\n选项的说明如下：\n\noptions                   说明\n--build-arg=[]            设置镜像创建时的变量\n--cpu-shares              设置 cpu 使用权重\n--cpu-period              限制 cpu cfs 周期\n--cpu-quota               限制 cpu cfs 配额\n--cpuset-cpus             指定使用的 cpu\n--cpuset-mems             指定使用的内存 id\n--disable-content-trust   忽略检验，默认开启\n-f                        指定要使用的 dockerfile 路径\n--force-rm                设置镜像过程中删除中间容器\n--isolation               使用容器隔离技术\n--label=[]                设置镜像使用的元数据\n-m                        设置内存最大最\n--memory-swap             设置 swap 的最大值为内存 + swap，\'-1\' 表示不限 swap\n--no-cache                创建镜像的过程中不适用缓存\n--pull                    尝试更新镜像的新版本\n--quiet,-q                安静模式，成功后只输出镜像 id\n--rm                      设置镜像成功后删除中间容器\n--shm-size                设置 /dev/shm 的大小，默认值是 64m\n--ulimit                  ulimit 配置\n--tag,-t                  镜像的名字及标签，通常 name:tag 或者 name 格式，可以在一次构建中为一个镜像设置多个标签\n--network                 默认 default。在构建期间设置 run 指令的网络模式\n\n下面举几个例子，说明选项的用法\n\n * 使用当前目录的 dockerfile 创建镜像，标签为 fedevelop/example:v1\n\n$ docker build -t fedevelop/example:v1 .\n\n\n1\n\n * 使用 url github.com/ad-feiben/qc-remind 的 dockerfile 创建镜像\n\n$ docker build github.com/ad-feiben/qc-remind\n\n\n1\n\n * 通过 -f dockerfile 文件的位置\n\n$ docker build -f /path/to/a/dockerfile .\n\n\n1\n\n\n回到 mynginx 目录中执行下面的命令\n\n$ docker build -t nginx:v2 .\nsending build context to docker daemon  2.048kb\nstep 1/2 : from nginx\n ---\x3e f949e7d76d63\nstep 2/2 : run echo \'<h1>hello, docker!</h1>\' > /usr/share/nginx/html/index.html\n ---\x3e running in 88dc64292fa7\nremoving intermediate container 88dc64292fa7\n ---\x3e 5d1e253d361c\nsuccessfully built 5d1e253d361c\nsuccessfully tagged nginx:v2\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n注意不要漏了最后的 .，. 代表将当前目录设置为镜像构建上下文（context）。\n\n例如 dockerfile 的内容如下：\n\ncopy ./requirements.txt /app/\n\n\n1\n\n\n意思为复制上下文目录下的 requirements.txt，与 dockerfile、执行 docker build 所在的目录无关。\n\n构建完成后，我们可以通过 docker images 查看我们构建的镜像\n\n$ docker images\ndocker images\nrepository              tag                 image id            created              size\nnginx                   v2                  5d1e253d361c        about a minute ago   126mb\nnginx                   latest              f949e7d76d63        4 weeks ago          126mb\n\n\n1\n2\n3\n4\n5\n\n\n接下来用我们定制的镜像来启动一个容器看看，其中 5d1e253d361c 替换为你的镜像 id\n\n$ docker run -it -p 80:80 5d1e253d361c\n\n\n1\n\n\n浏览器打开 http://localhost/ 可以看到页面显示的是 hello, docker!，说明我们的 dockerfile 中的命令生效了。\n\n\n# 指令详解\n\nfrom 指定基础镜像\n\nfrom 是用来指定基础镜像，这个命令是 dockerfile 中必备的指令，并且必须是第一条指令。\n\n假如不需要基础镜像，可以使用空白镜像 scratch 作为基础镜像。scratch 这个镜像是虚拟的，实际并不存在。\n\nfrom scratch\n...\n\n\n1\n2\n\n\nrun 执行命令\n\n从上面的例子中可以看到 run 可以执行一个 shell 命令，除了此之外还有另一种格式。\n\nexec 格式：run ["可执行文件", "参数"]。\n\n我们在编写 dockerfile 的时候需要尽可能将指令链接起来，因为 dockerfile 中的每一条指令都会建立一层，如果建立太多层，不仅会使得镜像非常臃肿，也会增加构建时间。\n\n# 错误示范\nfrom debian:stretch\n\nrun apt-get update\nrun apt-get install -y gcc libc6-dev make wget\nrun wget -o redis.tar.gz "http://download.redis.io/releases/redis-5.0.3.tar.gz"\nrun mkdir -p /usr/src/redis\nrun tar -xzf redis.tar.gz -c /usr/src/redis --strip-components=1\nrun make -c /usr/src/redis\nrun make -c /usr/src/redis install\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n正确的写法如下，使用 && 将多条命令合并为一条，并且删除不必要的文件、清理 apt 缓存等，尽量保持容器干净。如果没有做清理工作的话，这些冗余的文件等将会带到下一层，并且会一直跟随镜像。\n\nfrom debian:stretch\n\nrun builddeps=\'gcc libc6-dev make wget\' \\\n    && apt-get update \\\n    && apt-get install -y $builddeps \\\n    && wget -o redis.tar.gz "http://download.redis.io/releases/redis-5.0.3.tar.gz" \\\n    && mkdir -p /usr/src/redis \\\n    && tar -xzf redis.tar.gz -c /usr/src/redis --strip-components=1 \\\n    && make -c /usr/src/redis \\\n    && make -c /usr/src/redis install \\\n    && rm -rf /var/lib/apt/lists/* \\\n    && rm redis.tar.gz \\\n    && rm -r /usr/src/redis \\\n    && apt-get purge -y --auto-remove $builddeps\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\nworkdir 指定工作目录\n\nworkdir 的格式为 workdir <工作目录路径>\n\n当使用 workdir 指定工作路径后，以后的每一层的当前目录都会被改为工作目录，如果目录不存在，workdir 会帮助我们创建目录。\n\n如果需要改变以后各层的工作目录的位置，只需要再使用 workdir 指令即可。\n\ncopy 复制文件\n\ncopy 的格式为 copy [--chown=<user>:<group>] <源路径>... <目标路径>\n\n源路径可以是多个，也可以使用通配符，例如下面这样：\n\ncopy hom* /mydir/\ncopy hom?.txt /mydir/\n\n\n1\n2\n\n\n目标路径可以是容器内的绝对路径，也可以相对工作目录的相对路径。目标路径不需要我们创建，如果目标路径不存在会在复制文件前先行创建缺失的目录。\n\n使用 copy 复制文件时，会保留文件的元数据，比如读写权限，文件变更的时间等。如果需要修改文件的所属用户及所属组，可以通过添加 --chown=<user>:<group> 选项进行修改。\n\ncmd 容器启动命令\n\nshell 格式为 cmd <命令>\n\nexec 格式为 cnd ["可执行文件", "参数1", "参数2"]\n\n使用 shell 格式的话，实际的命令会被包装成 sh -c 的形式进行执行，比如：\n\ncmd echo $home 在实际执行中，将会变成 cmd [ "sh", "-c", "echo $home" ]\n\n所以在使用 cmd 的时候一般推荐使用 exec 的格式，需要注意的是 exec 的格式会被解析成 json 数组，所以只能够使用双引号，而不能使用单引号。\n\n----------------------------------------\n\ndockerfile 的指令不止这么几个，感兴趣的小伙伴可以到 https://yeasy.gitbooks.io/docker_practice/image/dockerfile/ 自行查看。\n\n\n# 示例\n\n下面将通过我的 python 项目来演示，怎么编写一个 dockerfile，文件地址在 https://raw.githubusercontent.com/ad-feiben/qc-remind/master/dockerfile\n\n文件的内容如下:\n\n# 指定基础镜像\nfrom python:3.7.4\n\n# 设置镜像作者\nmaintainer feiben <feiben.dev@gmail.com>\n\n# 设置工作目录\nworkdir /app\n\n# 复制上下文的文件到容器的 app 目录下\n# 不需要复制到镜像的文件可以使用 .dockerignore 进行忽略\ncopy . /app\n\n# 执行下面命令，同步时区，安装依赖\nrun cp /usr/share/zoneinfo/asia/shanghai /etc/localtime \\\n    && echo \'asia/shanghai\' >/etc/timezone \\\n    && pip install -r requirements.txt\n\n# 启动容器\ncmd ["python", "main.py", "--log-file-prefix", "qc-remind.log"]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n\n\n当我们的代码编写完成后，就可以执行 docker build -t <name>:<tag> . 将代码打包成一个 docker 镜像，再 push 到镜像仓库中。\n\n\n# 部署\n\n按照传统的方式部署项目，通常需要在服务器安装一套运行环境，而且常常会遇到环境不一致导致本地开发没问题，一到线上部署就出现各种问题的情况。并且一旦服务器到期，迁移的工作量也是十分巨大。\n\n而使用 docker，我们只需要在服务器安装一个 docker 环境即可，部署项目只需要执行 docker run xxx。不仅减少了安装环境的时间，也保证了环境的一致性。\n\n----------------------------------------\n\n如果你喜欢我的文章，希望可以关注一下我的公众号【前端develop】\n\n',charsets:{cjk:!0}},{title:"使用 Nexus 创建 Docker 仓库",frontmatter:{title:"使用 Nexus 创建 Docker 仓库",date:"2019-10-20T00:00:00.000Z",categories:["Docker"],tags:["Docker","Nexus"],description:"使用 Docker 官方的 Registry 创建的仓库，面临着这样的问题，比如删除镜像后空间默认不会回收，造成空间被占用。比较常见的做法是使用 Nexus 来管理企业的工具包。",meta:[{name:"image",content:"https://www.fedevelop.cn/imgs/docker/4.png"},{name:"twitter:title",content:"使用 Nexus 创建 Docker 仓库"},{name:"twitter:description",content:"使用 Docker 官方的 Registry 创建的仓库，面临着这样的问题，比如删除镜像后空间默认不会回收，造成空间被占用。比较常见的做法是使用 Nexus 来管理企业的工具包。"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://www.fedevelop.cn/imgs/docker/4.png"},{name:"twitter:url",content:"https://www.fedevelop.cn/views/Docker/2019/%E4%BD%BF%E7%94%A8%20Nexus%20%E5%88%9B%E5%BB%BA%20Docker%20%E4%BB%93%E5%BA%93.html"},{property:"og:type",content:"article"},{property:"og:title",content:"使用 Nexus 创建 Docker 仓库"},{property:"og:description",content:"使用 Docker 官方的 Registry 创建的仓库，面临着这样的问题，比如删除镜像后空间默认不会回收，造成空间被占用。比较常见的做法是使用 Nexus 来管理企业的工具包。"},{property:"og:image",content:"https://www.fedevelop.cn/imgs/docker/4.png"},{property:"og:url",content:"https://www.fedevelop.cn/views/Docker/2019/%E4%BD%BF%E7%94%A8%20Nexus%20%E5%88%9B%E5%BB%BA%20Docker%20%E4%BB%93%E5%BA%93.html"},{property:"og:site_name",content:"前端develop"},{property:"article:published_time",content:"2019-10-20T00:00:00.000Z"},{property:"article:tag",content:"Docker"},{property:"article:tag",content:"Nexus"},{itemprop:"name",content:"使用 Nexus 创建 Docker 仓库"},{itemprop:"description",content:"使用 Docker 官方的 Registry 创建的仓库，面临着这样的问题，比如删除镜像后空间默认不会回收，造成空间被占用。比较常见的做法是使用 Nexus 来管理企业的工具包。"},{itemprop:"image",content:"https://www.fedevelop.cn/imgs/docker/4.png"}]},regularPath:"/views/Docker/2019/%E4%BD%BF%E7%94%A8%20Nexus%20%E5%88%9B%E5%BB%BA%20Docker%20%E4%BB%93%E5%BA%93.html",relativePath:"views/Docker/2019/使用 Nexus 创建 Docker 仓库.md",key:"v-5ccf3384",path:"/views/Docker/2019/%E4%BD%BF%E7%94%A8%20Nexus%20%E5%88%9B%E5%BB%BA%20Docker%20%E4%BB%93%E5%BA%93.html",headers:[{level:2,title:"启动 Nexus 容器",slug:"启动-nexus-容器",normalizedTitle:"启动 nexus 容器",charIndex:142},{level:2,title:"创建仓库",slug:"创建仓库",normalizedTitle:"创建仓库",charIndex:1042},{level:2,title:"添加访问权限",slug:"添加访问权限",normalizedTitle:"添加访问权限",charIndex:1328},{level:2,title:"登录仓库",slug:"登录仓库",normalizedTitle:"登录仓库",charIndex:1560}],lastUpdated:"10/24/2019, 10:00:46 PM",headersStr:"启动 Nexus 容器 创建仓库 添加访问权限 登录仓库",content:'使用 Docker 官方的 Registry 创建的仓库，面临着这样的问题，比如删除镜像后空间默认不会回收，造成空间被占用。比较常见的做法是使用 Nexus 来管理企业的工具包。\n\nNexus 不仅可以创建 Docker 仓库，也可以 NPM、Maven 等多种类型的仓库。\n\n\n# 启动 Nexus 容器\n\n$ docker run -d --name nexus3 --restart=always \\\n    -p 8081:8081 \\\n    -p 8082:8082 \\\n    --mount src=nexus-data,target=/nexus-data \\\n    sonatype/nexus3\nUnable to find image \'sonatype/nexus3:latest\' locally\nlatest: Pulling from sonatype/nexus3\nc65691897a4d: Pull complete\n641d7cc5cbc4: Pull complete\nc508b13320cd: Pull complete\n79e3bf9d3132: Pull complete\nDigest: sha256:2c33632ccd8f8c5f9023a3d7f5f541e271833e402219f8c5a83a29d1721457ca\nStatus: Downloaded newer image for sonatype/nexus3:latest\nf637e039214978f8aac41e621e51588bd8cd8438055498c4060fbaf87799e64f\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n其中 8081 为 Nexus 的访问端口，8082 为仓库的端口，网上大部分文章并没有加上 8082 端口的映射，导致我在测试的时候卡了很久。\n\n稍等一两分钟，浏览器打开 domain:8081。\n\n点击右上角 Sign in 进行登录，初始账号为 admin，密码可以通过 exec 命令进入容器内，根据提示的路径查看初始密码。\n\n\n\n进入容器查看初始密码\n\n$ docker exec -it f637 /bin/bash\nbash-4.4$ vi /nexus-data/admin.password\n\n\n1\n2\n\n\n登陆后会被要求修改密码，以后将使用这密码。\n\n\n# 创建仓库\n\n点击导航的齿轮按钮进入设置页面，进入 Repository->Repositories 点击 Create repository 选择 docker (hosted)\n\ndocker (hosted) 为本地仓库，docker (proxy) 为代理仓库，docker (group) 为聚合仓库，本文只介绍本地仓库，如果有兴趣也可以到网上查找另外两种仓库的用法。\n\n\n\n只需要填好上图中红框的部分即可，其中 Name 为仓库名，HTTP 的输入框则是填写端口号 8082，写好之后滑到页面底部，点击 Create repository 即创建仓库。\n\n\n# 添加访问权限\n\n菜单 Security->Realms 把 Docker Bearer Token Realm 移到右边的框中保存。\n\n添加用户规则：菜单 Security->Roles->Create role 在 Privlleges 选项搜索 docker 把相应的规则移动到右边的框中然后保存。\n\n添加用户：菜单 Security->Users->Create local user 在 Roles 选项中选中刚才创建的规则移动到右边的窗口保存。\n\n\n# 登录仓库\n\n因为是创建的仓库是用 HTTP 的方式访问的，所以在登录前需要修改 Docker 配置中的 Daemon\n\n{ "insecure-registries": ["domain:8082"] }\n\n$ docker login domain:8082\nUsername: yourName\nPassword:\nLogin Succeeded\n\n\n1\n2\n3\n4\n\n\n上传仓库、下载仓库、搜索仓库 这些内容与上一篇文章中的一致，这里就不再赘述了。\n\n其中需要注意的点为启动 Nexus 时，需要把仓库的端口一起映射到宿主机中。\n\n----------------------------------------\n\n如果你喜欢我的文章，希望可以关注一下我的公众号【前端develop】\n\n',normalizedContent:'使用 docker 官方的 registry 创建的仓库，面临着这样的问题，比如删除镜像后空间默认不会回收，造成空间被占用。比较常见的做法是使用 nexus 来管理企业的工具包。\n\nnexus 不仅可以创建 docker 仓库，也可以 npm、maven 等多种类型的仓库。\n\n\n# 启动 nexus 容器\n\n$ docker run -d --name nexus3 --restart=always \\\n    -p 8081:8081 \\\n    -p 8082:8082 \\\n    --mount src=nexus-data,target=/nexus-data \\\n    sonatype/nexus3\nunable to find image \'sonatype/nexus3:latest\' locally\nlatest: pulling from sonatype/nexus3\nc65691897a4d: pull complete\n641d7cc5cbc4: pull complete\nc508b13320cd: pull complete\n79e3bf9d3132: pull complete\ndigest: sha256:2c33632ccd8f8c5f9023a3d7f5f541e271833e402219f8c5a83a29d1721457ca\nstatus: downloaded newer image for sonatype/nexus3:latest\nf637e039214978f8aac41e621e51588bd8cd8438055498c4060fbaf87799e64f\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n其中 8081 为 nexus 的访问端口，8082 为仓库的端口，网上大部分文章并没有加上 8082 端口的映射，导致我在测试的时候卡了很久。\n\n稍等一两分钟，浏览器打开 domain:8081。\n\n点击右上角 sign in 进行登录，初始账号为 admin，密码可以通过 exec 命令进入容器内，根据提示的路径查看初始密码。\n\n\n\n进入容器查看初始密码\n\n$ docker exec -it f637 /bin/bash\nbash-4.4$ vi /nexus-data/admin.password\n\n\n1\n2\n\n\n登陆后会被要求修改密码，以后将使用这密码。\n\n\n# 创建仓库\n\n点击导航的齿轮按钮进入设置页面，进入 repository->repositories 点击 create repository 选择 docker (hosted)\n\ndocker (hosted) 为本地仓库，docker (proxy) 为代理仓库，docker (group) 为聚合仓库，本文只介绍本地仓库，如果有兴趣也可以到网上查找另外两种仓库的用法。\n\n\n\n只需要填好上图中红框的部分即可，其中 name 为仓库名，http 的输入框则是填写端口号 8082，写好之后滑到页面底部，点击 create repository 即创建仓库。\n\n\n# 添加访问权限\n\n菜单 security->realms 把 docker bearer token realm 移到右边的框中保存。\n\n添加用户规则：菜单 security->roles->create role 在 privlleges 选项搜索 docker 把相应的规则移动到右边的框中然后保存。\n\n添加用户：菜单 security->users->create local user 在 roles 选项中选中刚才创建的规则移动到右边的窗口保存。\n\n\n# 登录仓库\n\n因为是创建的仓库是用 http 的方式访问的，所以在登录前需要修改 docker 配置中的 daemon\n\n{ "insecure-registries": ["domain:8082"] }\n\n$ docker login domain:8082\nusername: yourname\npassword:\nlogin succeeded\n\n\n1\n2\n3\n4\n\n\n上传仓库、下载仓库、搜索仓库 这些内容与上一篇文章中的一致，这里就不再赘述了。\n\n其中需要注意的点为启动 nexus 时，需要把仓库的端口一起映射到宿主机中。\n\n----------------------------------------\n\n如果你喜欢我的文章，希望可以关注一下我的公众号【前端develop】\n\n',charsets:{cjk:!0}},{title:"初识 Docker",frontmatter:{title:"初识 Docker",date:"2019-10-04T00:00:00.000Z",categories:["Docker"],tags:["Docker"],description:"其实这篇文章在一年多前就起好名字了，因为之前自己对 Docker 的镜像，容器等概念比较混淆，所以一直都没有写。由于最近重新看了 Docker 的内容，也将 Docker 应用到自己写的 Python 项目 https://github.com/AD-feiben/qc-remind 中，将该 Python 项目制作成一个 Docker 镜像，在使用起来非常方便，所以用这篇文章记录一下 Docker 的一些知识点，同时分享给大家。关于如何制作镜像也会在以后的文章中讲到。",meta:[{name:"image",content:"https://www.fedevelop.cn/imgs/docker/0.png"},{name:"twitter:title",content:"初识 Docker"},{name:"twitter:description",content:"其实这篇文章在一年多前就起好名字了，因为之前自己对 Docker 的镜像，容器等概念比较混淆，所以一直都没有写。由于最近重新看了 Docker 的内容，也将 Docker 应用到自己写的 Python 项目 https://github.com/AD-feiben/qc-remind 中，将该 Python 项目制作成一个 Docker 镜像，在使用起来非常方便，所以用这篇文章记录一下 Docker 的一些知识点，同时分享给大家。关于如何制作镜像也会在以后的文章中讲到。"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://www.fedevelop.cn/imgs/docker/0.png"},{name:"twitter:url",content:"https://www.fedevelop.cn/views/Docker/2019/%E5%88%9D%E8%AF%86%20Docker.html"},{property:"og:type",content:"article"},{property:"og:title",content:"初识 Docker"},{property:"og:description",content:"其实这篇文章在一年多前就起好名字了，因为之前自己对 Docker 的镜像，容器等概念比较混淆，所以一直都没有写。由于最近重新看了 Docker 的内容，也将 Docker 应用到自己写的 Python 项目 https://github.com/AD-feiben/qc-remind 中，将该 Python 项目制作成一个 Docker 镜像，在使用起来非常方便，所以用这篇文章记录一下 Docker 的一些知识点，同时分享给大家。关于如何制作镜像也会在以后的文章中讲到。"},{property:"og:image",content:"https://www.fedevelop.cn/imgs/docker/0.png"},{property:"og:url",content:"https://www.fedevelop.cn/views/Docker/2019/%E5%88%9D%E8%AF%86%20Docker.html"},{property:"og:site_name",content:"前端develop"},{property:"article:published_time",content:"2019-10-04T00:00:00.000Z"},{property:"article:tag",content:"Docker"},{itemprop:"name",content:"初识 Docker"},{itemprop:"description",content:"其实这篇文章在一年多前就起好名字了，因为之前自己对 Docker 的镜像，容器等概念比较混淆，所以一直都没有写。由于最近重新看了 Docker 的内容，也将 Docker 应用到自己写的 Python 项目 https://github.com/AD-feiben/qc-remind 中，将该 Python 项目制作成一个 Docker 镜像，在使用起来非常方便，所以用这篇文章记录一下 Docker 的一些知识点，同时分享给大家。关于如何制作镜像也会在以后的文章中讲到。"},{itemprop:"image",content:"https://www.fedevelop.cn/imgs/docker/0.png"}]},regularPath:"/views/Docker/2019/%E5%88%9D%E8%AF%86%20Docker.html",relativePath:"views/Docker/2019/初识 Docker.md",key:"v-3530d46e",path:"/views/Docker/2019/%E5%88%9D%E8%AF%86%20Docker.html",headers:[{level:2,title:"一、安装",slug:"一、安装",normalizedTitle:"一、安装",charIndex:413},{level:3,title:"1.1 使用 Homebrew 安装",slug:"_1-1-使用-homebrew-安装",normalizedTitle:"1.1 使用 homebrew 安装",charIndex:509},{level:3,title:"1.2 手动下载安装",slug:"_1-2-手动下载安装",normalizedTitle:"1.2 手动下载安装",charIndex:584},{level:2,title:"二、Docker 的一些概念",slug:"二、docker-的一些概念",normalizedTitle:"二、docker 的一些概念",charIndex:897},{level:3,title:"2.1 image 镜像",slug:"_2-1-image-镜像",normalizedTitle:"2.1 image 镜像",charIndex:1075},{level:3,title:"2.2 container 容器",slug:"_2-2-container-容器",normalizedTitle:"2.2 container 容器",charIndex:3714},{level:3,title:"2.3 repository 仓库",slug:"_2-3-repository-仓库",normalizedTitle:"2.3 repository 仓库",charIndex:6783}],lastUpdated:"10/24/2019, 10:00:46 PM",headersStr:"一、安装 1.1 使用 Homebrew 安装 1.2 手动下载安装 二、Docker 的一些概念 2.1 image 镜像 2.2 container 容器 2.3 repository 仓库",content:'其实这篇文章在一年多前就起好名字了，因为之前自己对 Docker 的镜像，容器等概念比较混淆，所以一直都没有写。由于最近重新看了 Docker 的内容，也将 Docker 应用到自己写的 Python 项目 https://github.com/AD-feiben/qc-remind 中，将该 Python 项目制作成一个 Docker 镜像，在使用起来非常方便，所以用这篇文章记录一下 Docker 的一些知识点，同时分享给大家。关于如何制作镜像也会在以后的文章中讲到。\n\n这篇文章不会讲述以下问题，什么是 Docker、Docker 的历史、Docker 通过什么技术实现、以及为什么要使用 Docker。这里就不在搬运了网上的文章了，直接上手学习 Docker。\n\n * 如果对上面所讲的问题感兴趣的话，可以访问 https://yeasy.gitbooks.io/docker_practice/ 进行学习\n\n\n# 一、安装\n\n因为我的是 Mac，这里只讲 Mac 的安装，其他系统的安装可以参考 https://yeasy.gitbooks.io/docker_practice/install/\n\n\n# 1.1 使用 Homebrew 安装\n\n$ brew cask install docker\n\n\n1\n\n\n使用 brew cask 安装即可\n\n\n# 1.2 手动下载安装\n\n 1. 首先在 Docker 官网 https://www.docker.com 注册一个账号，登录账号\n\n 2. 进入 https://hub.docker.com/?overlay=onboarding 下载安装即可\n\n\n\n下载完成之后双击 .dmg 文件，将应用拖到 Application 文件夹中即可。安装完成后，在状态栏就可以看到 Docker 的 logo，说明安装成功。可以通过 docker --version 命令查看 Docker 的版本。\n\n$ docker --version\nDocker version 19.03.2, build 6a30dfc\n\n\n1\n2\n\n\n\n# 二、Docker 的一些概念\n\n\n\n镜像存放在镜像仓库中，Docker 官方也提供了镜像仓库 https://hub.docker.com/ ，我们可以从这里下载我们所需要的镜像，当然也可以将我们制作好的镜像存放到仓库中。当我们下载好镜像之后，我们可以通过 run 命令来创建对应的容器，一个镜像可以创建多个容器，每个容器，相互之间不会产生影响。\n\n\n# 2.1 image 镜像\n\n以下镜像的操作均以 Nginx 镜像为例\n\n# 2.1.1 搜索镜像\n\n$ docker search nginx\nNAME                              DESCRIPTION                                     STARS               OFFICIAL            AUTOMATED\nnginx                             Official build of Nginx.                        12022               [OK]\njwilder/nginx-proxy               Automated Nginx reverse proxy for docker con…   1669                                    [OK]\nricharvey/nginx-php-fpm           Container running Nginx + PHP-FPM capable of…   742                                     [OK]\nlinuxserver/nginx                 An Nginx container, brought to you by LinuxS…   77\nbitnami/nginx                     Bitnami nginx Docker Image                      71                                      [OK]\ntiangolo/nginx-rtmp               Docker image with Nginx using the nginx-rtmp…   55                                      [OK]\nnginxdemos/hello                  NGINX webserver that serves a simple page co…   28                                      [OK]\njlesage/nginx-proxy-manager       Docker container for Nginx Proxy Manager        24                                      [OK]\njc21/nginx-proxy-manager          Docker container for managing Nginx proxy ho…   23\nnginx/nginx-ingress               NGINX Ingress Controller for Kubernetes         22\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n可以看到 镜像名 镜像描述 点赞数 是否为官方镜像 是否为自动生成\n\n# 2.1.2 下载镜像\n\n利用 docker pull 镜像名[:版本] 下载我们需要的镜像，不输入版本号默认为 latest\n\n$ docker pull nginx\nUsing default tag: latest\nlatest: Pulling from library/nginx\nb8f262c62ec6: Pull complete\ne9218e8f93b1: Pull complete\n7acba7289aa3: Pull complete\nDigest: sha256:aeded0f2a861747f43a01cf1018cf9efe2bdd02afd57d2b11fcc7fcadc16ccd1\nStatus: Downloaded newer image for nginx:latest\ndocker.io/library/nginx:latest\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n# 2.1.3 列出本地镜像\n\n可以使用 docker image ls 或者 docker images 来列出本地存在的镜像\n\n$ docker images\nREPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\nnginx               latest              f949e7d76d63        8 days ago          126MB\ncentos              latest              67fa590cfc1c        6 weeks ago         202MB\n\n\n1\n2\n3\n4\n\n\n其中 REPOSITORY 为镜像名；TAG 为镜像标签；IMAGE ID 为镜像id；CREATED 为镜像创建时间；SIZE 为镜像大小，该大小为解压缩后的大小，一般比仓库中的现实的镜像大小（压缩后的大小，便于传输）要大一些。\n\n# 2.1.4 删除镜像\n\n通过 docker image rm 镜像名/镜像id 或者 docker rmi 镜像名/镜像id 来删除指定的镜像\n\n * 删除镜像时，需要该镜像没有被使用，否则将会看到类似下面的错误提示\n\n$ docker rmi nginx\nError response from daemon: conflict: unable to remove repository reference "nginx" (must force) - container b36481b353d3 is using its referenced image f949e7d76d63\n\n\n1\n2\n\n\n在 Docker 仓库中还有很多优秀的镜像，例如 Ubuntu、CentOS、MySQL 等，大家可以自行查找。\n\n\n# 2.2 container 容器\n\n# 2.2.1创建容器\n\n我们可以使用 docker run [选项] 镜像 来创建一个容器，如果镜像在本地不存在，则会先到镜像仓库下载该镜像。下面的例子是 nginx 镜像不存在的情况。\n\n$ docker run -p 8080:80 nginx\nUnable to find image \'nginx:latest\' locally\nlatest: Pulling from library/nginx\nb8f262c62ec6: Pull complete\ne9218e8f93b1: Pull complete\n7acba7289aa3: Pull complete\nDigest: sha256:aeded0f2a861747f43a01cf1018cf9efe2bdd02afd57d2b11fcc7fcadc16ccd1\nStatus: Downloaded newer image for nginx:latest\n# 终端处于监听容器日志的状态\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n * -p 参数将容器中的 80 端口映射到宿主机中的 8080 端口\n\n在浏览器打开 localhost:8080 就可以看到熟悉的 nginx 欢迎页面了。退出容器可以使用 Ctrl + C\n\n\n\n# 2.2.2 查看运行中的容器\n\n我们可以使用 docker ps 或者 docker container ls 查看运行中的容器。\n\n> 上一步骤通过 Ctrl + C 停止了容器\n\n$ docker ps\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\n\n\n1\n2\n\n\n可以看到并没有运行中的容器，我们可以加上 -a 显示所有容器，包括停止状态的容器\n\n$ docker ps -a\nCONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS                     PORTS               NAMES\na2d6842faeb5        nginx               "nginx -g \'daemon of…"   2 hours ago         Exited (0) 2 minutes ago                       crazy_northcutt\n\n\n1\n2\n3\n\n\n加上 -a 后我们就可以看到已经处于停止状态的容器。\n\n下一步通过下面命令启动一个新的容器\n\n$ docker run -dit -p 8080:80 nginx\nb36481b353d30976171cf7c706f4ce4890f81ee1a81c7e526799fb12198e7f23\n\n\n1\n2\n\n\n * -dit 参数也可以分开写为 -d -i -t\n\n * -d 参数表示容器在后台运行，并不会像上个例子处于监听容器日志的状态\n\n * -i 参数表示让容器的标准输入保持打开\n\n * -t 参数表示让 Docker 分配一个伪终端\n\n可以看到这次的结果并不像 docker run -p 8080:80 nginx 那样，返回一个容器id后。终端又恢复到正常状态。\n\n$ docker ps -a\nCONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS                      PORTS                  NAMES\nb36481b353d3        nginx               "nginx -g \'daemon of…"   10 minutes ago      Up 10 minutes               0.0.0.0:8080->80/tcp   recursing_khayyam\na2d6842faeb5        nginx               "nginx -g \'daemon of…"   2 hours ago         Exited (0) 15 minutes ago                          crazy_northcutt\n\n\n1\n2\n3\n4\n\n\n通过 docker ps -a 命令可以看到，docker 存在两个容器。从这个例子我们可以知道，同一个镜像，如果使用 run 命令创建容器，那么每个容器都是不同的实例。\n\n# 2.2.3 停止容器\n\n如果容器处在后台运行，我们可以通过 docker ps 或者 docker container ls 将运行中的容器实例获取到，然后通过 docker container stop 容器id/容器名 停止指定容器。\n\n$ docker container stop b36481b353d3\n# b36481b353d3 为第二个容器例子，后台运行的容器\n\n\n1\n2\n\n\n# 2.2.4 启动容器\n\n当然容器也是可以重新启动的，不需要每次创建。通过 docker container start 容器id 即可重新启动\n\n$ docker container start b36481b353d3\n\n\n1\n\n * 通过 start 命令启动的容器都会在后台运行。\n\n# 2.2.5 进入容器内\n\n通过 docker exec -it 容器id /bin/bash 命令进入容器内，通过 -it 参数打开容器的交互式终端\n\ndocker exec -it b36481b353d3 /bin/bash\nroot@b36481b353d3:/#\n\n\n1\n2\n\n\n我们可以在此修改容器内的东西，修改完后通过 exit 退出容器，通过 exec 命令进入容器，退出后容器仍处于运行的状态。\n\n# 2.2.6 删除容器\n\n通过 docker container rm 容器id 删除指定容器。用该方法只能删除一个容器，如果我们想要删除多个容器，可以用空格隔开容器id。如果想删除的容器非常多，可以使用 docker container prune 删除所有处于停止状态的容器。\n\n$ docker container prune\nWARNING! This will remove all stopped containers.\nAre you sure you want to continue? [y/N] y\nDeleted Containers:\na2d6842faeb5cf039420edd684714134c52ca683aefc53a3934792251310ed1d\n\nTotal reclaimed space: 0B\n\n\n1\n2\n3\n4\n5\n6\n7\n\n * 删除容器时，容器需要处于停止状态。我们可以通过 docker ps -a 查看停止状态的容器\n\n\n# 2.3 repository 仓库\n\n由于篇幅问题，有关仓库的内容将会放到下一篇文章中。\n\n----------------------------------------\n\n如果你喜欢我的文章，希望可以关注一下我的公众号【前端develop】\n\n',normalizedContent:'其实这篇文章在一年多前就起好名字了，因为之前自己对 docker 的镜像，容器等概念比较混淆，所以一直都没有写。由于最近重新看了 docker 的内容，也将 docker 应用到自己写的 python 项目 https://github.com/ad-feiben/qc-remind 中，将该 python 项目制作成一个 docker 镜像，在使用起来非常方便，所以用这篇文章记录一下 docker 的一些知识点，同时分享给大家。关于如何制作镜像也会在以后的文章中讲到。\n\n这篇文章不会讲述以下问题，什么是 docker、docker 的历史、docker 通过什么技术实现、以及为什么要使用 docker。这里就不在搬运了网上的文章了，直接上手学习 docker。\n\n * 如果对上面所讲的问题感兴趣的话，可以访问 https://yeasy.gitbooks.io/docker_practice/ 进行学习\n\n\n# 一、安装\n\n因为我的是 mac，这里只讲 mac 的安装，其他系统的安装可以参考 https://yeasy.gitbooks.io/docker_practice/install/\n\n\n# 1.1 使用 homebrew 安装\n\n$ brew cask install docker\n\n\n1\n\n\n使用 brew cask 安装即可\n\n\n# 1.2 手动下载安装\n\n 1. 首先在 docker 官网 https://www.docker.com 注册一个账号，登录账号\n\n 2. 进入 https://hub.docker.com/?overlay=onboarding 下载安装即可\n\n\n\n下载完成之后双击 .dmg 文件，将应用拖到 application 文件夹中即可。安装完成后，在状态栏就可以看到 docker 的 logo，说明安装成功。可以通过 docker --version 命令查看 docker 的版本。\n\n$ docker --version\ndocker version 19.03.2, build 6a30dfc\n\n\n1\n2\n\n\n\n# 二、docker 的一些概念\n\n\n\n镜像存放在镜像仓库中，docker 官方也提供了镜像仓库 https://hub.docker.com/ ，我们可以从这里下载我们所需要的镜像，当然也可以将我们制作好的镜像存放到仓库中。当我们下载好镜像之后，我们可以通过 run 命令来创建对应的容器，一个镜像可以创建多个容器，每个容器，相互之间不会产生影响。\n\n\n# 2.1 image 镜像\n\n以下镜像的操作均以 nginx 镜像为例\n\n# 2.1.1 搜索镜像\n\n$ docker search nginx\nname                              description                                     stars               official            automated\nnginx                             official build of nginx.                        12022               [ok]\njwilder/nginx-proxy               automated nginx reverse proxy for docker con…   1669                                    [ok]\nricharvey/nginx-php-fpm           container running nginx + php-fpm capable of…   742                                     [ok]\nlinuxserver/nginx                 an nginx container, brought to you by linuxs…   77\nbitnami/nginx                     bitnami nginx docker image                      71                                      [ok]\ntiangolo/nginx-rtmp               docker image with nginx using the nginx-rtmp…   55                                      [ok]\nnginxdemos/hello                  nginx webserver that serves a simple page co…   28                                      [ok]\njlesage/nginx-proxy-manager       docker container for nginx proxy manager        24                                      [ok]\njc21/nginx-proxy-manager          docker container for managing nginx proxy ho…   23\nnginx/nginx-ingress               nginx ingress controller for kubernetes         22\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n可以看到 镜像名 镜像描述 点赞数 是否为官方镜像 是否为自动生成\n\n# 2.1.2 下载镜像\n\n利用 docker pull 镜像名[:版本] 下载我们需要的镜像，不输入版本号默认为 latest\n\n$ docker pull nginx\nusing default tag: latest\nlatest: pulling from library/nginx\nb8f262c62ec6: pull complete\ne9218e8f93b1: pull complete\n7acba7289aa3: pull complete\ndigest: sha256:aeded0f2a861747f43a01cf1018cf9efe2bdd02afd57d2b11fcc7fcadc16ccd1\nstatus: downloaded newer image for nginx:latest\ndocker.io/library/nginx:latest\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n# 2.1.3 列出本地镜像\n\n可以使用 docker image ls 或者 docker images 来列出本地存在的镜像\n\n$ docker images\nrepository          tag                 image id            created             size\nnginx               latest              f949e7d76d63        8 days ago          126mb\ncentos              latest              67fa590cfc1c        6 weeks ago         202mb\n\n\n1\n2\n3\n4\n\n\n其中 repository 为镜像名；tag 为镜像标签；image id 为镜像id；created 为镜像创建时间；size 为镜像大小，该大小为解压缩后的大小，一般比仓库中的现实的镜像大小（压缩后的大小，便于传输）要大一些。\n\n# 2.1.4 删除镜像\n\n通过 docker image rm 镜像名/镜像id 或者 docker rmi 镜像名/镜像id 来删除指定的镜像\n\n * 删除镜像时，需要该镜像没有被使用，否则将会看到类似下面的错误提示\n\n$ docker rmi nginx\nerror response from daemon: conflict: unable to remove repository reference "nginx" (must force) - container b36481b353d3 is using its referenced image f949e7d76d63\n\n\n1\n2\n\n\n在 docker 仓库中还有很多优秀的镜像，例如 ubuntu、centos、mysql 等，大家可以自行查找。\n\n\n# 2.2 container 容器\n\n# 2.2.1创建容器\n\n我们可以使用 docker run [选项] 镜像 来创建一个容器，如果镜像在本地不存在，则会先到镜像仓库下载该镜像。下面的例子是 nginx 镜像不存在的情况。\n\n$ docker run -p 8080:80 nginx\nunable to find image \'nginx:latest\' locally\nlatest: pulling from library/nginx\nb8f262c62ec6: pull complete\ne9218e8f93b1: pull complete\n7acba7289aa3: pull complete\ndigest: sha256:aeded0f2a861747f43a01cf1018cf9efe2bdd02afd57d2b11fcc7fcadc16ccd1\nstatus: downloaded newer image for nginx:latest\n# 终端处于监听容器日志的状态\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n * -p 参数将容器中的 80 端口映射到宿主机中的 8080 端口\n\n在浏览器打开 localhost:8080 就可以看到熟悉的 nginx 欢迎页面了。退出容器可以使用 ctrl + c\n\n\n\n# 2.2.2 查看运行中的容器\n\n我们可以使用 docker ps 或者 docker container ls 查看运行中的容器。\n\n> 上一步骤通过 ctrl + c 停止了容器\n\n$ docker ps\ncontainer id        image               command             created             status              ports               names\n\n\n1\n2\n\n\n可以看到并没有运行中的容器，我们可以加上 -a 显示所有容器，包括停止状态的容器\n\n$ docker ps -a\ncontainer id        image               command                  created             status                     ports               names\na2d6842faeb5        nginx               "nginx -g \'daemon of…"   2 hours ago         exited (0) 2 minutes ago                       crazy_northcutt\n\n\n1\n2\n3\n\n\n加上 -a 后我们就可以看到已经处于停止状态的容器。\n\n下一步通过下面命令启动一个新的容器\n\n$ docker run -dit -p 8080:80 nginx\nb36481b353d30976171cf7c706f4ce4890f81ee1a81c7e526799fb12198e7f23\n\n\n1\n2\n\n\n * -dit 参数也可以分开写为 -d -i -t\n\n * -d 参数表示容器在后台运行，并不会像上个例子处于监听容器日志的状态\n\n * -i 参数表示让容器的标准输入保持打开\n\n * -t 参数表示让 docker 分配一个伪终端\n\n可以看到这次的结果并不像 docker run -p 8080:80 nginx 那样，返回一个容器id后。终端又恢复到正常状态。\n\n$ docker ps -a\ncontainer id        image               command                  created             status                      ports                  names\nb36481b353d3        nginx               "nginx -g \'daemon of…"   10 minutes ago      up 10 minutes               0.0.0.0:8080->80/tcp   recursing_khayyam\na2d6842faeb5        nginx               "nginx -g \'daemon of…"   2 hours ago         exited (0) 15 minutes ago                          crazy_northcutt\n\n\n1\n2\n3\n4\n\n\n通过 docker ps -a 命令可以看到，docker 存在两个容器。从这个例子我们可以知道，同一个镜像，如果使用 run 命令创建容器，那么每个容器都是不同的实例。\n\n# 2.2.3 停止容器\n\n如果容器处在后台运行，我们可以通过 docker ps 或者 docker container ls 将运行中的容器实例获取到，然后通过 docker container stop 容器id/容器名 停止指定容器。\n\n$ docker container stop b36481b353d3\n# b36481b353d3 为第二个容器例子，后台运行的容器\n\n\n1\n2\n\n\n# 2.2.4 启动容器\n\n当然容器也是可以重新启动的，不需要每次创建。通过 docker container start 容器id 即可重新启动\n\n$ docker container start b36481b353d3\n\n\n1\n\n * 通过 start 命令启动的容器都会在后台运行。\n\n# 2.2.5 进入容器内\n\n通过 docker exec -it 容器id /bin/bash 命令进入容器内，通过 -it 参数打开容器的交互式终端\n\ndocker exec -it b36481b353d3 /bin/bash\nroot@b36481b353d3:/#\n\n\n1\n2\n\n\n我们可以在此修改容器内的东西，修改完后通过 exit 退出容器，通过 exec 命令进入容器，退出后容器仍处于运行的状态。\n\n# 2.2.6 删除容器\n\n通过 docker container rm 容器id 删除指定容器。用该方法只能删除一个容器，如果我们想要删除多个容器，可以用空格隔开容器id。如果想删除的容器非常多，可以使用 docker container prune 删除所有处于停止状态的容器。\n\n$ docker container prune\nwarning! this will remove all stopped containers.\nare you sure you want to continue? [y/n] y\ndeleted containers:\na2d6842faeb5cf039420edd684714134c52ca683aefc53a3934792251310ed1d\n\ntotal reclaimed space: 0b\n\n\n1\n2\n3\n4\n5\n6\n7\n\n * 删除容器时，容器需要处于停止状态。我们可以通过 docker ps -a 查看停止状态的容器\n\n\n# 2.3 repository 仓库\n\n由于篇幅问题，有关仓库的内容将会放到下一篇文章中。\n\n----------------------------------------\n\n如果你喜欢我的文章，希望可以关注一下我的公众号【前端develop】\n\n',charsets:{cjk:!0}},{title:"Nginx 配置",frontmatter:{title:"Nginx 配置",date:"2018-04-11T00:00:00.000Z",categories:["Nginx"],tags:["Nginx"],description:"Nginx是一个异步框架的Web服务器，也可以用作反向代理，负载平衡器 和 HTTP缓存。该软件由Igor Sysoev 创建，并于2004年首次公开发布。 同名公司成立于2011年，以提供支持。 Nginx是一款免费的开源软件，根据类BSD许可证的条款发布。维基百科",meta:[{name:"image",content:"https://www.fedevelop.cn/imgs/nginx/0.png"},{name:"twitter:title",content:"Nginx 配置"},{name:"twitter:description",content:"Nginx是一个异步框架的Web服务器，也可以用作反向代理，负载平衡器 和 HTTP缓存。该软件由Igor Sysoev 创建，并于2004年首次公开发布。 同名公司成立于2011年，以提供支持。 Nginx是一款免费的开源软件，根据类BSD许可证的条款发布。维基百科"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://www.fedevelop.cn/imgs/nginx/0.png"},{name:"twitter:url",content:"https://www.fedevelop.cn/views/Nginx/2018/Nginx%20%E9%85%8D%E7%BD%AE.html"},{property:"og:type",content:"article"},{property:"og:title",content:"Nginx 配置"},{property:"og:description",content:"Nginx是一个异步框架的Web服务器，也可以用作反向代理，负载平衡器 和 HTTP缓存。该软件由Igor Sysoev 创建，并于2004年首次公开发布。 同名公司成立于2011年，以提供支持。 Nginx是一款免费的开源软件，根据类BSD许可证的条款发布。维基百科"},{property:"og:image",content:"https://www.fedevelop.cn/imgs/nginx/0.png"},{property:"og:url",content:"https://www.fedevelop.cn/views/Nginx/2018/Nginx%20%E9%85%8D%E7%BD%AE.html"},{property:"og:site_name",content:"前端develop"},{property:"article:published_time",content:"2018-04-11T00:00:00.000Z"},{property:"article:tag",content:"Nginx"},{itemprop:"name",content:"Nginx 配置"},{itemprop:"description",content:"Nginx是一个异步框架的Web服务器，也可以用作反向代理，负载平衡器 和 HTTP缓存。该软件由Igor Sysoev 创建，并于2004年首次公开发布。 同名公司成立于2011年，以提供支持。 Nginx是一款免费的开源软件，根据类BSD许可证的条款发布。维基百科"},{itemprop:"image",content:"https://www.fedevelop.cn/imgs/nginx/0.png"}]},regularPath:"/views/Nginx/2018/Nginx%20%E9%85%8D%E7%BD%AE.html",relativePath:"views/Nginx/2018/Nginx 配置.md",key:"v-523b5356",path:"/views/Nginx/2018/Nginx%20%E9%85%8D%E7%BD%AE.html",headers:[{level:3,title:"虚拟机安装",slug:"虚拟机安装",normalizedTitle:"虚拟机安装",charIndex:264},{level:3,title:"SSH 登录虚拟机",slug:"ssh-登录虚拟机",normalizedTitle:"ssh 登录虚拟机",charIndex:417},{level:3,title:"安装 Nginx",slug:"安装-nginx",normalizedTitle:"安装 nginx",charIndex:632},{level:3,title:"修改配置文件",slug:"修改配置文件",normalizedTitle:"修改配置文件",charIndex:1093}],lastUpdated:"10/24/2019, 10:00:46 PM",headersStr:"虚拟机安装 SSH 登录虚拟机 安装 Nginx 修改配置文件",content:"> Nginx是一个异步框架的Web服务器，也可以用作反向代理，负载平衡器 和 HTTP缓存。该软件由Igor Sysoev 创建，并于2004年首次公开发布。 同名公司成立于2011年，以提供支持。 Nginx是一款免费的开源软件，根据类BSD许可证的条款发布。维基百科\n\n虽说 Nginx 一般都是由后端来配置的，但是如果你想成为一个全栈或者一个有追求的前端的话，了解一下 Nginx 还是很有必要的。如果没有服务器的话，自己可以装一个 Linux 虚拟机练下手。这里我用的 CentOS7 64位的系统来做演示。\n\n\n# 虚拟机安装\n\n这篇文章主要是介绍 Nginx 的，关于 Mac 安装 CentOS 虚拟机的教程可以参考这篇文章 Mac Pro 上用 Vmware Fusion 7.1.1 安装 CentOS7，其他系统就自行查找了。安装好之后可以输入 ping baidu.com 测试一下网络是不是正常的。\n\n\n# SSH 登录虚拟机\n\n虚拟机安装好了之后我一般会用 terminal 连接虚拟机，因为想粘贴一些长命令时不是很好操作。使用命令 ssh rootName@ip，如下图所示\n\n\n\n获取虚拟机的 IP 地址，可以在 VMware 的窗口输入 ifconfig，如果提示 ifconfig command not found，可以参考这篇文章CentOS 7 下 ifconfig command not found 解决办法\n\n\n# 安装 Nginx\n\nNginx 安装也十分简单，输入 yum install -y nginx，如果无法安装，则先执行这条命令 rpm -ivh http://nginx.org/packages/centos/7/noarch/RPMS/nginx-release-centos-7-0.el7.ngx.noarch.rpm 安装 Nginx 源。然后再输入 yum install -y nginx。安装好之后可以输入 whereis nginx 查看 Nginx 的默认目录。输入 nginx 启动服务，然后在浏览器输入虚拟机的 IP 地址进行访问，如果无法访问的话，应该就是虚拟机的防火墙没有开启80端口，输入 firewall-cmd --permanent --add-port=80/tcp 开启防火墙的80端口，再输入 firewall-cmd --reload。到这里再访问一下虚拟机的 IP 地址，就可以看到 Nginx 的欢迎页面了。参考文章在CentOS 7中，使用yum安装Nginx。\n\n\n# 修改配置文件\n\n输入 cd /etc/nginx 进入 /etc/nginx 目录，用 ls 命令可以看到 nginx.conf 这个文件。这个就是 nginx 的配置文件了。用 cat nginx.conf 命令来看下里面写了什么东西。内容大致如下\n\nuser  nginx;\nworker_processes  1;\n\nerror_log  /var/log/nginx/error.log warn;\npid        /var/run/nginx.pid;\n\n\nevents {\n    worker_connections  1024;\n}\n\n\nhttp {\n    include       /etc/nginx/mime.types;\n    default_type  application/octet-stream;\n\n    log_format  main  '$remote_addr - $remote_user [$time_local] \"$request\" '\n                      '$status $body_bytes_sent \"$http_referer\" '\n                      '\"$http_user_agent\" \"$http_x_forwarded_for\"';\n\n    access_log  /var/log/nginx/access.log  main;\n\n    sendfile        on;\n    #tcp_nopush     on;\n\n    keepalive_timeout  65;\n\n    #gzip  on;\n\n    include /etc/nginx/conf.d/*.conf;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n主要配置内容还是在之后一句 include /etc/nginx/conf.d/*.conf; 接下来在进入 /etc/nginx/conf.d/ 目录看下有什么东西。同样用 ls 命令可以看到一个 default.conf 文件，内容大致如下\n\nserver {\n    listen       80;\n    server_name  localhost;\n\n    #charset koi8-r;\n    #access_log  /var/log/nginx/host.access.log  main;\n\n    location / {\n        root   /usr/share/nginx/html;\n        index  index.html index.htm;\n    }\n\n    #error_page  404              /404.html;\n\n    # redirect server error pages to the static page /50x.html\n    #\n    error_page   500 502 503 504  /50x.html;\n    location = /50x.html {\n        root   /usr/share/nginx/html;\n    }\n\n    # proxy the PHP scripts to Apache listening on 127.0.0.1:80\n    #\n    #location ~ \\.php$ {\n    #    proxy_pass   http://127.0.0.1;\n    #}\n\n    # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000\n    #\n    #location ~ \\.php$ {\n    #    root           html;\n    #    fastcgi_pass   127.0.0.1:9000;\n    #    fastcgi_index  index.php;\n    #    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;\n    #    include        fastcgi_params;\n    #}\n\n    # deny access to .htaccess files, if Apache's document root\n    # concurs with nginx's one\n    #\n    #location ~ /\\.ht {\n    #    deny  all;\n    #}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n\n\n可以看到这个服务在监听 80 端口，root 指向项目根目录，即我们访问 localhost （默认为80端口）时，将会查找 /usr/share/nginx/html 这个目录下的文件。我自己的配置一般如下\n\nserver {\n    listen 80;\n    server_name domain; #使用域名或 IP 地址\n\n    charset utf8; #字符编码\n    access_log /path/folder/access.log main; #访问日志\n    error_log /path/folder/error.log error; #错误日志\n\n    root /path/folder;\n    index index.html;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n日志文件需要我们到对应目录下创建对应的 log 文件，修改完配置文件可以使用 nginx -s reload 重启服务。\n\n----------------------------------------\n\n如果你喜欢我的文章，希望可以关注一下我的公众号【前端develop】\n\n",normalizedContent:"> nginx是一个异步框架的web服务器，也可以用作反向代理，负载平衡器 和 http缓存。该软件由igor sysoev 创建，并于2004年首次公开发布。 同名公司成立于2011年，以提供支持。 nginx是一款免费的开源软件，根据类bsd许可证的条款发布。维基百科\n\n虽说 nginx 一般都是由后端来配置的，但是如果你想成为一个全栈或者一个有追求的前端的话，了解一下 nginx 还是很有必要的。如果没有服务器的话，自己可以装一个 linux 虚拟机练下手。这里我用的 centos7 64位的系统来做演示。\n\n\n# 虚拟机安装\n\n这篇文章主要是介绍 nginx 的，关于 mac 安装 centos 虚拟机的教程可以参考这篇文章 mac pro 上用 vmware fusion 7.1.1 安装 centos7，其他系统就自行查找了。安装好之后可以输入 ping baidu.com 测试一下网络是不是正常的。\n\n\n# ssh 登录虚拟机\n\n虚拟机安装好了之后我一般会用 terminal 连接虚拟机，因为想粘贴一些长命令时不是很好操作。使用命令 ssh rootname@ip，如下图所示\n\n\n\n获取虚拟机的 ip 地址，可以在 vmware 的窗口输入 ifconfig，如果提示 ifconfig command not found，可以参考这篇文章centos 7 下 ifconfig command not found 解决办法\n\n\n# 安装 nginx\n\nnginx 安装也十分简单，输入 yum install -y nginx，如果无法安装，则先执行这条命令 rpm -ivh http://nginx.org/packages/centos/7/noarch/rpms/nginx-release-centos-7-0.el7.ngx.noarch.rpm 安装 nginx 源。然后再输入 yum install -y nginx。安装好之后可以输入 whereis nginx 查看 nginx 的默认目录。输入 nginx 启动服务，然后在浏览器输入虚拟机的 ip 地址进行访问，如果无法访问的话，应该就是虚拟机的防火墙没有开启80端口，输入 firewall-cmd --permanent --add-port=80/tcp 开启防火墙的80端口，再输入 firewall-cmd --reload。到这里再访问一下虚拟机的 ip 地址，就可以看到 nginx 的欢迎页面了。参考文章在centos 7中，使用yum安装nginx。\n\n\n# 修改配置文件\n\n输入 cd /etc/nginx 进入 /etc/nginx 目录，用 ls 命令可以看到 nginx.conf 这个文件。这个就是 nginx 的配置文件了。用 cat nginx.conf 命令来看下里面写了什么东西。内容大致如下\n\nuser  nginx;\nworker_processes  1;\n\nerror_log  /var/log/nginx/error.log warn;\npid        /var/run/nginx.pid;\n\n\nevents {\n    worker_connections  1024;\n}\n\n\nhttp {\n    include       /etc/nginx/mime.types;\n    default_type  application/octet-stream;\n\n    log_format  main  '$remote_addr - $remote_user [$time_local] \"$request\" '\n                      '$status $body_bytes_sent \"$http_referer\" '\n                      '\"$http_user_agent\" \"$http_x_forwarded_for\"';\n\n    access_log  /var/log/nginx/access.log  main;\n\n    sendfile        on;\n    #tcp_nopush     on;\n\n    keepalive_timeout  65;\n\n    #gzip  on;\n\n    include /etc/nginx/conf.d/*.conf;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n\n\n主要配置内容还是在之后一句 include /etc/nginx/conf.d/*.conf; 接下来在进入 /etc/nginx/conf.d/ 目录看下有什么东西。同样用 ls 命令可以看到一个 default.conf 文件，内容大致如下\n\nserver {\n    listen       80;\n    server_name  localhost;\n\n    #charset koi8-r;\n    #access_log  /var/log/nginx/host.access.log  main;\n\n    location / {\n        root   /usr/share/nginx/html;\n        index  index.html index.htm;\n    }\n\n    #error_page  404              /404.html;\n\n    # redirect server error pages to the static page /50x.html\n    #\n    error_page   500 502 503 504  /50x.html;\n    location = /50x.html {\n        root   /usr/share/nginx/html;\n    }\n\n    # proxy the php scripts to apache listening on 127.0.0.1:80\n    #\n    #location ~ \\.php$ {\n    #    proxy_pass   http://127.0.0.1;\n    #}\n\n    # pass the php scripts to fastcgi server listening on 127.0.0.1:9000\n    #\n    #location ~ \\.php$ {\n    #    root           html;\n    #    fastcgi_pass   127.0.0.1:9000;\n    #    fastcgi_index  index.php;\n    #    fastcgi_param  script_filename  /scripts$fastcgi_script_name;\n    #    include        fastcgi_params;\n    #}\n\n    # deny access to .htaccess files, if apache's document root\n    # concurs with nginx's one\n    #\n    #location ~ /\\.ht {\n    #    deny  all;\n    #}\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n\n\n可以看到这个服务在监听 80 端口，root 指向项目根目录，即我们访问 localhost （默认为80端口）时，将会查找 /usr/share/nginx/html 这个目录下的文件。我自己的配置一般如下\n\nserver {\n    listen 80;\n    server_name domain; #使用域名或 ip 地址\n\n    charset utf8; #字符编码\n    access_log /path/folder/access.log main; #访问日志\n    error_log /path/folder/error.log error; #错误日志\n\n    root /path/folder;\n    index index.html;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n日志文件需要我们到对应目录下创建对应的 log 文件，修改完配置文件可以使用 nginx -s reload 重启服务。\n\n----------------------------------------\n\n如果你喜欢我的文章，希望可以关注一下我的公众号【前端develop】\n\n",charsets:{cjk:!0}},{title:"Python实现头条自动发文章，赚点广告费",frontmatter:{title:"Python实现头条自动发文章，赚点广告费",date:"2019-11-10T00:00:00.000Z",categories:["Python"],tags:["今日头条","selenium","滑块验证码"],description:"前一段时间想尝试一下用 Python 实现自动发一些文章到头条上，因为头条没有提供API发布文章，所以只能通过一些浏览器自动化，实现自动发布文章。但是第一道坎就是登录账号的时候弹出来的滑块验证码。",meta:[{name:"image",content:"https://mmbiz.qpic.cn/mmbiz_png/7LoS4fBGsHtrDCLqiaxERVK5N5NYMtfr2RuGhucLxHFJ9OfkiciaH9Y4IrvclFTpX5xUef5vV6vMhy65hYfqjkkLg/0?wx_fmt=png"},{name:"twitter:title",content:"Python实现头条自动发文章，赚点广告费"},{name:"twitter:description",content:"前一段时间想尝试一下用 Python 实现自动发一些文章到头条上，因为头条没有提供API发布文章，所以只能通过一些浏览器自动化，实现自动发布文章。但是第一道坎就是登录账号的时候弹出来的滑块验证码。"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://mmbiz.qpic.cn/mmbiz_png/7LoS4fBGsHtrDCLqiaxERVK5N5NYMtfr2RuGhucLxHFJ9OfkiciaH9Y4IrvclFTpX5xUef5vV6vMhy65hYfqjkkLg/0?wx_fmt=png"},{name:"twitter:url",content:"https://www.fedevelop.cn/views/Python/2019/Python%E5%AE%9E%E7%8E%B0%E5%A4%B4%E6%9D%A1%E8%87%AA%E5%8A%A8%E5%8F%91%E6%96%87%E7%AB%A0%EF%BC%8C%E8%B5%9A%E7%82%B9%E5%B9%BF%E5%91%8A%E8%B4%B9.html"},{property:"og:type",content:"article"},{property:"og:title",content:"Python实现头条自动发文章，赚点广告费"},{property:"og:description",content:"前一段时间想尝试一下用 Python 实现自动发一些文章到头条上，因为头条没有提供API发布文章，所以只能通过一些浏览器自动化，实现自动发布文章。但是第一道坎就是登录账号的时候弹出来的滑块验证码。"},{property:"og:image",content:"https://mmbiz.qpic.cn/mmbiz_png/7LoS4fBGsHtrDCLqiaxERVK5N5NYMtfr2RuGhucLxHFJ9OfkiciaH9Y4IrvclFTpX5xUef5vV6vMhy65hYfqjkkLg/0?wx_fmt=png"},{property:"og:url",content:"https://www.fedevelop.cn/views/Python/2019/Python%E5%AE%9E%E7%8E%B0%E5%A4%B4%E6%9D%A1%E8%87%AA%E5%8A%A8%E5%8F%91%E6%96%87%E7%AB%A0%EF%BC%8C%E8%B5%9A%E7%82%B9%E5%B9%BF%E5%91%8A%E8%B4%B9.html"},{property:"og:site_name",content:"前端develop"},{property:"article:published_time",content:"2019-11-10T00:00:00.000Z"},{property:"article:tag",content:"今日头条"},{property:"article:tag",content:"selenium"},{property:"article:tag",content:"滑块验证码"},{itemprop:"name",content:"Python实现头条自动发文章，赚点广告费"},{itemprop:"description",content:"前一段时间想尝试一下用 Python 实现自动发一些文章到头条上，因为头条没有提供API发布文章，所以只能通过一些浏览器自动化，实现自动发布文章。但是第一道坎就是登录账号的时候弹出来的滑块验证码。"},{itemprop:"image",content:"https://mmbiz.qpic.cn/mmbiz_png/7LoS4fBGsHtrDCLqiaxERVK5N5NYMtfr2RuGhucLxHFJ9OfkiciaH9Y4IrvclFTpX5xUef5vV6vMhy65hYfqjkkLg/0?wx_fmt=png"}]},regularPath:"/views/Python/2019/Python%E5%AE%9E%E7%8E%B0%E5%A4%B4%E6%9D%A1%E8%87%AA%E5%8A%A8%E5%8F%91%E6%96%87%E7%AB%A0%EF%BC%8C%E8%B5%9A%E7%82%B9%E5%B9%BF%E5%91%8A%E8%B4%B9.html",relativePath:"views/Python/2019/Python实现头条自动发文章，赚点广告费.md",key:"v-4a462752",path:"/views/Python/2019/Python%E5%AE%9E%E7%8E%B0%E5%A4%B4%E6%9D%A1%E8%87%AA%E5%8A%A8%E5%8F%91%E6%96%87%E7%AB%A0%EF%BC%8C%E8%B5%9A%E7%82%B9%E5%B9%BF%E5%91%8A%E8%B4%B9.html",headers:[{level:2,title:"计算滑动距离",slug:"计算滑动距离",normalizedTitle:"计算滑动距离",charIndex:331},{level:2,title:"模拟滑动",slug:"模拟滑动",normalizedTitle:"模拟滑动",charIndex:2396}],lastUpdated:"11/17/2019, 11:25:57 PM",headersStr:"计算滑动距离 模拟滑动",content:'前一段时间想尝试一下用 Python 实现自动发一些文章到头条上，因为头条没有提供API发布文章，所以只能通过一些浏览器自动化，实现自动发布文章。但是第一道坎就是登录账号的时候弹出来的滑块验证码。\n\n相信大家对滑块验证码比较熟悉了，就是一张有缺口的背景图，和一张缺口的图片，通过拖拽使背景图和前景图拼接成一张完整的图片。\n\n查找了网上很多文章，基本上滑块验证码实现的方式与头条的并不一样，所以也不能成为解决方案。在 GitHub 搜索「滑块验证码」指定 Python 语言后发现了头条的字样，于是阅读了一遍代码，了解了实现原理。\n\n核心代码分为两个步骤，一是计算需要滑动的距离，二是模拟出人手操作滑动的速度，因为匀速滑动会被认为是机器，不允许通过验证。\n\n\n# 计算滑动距离\n\n这里利用了 opencv-python 这个库提供的 matchTemplate 方法，从一张大图中搜索小图，计算出大图上各个区域和小图的相识度，再通过 minMaxLoc 方法找到最大值。从而计算需要滑动的距离。具体代码如下\n\n\n#  传入滑块背景图片本地路径和滑块本地路径，返回滑块到缺口的距离\ndef findPic(img_bg_path, img_slider_path):\n    """\n    找出图像中最佳匹配位置\n    :param img_bg_path: 滑块背景图本地路径\n    :param img_slider_path: 滑块图片本地路径\n    :return: 返回最差匹配、最佳匹配对应的x坐标\n    """\n\n    # 读取滑块背景图片，参数是图片路径，OpenCV默认使用BGR模式\n    # cv.imread()是 image read的简写\n    # img_bg 是一个numpy库ndarray数组对象\n    img_bg = cv.imread(img_bg_path)\n\n    # 对滑块背景图片进行处理，由BGR模式转为gray模式（即灰度模式，也就是黑白图片）\n    # 为什么要处理？ BGR模式（彩色图片）的数据比黑白图片的数据大，处理后可以加快算法的计算\n    # BGR模式：常见的是RGB模式\n    # R代表红，red; G代表绿，green;  B代表蓝，blue。\n    # RGB模式就是，色彩数据模式，R在高位，G在中间，B在低位。BGR正好相反。\n    # 如红色：RGB模式是(255,0,0)，BGR模式是(0,0,255)\n    img_bg_gray = cv.cvtColor(img_bg, cv.COLOR_BGR2GRAY)\n\n    # 读取滑块，参数1是图片路径，参数2是使用灰度模式\n    img_slider_gray = cv.imread(img_slider_path, 0)\n\n    # 在滑块背景图中匹配滑块。参数cv.TM_CCOEFF_NORMED是opencv中的一种算法\n    res = cv.matchTemplate(img_bg_gray, img_slider_gray, cv.TM_CCOEFF_NORMED)\n\n    print(\'#\' * 50)\n    print(type(res))  # 打印：<class \'numpy.ndarray\'>\n    print(res)\n    # 打印：一个二维的ndarray数组\n    # [[0.05604218  0.05557462  0.06844381... - 0.1784117 - 0.1811338 - 0.18415523]\n    #  [0.06151756  0.04408009  0.07010461... - 0.18493137 - 0.18440475 - 0.1843424]\n    # [0.0643926    0.06221284  0.0719175... - 0.18742703 - 0.18535161 - 0.1823346]\n    # ...\n    # [-0.07755355 - 0.08177952 - 0.08642308... - 0.16476074 - 0.16210903 - 0.15467581]\n    # [-0.06975575 - 0.07566144 - 0.07783117... - 0.1412715 - 0.15145643 - 0.14800543]\n    # [-0.08476129 - 0.08415948 - 0.0949327... - 0.1371379 - 0.14271489 - 0.14166716]]\n\n    print(\'#\' * 50)\n\n    # cv2.minMaxLoc() 从ndarray数组中找到最小值、最大值及他们的坐标\n    value = cv.minMaxLoc(res)\n    # 得到的value，如：(-0.1653602570295334, 0.6102921366691589, (144, 1), (141, 56))\n\n    print(value, "#" * 30)\n\n    # 获取x坐标，如上面的144、141\n    return value[2:][0][0], value[2:][1][0]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n\n\n\n# 模拟滑动\n\n利用匀加速和匀减速计算位移就可以大概模拟出人拖拽的行为。\n\n大概的思路如下\n\n\n\n代码实现如下\n\n# 返回两个数组：一个用于拖动滑块前进，一个用于拖动滑块折返\ndef generate_tracks(distance):\n    # 给距离加上20，这20像素用在滑块滑过缺口后，减速折返回到缺口\n    distance += 20\n    v = 0\n    t = 0.2\n    forward_tracks = []\n    current = 0\n    mid = distance * 3 / 5  # 减速阀值\n    while current < distance:\n        if current < mid:\n            a = 2  # 加速度为+2\n        else:\n            a = -3  # 加速度-3\n        s = v * t + 0.5 * a * (t ** 2)\n        v = v + a * t\n        current += s\n        forward_tracks.append(round(s))\n\n    back_tracks = [-3, -3, -2, -2, -2, -2, -2, -1, -1, -1, -1]\n    return forward_tracks, back_tracks\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n有了这两个核心代码，就可以使用账号密码登录头条了完整代码可以参考 https://github.com/chushiyan/slide_captcha_cracking。 这里并不推荐使用这种方式短时间内进行多次登录，可以使用设置 cookie 的方式跳过登录。\n\n最近在头条发了点搞笑动图，赚了瓶水钱，大家如果也想尝试，可以克隆我的项目 https://github.com/AD-feiben/toutiao。\n\n登录头条后，打开控制台 -> Network 选项，将 cookie 赋值给 config.py 中的 Toutiao_cookie_str 即可。\n\n\n\n----------------------------------------\n\n如果还有其他疑问，欢迎大家扫码关注我的公众号【前端develop】给我留言。\n\n',normalizedContent:'前一段时间想尝试一下用 python 实现自动发一些文章到头条上，因为头条没有提供api发布文章，所以只能通过一些浏览器自动化，实现自动发布文章。但是第一道坎就是登录账号的时候弹出来的滑块验证码。\n\n相信大家对滑块验证码比较熟悉了，就是一张有缺口的背景图，和一张缺口的图片，通过拖拽使背景图和前景图拼接成一张完整的图片。\n\n查找了网上很多文章，基本上滑块验证码实现的方式与头条的并不一样，所以也不能成为解决方案。在 github 搜索「滑块验证码」指定 python 语言后发现了头条的字样，于是阅读了一遍代码，了解了实现原理。\n\n核心代码分为两个步骤，一是计算需要滑动的距离，二是模拟出人手操作滑动的速度，因为匀速滑动会被认为是机器，不允许通过验证。\n\n\n# 计算滑动距离\n\n这里利用了 opencv-python 这个库提供的 matchtemplate 方法，从一张大图中搜索小图，计算出大图上各个区域和小图的相识度，再通过 minmaxloc 方法找到最大值。从而计算需要滑动的距离。具体代码如下\n\n\n#  传入滑块背景图片本地路径和滑块本地路径，返回滑块到缺口的距离\ndef findpic(img_bg_path, img_slider_path):\n    """\n    找出图像中最佳匹配位置\n    :param img_bg_path: 滑块背景图本地路径\n    :param img_slider_path: 滑块图片本地路径\n    :return: 返回最差匹配、最佳匹配对应的x坐标\n    """\n\n    # 读取滑块背景图片，参数是图片路径，opencv默认使用bgr模式\n    # cv.imread()是 image read的简写\n    # img_bg 是一个numpy库ndarray数组对象\n    img_bg = cv.imread(img_bg_path)\n\n    # 对滑块背景图片进行处理，由bgr模式转为gray模式（即灰度模式，也就是黑白图片）\n    # 为什么要处理？ bgr模式（彩色图片）的数据比黑白图片的数据大，处理后可以加快算法的计算\n    # bgr模式：常见的是rgb模式\n    # r代表红，red; g代表绿，green;  b代表蓝，blue。\n    # rgb模式就是，色彩数据模式，r在高位，g在中间，b在低位。bgr正好相反。\n    # 如红色：rgb模式是(255,0,0)，bgr模式是(0,0,255)\n    img_bg_gray = cv.cvtcolor(img_bg, cv.color_bgr2gray)\n\n    # 读取滑块，参数1是图片路径，参数2是使用灰度模式\n    img_slider_gray = cv.imread(img_slider_path, 0)\n\n    # 在滑块背景图中匹配滑块。参数cv.tm_ccoeff_normed是opencv中的一种算法\n    res = cv.matchtemplate(img_bg_gray, img_slider_gray, cv.tm_ccoeff_normed)\n\n    print(\'#\' * 50)\n    print(type(res))  # 打印：<class \'numpy.ndarray\'>\n    print(res)\n    # 打印：一个二维的ndarray数组\n    # [[0.05604218  0.05557462  0.06844381... - 0.1784117 - 0.1811338 - 0.18415523]\n    #  [0.06151756  0.04408009  0.07010461... - 0.18493137 - 0.18440475 - 0.1843424]\n    # [0.0643926    0.06221284  0.0719175... - 0.18742703 - 0.18535161 - 0.1823346]\n    # ...\n    # [-0.07755355 - 0.08177952 - 0.08642308... - 0.16476074 - 0.16210903 - 0.15467581]\n    # [-0.06975575 - 0.07566144 - 0.07783117... - 0.1412715 - 0.15145643 - 0.14800543]\n    # [-0.08476129 - 0.08415948 - 0.0949327... - 0.1371379 - 0.14271489 - 0.14166716]]\n\n    print(\'#\' * 50)\n\n    # cv2.minmaxloc() 从ndarray数组中找到最小值、最大值及他们的坐标\n    value = cv.minmaxloc(res)\n    # 得到的value，如：(-0.1653602570295334, 0.6102921366691589, (144, 1), (141, 56))\n\n    print(value, "#" * 30)\n\n    # 获取x坐标，如上面的144、141\n    return value[2:][0][0], value[2:][1][0]\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n\n\n\n# 模拟滑动\n\n利用匀加速和匀减速计算位移就可以大概模拟出人拖拽的行为。\n\n大概的思路如下\n\n\n\n代码实现如下\n\n# 返回两个数组：一个用于拖动滑块前进，一个用于拖动滑块折返\ndef generate_tracks(distance):\n    # 给距离加上20，这20像素用在滑块滑过缺口后，减速折返回到缺口\n    distance += 20\n    v = 0\n    t = 0.2\n    forward_tracks = []\n    current = 0\n    mid = distance * 3 / 5  # 减速阀值\n    while current < distance:\n        if current < mid:\n            a = 2  # 加速度为+2\n        else:\n            a = -3  # 加速度-3\n        s = v * t + 0.5 * a * (t ** 2)\n        v = v + a * t\n        current += s\n        forward_tracks.append(round(s))\n\n    back_tracks = [-3, -3, -2, -2, -2, -2, -2, -1, -1, -1, -1]\n    return forward_tracks, back_tracks\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n有了这两个核心代码，就可以使用账号密码登录头条了完整代码可以参考 https://github.com/chushiyan/slide_captcha_cracking。 这里并不推荐使用这种方式短时间内进行多次登录，可以使用设置 cookie 的方式跳过登录。\n\n最近在头条发了点搞笑动图，赚了瓶水钱，大家如果也想尝试，可以克隆我的项目 https://github.com/ad-feiben/toutiao。\n\n登录头条后，打开控制台 -> network 选项，将 cookie 赋值给 config.py 中的 toutiao_cookie_str 即可。\n\n\n\n----------------------------------------\n\n如果还有其他疑问，欢迎大家扫码关注我的公众号【前端develop】给我留言。\n\n',charsets:{cjk:!0}},{title:"装饰器详解",frontmatter:{title:"装饰器详解",date:"2019-11-17T00:00:00.000Z",categories:["Python"],tags:["装饰器"],description:"第一次认识装饰器，其实是在学习 Python 的过程了解到的，后来在 JS 中也了解到有对应的实现。最近公司的 TypeScript 项目中自己也写了一个装饰器。\n从不同语言对装饰器的实现，可以看出不同语言之间也在相互借鉴。下面我就用 Python 的代码来介绍装饰器。",meta:[{name:"image",content:"https://www.fedevelop.cn/imgs/python/1.png"},{name:"twitter:title",content:"装饰器详解"},{name:"twitter:description",content:"第一次认识装饰器，其实是在学习 Python 的过程了解到的，后来在 JS 中也了解到有对应的实现。最近公司的 TypeScript 项目中自己也写了一个装饰器。\n从不同语言对装饰器的实现，可以看出不同语言之间也在相互借鉴。下面我就用 Python 的代码来介绍装饰器。"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://www.fedevelop.cn/imgs/python/1.png"},{name:"twitter:url",content:"https://www.fedevelop.cn/views/Python/2019/%E8%A3%85%E9%A5%B0%E5%99%A8%E8%AF%A6%E8%A7%A3.html"},{property:"og:type",content:"article"},{property:"og:title",content:"装饰器详解"},{property:"og:description",content:"第一次认识装饰器，其实是在学习 Python 的过程了解到的，后来在 JS 中也了解到有对应的实现。最近公司的 TypeScript 项目中自己也写了一个装饰器。\n从不同语言对装饰器的实现，可以看出不同语言之间也在相互借鉴。下面我就用 Python 的代码来介绍装饰器。"},{property:"og:image",content:"https://www.fedevelop.cn/imgs/python/1.png"},{property:"og:url",content:"https://www.fedevelop.cn/views/Python/2019/%E8%A3%85%E9%A5%B0%E5%99%A8%E8%AF%A6%E8%A7%A3.html"},{property:"og:site_name",content:"前端develop"},{property:"article:published_time",content:"2019-11-17T00:00:00.000Z"},{property:"article:tag",content:"装饰器"},{itemprop:"name",content:"装饰器详解"},{itemprop:"description",content:"第一次认识装饰器，其实是在学习 Python 的过程了解到的，后来在 JS 中也了解到有对应的实现。最近公司的 TypeScript 项目中自己也写了一个装饰器。\n从不同语言对装饰器的实现，可以看出不同语言之间也在相互借鉴。下面我就用 Python 的代码来介绍装饰器。"},{itemprop:"image",content:"https://www.fedevelop.cn/imgs/python/1.png"}]},regularPath:"/views/Python/2019/%E8%A3%85%E9%A5%B0%E5%99%A8%E8%AF%A6%E8%A7%A3.html",relativePath:"views/Python/2019/装饰器详解.md",key:"v-2ef205fb",path:"/views/Python/2019/%E8%A3%85%E9%A5%B0%E5%99%A8%E8%AF%A6%E8%A7%A3.html",headers:[{level:2,title:"什么是装饰器",slug:"什么是装饰器",normalizedTitle:"什么是装饰器",charIndex:141},{level:2,title:"编写装饰器",slug:"编写装饰器",normalizedTitle:"编写装饰器",charIndex:395},{level:2,title:"装饰器的用处",slug:"装饰器的用处",normalizedTitle:"装饰器的用处",charIndex:2001},{level:2,title:"题目",slug:"题目",normalizedTitle:"题目",charIndex:2297}],excerpt:"<p>第一次认识装饰器，其实是在学习 Python 的过程了解到的，后来在 JS 中也了解到有对应的实现。最近公司的 TypeScript 项目中自己也写了一个装饰器。</p>\n<p>从不同语言对装饰器的实现，可以看出不同语言之间也在相互借鉴。下面我就用 Python 的代码来介绍装饰器。</p>\n",lastUpdated:"12/24/2019, 9:20:03 PM",headersStr:"什么是装饰器 编写装饰器 装饰器的用处 题目",content:"第一次认识装饰器，其实是在学习 Python 的过程了解到的，后来在 JS 中也了解到有对应的实现。最近公司的 TypeScript 项目中自己也写了一个装饰器。\n\n从不同语言对装饰器的实现，可以看出不同语言之间也在相互借鉴。下面我就用 Python 的代码来介绍装饰器。\n\n\n# 什么是装饰器\n\n装饰器本质上是一个函数。通过接收原始函数，装饰器可以在原始函数执行添加业务逻辑，使用装饰器的好处可以不污染原始函数。\n\n\n\n从上面的图中可以知道，使用装饰器的时候，会将原始函数加上一层装饰器中的代码，装饰器的代码并没有侵入到原始函数中，只是在调用原始函数前后，执行装饰器中的代码。\n\n如果不使用装饰器，则需要在原始函数中加入装饰器中的逻辑，这种做法虽然可以实现与装饰器相同的功能，理解起来要更容易，但是这种写法并不能提高复用性。\n\n\n\n了解了装饰器之后，我们来看看如何写一个装饰器。\n\n\n# 编写装饰器\n\n我们可以用一个打印函数来记录函数执行时间的日志装饰器。\n\nimport datetime\n\n\ndef log(func):\n    def wrapper(*args, **kw):\n        print('{} function was called in {}'.format(func.__name__, datetime.datetime.now()))\n        return func(*args, **kw)\n    return wrapper\n\ndef hello():\n    print('hello decorator')\n\nhello = log(hello)\n\nhello()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n其中 log 函数就是一个装饰器，接受一个原始函数作为参数，最后返回一个 wrapper 函数，wrapper 函数内先执行打印日志，然后才调用原始函数。\n\nhello 函数作为原始函数，使用 print 打印一串字符串。然后通过 log 函数返回的新函数重新赋值给 hello，这时的 hello 函数就具有了 log 函数中的打印日志的功能。\n\n下面执行一下代码，看看结果是否能达到我们预期的那样。执行完会打印下面两行字符串，这也说明了 hello 函数包含了 log 的功能。\n\nhello function was called in 2019-11-17 20:28:09.672132\nhello decorator\n\n\n1\n2\n\n\n装饰器的原理大概就是这样，只不过我们这种写法过于冗余，需要先声明 hello 函数，之后又将 log 函数的返回值重新赋值给 hello。Python 提供了语法糖，使用 @装饰器 代替上面的写法。当然还修复了函数的 __name__ 属性等，这里就不做展开了。\n\n下面用语法糖体验一下装饰器。\n\nimport datetime\n\n\ndef log(func):\n    def wrapper(*args, **kw):\n        print('{} function was called in {}'.format(func.__name__, datetime.datetime.now()))\n        return func(*args, **kw)\n    return wrapper\n\n@log\ndef hello():\n    print('hello decorator')\n\nhello()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n使用 @装饰器 之后代码更加简洁优雅。如果装饰器需要传递参数，则需要在装饰器添加多一层函数嵌套，通过最外层的函数获取参数。代码如下：\n\nimport datetime\n\n\ndef log(text):\n    def decorator(func):\n        def wrapper(*args, **kw):\n            print(text)\n            print('{} function was called in {}'.format(func.__name__, datetime.datetime.now()))\n            return func(*args, **kw)\n        return wrapper\n    return decorator\n\n@log('test')\ndef hello():\n    print('hello decorator')\n\nhello()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# 装饰器的用处\n\n我当时学完装饰器之后的第一个想法是可以用来做鉴权。如果有些函数需要用户登陆后才能操作，那么我们可以写一个这样的装饰器，在装饰器内获取用户是否登录，如果登录则调用原始函数；未登录则提示用户进行登录。\n\n如果不使用装饰器的做法，我们则需要在每个函数中编写是否登录的判断，这样不仅有大量重复的代码，而且代码变得不易维护。\n\n当然装饰器的用法不仅于此，像 flask 框架则用装饰器来实现路由管理等等。\n\n不同语言的装饰器只是在写法上略有区别，原理都是一样的。只要懂得原理，完全不用担心写法的差异。\n\n关于装饰器的更多详细的内容就不做展开了，大家有兴趣可以到网络上查阅资料。\n\n\n# 题目\n\n最后留一道题目给大家分析一下\n\ndef dec_a(func):\n    print('111')\n    def wrapper(*args, **kw):\n        print('222')\n        func(*args, **kw)\n        print('333')\n    return wrapper\n\ndef dec_b(func):\n    print('aaa')\n    def wrapper(*args, **kw):\n        print('bbb')\n        func(*args, **kw)\n        print('ccc')\n    return wrapper\n\n@dec_a\n@dec_b\ndef test():\n  print('test')\n\ntest()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n如果文中有说的不对的地方，欢迎留言指出改正。如果你对装饰器有不同的理解，也欢迎留言讨论。\n\n----------------------------------------\n\n如果还有其他疑问，欢迎大家扫码关注我的公众号【前端develop】给我留言。\n\n",normalizedContent:"第一次认识装饰器，其实是在学习 python 的过程了解到的，后来在 js 中也了解到有对应的实现。最近公司的 typescript 项目中自己也写了一个装饰器。\n\n从不同语言对装饰器的实现，可以看出不同语言之间也在相互借鉴。下面我就用 python 的代码来介绍装饰器。\n\n\n# 什么是装饰器\n\n装饰器本质上是一个函数。通过接收原始函数，装饰器可以在原始函数执行添加业务逻辑，使用装饰器的好处可以不污染原始函数。\n\n\n\n从上面的图中可以知道，使用装饰器的时候，会将原始函数加上一层装饰器中的代码，装饰器的代码并没有侵入到原始函数中，只是在调用原始函数前后，执行装饰器中的代码。\n\n如果不使用装饰器，则需要在原始函数中加入装饰器中的逻辑，这种做法虽然可以实现与装饰器相同的功能，理解起来要更容易，但是这种写法并不能提高复用性。\n\n\n\n了解了装饰器之后，我们来看看如何写一个装饰器。\n\n\n# 编写装饰器\n\n我们可以用一个打印函数来记录函数执行时间的日志装饰器。\n\nimport datetime\n\n\ndef log(func):\n    def wrapper(*args, **kw):\n        print('{} function was called in {}'.format(func.__name__, datetime.datetime.now()))\n        return func(*args, **kw)\n    return wrapper\n\ndef hello():\n    print('hello decorator')\n\nhello = log(hello)\n\nhello()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n\n\n其中 log 函数就是一个装饰器，接受一个原始函数作为参数，最后返回一个 wrapper 函数，wrapper 函数内先执行打印日志，然后才调用原始函数。\n\nhello 函数作为原始函数，使用 print 打印一串字符串。然后通过 log 函数返回的新函数重新赋值给 hello，这时的 hello 函数就具有了 log 函数中的打印日志的功能。\n\n下面执行一下代码，看看结果是否能达到我们预期的那样。执行完会打印下面两行字符串，这也说明了 hello 函数包含了 log 的功能。\n\nhello function was called in 2019-11-17 20:28:09.672132\nhello decorator\n\n\n1\n2\n\n\n装饰器的原理大概就是这样，只不过我们这种写法过于冗余，需要先声明 hello 函数，之后又将 log 函数的返回值重新赋值给 hello。python 提供了语法糖，使用 @装饰器 代替上面的写法。当然还修复了函数的 __name__ 属性等，这里就不做展开了。\n\n下面用语法糖体验一下装饰器。\n\nimport datetime\n\n\ndef log(func):\n    def wrapper(*args, **kw):\n        print('{} function was called in {}'.format(func.__name__, datetime.datetime.now()))\n        return func(*args, **kw)\n    return wrapper\n\n@log\ndef hello():\n    print('hello decorator')\n\nhello()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n使用 @装饰器 之后代码更加简洁优雅。如果装饰器需要传递参数，则需要在装饰器添加多一层函数嵌套，通过最外层的函数获取参数。代码如下：\n\nimport datetime\n\n\ndef log(text):\n    def decorator(func):\n        def wrapper(*args, **kw):\n            print(text)\n            print('{} function was called in {}'.format(func.__name__, datetime.datetime.now()))\n            return func(*args, **kw)\n        return wrapper\n    return decorator\n\n@log('test')\ndef hello():\n    print('hello decorator')\n\nhello()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n\n\n\n# 装饰器的用处\n\n我当时学完装饰器之后的第一个想法是可以用来做鉴权。如果有些函数需要用户登陆后才能操作，那么我们可以写一个这样的装饰器，在装饰器内获取用户是否登录，如果登录则调用原始函数；未登录则提示用户进行登录。\n\n如果不使用装饰器的做法，我们则需要在每个函数中编写是否登录的判断，这样不仅有大量重复的代码，而且代码变得不易维护。\n\n当然装饰器的用法不仅于此，像 flask 框架则用装饰器来实现路由管理等等。\n\n不同语言的装饰器只是在写法上略有区别，原理都是一样的。只要懂得原理，完全不用担心写法的差异。\n\n关于装饰器的更多详细的内容就不做展开了，大家有兴趣可以到网络上查阅资料。\n\n\n# 题目\n\n最后留一道题目给大家分析一下\n\ndef dec_a(func):\n    print('111')\n    def wrapper(*args, **kw):\n        print('222')\n        func(*args, **kw)\n        print('333')\n    return wrapper\n\ndef dec_b(func):\n    print('aaa')\n    def wrapper(*args, **kw):\n        print('bbb')\n        func(*args, **kw)\n        print('ccc')\n    return wrapper\n\n@dec_a\n@dec_b\ndef test():\n  print('test')\n\ntest()\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n如果文中有说的不对的地方，欢迎留言指出改正。如果你对装饰器有不同的理解，也欢迎留言讨论。\n\n----------------------------------------\n\n如果还有其他疑问，欢迎大家扫码关注我的公众号【前端develop】给我留言。\n\n",charsets:{cjk:!0}},{title:"关于我",frontmatter:{title:"关于我",date:"2019-10-16T00:00:00.000Z",sidebar:!1,categories:["关于我"],tags:["关于我"],description:"我在大学时期自学了 Android，大学毕业后参加了前端培训，然后一直从事前端开发， 3 年左右的开发经验。",meta:[{name:"image",content:"https://www.fedevelop.cn/imgs/qrcode.png"},{name:"twitter:title",content:"关于我"},{name:"twitter:description",content:"我在大学时期自学了 Android，大学毕业后参加了前端培训，然后一直从事前端开发， 3 年左右的开发经验。"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://www.fedevelop.cn/imgs/qrcode.png"},{name:"twitter:url",content:"https://www.fedevelop.cn/views/about.html"},{property:"og:type",content:"article"},{property:"og:title",content:"关于我"},{property:"og:description",content:"我在大学时期自学了 Android，大学毕业后参加了前端培训，然后一直从事前端开发， 3 年左右的开发经验。"},{property:"og:image",content:"https://www.fedevelop.cn/imgs/qrcode.png"},{property:"og:url",content:"https://www.fedevelop.cn/views/about.html"},{property:"og:site_name",content:"前端develop"},{property:"article:published_time",content:"2019-10-16T00:00:00.000Z"},{property:"article:tag",content:"关于我"},{itemprop:"name",content:"关于我"},{itemprop:"description",content:"我在大学时期自学了 Android，大学毕业后参加了前端培训，然后一直从事前端开发， 3 年左右的开发经验。"},{itemprop:"image",content:"https://www.fedevelop.cn/imgs/qrcode.png"}]},regularPath:"/views/about.html",relativePath:"views/about.md",key:"v-deaeb36e",path:"/views/about.html",headers:[{level:3,title:"其他平台账号",slug:"其他平台账号",normalizedTitle:"其他平台账号",charIndex:246}],lastUpdated:"3/13/2020, 10:24:15 PM",headersStr:"其他平台账号",content:"我在大学时期自学了 Android，大学毕业后参加了前端培训，然后一直从事前端开发， 3 年左右的开发经验。\n\n喜欢专研技术，在工作之余学习了 Python、Docker、Nginx 等。\n\n现在也在运营公众号【前端develop】，如果您喜欢我的文章，可以关注我的公众号，如有更新将会在第一时间提醒您。\n\n欢迎扫码关注我的公众号，公众号回复【微信】即可获取我的微信。😊\n\n\n\n当然也可以加入我的知识星球【前端develop】 https://t.zsxq.com/z3By7Qb\n\n\n# 其他平台账号\n\n平台       地址\nGitHub   https://github.com/AD-feiben\n掘金       https://juejin.im/user/58d3ab5b128fe1006cb236e1\n知乎       https://www.zhihu.com/people/fei-ben-3-68/activities\n简书       https://www.jianshu.com/u/ccb05861b473",normalizedContent:"我在大学时期自学了 android，大学毕业后参加了前端培训，然后一直从事前端开发， 3 年左右的开发经验。\n\n喜欢专研技术，在工作之余学习了 python、docker、nginx 等。\n\n现在也在运营公众号【前端develop】，如果您喜欢我的文章，可以关注我的公众号，如有更新将会在第一时间提醒您。\n\n欢迎扫码关注我的公众号，公众号回复【微信】即可获取我的微信。😊\n\n\n\n当然也可以加入我的知识星球【前端develop】 https://t.zsxq.com/z3by7qb\n\n\n# 其他平台账号\n\n平台       地址\ngithub   https://github.com/ad-feiben\n掘金       https://juejin.im/user/58d3ab5b128fe1006cb236e1\n知乎       https://www.zhihu.com/people/fei-ben-3-68/activities\n简书       https://www.jianshu.com/u/ccb05861b473",charsets:{cjk:!0}},{title:"腾讯地图实现地图找房功能",frontmatter:{title:"腾讯地图实现地图找房功能",date:"2017-11-04T00:00:00.000Z",categories:["前端"],tags:["Vue","地图"],description:"最近接到一个需求，需要使用鹅厂地图实现类似链家网的地图找房功能，然后我去网上看了一下，基本上使用的都是百度地图。于是我打算自己稍微封装一下，可以在使用的时候更加的方便。",meta:[{name:"image",content:"https://www.fedevelop.cn/imgs/前端/2.png"},{name:"twitter:title",content:"腾讯地图实现地图找房功能"},{name:"twitter:description",content:"最近接到一个需求，需要使用鹅厂地图实现类似链家网的地图找房功能，然后我去网上看了一下，基本上使用的都是百度地图。于是我打算自己稍微封装一下，可以在使用的时候更加的方便。"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://www.fedevelop.cn/imgs/前端/2.png"},{name:"twitter:url",content:"https://www.fedevelop.cn/views/%E5%89%8D%E7%AB%AF/2017/%E8%85%BE%E8%AE%AF%E5%9C%B0%E5%9B%BE%E5%AE%9E%E7%8E%B0%E5%9C%B0%E5%9B%BE%E6%89%BE%E6%88%BF%E5%8A%9F%E8%83%BD.html"},{property:"og:type",content:"article"},{property:"og:title",content:"腾讯地图实现地图找房功能"},{property:"og:description",content:"最近接到一个需求，需要使用鹅厂地图实现类似链家网的地图找房功能，然后我去网上看了一下，基本上使用的都是百度地图。于是我打算自己稍微封装一下，可以在使用的时候更加的方便。"},{property:"og:image",content:"https://www.fedevelop.cn/imgs/前端/2.png"},{property:"og:url",content:"https://www.fedevelop.cn/views/%E5%89%8D%E7%AB%AF/2017/%E8%85%BE%E8%AE%AF%E5%9C%B0%E5%9B%BE%E5%AE%9E%E7%8E%B0%E5%9C%B0%E5%9B%BE%E6%89%BE%E6%88%BF%E5%8A%9F%E8%83%BD.html"},{property:"og:site_name",content:"前端develop"},{property:"article:published_time",content:"2017-11-04T00:00:00.000Z"},{property:"article:tag",content:"Vue"},{property:"article:tag",content:"地图"},{itemprop:"name",content:"腾讯地图实现地图找房功能"},{itemprop:"description",content:"最近接到一个需求，需要使用鹅厂地图实现类似链家网的地图找房功能，然后我去网上看了一下，基本上使用的都是百度地图。于是我打算自己稍微封装一下，可以在使用的时候更加的方便。"},{itemprop:"image",content:"https://www.fedevelop.cn/imgs/前端/2.png"}]},regularPath:"/views/%E5%89%8D%E7%AB%AF/2017/%E8%85%BE%E8%AE%AF%E5%9C%B0%E5%9B%BE%E5%AE%9E%E7%8E%B0%E5%9C%B0%E5%9B%BE%E6%89%BE%E6%88%BF%E5%8A%9F%E8%83%BD.html",relativePath:"views/前端/2017/腾讯地图实现地图找房功能.md",key:"v-8840e594",path:"/views/%E5%89%8D%E7%AB%AF/2017/%E8%85%BE%E8%AE%AF%E5%9C%B0%E5%9B%BE%E5%AE%9E%E7%8E%B0%E5%9C%B0%E5%9B%BE%E6%89%BE%E6%88%BF%E5%8A%9F%E8%83%BD.html",headers:[{level:2,title:"01. 分析",slug:"_01-分析",normalizedTitle:"01. 分析",charIndex:89},{level:2,title:"02. 实现",slug:"_02-实现",normalizedTitle:"02. 实现",charIndex:660},{level:2,title:"03.实现效果",slug:"_03-实现效果",normalizedTitle:"03.实现效果",charIndex:5893}],lastUpdated:"10/24/2019, 10:00:46 PM",headersStr:"01. 分析 02. 实现 03.实现效果",content:"最近接到一个需求，需要使用鹅厂地图实现类似链家网的地图找房功能，然后我去网上看了一下，基本上使用的都是百度地图。于是我打算自己稍微封装一下，可以在使用的时候更加的方便。\n\n\n# 01. 分析\n\n在拿到这个需求的时候，我也是一脸懵逼，不知如何下手，在网上看一下，有说使用点聚合来实现的。官网给出的示例如下http://lbs.qq.com/javascript_v2/sample/overlay-markercluster.html\n\n看起来这个就是我要实现功能，我尝试地写了一下，发现这个样式比较难改，而且需要一次将所有的数据都请求过来，如果数据量非常大的时候请求需要花费的时间将会非常多，对用户体验也不够友好，所以这个方法并没有继续下去。\n\n后来我独自打开了链家的官网，抓了一下链家的数据，研究出了链家的套路。链家的地图找房主要分为三层。第一层为市区层，比如南山、罗湖等；第二层为片区，比如南头、科技园等；第三层则为小区。\n\n因为第一层，第二层的数据没有那么多，这两个接口都是把所有的数据一次返回给前端。但是第三层的数据量就非常的巨大了，链家采取的是返回部分数据，将前端页面上显示的最大经纬度以及最小经纬度传给后台，后台再将筛选后的数据返回给前端。（接口地址大家可以使用 Chrome 的开发工具进行抓包，这里需要注意的是链家的接口采用 jsonp 的形式，所以需要抓取 JS）\n\n\n\n> PS: Windos 平台可以按 F12 调出开发者工具，Mac 平台则是 Command + Option + I\n\n\n# 02. 实现\n\n理论分析完了，接下来就是实现的问题了。看着腾讯地图的 API，我觉得只有自定义覆盖物比较适合这个需求了。因为自定义覆盖物更加灵活，我们可以像写 HTML 一样，绘制出我们需要的样式。\n\n首先需要添加腾讯地图的API，这里我推荐使用异步加载的方式。因为项目使用 Vue 进行开发的单页应用，有可能用户并没有进入地图找房的页面，所以这里建议在打开地图找房的页面时添加腾讯地图的API。\n\n异步加载需要避免一个重复加载的问题，即不管用户是第几次打开地图找房，地图的 API 都是同一个。 这里为了降低代码复杂度，没有使用单例模式，具体的代码如下:\n\nconst TXMap = {\n  map: undefined, // 地图实例\n  // 异步加载获取api\n  getApi (funName) {\n    let script = document.createElement('script')\n    script.type = 'text/javascript'\n    script.src = `http://map.qq.com/api/js?v=2.exp&callback=${funName}`\n    document.body.appendChild(script)\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n可以看到异步加载就是动态加入 script 标签，src 为腾讯地图 api 的地址，src 包含一个 callback 参数，表示 js 加载完毕后会调用 funName 这个函数。添加了地图 api 之后，window 对象会有一个 qq.maps 对象，我们可以用来判断是否已经添加了 api，来避免重复添加 api。\n\n接下来就是实现自定义覆盖物这个方法了。还是参照官方文档(http://lbs.qq.com/javascript_v2/doc/overlay.html)，照葫芦画瓢。\n\nconst TXMap = {\n  map: undefined,\n  overlays: [], // 存放所有覆盖物\n  sourceData: [], // 原始数据\n  listener: undefined, // 地图缩放或平移的事件监听器\n\n  getApi () {}, /* 前面已经声明，此处省略 */\n\n  // 实现自定义覆盖物\n  drawOverlay (options) {\n    let _this = this // 下面有多个 window 对象的方法，避免 this 的指向问题\n    this.sourceData = options.data // 存放原始数据\n    // 绘制覆盖物之前，清理之前绘制的覆盖物\n    this.clearOverlays()\n\n    // 如果 initMap 方法已经实现，那么我们可以直接调用，否则需要进行定义\n    if (window.initMap === undefined) {\n      window.initMap = function () {} // 绘制覆盖物的具体实现\n\n      // 地图 api 如果没有引入则调用 getApi 方法，否则直接调用 initMap ()\n      window.qq === undefined ? this.getApi('initMap') : window.initMap()\n    } else {\n      window.initMap()\n    }\n  },\n  // 清除自定义覆盖物\n  clearOverlays () {\n    let overlay\n    while (overlay = this.overlays.pop()) {\n      overlay.onclick = null // 移除点击事件\n      overlay.parentNode.removeChild(overlay) // 移除 dom 元素\n    }\n  },\n  // 在 Vue 组件的 beforeDestroy 调用，重置地图，移除时间为监听，避免内存泄漏\n  clearMap () {\n    this.map = undefined\n    if (this.listener) {\n      window.qq.maps.event.removeListener(this.listener)\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n\n\n这个地图找房的架子到此就搭得差不多了，接下来就看看绘制覆盖物的具体实现了，也就是 initMap 这个方法。\n\nwindow.initMap = function () {\n  if (_this.map === undefined) {\n    // 地图对象为undefined时, 需要进行地图的绘制\n    _this.map = new window.qq.maps.Map(document.getElementById(options.containerId), {\n      // 初始化地图中心\n      center: new window.qq.maps.LatLng(options.lat || 22.702, options.lng || 114.09),\n      // 初始化缩放级别\n      zoom: options.zoom || 10,\n      // 地图最小缩放级别\n      minZoom: 10,\n      // 停用缩放控件\n      zoomControl: false,\n      // 停用地图类型控件\n      mapTypeControl: false\n    })\n    // idle 事件, 地图缩放或平移之后触发该事件\n    _this.listener = window.qq.maps.event.addListener(_this.map, 'idle', () => {\n      // 获取当前地图可视范围的最大最小经纬度\n      let bounds = _this.map.getBounds()\n      // 获取当前地图的缩放级别\n      let zoom = _this.map.getZoom()\n      // 调用 Vue 组件对 idle 事件的处理函数\n      options.callback && options.callback(bounds, zoom)\n    })\n  }\n\n  // 自定义覆盖物\n  if (window.CustomOverlay === undefined) {\n    window.CustomOverlay = function (lat, lng, name, houseCount) {\n      // 调用地图 api 计算出覆盖物的位置\n      this.position = new window.qq.maps.LatLng(lat, lng)\n      this.name = name // 区域名\n      this.houseCount = houseCount // 房源数量\n    }\n    // 继承 Overlay\n    window.CustomOverlay.prototype = new window.qq.maps.Overlay()\n    // 自定义覆盖物构造函数，定义覆盖为的 DOM 结构，DOM 结构，样式大家可以根据需求自己绘制\n    window.CustomOverlay.prototype.construct = function () {\n      let div = this.div = document.createElement('div')\n      div.className = 'my-overlay' // 覆盖物类名\n      // 覆盖物 html 结构\n      this.div.innerHTML = `<p class=\"count\" >${this.houseCount}<span>套</span></p><p class=\"name\">${this.name}</p>`\n      //将dom添加到覆盖物层，overlayMouseTarget的顺序容器 5，此容器包含透明的鼠标相应元素，用于接收Marker的鼠标事件\n      this.getPanes().overlayMouseTarget.appendChild(div)\n      // 将 div 添加到 overlays,可以用以后续处理\n      _this.overlays.push(div)\n      // 定义覆盖物的点击事件\n      let center = this.position\n      this.div.onclick = function () {\n        // 点击之后对地图进行缩放以及平移\n        let zoom = _this.map.getZoom()\n        if (zoom < 13) {\n          _this.map.setCenter(center)\n          _this.map.setZoom(13)\n        } else if (zoom >= 13 && zoom < 15) {\n          _this.map.setCenter(center)\n          _this.map.setZoom(15)\n        }\n      }\n    }\n\n    // 实现 draw 接口来绘制 DOM 元素\n    window.CustomOverlay.prototype.draw = function () {\n      let overlayProjection = this.getProjection()\n      // 获取覆盖物容器的相对像素坐标\n      let pixel = overlayProjection.fromLatLngToDivPixel(this.position)\n      let divStyle = this.div.style\n      // 根据 DOM 元素调整定位的位置\n      divStyle.top = pixel.y - 53 + 'px'\n      divStyle.left = pixel.x - 30 + 'px'\n    }\n  }\n\n  // 根据接口数据绘制覆盖物\n  if (_this.sourceData.length > 0) {\n    _this.sourceData.map(item => {\n      let customOverlay = new window.CustomOverlay(item.latitude, item.longitude, item.name, item.house_count)\n      customOverlay.setMap(_this.map)\n    })\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n\n\n至此，地图找房对绘制覆盖物方法的封装就完成了，接下来只需要将 TXMap 暴露出去，然后在 Vue 组件中进行引入，之后再向下面的方法使用即可\n\nTXMap.drawOverlay({\n  containerId: 'map-box',\n  data: res.data\n})\n\n\n1\n2\n3\n4\n\n\n\n# 03.实现效果\n\n这个例子我用了链家的数据做了两层，大家可以根据自己的需要进行修改。\n\n\n\n项目地址放在 GitHub\n\n----------------------------------------\n\n如果你喜欢我的文章，希望可以关注一下我的公众号【前端develop】\n\n",normalizedContent:"最近接到一个需求，需要使用鹅厂地图实现类似链家网的地图找房功能，然后我去网上看了一下，基本上使用的都是百度地图。于是我打算自己稍微封装一下，可以在使用的时候更加的方便。\n\n\n# 01. 分析\n\n在拿到这个需求的时候，我也是一脸懵逼，不知如何下手，在网上看一下，有说使用点聚合来实现的。官网给出的示例如下http://lbs.qq.com/javascript_v2/sample/overlay-markercluster.html\n\n看起来这个就是我要实现功能，我尝试地写了一下，发现这个样式比较难改，而且需要一次将所有的数据都请求过来，如果数据量非常大的时候请求需要花费的时间将会非常多，对用户体验也不够友好，所以这个方法并没有继续下去。\n\n后来我独自打开了链家的官网，抓了一下链家的数据，研究出了链家的套路。链家的地图找房主要分为三层。第一层为市区层，比如南山、罗湖等；第二层为片区，比如南头、科技园等；第三层则为小区。\n\n因为第一层，第二层的数据没有那么多，这两个接口都是把所有的数据一次返回给前端。但是第三层的数据量就非常的巨大了，链家采取的是返回部分数据，将前端页面上显示的最大经纬度以及最小经纬度传给后台，后台再将筛选后的数据返回给前端。（接口地址大家可以使用 chrome 的开发工具进行抓包，这里需要注意的是链家的接口采用 jsonp 的形式，所以需要抓取 js）\n\n\n\n> ps: windos 平台可以按 f12 调出开发者工具，mac 平台则是 command + option + i\n\n\n# 02. 实现\n\n理论分析完了，接下来就是实现的问题了。看着腾讯地图的 api，我觉得只有自定义覆盖物比较适合这个需求了。因为自定义覆盖物更加灵活，我们可以像写 html 一样，绘制出我们需要的样式。\n\n首先需要添加腾讯地图的api，这里我推荐使用异步加载的方式。因为项目使用 vue 进行开发的单页应用，有可能用户并没有进入地图找房的页面，所以这里建议在打开地图找房的页面时添加腾讯地图的api。\n\n异步加载需要避免一个重复加载的问题，即不管用户是第几次打开地图找房，地图的 api 都是同一个。 这里为了降低代码复杂度，没有使用单例模式，具体的代码如下:\n\nconst txmap = {\n  map: undefined, // 地图实例\n  // 异步加载获取api\n  getapi (funname) {\n    let script = document.createelement('script')\n    script.type = 'text/javascript'\n    script.src = `http://map.qq.com/api/js?v=2.exp&callback=${funname}`\n    document.body.appendchild(script)\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n\n\n可以看到异步加载就是动态加入 script 标签，src 为腾讯地图 api 的地址，src 包含一个 callback 参数，表示 js 加载完毕后会调用 funname 这个函数。添加了地图 api 之后，window 对象会有一个 qq.maps 对象，我们可以用来判断是否已经添加了 api，来避免重复添加 api。\n\n接下来就是实现自定义覆盖物这个方法了。还是参照官方文档(http://lbs.qq.com/javascript_v2/doc/overlay.html)，照葫芦画瓢。\n\nconst txmap = {\n  map: undefined,\n  overlays: [], // 存放所有覆盖物\n  sourcedata: [], // 原始数据\n  listener: undefined, // 地图缩放或平移的事件监听器\n\n  getapi () {}, /* 前面已经声明，此处省略 */\n\n  // 实现自定义覆盖物\n  drawoverlay (options) {\n    let _this = this // 下面有多个 window 对象的方法，避免 this 的指向问题\n    this.sourcedata = options.data // 存放原始数据\n    // 绘制覆盖物之前，清理之前绘制的覆盖物\n    this.clearoverlays()\n\n    // 如果 initmap 方法已经实现，那么我们可以直接调用，否则需要进行定义\n    if (window.initmap === undefined) {\n      window.initmap = function () {} // 绘制覆盖物的具体实现\n\n      // 地图 api 如果没有引入则调用 getapi 方法，否则直接调用 initmap ()\n      window.qq === undefined ? this.getapi('initmap') : window.initmap()\n    } else {\n      window.initmap()\n    }\n  },\n  // 清除自定义覆盖物\n  clearoverlays () {\n    let overlay\n    while (overlay = this.overlays.pop()) {\n      overlay.onclick = null // 移除点击事件\n      overlay.parentnode.removechild(overlay) // 移除 dom 元素\n    }\n  },\n  // 在 vue 组件的 beforedestroy 调用，重置地图，移除时间为监听，避免内存泄漏\n  clearmap () {\n    this.map = undefined\n    if (this.listener) {\n      window.qq.maps.event.removelistener(this.listener)\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n\n\n这个地图找房的架子到此就搭得差不多了，接下来就看看绘制覆盖物的具体实现了，也就是 initmap 这个方法。\n\nwindow.initmap = function () {\n  if (_this.map === undefined) {\n    // 地图对象为undefined时, 需要进行地图的绘制\n    _this.map = new window.qq.maps.map(document.getelementbyid(options.containerid), {\n      // 初始化地图中心\n      center: new window.qq.maps.latlng(options.lat || 22.702, options.lng || 114.09),\n      // 初始化缩放级别\n      zoom: options.zoom || 10,\n      // 地图最小缩放级别\n      minzoom: 10,\n      // 停用缩放控件\n      zoomcontrol: false,\n      // 停用地图类型控件\n      maptypecontrol: false\n    })\n    // idle 事件, 地图缩放或平移之后触发该事件\n    _this.listener = window.qq.maps.event.addlistener(_this.map, 'idle', () => {\n      // 获取当前地图可视范围的最大最小经纬度\n      let bounds = _this.map.getbounds()\n      // 获取当前地图的缩放级别\n      let zoom = _this.map.getzoom()\n      // 调用 vue 组件对 idle 事件的处理函数\n      options.callback && options.callback(bounds, zoom)\n    })\n  }\n\n  // 自定义覆盖物\n  if (window.customoverlay === undefined) {\n    window.customoverlay = function (lat, lng, name, housecount) {\n      // 调用地图 api 计算出覆盖物的位置\n      this.position = new window.qq.maps.latlng(lat, lng)\n      this.name = name // 区域名\n      this.housecount = housecount // 房源数量\n    }\n    // 继承 overlay\n    window.customoverlay.prototype = new window.qq.maps.overlay()\n    // 自定义覆盖物构造函数，定义覆盖为的 dom 结构，dom 结构，样式大家可以根据需求自己绘制\n    window.customoverlay.prototype.construct = function () {\n      let div = this.div = document.createelement('div')\n      div.classname = 'my-overlay' // 覆盖物类名\n      // 覆盖物 html 结构\n      this.div.innerhtml = `<p class=\"count\" >${this.housecount}<span>套</span></p><p class=\"name\">${this.name}</p>`\n      //将dom添加到覆盖物层，overlaymousetarget的顺序容器 5，此容器包含透明的鼠标相应元素，用于接收marker的鼠标事件\n      this.getpanes().overlaymousetarget.appendchild(div)\n      // 将 div 添加到 overlays,可以用以后续处理\n      _this.overlays.push(div)\n      // 定义覆盖物的点击事件\n      let center = this.position\n      this.div.onclick = function () {\n        // 点击之后对地图进行缩放以及平移\n        let zoom = _this.map.getzoom()\n        if (zoom < 13) {\n          _this.map.setcenter(center)\n          _this.map.setzoom(13)\n        } else if (zoom >= 13 && zoom < 15) {\n          _this.map.setcenter(center)\n          _this.map.setzoom(15)\n        }\n      }\n    }\n\n    // 实现 draw 接口来绘制 dom 元素\n    window.customoverlay.prototype.draw = function () {\n      let overlayprojection = this.getprojection()\n      // 获取覆盖物容器的相对像素坐标\n      let pixel = overlayprojection.fromlatlngtodivpixel(this.position)\n      let divstyle = this.div.style\n      // 根据 dom 元素调整定位的位置\n      divstyle.top = pixel.y - 53 + 'px'\n      divstyle.left = pixel.x - 30 + 'px'\n    }\n  }\n\n  // 根据接口数据绘制覆盖物\n  if (_this.sourcedata.length > 0) {\n    _this.sourcedata.map(item => {\n      let customoverlay = new window.customoverlay(item.latitude, item.longitude, item.name, item.house_count)\n      customoverlay.setmap(_this.map)\n    })\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n\n\n至此，地图找房对绘制覆盖物方法的封装就完成了，接下来只需要将 txmap 暴露出去，然后在 vue 组件中进行引入，之后再向下面的方法使用即可\n\ntxmap.drawoverlay({\n  containerid: 'map-box',\n  data: res.data\n})\n\n\n1\n2\n3\n4\n\n\n\n# 03.实现效果\n\n这个例子我用了链家的数据做了两层，大家可以根据自己的需要进行修改。\n\n\n\n项目地址放在 github\n\n----------------------------------------\n\n如果你喜欢我的文章，希望可以关注一下我的公众号【前端develop】\n\n",charsets:{cjk:!0}},{title:"Nuxt 实践",frontmatter:{title:"Nuxt 实践",date:"2018-04-10T00:00:00.000Z",categories:["前端"],tags:["Vue","Nuxt"],description:"\n最近一直在使用 Vue 做项目，一直写业务，时间长了没有太多成就感。然后自己就想做一个个人博客玩一玩（绳命在于折腾），了解一下接口开发，项目部署等等。所有东西做下来确实学习到了不少东西。",meta:[{name:"image",content:"http://smarterware.org/wp-content/uploads/2016/09/blogging.jpg"},{name:"twitter:title",content:"Nuxt 实践"},{name:"twitter:description",content:"\n最近一直在使用 Vue 做项目，一直写业务，时间长了没有太多成就感。然后自己就想做一个个人博客玩一玩（绳命在于折腾），了解一下接口开发，项目部署等等。所有东西做下来确实学习到了不少东西。"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"http://smarterware.org/wp-content/uploads/2016/09/blogging.jpg"},{name:"twitter:url",content:"https://www.fedevelop.cn/views/%E5%89%8D%E7%AB%AF/2018/Nuxt%20%E5%AE%9E%E8%B7%B5.html"},{property:"og:type",content:"article"},{property:"og:title",content:"Nuxt 实践"},{property:"og:description",content:"\n最近一直在使用 Vue 做项目，一直写业务，时间长了没有太多成就感。然后自己就想做一个个人博客玩一玩（绳命在于折腾），了解一下接口开发，项目部署等等。所有东西做下来确实学习到了不少东西。"},{property:"og:image",content:"http://smarterware.org/wp-content/uploads/2016/09/blogging.jpg"},{property:"og:url",content:"https://www.fedevelop.cn/views/%E5%89%8D%E7%AB%AF/2018/Nuxt%20%E5%AE%9E%E8%B7%B5.html"},{property:"og:site_name",content:"前端develop"},{property:"article:published_time",content:"2018-04-10T00:00:00.000Z"},{property:"article:tag",content:"Vue"},{property:"article:tag",content:"Nuxt"},{itemprop:"name",content:"Nuxt 实践"},{itemprop:"description",content:"\n最近一直在使用 Vue 做项目，一直写业务，时间长了没有太多成就感。然后自己就想做一个个人博客玩一玩（绳命在于折腾），了解一下接口开发，项目部署等等。所有东西做下来确实学习到了不少东西。"},{itemprop:"image",content:"http://smarterware.org/wp-content/uploads/2016/09/blogging.jpg"}]},regularPath:"/views/%E5%89%8D%E7%AB%AF/2018/Nuxt%20%E5%AE%9E%E8%B7%B5.html",relativePath:"views/前端/2018/Nuxt 实践.md",key:"v-74d83086",path:"/views/%E5%89%8D%E7%AB%AF/2018/Nuxt%20%E5%AE%9E%E8%B7%B5.html",headers:[{level:3,title:"预览地址",slug:"预览地址",normalizedTitle:"预览地址",charIndex:98},{level:3,title:"接口开发",slug:"接口开发",normalizedTitle:"接口开发",charIndex:63},{level:3,title:"前端页面开发",slug:"前端页面开发",normalizedTitle:"前端页面开发",charIndex:423},{level:3,title:"管理后台",slug:"管理后台",normalizedTitle:"管理后台",charIndex:162}],excerpt:'<p><img src="http://smarterware.org/wp-content/uploads/2016/09/blogging.jpg" alt=""></p>\n<p>最近一直在使用 Vue 做项目，一直写业务，时间长了没有太多成就感。然后自己就想做一个<a href="http://202.5.16.37" target="_blank" rel="noopener noreferrer">个人博客<OutboundLink/></a>玩一玩（绳命在于折腾），了解一下接口开发，项目部署等等。所有东西做下来确实学习到了不少东西。</p>\n',lastUpdated:"3/18/2020, 10:08:19 PM",headersStr:"预览地址 接口开发 前端页面开发 管理后台",content:"最近一直在使用 Vue 做项目，一直写业务，时间长了没有太多成就感。然后自己就想做一个个人博客玩一玩（绳命在于折腾），了解一下接口开发，项目部署等等。所有东西做下来确实学习到了不少东西。\n\n\n# 预览地址\n\n服务端渲染：http://202.5.16.37\n\n非服务端渲染：http://202.5.16.37:8888\n\n管理后台：http://202.5.16.37:8080\n\n\n# 接口开发\n\n一开始打算先去学习 go 语言再来开发，但是中途在 Github 上看到一个博客项目 ‘elapse’ 做的还挺好的，就去看一下服务端的源码。发现用 Node + koa + mongodb 写的，看起来也不是很难，于是我就开始照葫芦画瓢，按照自己的需求开发自己的业务。写接口还算比较快，遇到的问题像跨域、token 在 elapse 都可以找到解决办法，在这里我也不再赘述了。我的服务端的源码在此、接口文档，写的不好，有时间再重构。\n\n\n# 前端页面开发\n\n之前所有的项目都是用 Vue 开发，所以这个前端页面对于我来说算是小菜，没太大的挑战，很快就开发完了，但是用 Vue 开发的后果就是 SEO 不好，鼠标右键显示页面源码看下效果\n\n\n\n可以看到 body 标签里面就一个空的 div 以及其他的 script 标签，这就是国内搜索引擎看到的效果，完全不知道你想要显示什么东西。因为页面上的东西都是这个空白页出来之后再去加载的。比如有个用户上次看了你的一片文章，但是没有收藏，只是记得部分内容，想要从搜索引擎中搜的话，基本是不可能的了。源码在此（公司的项目都是外包，效果出来了就好了，没有人去在乎什么 SEO， 嘘，小声点！）。出于学习的目的，这个前端页面我觉得还是要用 Nuxt 重构一下。先看下效果对比一下，页面内容很多，只截取了一部分。\n\n\n\n这下搜索引擎就能读取到页面的内容，用户页可以搜索到了。对于没有接触过 Nuxt 的童鞋，我建议还是先看下官方文档，我遇到的很多问题基本在常见问题中都可以找到答案。部署的问题，文档写的是\n\n> 服务端渲染应用部署 部署 Nuxt.js 服务端渲染的应用不能直接使用nuxt命令，而应该先进行编译构建，然后再启动 Nuxt 服务，可通过以下两个命令来完成：\n> \n> nuxt build\n> nuxt start\n> \n> \n> 1\n> 2\n\n然后我在服务器上运行的时候就可以访问，一断开 ssh 连接，服务也就挂了。然后我在网上查找关于 Nuxt 部署的问题，看到很多人还以为和非服务端渲染一样，要打包之后用 ftp 上传到服务器再用 nginx 方向代理。 需要注意的是 Nuxt 服务端渲染也是一个 Node 应用 ，所以还是和服务端代码一样使用 pm2 开启服务，命令如下 pm2 start npm -- start，服务端渲染源码在此，如果你想在本地开发，可以修改assets/config.js来修改页面配置。\n\n\n# 管理后台\n\n因为只是我自己在用的，所以并没有用 Nuxt 重构，源码在此\n\n----------------------------------------\n\n如果你喜欢我的文章，希望可以关注一下我的公众号【前端develop】\n\n",normalizedContent:"最近一直在使用 vue 做项目，一直写业务，时间长了没有太多成就感。然后自己就想做一个个人博客玩一玩（绳命在于折腾），了解一下接口开发，项目部署等等。所有东西做下来确实学习到了不少东西。\n\n\n# 预览地址\n\n服务端渲染：http://202.5.16.37\n\n非服务端渲染：http://202.5.16.37:8888\n\n管理后台：http://202.5.16.37:8080\n\n\n# 接口开发\n\n一开始打算先去学习 go 语言再来开发，但是中途在 github 上看到一个博客项目 ‘elapse’ 做的还挺好的，就去看一下服务端的源码。发现用 node + koa + mongodb 写的，看起来也不是很难，于是我就开始照葫芦画瓢，按照自己的需求开发自己的业务。写接口还算比较快，遇到的问题像跨域、token 在 elapse 都可以找到解决办法，在这里我也不再赘述了。我的服务端的源码在此、接口文档，写的不好，有时间再重构。\n\n\n# 前端页面开发\n\n之前所有的项目都是用 vue 开发，所以这个前端页面对于我来说算是小菜，没太大的挑战，很快就开发完了，但是用 vue 开发的后果就是 seo 不好，鼠标右键显示页面源码看下效果\n\n\n\n可以看到 body 标签里面就一个空的 div 以及其他的 script 标签，这就是国内搜索引擎看到的效果，完全不知道你想要显示什么东西。因为页面上的东西都是这个空白页出来之后再去加载的。比如有个用户上次看了你的一片文章，但是没有收藏，只是记得部分内容，想要从搜索引擎中搜的话，基本是不可能的了。源码在此（公司的项目都是外包，效果出来了就好了，没有人去在乎什么 seo， 嘘，小声点！）。出于学习的目的，这个前端页面我觉得还是要用 nuxt 重构一下。先看下效果对比一下，页面内容很多，只截取了一部分。\n\n\n\n这下搜索引擎就能读取到页面的内容，用户页可以搜索到了。对于没有接触过 nuxt 的童鞋，我建议还是先看下官方文档，我遇到的很多问题基本在常见问题中都可以找到答案。部署的问题，文档写的是\n\n> 服务端渲染应用部署 部署 nuxt.js 服务端渲染的应用不能直接使用nuxt命令，而应该先进行编译构建，然后再启动 nuxt 服务，可通过以下两个命令来完成：\n> \n> nuxt build\n> nuxt start\n> \n> \n> 1\n> 2\n\n然后我在服务器上运行的时候就可以访问，一断开 ssh 连接，服务也就挂了。然后我在网上查找关于 nuxt 部署的问题，看到很多人还以为和非服务端渲染一样，要打包之后用 ftp 上传到服务器再用 nginx 方向代理。 需要注意的是 nuxt 服务端渲染也是一个 node 应用 ，所以还是和服务端代码一样使用 pm2 开启服务，命令如下 pm2 start npm -- start，服务端渲染源码在此，如果你想在本地开发，可以修改assets/config.js来修改页面配置。\n\n\n# 管理后台\n\n因为只是我自己在用的，所以并没有用 nuxt 重构，源码在此\n\n----------------------------------------\n\n如果你喜欢我的文章，希望可以关注一下我的公众号【前端develop】\n\n",charsets:{cjk:!0}},{title:"Vue 微信自定义分享总结",frontmatter:{title:"Vue 微信自定义分享总结",date:"2018-06-22T00:00:00.000Z",categories:["前端"],tags:["Vue","微信"],description:"因为之前一直使用的是 hash 模式，所以配置微信分享比较简单，不管是 Android 还是 iOS，只需要获取一次签名即可，然后在需要配置分享的页面在 wx.ready 的回调中编写分享的逻辑即可。",meta:[{name:"image",content:"https://www.fedevelop.cn/imgs/qrcode.png"},{name:"twitter:title",content:"Vue 微信自定义分享总结"},{name:"twitter:description",content:"因为之前一直使用的是 hash 模式，所以配置微信分享比较简单，不管是 Android 还是 iOS，只需要获取一次签名即可，然后在需要配置分享的页面在 wx.ready 的回调中编写分享的逻辑即可。"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://www.fedevelop.cn/imgs/qrcode.png"},{name:"twitter:url",content:"https://www.fedevelop.cn/views/%E5%89%8D%E7%AB%AF/2018/Vue%20%E5%BE%AE%E4%BF%A1%E8%87%AA%E5%AE%9A%E4%B9%89%E5%88%86%E4%BA%AB%E6%80%BB%E7%BB%93.html"},{property:"og:type",content:"article"},{property:"og:title",content:"Vue 微信自定义分享总结"},{property:"og:description",content:"因为之前一直使用的是 hash 模式，所以配置微信分享比较简单，不管是 Android 还是 iOS，只需要获取一次签名即可，然后在需要配置分享的页面在 wx.ready 的回调中编写分享的逻辑即可。"},{property:"og:image",content:"https://www.fedevelop.cn/imgs/qrcode.png"},{property:"og:url",content:"https://www.fedevelop.cn/views/%E5%89%8D%E7%AB%AF/2018/Vue%20%E5%BE%AE%E4%BF%A1%E8%87%AA%E5%AE%9A%E4%B9%89%E5%88%86%E4%BA%AB%E6%80%BB%E7%BB%93.html"},{property:"og:site_name",content:"前端develop"},{property:"article:published_time",content:"2018-06-22T00:00:00.000Z"},{property:"article:tag",content:"Vue"},{property:"article:tag",content:"微信"},{itemprop:"name",content:"Vue 微信自定义分享总结"},{itemprop:"description",content:"因为之前一直使用的是 hash 模式，所以配置微信分享比较简单，不管是 Android 还是 iOS，只需要获取一次签名即可，然后在需要配置分享的页面在 wx.ready 的回调中编写分享的逻辑即可。"},{itemprop:"image",content:"https://www.fedevelop.cn/imgs/qrcode.png"}]},regularPath:"/views/%E5%89%8D%E7%AB%AF/2018/Vue%20%E5%BE%AE%E4%BF%A1%E8%87%AA%E5%AE%9A%E4%B9%89%E5%88%86%E4%BA%AB%E6%80%BB%E7%BB%93.html",relativePath:"views/前端/2018/Vue 微信自定义分享总结.md",key:"v-b7202dc4",path:"/views/%E5%89%8D%E7%AB%AF/2018/Vue%20%E5%BE%AE%E4%BF%A1%E8%87%AA%E5%AE%9A%E4%B9%89%E5%88%86%E4%BA%AB%E6%80%BB%E7%BB%93.html",lastUpdated:"10/24/2019, 10:00:46 PM",headersStr:null,content:"因为之前一直使用的是 hash 模式，所以配置微信分享比较简单，不管是 Android 还是 iOS，只需要获取一次签名即可，然后在需要配置分享的页面在 wx.ready 的回调中编写分享的逻辑即可。\n\n原来一直用 hash 模式都没什么问题，可能是最近微信升级之后，在 Android 端微信授权后重定向回来页面并不会刷新，导致我无法获取用户的授权信息。尝试了很久之后将路由改成 history 模式就解决了。但是 history 模式也有很多棘手的问题，分享就是其中一个。\n\n在网上查阅了大量文章，但大多都是点到为止。说明了 Android 和 iOS 获取签名失败的问题。简单的说就是，在 iOS 的机器中，获取签名只需要去第一次进入的地址，在 Android 的机器中，每次路由跳转都需要拿当前地址去授权。 具体可以参考微信分享 总结（SPA/history模式）\n\n我的做法是在打开页面的时候就去获取签名，然后进入需要分享的页面时，再判断是或否在 Android 设备中，再决定是否需要获取新的签名。签名的问题解决之后，我以为就OK了，后面才发现在 iOS 分享还是有问题。最后定位到的问题是在 iOS 中不会在进入分享页之后重复触发 wx.ready 的方法，只需要编写分享的逻辑即可。\n\nfunction getSignature () {\n  // 获取微信签名\n}\n\nfunction wxShare (data) {\n  if (/(Android)/i.test(window.navigator.userAgent)) {\n    // 在 Android 设备，需要获取新的签名\n    getSignature()\n  }\n\n  wx.ready (function () {\n    shareConfig(data)\n  })\n\n  // iOS 设备不会多次触发 wx.ready\n  shareConfig(data)\n}\n\nfunction shareConfig (data) {\n  // 分享逻辑\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n----------------------------------------\n\n如果你喜欢我的文章，希望可以关注一下我的公众号【前端develop】\n\n",normalizedContent:"因为之前一直使用的是 hash 模式，所以配置微信分享比较简单，不管是 android 还是 ios，只需要获取一次签名即可，然后在需要配置分享的页面在 wx.ready 的回调中编写分享的逻辑即可。\n\n原来一直用 hash 模式都没什么问题，可能是最近微信升级之后，在 android 端微信授权后重定向回来页面并不会刷新，导致我无法获取用户的授权信息。尝试了很久之后将路由改成 history 模式就解决了。但是 history 模式也有很多棘手的问题，分享就是其中一个。\n\n在网上查阅了大量文章，但大多都是点到为止。说明了 android 和 ios 获取签名失败的问题。简单的说就是，在 ios 的机器中，获取签名只需要去第一次进入的地址，在 android 的机器中，每次路由跳转都需要拿当前地址去授权。 具体可以参考微信分享 总结（spa/history模式）\n\n我的做法是在打开页面的时候就去获取签名，然后进入需要分享的页面时，再判断是或否在 android 设备中，再决定是否需要获取新的签名。签名的问题解决之后，我以为就ok了，后面才发现在 ios 分享还是有问题。最后定位到的问题是在 ios 中不会在进入分享页之后重复触发 wx.ready 的方法，只需要编写分享的逻辑即可。\n\nfunction getsignature () {\n  // 获取微信签名\n}\n\nfunction wxshare (data) {\n  if (/(android)/i.test(window.navigator.useragent)) {\n    // 在 android 设备，需要获取新的签名\n    getsignature()\n  }\n\n  wx.ready (function () {\n    shareconfig(data)\n  })\n\n  // ios 设备不会多次触发 wx.ready\n  shareconfig(data)\n}\n\nfunction shareconfig (data) {\n  // 分享逻辑\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n----------------------------------------\n\n如果你喜欢我的文章，希望可以关注一下我的公众号【前端develop】\n\n",charsets:{cjk:!0}},{title:"记 Nuxt 开发遇到 OOM",frontmatter:{title:"记 Nuxt 开发遇到 OOM",date:"2018-10-06T00:00:00.000Z",categories:["前端"],tags:["Vue","Nuxt"],description:"最近在给自己的博客重新开发，因为 V1  使用 Nuxt 框架进行开发，所以新版也采用 Nuxt 来开发。发开到接近完成的时候，项目怎么都启动不了。看了下报错信息，显示的是 node 在编译的时候内存溢出了。",meta:[{name:"image",content:"https://www.fedevelop.cn/imgs/qrcode.png"},{name:"twitter:title",content:"记 Nuxt 开发遇到 OOM"},{name:"twitter:description",content:"最近在给自己的博客重新开发，因为 V1  使用 Nuxt 框架进行开发，所以新版也采用 Nuxt 来开发。发开到接近完成的时候，项目怎么都启动不了。看了下报错信息，显示的是 node 在编译的时候内存溢出了。"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://www.fedevelop.cn/imgs/qrcode.png"},{name:"twitter:url",content:"https://www.fedevelop.cn/views/%E5%89%8D%E7%AB%AF/2018/%E8%AE%B0%20Nuxt%20%E5%BC%80%E5%8F%91%E9%81%87%E5%88%B0%20OOM.html"},{property:"og:type",content:"article"},{property:"og:title",content:"记 Nuxt 开发遇到 OOM"},{property:"og:description",content:"最近在给自己的博客重新开发，因为 V1  使用 Nuxt 框架进行开发，所以新版也采用 Nuxt 来开发。发开到接近完成的时候，项目怎么都启动不了。看了下报错信息，显示的是 node 在编译的时候内存溢出了。"},{property:"og:image",content:"https://www.fedevelop.cn/imgs/qrcode.png"},{property:"og:url",content:"https://www.fedevelop.cn/views/%E5%89%8D%E7%AB%AF/2018/%E8%AE%B0%20Nuxt%20%E5%BC%80%E5%8F%91%E9%81%87%E5%88%B0%20OOM.html"},{property:"og:site_name",content:"前端develop"},{property:"article:published_time",content:"2018-10-06T00:00:00.000Z"},{property:"article:tag",content:"Vue"},{property:"article:tag",content:"Nuxt"},{itemprop:"name",content:"记 Nuxt 开发遇到 OOM"},{itemprop:"description",content:"最近在给自己的博客重新开发，因为 V1  使用 Nuxt 框架进行开发，所以新版也采用 Nuxt 来开发。发开到接近完成的时候，项目怎么都启动不了。看了下报错信息，显示的是 node 在编译的时候内存溢出了。"},{itemprop:"image",content:"https://www.fedevelop.cn/imgs/qrcode.png"}]},regularPath:"/views/%E5%89%8D%E7%AB%AF/2018/%E8%AE%B0%20Nuxt%20%E5%BC%80%E5%8F%91%E9%81%87%E5%88%B0%20OOM.html",relativePath:"views/前端/2018/记 Nuxt 开发遇到 OOM.md",key:"v-5173ead6",path:"/views/%E5%89%8D%E7%AB%AF/2018/%E8%AE%B0%20Nuxt%20%E5%BC%80%E5%8F%91%E9%81%87%E5%88%B0%20OOM.html",headers:[{level:2,title:"起因",slug:"起因",normalizedTitle:"起因",charIndex:2},{level:2,title:"定位问题",slug:"定位问题",normalizedTitle:"定位问题",charIndex:114},{level:2,title:"解决问题",slug:"解决问题",normalizedTitle:"解决问题",charIndex:1201}],lastUpdated:"5/23/2021, 12:01:40 PM",headersStr:"起因 定位问题 解决问题",content:"# 起因\n\n最近在给自己的博客重新开发，因为 V1 使用 Nuxt 框架进行开发，所以新版也采用 Nuxt 来开发。发开到接近完成的时候，项目怎么都启动不了。看了下报错信息，显示的是 node 在编译的时候内存溢出了。\n\n\n# 定位问题\n\n到 Nuxt 项目 Issues 看下有没有相同的问题，发现有人给 Node 运行时指定内存空间 node --max-old-space-size=4096 app 。但是我总觉得我不是这样的问题，第一，我的页面并不算多，而且运行的 js 代码也不多；第二，在开始的时候我都是可以启动的，增加了一两个页面之后就触发 OOM 了。后面我在网上看到一片文章描述的是 css 代码过多的嵌套也会触发 OOM，于是我把重点定位到 css 代码中，但是我看了下也没有过多的嵌套。最后我删了几个页面，把项目跑起来，在浏览器中看到了一份 less 代码重复加载了好几遍，这才让我恍然大悟。less 代码如下\n\n.helps(200);\n.helps(@n, @i: 0) when (@i =< @n) {\n  @px: (1px * @i);\n  .p-@{i}{padding: @px;}\n  .pt-@{i}{padding-top: @px;}\n  .pr-@{i}{padding-right: @px;}\n  .pb-@{i}{padding-bottom: @px;}\n  .pl-@{i}{padding-left: @px;}\n  .pv-@{i}{\n    padding-top: @px;\n    padding-bottom: @px;\n  }\n  .ph-@{i}{\n    padding-left: @px;\n    padding-right: @px;\n  }\n\n  .m-@{i}{margin: @px;}\n  .mt-@{i}{margin-top: @px;}\n  .mr-@{i}{margin-right: @px;}\n  .mb-@{i}{margin-bottom: @px;}\n  .ml-@{i}{margin-left: @px;}\n  .mv-@{i}{\n    margin-top: @px;\n    margin-bottom: @px;\n  }\n  .mh-@{i}{\n    margin-left: @px;\n    margin-right: @px;\n  }\n  .helps(@n, @i + 1);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n因为在多个页面中 import 了这个样式文件，css-loader 处理的时候导致了内存溢出。\n\n\n# 解决问题\n\n在每个页面中删除重复导入的样式代码就解决了 OOM 的问题。这是我第一次在开发中遇到 OOM，一开始有点不知所措，差点就要放弃 V2 的开发😆，慢慢分析还是可以解决问题，希望这篇文章能给您提供帮助。\n\n----------------------------------------\n\n如果你喜欢我的文章，希望可以关注一下我的公众号【前端develop】\n\n",normalizedContent:"# 起因\n\n最近在给自己的博客重新开发，因为 v1 使用 nuxt 框架进行开发，所以新版也采用 nuxt 来开发。发开到接近完成的时候，项目怎么都启动不了。看了下报错信息，显示的是 node 在编译的时候内存溢出了。\n\n\n# 定位问题\n\n到 nuxt 项目 issues 看下有没有相同的问题，发现有人给 node 运行时指定内存空间 node --max-old-space-size=4096 app 。但是我总觉得我不是这样的问题，第一，我的页面并不算多，而且运行的 js 代码也不多；第二，在开始的时候我都是可以启动的，增加了一两个页面之后就触发 oom 了。后面我在网上看到一片文章描述的是 css 代码过多的嵌套也会触发 oom，于是我把重点定位到 css 代码中，但是我看了下也没有过多的嵌套。最后我删了几个页面，把项目跑起来，在浏览器中看到了一份 less 代码重复加载了好几遍，这才让我恍然大悟。less 代码如下\n\n.helps(200);\n.helps(@n, @i: 0) when (@i =< @n) {\n  @px: (1px * @i);\n  .p-@{i}{padding: @px;}\n  .pt-@{i}{padding-top: @px;}\n  .pr-@{i}{padding-right: @px;}\n  .pb-@{i}{padding-bottom: @px;}\n  .pl-@{i}{padding-left: @px;}\n  .pv-@{i}{\n    padding-top: @px;\n    padding-bottom: @px;\n  }\n  .ph-@{i}{\n    padding-left: @px;\n    padding-right: @px;\n  }\n\n  .m-@{i}{margin: @px;}\n  .mt-@{i}{margin-top: @px;}\n  .mr-@{i}{margin-right: @px;}\n  .mb-@{i}{margin-bottom: @px;}\n  .ml-@{i}{margin-left: @px;}\n  .mv-@{i}{\n    margin-top: @px;\n    margin-bottom: @px;\n  }\n  .mh-@{i}{\n    margin-left: @px;\n    margin-right: @px;\n  }\n  .helps(@n, @i + 1);\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n因为在多个页面中 import 了这个样式文件，css-loader 处理的时候导致了内存溢出。\n\n\n# 解决问题\n\n在每个页面中删除重复导入的样式代码就解决了 oom 的问题。这是我第一次在开发中遇到 oom，一开始有点不知所措，差点就要放弃 v2 的开发😆，慢慢分析还是可以解决问题，希望这篇文章能给您提供帮助。\n\n----------------------------------------\n\n如果你喜欢我的文章，希望可以关注一下我的公众号【前端develop】\n\n",charsets:{cjk:!0}},{title:"10 分钟搭建私服 NPM",frontmatter:{title:"10 分钟搭建私服 NPM",date:"2019-12-24T00:00:00.000Z",categories:["前端"],tags:["NPM","Docker","Nexus"],description:"最近因为公司项目需要搭建一个私服 npm，安排我来研究，这两天也踩了不少坑，于是记录下踩坑经历，避免小伙伴们踩坑。",meta:[{name:"image",content:"https://www.fedevelop.cn/imgs/前端/4.png"},{name:"twitter:title",content:"10 分钟搭建私服 NPM"},{name:"twitter:description",content:"最近因为公司项目需要搭建一个私服 npm，安排我来研究，这两天也踩了不少坑，于是记录下踩坑经历，避免小伙伴们踩坑。"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://www.fedevelop.cn/imgs/前端/4.png"},{name:"twitter:url",content:"https://www.fedevelop.cn/views/%E5%89%8D%E7%AB%AF/2019/10%20%E5%88%86%E9%92%9F%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%8D%20NPM.html"},{property:"og:type",content:"article"},{property:"og:title",content:"10 分钟搭建私服 NPM"},{property:"og:description",content:"最近因为公司项目需要搭建一个私服 npm，安排我来研究，这两天也踩了不少坑，于是记录下踩坑经历，避免小伙伴们踩坑。"},{property:"og:image",content:"https://www.fedevelop.cn/imgs/前端/4.png"},{property:"og:url",content:"https://www.fedevelop.cn/views/%E5%89%8D%E7%AB%AF/2019/10%20%E5%88%86%E9%92%9F%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%8D%20NPM.html"},{property:"og:site_name",content:"前端develop"},{property:"article:published_time",content:"2019-12-24T00:00:00.000Z"},{property:"article:tag",content:"NPM"},{property:"article:tag",content:"Docker"},{property:"article:tag",content:"Nexus"},{itemprop:"name",content:"10 分钟搭建私服 NPM"},{itemprop:"description",content:"最近因为公司项目需要搭建一个私服 npm，安排我来研究，这两天也踩了不少坑，于是记录下踩坑经历，避免小伙伴们踩坑。"},{itemprop:"image",content:"https://www.fedevelop.cn/imgs/前端/4.png"}]},regularPath:"/views/%E5%89%8D%E7%AB%AF/2019/10%20%E5%88%86%E9%92%9F%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%8D%20NPM.html",relativePath:"views/前端/2019/10 分钟搭建私服 NPM.md",key:"v-1883794a",path:"/views/%E5%89%8D%E7%AB%AF/2019/10%20%E5%88%86%E9%92%9F%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%8D%20NPM.html",headers:[{level:2,title:"私服 npm 能做什么？",slug:"私服-npm-能做什么",normalizedTitle:"私服 npm 能做什么？",charIndex:62},{level:2,title:"安装 Nexus",slug:"安装-nexus",normalizedTitle:"安装 nexus",charIndex:273},{level:2,title:"创建 npm 仓库",slug:"创建-npm-仓库",normalizedTitle:"创建 npm 仓库",charIndex:1322},{level:3,title:"先创建 npm(proxy) 仓库，即代理仓库",slug:"先创建-npm-proxy-仓库-即代理仓库",normalizedTitle:"先创建 npm(proxy) 仓库，即代理仓库",charIndex:1388},{level:3,title:"创建 npm(hosted) 仓库，即私服仓库",slug:"创建-npm-hosted-仓库-即私服仓库",normalizedTitle:"创建 npm(hosted) 仓库，即私服仓库",charIndex:1511},{level:3,title:"创建 npm(group) 仓库，npm 组",slug:"创建-npm-group-仓库-npm-组",normalizedTitle:"创建 npm(group) 仓库，npm 组",charIndex:1579},{level:2,title:"验证私服 npm",slug:"验证私服-npm",normalizedTitle:"验证私服 npm",charIndex:1789},{level:2,title:"使用 fnmp",slug:"使用-fnmp",normalizedTitle:"使用 fnmp",charIndex:2960},{level:2,title:"发布 npm 包到私服",slug:"发布-npm-包到私服",normalizedTitle:"发布 npm 包到私服",charIndex:3249}],excerpt:"<p>最近因为公司项目需要搭建一个私服 npm，安排我来研究，这两天也踩了不少坑，于是记录下踩坑经历，避免小伙伴们踩坑。</p>\n",lastUpdated:"12/24/2019, 8:58:12 PM",headersStr:"私服 npm 能做什么？ 安装 Nexus 创建 npm 仓库 先创建 npm(proxy) 仓库，即代理仓库 创建 npm(hosted) 仓库，即私服仓库 创建 npm(group) 仓库，npm 组 验证私服 npm 使用 fnmp 发布 npm 包到私服",content:"最近因为公司项目需要搭建一个私服 npm，安排我来研究，这两天也踩了不少坑，于是记录下踩坑经历，避免小伙伴们踩坑。\n\n\n# 私服 npm 能做什么？\n\n如果一个公司的项目非常多，而且有很多的方法、组件、api都是可以共用的。如果没有私服 npm，那么我们将不断的复制粘贴这些代码到各个项目中，一旦其中的某一处需要修改，那么所有的项目都需要改一遍。\n\n更好地维护这些公共代码，比较好的处理方式是将这些公共代码封装成一个个 npm 包，但是我们又不能将公司的代码发布到外网的 npm 中，所以私服 npm 就能够很好地帮助我们解决这一问题。\n\n\n# 安装 Nexus\n\n由于之前学习 docker 的时候安装了 Nexus，小伙伴们可以参考之前的文章 使用 Nexus 创建 Docker 仓库，这里不再过多赘述。\n\n$ docker run -d --name nexus3 --restart=always \\\n    -p 8081:8081 \\\n    -p 8082:8082 \\\n    -v nexus-data:/nexus-data \\\n    sonatype/nexus3\nUnable to find image 'sonatype/nexus3:latest' locally\nlatest: Pulling from sonatype/nexus3\nc65691897a4d: Pull complete\n641d7cc5cbc4: Pull complete\nc508b13320cd: Pull complete\n79e3bf9d3132: Pull complete\nDigest: sha256:2c33632ccd8f8c5f9023a3d7f5f541e271833e402219f8c5a83a29d1721457ca\nStatus: Downloaded newer image for sonatype/nexus3:latest\nf637e039214978f8aac41e621e51588bd8cd8438055498c4060fbaf87799e64f\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n如果你已经安装了 docker，可以使用上面的命令安装并启动 Nexus 服务。否则需要到官网 https://www.sonatype.com/download-oss-sonatype 下载 Nexus。因为使用 docker 更加方便快捷，这里更推荐使用 docker 的方式启动 Nexus 服务。\n\n命令执行完后，用浏览器打开 http://localhost:8081 即可看到 Nexus 的管理页面。点击右上角 Sign In 登录，管理员账号 admin，初始密码可以根据提示进入容器内查看。\n\n$ docker exec -it f637 /bin/bash\nbash-4.4$ vi /nexus-data/admin.password\n\n\n1\n2\n\n\n其中 f637 为容器 id，需要根据启动 nexus 的容器 id 进行修改。\n\n\n# 创建 npm 仓库\n\n打开设置 -> repositories 页面，点击 Create repository 按钮。\n\n\n\n\n# 先创建 npm(proxy) 仓库，即代理仓库\n\n填入仓库名以及代理地址，代理地址可使用 npm 官方镜像地址 https://registry.npmjs.org\n\n\n\n完成后点击底部 Creaete repository 完成创建。\n\n\n# 创建 npm(hosted) 仓库，即私服仓库\n\n\n\n输入仓库名即可点击底部 Creaete repository 完成创建。\n\n\n# 创建 npm(group) 仓库，npm 组\n\n为什么要使用 npm(group) ？\n\n当我们从 npm(group) 这个仓库安装 npm 包时，首先会查看该仓库中是否存在，不存在时则会使用代理仓库到官方仓库进行下载。\n\n\n\n创建 npm(group) 需要填写仓库名，然后将 npm(proxy) 和 proxy(hosted) 设置为成员即可，点击底部 Creaete repository 完成创建。\n\n\n# 验证私服 npm\n\n$ npm install vue --registry=http://localhost:8081/repository/npm-group/\nnpm ERR! code E401\nnpm ERR! 401 Unauthorized: vue@latest\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /Users/admin/.npm/_logs/2019-12-24T08_33_14_088Z-debug.log\n\n\n1\n2\n3\n4\n5\n6\n\n\n可以看到出现了 401 未授权的错误，因为我们的 npm 没有登录私服。\n\n原有的 npm 是可以不登录进行安装 npm 包的，所以我们的私服也需要改成允许匿名访问的。\n\n打开设置页面 Security -> Anonymous，勾选 Allow anonymous users to access the server 即可，点击 save 保存。（网上的文章基本都跳过该步骤）\n\n$ npm install vue --registry=http://localhost:8081/repository/npm-group/\nnpm notice created a lockfile as package-lock.json. You should commit this file.\nnpm WARN npm-test@1.0.0 No description\nnpm WARN npm-test@1.0.0 No repository field.\n\n+ vue@2.6.11\nadded 1 package from 1 contributor in 2.944s\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n可以看到这次就安装成功了。\n\n但是每次都需要指定 --registry 也太麻烦了，我们可以使用 npm config set registry http://localhost:8081/repository/npm-group/, 将 npm 默认的镜像改成我们私服的镜像。这样我们就不需要每次都指定镜像源了。\n\n直接修改默认的镜像源也不够方便，因为发包的时候使用的镜像源是 http://localhost:8081/repository/npm-hosted/。最好的方式是写一个自己的 cnpm。\n\n因此我写了一个为私服 npm 使用工具 fnpm 在 github，小伙伴们可以到 https://github.com/AD-feiben/fnpm 上克隆。在使用上与 npm 一样，但是会从私服上拉取 npm 包，发布包也只会发布到私服中。\n\n\n# 使用 fnmp\n\n首先将 fnpm 克隆到本地\n\n$ git clone git@github.com:AD-feiben/fnpm.git\n\n\n1\n\n\n根据私服 npm 地址修改 lib/config.js 中 fnpmRegistry、fnpmHostedRegistry 对应的地址即可。\n\n将 fnpm 发布到私服，参考下文使用 npm 命令发布包。\n\n使用 npm install fnpm --registry=http://localhost:8081/repository/npm-group/ -g 下载 fnpm。\n\n接下就可以使用 fnpm 了。\n\n\n# 发布 npm 包到私服\n\n首先登录私服 npm\n\n$ npm login --registry=http://localhost:8081/repository/npm-hosted/\n\n# or\n# 如果安装了 fnpm\n$ fnpm login\n\n\n1\n2\n3\n4\n5\n\n\n使用 publish 命令发布\n\n$ npm publish --registry=http://localhost:8081/repository/npm-hosted/\n\n# or\n# 如果安装了 fnpm\n$ fnpm publish\n\n\n1\n2\n3\n4\n5\n\n\n如果文中有说的不对的地方，欢迎留言指出改正，也欢迎留言讨论。\n\n----------------------------------------\n\n如果还有其他疑问，欢迎大家扫码关注我的公众号【前端develop】给我留言。\n\n",normalizedContent:"最近因为公司项目需要搭建一个私服 npm，安排我来研究，这两天也踩了不少坑，于是记录下踩坑经历，避免小伙伴们踩坑。\n\n\n# 私服 npm 能做什么？\n\n如果一个公司的项目非常多，而且有很多的方法、组件、api都是可以共用的。如果没有私服 npm，那么我们将不断的复制粘贴这些代码到各个项目中，一旦其中的某一处需要修改，那么所有的项目都需要改一遍。\n\n更好地维护这些公共代码，比较好的处理方式是将这些公共代码封装成一个个 npm 包，但是我们又不能将公司的代码发布到外网的 npm 中，所以私服 npm 就能够很好地帮助我们解决这一问题。\n\n\n# 安装 nexus\n\n由于之前学习 docker 的时候安装了 nexus，小伙伴们可以参考之前的文章 使用 nexus 创建 docker 仓库，这里不再过多赘述。\n\n$ docker run -d --name nexus3 --restart=always \\\n    -p 8081:8081 \\\n    -p 8082:8082 \\\n    -v nexus-data:/nexus-data \\\n    sonatype/nexus3\nunable to find image 'sonatype/nexus3:latest' locally\nlatest: pulling from sonatype/nexus3\nc65691897a4d: pull complete\n641d7cc5cbc4: pull complete\nc508b13320cd: pull complete\n79e3bf9d3132: pull complete\ndigest: sha256:2c33632ccd8f8c5f9023a3d7f5f541e271833e402219f8c5a83a29d1721457ca\nstatus: downloaded newer image for sonatype/nexus3:latest\nf637e039214978f8aac41e621e51588bd8cd8438055498c4060fbaf87799e64f\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n如果你已经安装了 docker，可以使用上面的命令安装并启动 nexus 服务。否则需要到官网 https://www.sonatype.com/download-oss-sonatype 下载 nexus。因为使用 docker 更加方便快捷，这里更推荐使用 docker 的方式启动 nexus 服务。\n\n命令执行完后，用浏览器打开 http://localhost:8081 即可看到 nexus 的管理页面。点击右上角 sign in 登录，管理员账号 admin，初始密码可以根据提示进入容器内查看。\n\n$ docker exec -it f637 /bin/bash\nbash-4.4$ vi /nexus-data/admin.password\n\n\n1\n2\n\n\n其中 f637 为容器 id，需要根据启动 nexus 的容器 id 进行修改。\n\n\n# 创建 npm 仓库\n\n打开设置 -> repositories 页面，点击 create repository 按钮。\n\n\n\n\n# 先创建 npm(proxy) 仓库，即代理仓库\n\n填入仓库名以及代理地址，代理地址可使用 npm 官方镜像地址 https://registry.npmjs.org\n\n\n\n完成后点击底部 creaete repository 完成创建。\n\n\n# 创建 npm(hosted) 仓库，即私服仓库\n\n\n\n输入仓库名即可点击底部 creaete repository 完成创建。\n\n\n# 创建 npm(group) 仓库，npm 组\n\n为什么要使用 npm(group) ？\n\n当我们从 npm(group) 这个仓库安装 npm 包时，首先会查看该仓库中是否存在，不存在时则会使用代理仓库到官方仓库进行下载。\n\n\n\n创建 npm(group) 需要填写仓库名，然后将 npm(proxy) 和 proxy(hosted) 设置为成员即可，点击底部 creaete repository 完成创建。\n\n\n# 验证私服 npm\n\n$ npm install vue --registry=http://localhost:8081/repository/npm-group/\nnpm err! code e401\nnpm err! 401 unauthorized: vue@latest\n\nnpm err! a complete log of this run can be found in:\nnpm err!     /users/admin/.npm/_logs/2019-12-24t08_33_14_088z-debug.log\n\n\n1\n2\n3\n4\n5\n6\n\n\n可以看到出现了 401 未授权的错误，因为我们的 npm 没有登录私服。\n\n原有的 npm 是可以不登录进行安装 npm 包的，所以我们的私服也需要改成允许匿名访问的。\n\n打开设置页面 security -> anonymous，勾选 allow anonymous users to access the server 即可，点击 save 保存。（网上的文章基本都跳过该步骤）\n\n$ npm install vue --registry=http://localhost:8081/repository/npm-group/\nnpm notice created a lockfile as package-lock.json. you should commit this file.\nnpm warn npm-test@1.0.0 no description\nnpm warn npm-test@1.0.0 no repository field.\n\n+ vue@2.6.11\nadded 1 package from 1 contributor in 2.944s\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n可以看到这次就安装成功了。\n\n但是每次都需要指定 --registry 也太麻烦了，我们可以使用 npm config set registry http://localhost:8081/repository/npm-group/, 将 npm 默认的镜像改成我们私服的镜像。这样我们就不需要每次都指定镜像源了。\n\n直接修改默认的镜像源也不够方便，因为发包的时候使用的镜像源是 http://localhost:8081/repository/npm-hosted/。最好的方式是写一个自己的 cnpm。\n\n因此我写了一个为私服 npm 使用工具 fnpm 在 github，小伙伴们可以到 https://github.com/ad-feiben/fnpm 上克隆。在使用上与 npm 一样，但是会从私服上拉取 npm 包，发布包也只会发布到私服中。\n\n\n# 使用 fnmp\n\n首先将 fnpm 克隆到本地\n\n$ git clone git@github.com:ad-feiben/fnpm.git\n\n\n1\n\n\n根据私服 npm 地址修改 lib/config.js 中 fnpmregistry、fnpmhostedregistry 对应的地址即可。\n\n将 fnpm 发布到私服，参考下文使用 npm 命令发布包。\n\n使用 npm install fnpm --registry=http://localhost:8081/repository/npm-group/ -g 下载 fnpm。\n\n接下就可以使用 fnpm 了。\n\n\n# 发布 npm 包到私服\n\n首先登录私服 npm\n\n$ npm login --registry=http://localhost:8081/repository/npm-hosted/\n\n# or\n# 如果安装了 fnpm\n$ fnpm login\n\n\n1\n2\n3\n4\n5\n\n\n使用 publish 命令发布\n\n$ npm publish --registry=http://localhost:8081/repository/npm-hosted/\n\n# or\n# 如果安装了 fnpm\n$ fnpm publish\n\n\n1\n2\n3\n4\n5\n\n\n如果文中有说的不对的地方，欢迎留言指出改正，也欢迎留言讨论。\n\n----------------------------------------\n\n如果还有其他疑问，欢迎大家扫码关注我的公众号【前端develop】给我留言。\n\n",charsets:{cjk:!0}},{title:"【源码解读】通过分析 Vue computed 的实现，居然发现隐藏的小彩蛋",frontmatter:{title:"【源码解读】通过分析 Vue computed 的实现，居然发现隐藏的小彩蛋",date:"2020-03-18T00:00:00.000Z",categories:["前端"],tags:["Vue","源码"],description:"Vue 的 computed 经常会用到，其中包含以下两个重点：\n1、 computed 的计算结果会进行缓存；\n2、只有在响应式依赖发生改变时才会重新计算结果。\n接下从源码的出发，看看能不能验证这两个重点。为了能更好理解 computed 的实现，文章字数会比较多，请耐心阅读。",meta:[{name:"image",content:"https://www.fedevelop.cn/imgs/qrcode.png"},{name:"twitter:title",content:"【源码解读】通过分析 Vue computed 的实现，居然发现隐藏的小彩蛋"},{name:"twitter:description",content:"Vue 的 computed 经常会用到，其中包含以下两个重点：\n1、 computed 的计算结果会进行缓存；\n2、只有在响应式依赖发生改变时才会重新计算结果。\n接下从源码的出发，看看能不能验证这两个重点。为了能更好理解 computed 的实现，文章字数会比较多，请耐心阅读。"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://www.fedevelop.cn/imgs/qrcode.png"},{name:"twitter:url",content:"https://www.fedevelop.cn/views/%E5%89%8D%E7%AB%AF/2020/%E3%80%90%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB%E3%80%91%E9%80%9A%E8%BF%87%E5%88%86%E6%9E%90%20Vue%20computed%20%E7%9A%84%E5%AE%9E%E7%8E%B0%EF%BC%8C%E5%B1%85%E7%84%B6%E5%8F%91%E7%8E%B0%E9%9A%90%E8%97%8F%E7%9A%84%E5%B0%8F%E5%BD%A9%E8%9B%8B.html"},{property:"og:type",content:"article"},{property:"og:title",content:"【源码解读】通过分析 Vue computed 的实现，居然发现隐藏的小彩蛋"},{property:"og:description",content:"Vue 的 computed 经常会用到，其中包含以下两个重点：\n1、 computed 的计算结果会进行缓存；\n2、只有在响应式依赖发生改变时才会重新计算结果。\n接下从源码的出发，看看能不能验证这两个重点。为了能更好理解 computed 的实现，文章字数会比较多，请耐心阅读。"},{property:"og:image",content:"https://www.fedevelop.cn/imgs/qrcode.png"},{property:"og:url",content:"https://www.fedevelop.cn/views/%E5%89%8D%E7%AB%AF/2020/%E3%80%90%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB%E3%80%91%E9%80%9A%E8%BF%87%E5%88%86%E6%9E%90%20Vue%20computed%20%E7%9A%84%E5%AE%9E%E7%8E%B0%EF%BC%8C%E5%B1%85%E7%84%B6%E5%8F%91%E7%8E%B0%E9%9A%90%E8%97%8F%E7%9A%84%E5%B0%8F%E5%BD%A9%E8%9B%8B.html"},{property:"og:site_name",content:"前端develop"},{property:"article:published_time",content:"2020-03-18T00:00:00.000Z"},{property:"article:tag",content:"Vue"},{property:"article:tag",content:"源码"},{itemprop:"name",content:"【源码解读】通过分析 Vue computed 的实现，居然发现隐藏的小彩蛋"},{itemprop:"description",content:"Vue 的 computed 经常会用到，其中包含以下两个重点：\n1、 computed 的计算结果会进行缓存；\n2、只有在响应式依赖发生改变时才会重新计算结果。\n接下从源码的出发，看看能不能验证这两个重点。为了能更好理解 computed 的实现，文章字数会比较多，请耐心阅读。"},{itemprop:"image",content:"https://www.fedevelop.cn/imgs/qrcode.png"}]},regularPath:"/views/%E5%89%8D%E7%AB%AF/2020/%E3%80%90%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB%E3%80%91%E9%80%9A%E8%BF%87%E5%88%86%E6%9E%90%20Vue%20computed%20%E7%9A%84%E5%AE%9E%E7%8E%B0%EF%BC%8C%E5%B1%85%E7%84%B6%E5%8F%91%E7%8E%B0%E9%9A%90%E8%97%8F%E7%9A%84%E5%B0%8F%E5%BD%A9%E8%9B%8B.html",relativePath:"views/前端/2020/【源码解读】通过分析 Vue computed 的实现，居然发现隐藏的小彩蛋.md",key:"v-17869ba0",path:"/views/%E5%89%8D%E7%AB%AF/2020/%E3%80%90%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB%E3%80%91%E9%80%9A%E8%BF%87%E5%88%86%E6%9E%90%20Vue%20computed%20%E7%9A%84%E5%AE%9E%E7%8E%B0%EF%BC%8C%E5%B1%85%E7%84%B6%E5%8F%91%E7%8E%B0%E9%9A%90%E8%97%8F%E7%9A%84%E5%B0%8F%E5%BD%A9%E8%9B%8B.html",headers:[{level:2,title:"源码分析",slug:"源码分析",normalizedTitle:"源码分析",charIndex:148},{level:3,title:"data 初始化",slug:"data-初始化",normalizedTitle:"data 初始化",charIndex:806},{level:3,title:"computed 初始化",slug:"computed-初始化",normalizedTitle:"computed 初始化",charIndex:7752},{level:2,title:"总结",slug:"总结",normalizedTitle:"总结",charIndex:14853}],excerpt:"<p>Vue 的 computed 经常会用到，其中包含以下两个重点：</p>\n<p>1、 <code>computed</code> 的计算结果会进行缓存；</p>\n<p>2、只有在响应式依赖发生改变时才会重新计算结果。</p>\n<p>接下从源码的出发，看看能不能验证这两个重点。为了能更好理解 computed 的实现，文章字数会比较多，请耐心阅读。</p>\n",lastUpdated:"3/18/2020, 11:27:14 PM",headersStr:"源码分析 data 初始化 computed 初始化 总结",content:"Vue 的 computed 经常会用到，其中包含以下两个重点：\n\n1、 computed 的计算结果会进行缓存；\n\n2、只有在响应式依赖发生改变时才会重新计算结果。\n\n接下从源码的出发，看看能不能验证这两个重点。为了能更好理解 computed 的实现，文章字数会比较多，请耐心阅读。\n\n\n# 源码分析\n\n// vue/src/core/instance/state.js\nexport function initState (vm: Component) {\n  vm._watchers = []\n  const opts = vm.$options\n  // 初始化 props\n  if (opts.props) initProps(vm, opts.props)\n  // 初始化 methods\n  if (opts.methods) initMethods(vm, opts.methods)\n  // 初始化 data\n  if (opts.data) {\n    initData(vm)\n  } else {\n    observe(vm._data = {}, true /* asRootData */)\n  }\n  // 初始化 computed\n  if (opts.computed) initComputed(vm, opts.computed)\n  // 初始化 watch\n  if (opts.watch && opts.watch !== nativeWatch) {\n    initWatch(vm, opts.watch)\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n从初始化状态的顺序可以看出，在翻转字符串的例子中会先初始化 data，再进行初始化 computed。\n\n\n# data 初始化\n\n先看看初始化 data 做了什么，initData 源码如下：\n\n// vue/src/core/instance/state.js\nfunction initData (vm: Component) {\n  let data = vm.$options.data\n  // 兼容 对象或函数返回对象的写法\n  data = vm._data = typeof data === 'function'\n    ? getData(data, vm)\n    : data || {}\n\n  // 判断 data 是否为普通对象\n  if (!isPlainObject(data)) {\n    // data 不是普通对象，重新赋值为空对象，并在输出警告\n    data = {}\n    ...\n  }\n  // proxy data on instance\n  const keys = Object.keys(data)\n  const props = vm.$options.props\n  const methods = vm.$options.methods\n  let i = keys.length\n  while (i--) {\n    const key = keys[i]\n    // data 的属性不能与 methods、 props 的属性重复\n    if (process.env.NODE_ENV !== 'production') {\n      // 重复 key，输出警告\n      ...\n    } else if (!isReserved(key)) {\n      // 将每个 key 挂载到实例上，在组件内就可以用 this.key 取值\n      proxy(vm, `_data`, key)\n    }\n  }\n  // 监听 data\n  // observe data\n  observe(data, true /* asRootData */)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\n初始化 data，主要做了 3 点，1、属性名重复的判断；2、将属性挂载到 vm 上；3、监听 data。\n\n接下来看看 observe 的实现，源码如下：\n\n// vue/src/core/observer/index.js\nexport function observe (value: any, asRootData: ?boolean): Observer | void {\n  // 非对象 或者是 VNode，直接 return\n  if (!isObject(value) || value instanceof VNode) {\n    return\n  }\n  let ob: Observer | void\n  if (hasOwn(value, '__ob__') && value.__ob__ instanceof Observer) {\n    // 存在 '__ob__' 属性，表示已经监听\n    ob = value.__ob__\n  } else if (\n    shouldObserve &&\n    !isServerRendering() &&\n    (Array.isArray(value) || isPlainObject(value)) &&\n    Object.isExtensible(value) &&\n    !value._isVue\n  ) {\n    // 开始创建监听\n    ob = new Observer(value)\n  }\n  if (asRootData && ob) {\n    ob.vmCount++\n  }\n  return ob\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n接下来则到了 Observer 类，源码如下：\n\n// vue/src/core/observer/index.js\nexport class Observer {\n  value: any;\n  dep: Dep;\n  vmCount: number; // number of vms that have this object as root $data\n\n  constructor (value: any) {\n    this.value = value\n    this.dep = new Dep()\n    this.vmCount = 0\n    // 将 '__ob__' 挂载到 value 上，避免重复监听\n    def(value, '__ob__', this)\n    if (Array.isArray(value)) {\n      if (hasProto) {\n        protoAugment(value, arrayMethods)\n      } else {\n        copyAugment(value, arrayMethods, arrayKeys)\n      }\n      this.observeArray(value)\n    } else {\n      this.walk(value)\n    }\n  }\n\n  walk (obj: Object) {\n    const keys = Object.keys(obj)\n    for (let i = 0; i < keys.length; i++) {\n      // 将对象每个属性添加 getter、 setter\n      defineReactive(obj, keys[i])\n    }\n  }\n\n  observeArray (items: Array<any>) {\n    for (let i = 0, l = items.length; i < l; i++) {\n     // 对数组的每一项进行监听\n      observe(items[i])\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n\n\n接下来会调用 defineReactive，源码如下：\n\n// vue/src/core/observer/index.js\nexport function defineReactive (\n  obj: Object,\n  key: string,\n  val: any,\n  customSetter?: ?Function,\n  shallow?: boolean\n) {\n  // dep 用于依赖收集\n  const dep = new Dep()\n\n  ...\n\n  // data 的值有可能包含数组、对象，在这里 data 的值进行监听\n  let childOb = !shallow && observe(val)\n  Object.defineProperty(obj, key, {\n    enumerable: true,\n    configurable: true,\n    get: function reactiveGetter () {\n      const value = getter ? getter.call(obj) : val\n      // Dep.target 是一个静态属性\n      // 给 data 的属性添加 getter 时，target 为 undefined，不会进行依赖收集\n      // 当 computed 用了 data中的属性时时将会进行依赖收集，先跳过这部分，等到了 computed 再回来看\n      if (Dep.target) {\n        dep.depend()\n        if (childOb) {\n          childOb.dep.depend()\n          if (Array.isArray(value)) {\n            dependArray(value)\n          }\n        }\n      }\n      return value\n    },\n    set: function reactiveSetter (newVal) {\n      const value = getter ? getter.call(obj) : val\n      ...\n      // #7981: for accessor properties without setter\n      if (getter && !setter) return\n      if (setter) {\n        setter.call(obj, newVal)\n      } else {\n        val = newVal\n      }\n      childOb = !shallow && observe(newVal)\n      // 当值发生变化时，通知所有订阅者进行更新\n      dep.notify()\n    }\n  })\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n\n\ndefineReactive 中用到了 Dep 用来进行依赖收集，接下来看看 Dep 的源码：\n\n// vue/src/core/observer/dep.js\nexport default class Dep {\n  static target: ?Watcher;\n  id: number;\n  subs: Array<Watcher>;\n\n  constructor () {\n    this.id = uid++\n    this.subs = []\n  }\n\n  // 添加订阅者\n  addSub (sub: Watcher) {\n    this.subs.push(sub)\n  }\n  // 删除订阅者\n  removeSub (sub: Watcher) {\n    remove(this.subs, sub)\n  }\n\n  // 将 Dep 实例传递给目标 Watcher 上，目标 Watcher 再通过 addSub 进行订阅\n  depend () {\n    // 只有目标 Watcher 存在才可以进行订阅\n    if (Dep.target) {\n      Dep.target.addDep(this)\n    }\n  }\n\n  // 通知订阅者\n  notify () {\n    // 根据 Watcher id 进行排序，通知更新\n    const subs = this.subs.slice()\n    if (process.env.NODE_ENV !== 'production' && !config.async) {\n      subs.sort((a, b) => a.id - b.id)\n    }\n    for (let i = 0, l = subs.length; i < l; i++) {\n      // 调用订阅 Watcher 的 update 方法进行更新\n      subs[i].update()\n    }\n  }\n}\n\nDep.target = null\nconst targetStack = []\n\n// 添加目标 Watcher，并将 Dep.target 指向最新的 Wathcer\nexport function pushTarget (target: ?Watcher) {\n  targetStack.push(target)\n  Dep.target = target\n}\n\n// 移除目标 Watcher，并将 Dep.target 指向 targetStack 的最后一个\nexport function popTarget () {\n  targetStack.pop()\n  Dep.target = targetStack[targetStack.length - 1]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n\n\nDep 其实就是一个订阅发布模式，说明一下最主要的两个地方\n\n1、pushTarget、popTarget\n\n这两个方法中用到了 targetStack 堆栈，这样做就可以进行嵌套，比如在给某个 Watcher 收集依赖的时候，发现了新的 Watcher 需要收集依赖，这样就可以 target 指向新的 Watcher，先把新的 Watcher 收集完再 popTarget，再进行上一个 Watcher 的收集。\n\n2、depend\n\ndepend 执行的是 Watcher 的 addDep 方法，看看 addDep 怎么写的\n\n// vue/src/core/observer/watcher.js\naddDep (dep: Dep) {\n  const id = dep.id\n  if (!this.newDepIds.has(id)) {\n    this.newDepIds.add(id)\n    this.newDeps.push(dep)\n    if (!this.depIds.has(id)) {\n      dep.addSub(this)\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\naddDep 做了一些判断避免重复订阅，再调用 addSub 添加订阅。\n\n再回过头来看看 initData 。\n\n// vue/src/core/instance/state.js\nfunction initData (vm: Component) {\n  let data = vm.$options.data\n  data = vm._data = typeof data === 'function'\n    ? getData(data, vm)\n    : data || {}\n  ...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n当 data 是一个函数时，会调用 getData 获取 data 函数的返回值，看看 getData 的实现。\n\n// vue/src/core/instance/state.js\nexport function getData (data: Function, vm: Component): any {\n  // #7573 disable dep collection when invoking data getters\n  pushTarget()\n  try {\n    return data.call(vm, vm)\n  } catch (e) {\n    handleError(e, vm, `data()`)\n    return {}\n  } finally {\n    popTarget()\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n可以看到在执行 data 函数前后，执行了 pushTarget 和 popTarget 的操作，因为 data 的属性并不依赖其他响应式变量、在设置 getter 和 setter 时，因为 dep.target为 undefined 所以并不会收集依赖。\n\ndata 的初始化到这里就差不多了，接下来看看 computed 的初始化。\n\n\n# computed 初始化\n\n同样的，先从 initComputed 方法开始\n\n// vue/src/core/instance/state.js\nconst computedWatcherOptions = { lazy: true }\n\nfunction initComputed (vm: Component, computed: Object) {\n  // 创建空对象，绑定到 vm._computedWatchers 上\n  const watchers = vm._computedWatchers = Object.create(null)\n  // computed properties are just getters during SSR\n  const isSSR = isServerRendering()\n\n  for (const key in computed) {\n    const userDef = computed[key]\n    // computed 如果是函数就当成 getter，如果是对象则取 get 方法\n    const getter = typeof userDef === 'function' ? userDef : userDef.get\n    // getter 不存在时，输出警告\n    ...\n\n    if (!isSSR) {\n      // 为 computed 的每个属性创建 Watcher\n      // Watcher 是引用变量，vm._computedWatchers 也会被修改\n      watchers[key] = new Watcher(\n        vm,\n        getter || noop,\n        noop,\n        computedWatcherOptions\n      )\n    }\n\n    // 此时 key 还没挂载到 vm\n    if (!(key in vm)) {\n      defineComputed(vm, key, userDef)\n    } else if (process.env.NODE_ENV !== 'production') {\n      // key 在 data 或者 props 存在，输出警告\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\ninitComputed 会给 computed 的每个属性创建 Watcher（服务端渲染不会创建 Watcher）， 然后调用 defineComputed。先看看 new Watcher 的构造函数做了什么\n\n// vue/sct/core/observe/watcher.js\nconstructor (\n  vm: Component,\n  expOrFn: string | Function,\n  cb: Function,\n  options?: ?Object,\n  isRenderWatcher?: boolean\n) {\n  this.vm = vm\n  if (isRenderWatcher) {\n    // 渲染 Watcher\n    vm._watcher = this\n  }\n  vm._watchers.push(this)\n  // options\n  if (options) {\n    this.deep = !!options.deep\n    this.user = !!options.user\n    this.lazy = !!options.lazy\n    this.sync = !!options.sync\n    this.before = options.before\n  } else {\n    this.deep = this.user = this.lazy = this.sync = false\n  }\n  this.cb = cb\n  this.id = ++uid // uid for batching\n  this.dirty = this.lazy // for lazy watchers\n  // 还有其他属性的赋值\n  ...\n\n  // parse expression for getter\n  if (typeof expOrFn === 'function') {\n    this.getter = expOrFn\n  } else {\n    // 解析表达式，得到 getter 函数\n    this.getter = parsePath(expOrFn)\n    if (!this.getter) {\n      this.getter = noop\n      // getter 为空时，输出警告\n      ...\n    }\n  }\n\n  // lazy 为 true 时，将 value 赋值为 undefined，否则调用 get 函数计算 value\n  this.value = this.lazy\n    ? undefined\n    : this.get()\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n\n\n看看 defineComputed 传了哪些参数给这个构造函数。\n\nconst computedWatcherOptions = { lazy: true }\n...\n  watchers[key] = new Watcher(\n    vm,\n    getter || noop,\n    noop,\n    computedWatcherOptions\n  )\n...\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n可以从上面看到 computed 属性创建 Watcher 时，lazy 为 true，也就是在 computed 中声明了属性也不使用，那么将不会计算该属性的结果，value 为 undefined。\n\n顺便看下 Watcher 的 get 方法\n\n// vue/sct/core/observe/watcher.js\nget () {\n  // 将该 Watcher push 到 Dep 的 targetStack 中，开启依赖收集的模式\n  pushTarget(this)\n  let value\n  const vm = this.vm\n  try {\n    // 执行 computed 中的 get 函数\n    // 如果函数内使用了 data 中的属性，那么就会触发 defineProperty 中 get\n    value = this.getter.call(vm, vm)\n  } catch (e) {\n    if (this.user) {\n      handleError(e, vm, `getter for watcher \"${this.expression}\"`)\n    } else {\n      throw e\n    }\n  } finally {\n    // \"touch\" every property so they are all tracked as\n    // dependencies for deep watching\n    if (this.deep) {\n      traverse(value)\n    }\n    // 完成依赖收集\n    popTarget()\n    this.cleanupDeps()\n  }\n  return value\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n这里就可以看到在调用 get 函数时，会将当前的 Watcher 指定为 Dep.target，然后开始执行 computed 属性的 get 函数，如果 computed 属性的 get 函数内使用了 data 中的属性，那么就会触发 defineProperty 中的 getter。这就验证了开头说的第二点：只有在响应式依赖发生改变时才会重新计算结果。\n\n// vue/src/core/observer/index.js\nObject.defineProperty(obj, key, {\n  enumerable: true,\n  configurable: true,\n  get: function reactiveGetter () {\n    const value = getter ? getter.call(obj) : val\n    // 这个时候 target 为 computed 属性的 Watcher，然后将 data 属性的 dep 收集到 computed 属性的 Watcher 中\n    if (Dep.target) {\n      dep.depend()\n      if (childOb) {\n        childOb.dep.depend()\n        if (Array.isArray(value)) {\n          dependArray(value)\n        }\n      }\n    }\n    return value\n  },\n  set: {\n    ...\n    // data 的属性发生变化，通知订阅者进行更新\n    dep.notify()\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n从这里可以看出 Vue 设计的非常巧妙，通过执行 computed 属性的 get 函数，就可以完成所有依赖的收集，当这些依赖发生变化时，又会通知 computed 属性的 Watcher 进行更新。\n\n接着看回 defineComputed\n\n// vue/src/core/instance/state.js\nexport function defineComputed (\n  target: any,\n  key: string,\n  userDef: Object | Function\n) {\n  // 客户端渲染时，shouldCache 为 true，也就是对计算结果进行缓存。\n  const shouldCache = !isServerRendering()\n  if (typeof userDef === 'function') {\n    sharedPropertyDefinition.get = shouldCache\n      ? createComputedGetter(key)\n      : createGetterInvoker(userDef)\n    sharedPropertyDefinition.set = noop\n  } else {\n    sharedPropertyDefinition.get = userDef.get\n      ? shouldCache && userDef.cache !== false\n        ? createComputedGetter(key)\n        : createGetterInvoker(userDef.get)\n      : noop\n    sharedPropertyDefinition.set = userDef.set || noop\n  }\n  if (process.env.NODE_ENV !== 'production' &&\n      sharedPropertyDefinition.set === noop) {\n    // 开发环境 computed 属性的 set 函数为空函数时，替换为输出警告的函数\n    ...\n  }\n  // 将 computed 的属性挂载到 vm 上，这样就可以用 this.key 调用 computed 的属性\n  Object.defineProperty(target, key, sharedPropertyDefinition)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n从这里可以看到，当对计算结果需要缓存，则会调用 createComputedGetter，如果计算结果不需要缓存，则会调用 createGetterInvoker。\n\n# 官方彩蛋\n\n从这里还可以看到一个可以在开发时的小技巧，当 computed 的属性为对象时，还可以自定义是否需要缓存。\n\n官方文档好像没提到这一点，可能是觉得不缓存就和 methods 一样，就没有提到，这可能就是彩蛋吧。\n\ncomputed: {\n  noCacheDemo: {\n    get () { ... },\n    set () { ... },\n    cache: false\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n回到正题，看看 createComputedGetter 做了什么。\n\n// vue/src/core/instance/state.js\nfunction createComputedGetter (key) {\n  return function computedGetter () {\n    // watcher 为 initComputed 中创建的 watcher\n    const watcher = this._computedWatchers && this._computedWatchers[key]\n    if (watcher) {\n      // watcher 初始化时，dirty 的值与 lazy 相同，都为 true\n      // 那么第一次获取 computed 属性的值将会执行 watcher.evaluate()\n      // evaluate 中会将 dirty 置为 false\n      if (watcher.dirty) {\n        watcher.evaluate()\n      }\n      // 如果处于收集依赖的模式，调用 watcher 的 depend 进行依赖收集\n      if (Dep.target) {\n        watcher.depend()\n      }\n      // 返回 watcher.value，而不是执行 computed 属性的 get 函数计算结果\n      return watcher.value\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n再看下 watcher 的 evaluate 函数\n\n// vue/sct/core/observe/watcher.js\nevaluate () {\n  this.value = this.get()\n  this.dirty = false\n}\n\n\n1\n2\n3\n4\n5\n\n\n这里可以看到，如果 computed 的计算结果需要缓存时，在第一次使用 computed 属性时会执行 watcher 的 get 函数，在执行 computed 属性的函数的过程中完成依赖的收集，并将计算结果赋值给 watcher的 value 属性。\n\n之后再调用 computed 的属性则会取 watcher.value 的值，而不用执行 computed 属性的 get 函数，就这样做到了缓存的效果。也就验证了开头提到的第一点：computed 的计算结果会进行缓存。\n\n最后再看看不使用缓存时的做法，createGetterInvoker 函数\n\n// vue/sct/core/instance/state.js\nfunction createGetterInvoker(fn) {\n  return function computedGetter () {\n    return fn.call(this, this)\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n其实做法非常简单，就是每次调用就执行 computed 属性的 get 函数。\n\n\n# 总结\n\n总结一下 computed 的实现过程，主要有以下几个方面：\n\n1、给 computed 的每个属性创建 Watcher\n\n2、第一个使用 computed 的属性时，将会执行该属性的 get 函数，并完成依赖收集，完后将结果保存在对应 Watcher 的 value 中，对计算结果进行缓存。\n\n3、当依赖发生变化时，Dep 会发布通知，让订阅的 Watcher 进行更新的操作。\n\n最后感谢各位小伙伴看到这里，Vue computed 的实现过程都过了一遍，希望能够对各位小伙伴有所帮助。\n\n如果有讲的不对的地方，可以评论指出哦。如果还有不了解的地方，欢迎关注我的公众号给我留言哦。\n\n----------------------------------------\n\n如果还有其他疑问，欢迎大家扫码关注我的公众号【前端develop】给我留言。\n\n",normalizedContent:"vue 的 computed 经常会用到，其中包含以下两个重点：\n\n1、 computed 的计算结果会进行缓存；\n\n2、只有在响应式依赖发生改变时才会重新计算结果。\n\n接下从源码的出发，看看能不能验证这两个重点。为了能更好理解 computed 的实现，文章字数会比较多，请耐心阅读。\n\n\n# 源码分析\n\n// vue/src/core/instance/state.js\nexport function initstate (vm: component) {\n  vm._watchers = []\n  const opts = vm.$options\n  // 初始化 props\n  if (opts.props) initprops(vm, opts.props)\n  // 初始化 methods\n  if (opts.methods) initmethods(vm, opts.methods)\n  // 初始化 data\n  if (opts.data) {\n    initdata(vm)\n  } else {\n    observe(vm._data = {}, true /* asrootdata */)\n  }\n  // 初始化 computed\n  if (opts.computed) initcomputed(vm, opts.computed)\n  // 初始化 watch\n  if (opts.watch && opts.watch !== nativewatch) {\n    initwatch(vm, opts.watch)\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n从初始化状态的顺序可以看出，在翻转字符串的例子中会先初始化 data，再进行初始化 computed。\n\n\n# data 初始化\n\n先看看初始化 data 做了什么，initdata 源码如下：\n\n// vue/src/core/instance/state.js\nfunction initdata (vm: component) {\n  let data = vm.$options.data\n  // 兼容 对象或函数返回对象的写法\n  data = vm._data = typeof data === 'function'\n    ? getdata(data, vm)\n    : data || {}\n\n  // 判断 data 是否为普通对象\n  if (!isplainobject(data)) {\n    // data 不是普通对象，重新赋值为空对象，并在输出警告\n    data = {}\n    ...\n  }\n  // proxy data on instance\n  const keys = object.keys(data)\n  const props = vm.$options.props\n  const methods = vm.$options.methods\n  let i = keys.length\n  while (i--) {\n    const key = keys[i]\n    // data 的属性不能与 methods、 props 的属性重复\n    if (process.env.node_env !== 'production') {\n      // 重复 key，输出警告\n      ...\n    } else if (!isreserved(key)) {\n      // 将每个 key 挂载到实例上，在组件内就可以用 this.key 取值\n      proxy(vm, `_data`, key)\n    }\n  }\n  // 监听 data\n  // observe data\n  observe(data, true /* asrootdata */)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n\n\n初始化 data，主要做了 3 点，1、属性名重复的判断；2、将属性挂载到 vm 上；3、监听 data。\n\n接下来看看 observe 的实现，源码如下：\n\n// vue/src/core/observer/index.js\nexport function observe (value: any, asrootdata: ?boolean): observer | void {\n  // 非对象 或者是 vnode，直接 return\n  if (!isobject(value) || value instanceof vnode) {\n    return\n  }\n  let ob: observer | void\n  if (hasown(value, '__ob__') && value.__ob__ instanceof observer) {\n    // 存在 '__ob__' 属性，表示已经监听\n    ob = value.__ob__\n  } else if (\n    shouldobserve &&\n    !isserverrendering() &&\n    (array.isarray(value) || isplainobject(value)) &&\n    object.isextensible(value) &&\n    !value._isvue\n  ) {\n    // 开始创建监听\n    ob = new observer(value)\n  }\n  if (asrootdata && ob) {\n    ob.vmcount++\n  }\n  return ob\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n接下来则到了 observer 类，源码如下：\n\n// vue/src/core/observer/index.js\nexport class observer {\n  value: any;\n  dep: dep;\n  vmcount: number; // number of vms that have this object as root $data\n\n  constructor (value: any) {\n    this.value = value\n    this.dep = new dep()\n    this.vmcount = 0\n    // 将 '__ob__' 挂载到 value 上，避免重复监听\n    def(value, '__ob__', this)\n    if (array.isarray(value)) {\n      if (hasproto) {\n        protoaugment(value, arraymethods)\n      } else {\n        copyaugment(value, arraymethods, arraykeys)\n      }\n      this.observearray(value)\n    } else {\n      this.walk(value)\n    }\n  }\n\n  walk (obj: object) {\n    const keys = object.keys(obj)\n    for (let i = 0; i < keys.length; i++) {\n      // 将对象每个属性添加 getter、 setter\n      definereactive(obj, keys[i])\n    }\n  }\n\n  observearray (items: array<any>) {\n    for (let i = 0, l = items.length; i < l; i++) {\n     // 对数组的每一项进行监听\n      observe(items[i])\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n\n\n接下来会调用 definereactive，源码如下：\n\n// vue/src/core/observer/index.js\nexport function definereactive (\n  obj: object,\n  key: string,\n  val: any,\n  customsetter?: ?function,\n  shallow?: boolean\n) {\n  // dep 用于依赖收集\n  const dep = new dep()\n\n  ...\n\n  // data 的值有可能包含数组、对象，在这里 data 的值进行监听\n  let childob = !shallow && observe(val)\n  object.defineproperty(obj, key, {\n    enumerable: true,\n    configurable: true,\n    get: function reactivegetter () {\n      const value = getter ? getter.call(obj) : val\n      // dep.target 是一个静态属性\n      // 给 data 的属性添加 getter 时，target 为 undefined，不会进行依赖收集\n      // 当 computed 用了 data中的属性时时将会进行依赖收集，先跳过这部分，等到了 computed 再回来看\n      if (dep.target) {\n        dep.depend()\n        if (childob) {\n          childob.dep.depend()\n          if (array.isarray(value)) {\n            dependarray(value)\n          }\n        }\n      }\n      return value\n    },\n    set: function reactivesetter (newval) {\n      const value = getter ? getter.call(obj) : val\n      ...\n      // #7981: for accessor properties without setter\n      if (getter && !setter) return\n      if (setter) {\n        setter.call(obj, newval)\n      } else {\n        val = newval\n      }\n      childob = !shallow && observe(newval)\n      // 当值发生变化时，通知所有订阅者进行更新\n      dep.notify()\n    }\n  })\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n\n\ndefinereactive 中用到了 dep 用来进行依赖收集，接下来看看 dep 的源码：\n\n// vue/src/core/observer/dep.js\nexport default class dep {\n  static target: ?watcher;\n  id: number;\n  subs: array<watcher>;\n\n  constructor () {\n    this.id = uid++\n    this.subs = []\n  }\n\n  // 添加订阅者\n  addsub (sub: watcher) {\n    this.subs.push(sub)\n  }\n  // 删除订阅者\n  removesub (sub: watcher) {\n    remove(this.subs, sub)\n  }\n\n  // 将 dep 实例传递给目标 watcher 上，目标 watcher 再通过 addsub 进行订阅\n  depend () {\n    // 只有目标 watcher 存在才可以进行订阅\n    if (dep.target) {\n      dep.target.adddep(this)\n    }\n  }\n\n  // 通知订阅者\n  notify () {\n    // 根据 watcher id 进行排序，通知更新\n    const subs = this.subs.slice()\n    if (process.env.node_env !== 'production' && !config.async) {\n      subs.sort((a, b) => a.id - b.id)\n    }\n    for (let i = 0, l = subs.length; i < l; i++) {\n      // 调用订阅 watcher 的 update 方法进行更新\n      subs[i].update()\n    }\n  }\n}\n\ndep.target = null\nconst targetstack = []\n\n// 添加目标 watcher，并将 dep.target 指向最新的 wathcer\nexport function pushtarget (target: ?watcher) {\n  targetstack.push(target)\n  dep.target = target\n}\n\n// 移除目标 watcher，并将 dep.target 指向 targetstack 的最后一个\nexport function poptarget () {\n  targetstack.pop()\n  dep.target = targetstack[targetstack.length - 1]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n\n\ndep 其实就是一个订阅发布模式，说明一下最主要的两个地方\n\n1、pushtarget、poptarget\n\n这两个方法中用到了 targetstack 堆栈，这样做就可以进行嵌套，比如在给某个 watcher 收集依赖的时候，发现了新的 watcher 需要收集依赖，这样就可以 target 指向新的 watcher，先把新的 watcher 收集完再 poptarget，再进行上一个 watcher 的收集。\n\n2、depend\n\ndepend 执行的是 watcher 的 adddep 方法，看看 adddep 怎么写的\n\n// vue/src/core/observer/watcher.js\nadddep (dep: dep) {\n  const id = dep.id\n  if (!this.newdepids.has(id)) {\n    this.newdepids.add(id)\n    this.newdeps.push(dep)\n    if (!this.depids.has(id)) {\n      dep.addsub(this)\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\nadddep 做了一些判断避免重复订阅，再调用 addsub 添加订阅。\n\n再回过头来看看 initdata 。\n\n// vue/src/core/instance/state.js\nfunction initdata (vm: component) {\n  let data = vm.$options.data\n  data = vm._data = typeof data === 'function'\n    ? getdata(data, vm)\n    : data || {}\n  ...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n当 data 是一个函数时，会调用 getdata 获取 data 函数的返回值，看看 getdata 的实现。\n\n// vue/src/core/instance/state.js\nexport function getdata (data: function, vm: component): any {\n  // #7573 disable dep collection when invoking data getters\n  pushtarget()\n  try {\n    return data.call(vm, vm)\n  } catch (e) {\n    handleerror(e, vm, `data()`)\n    return {}\n  } finally {\n    poptarget()\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n可以看到在执行 data 函数前后，执行了 pushtarget 和 poptarget 的操作，因为 data 的属性并不依赖其他响应式变量、在设置 getter 和 setter 时，因为 dep.target为 undefined 所以并不会收集依赖。\n\ndata 的初始化到这里就差不多了，接下来看看 computed 的初始化。\n\n\n# computed 初始化\n\n同样的，先从 initcomputed 方法开始\n\n// vue/src/core/instance/state.js\nconst computedwatcheroptions = { lazy: true }\n\nfunction initcomputed (vm: component, computed: object) {\n  // 创建空对象，绑定到 vm._computedwatchers 上\n  const watchers = vm._computedwatchers = object.create(null)\n  // computed properties are just getters during ssr\n  const isssr = isserverrendering()\n\n  for (const key in computed) {\n    const userdef = computed[key]\n    // computed 如果是函数就当成 getter，如果是对象则取 get 方法\n    const getter = typeof userdef === 'function' ? userdef : userdef.get\n    // getter 不存在时，输出警告\n    ...\n\n    if (!isssr) {\n      // 为 computed 的每个属性创建 watcher\n      // watcher 是引用变量，vm._computedwatchers 也会被修改\n      watchers[key] = new watcher(\n        vm,\n        getter || noop,\n        noop,\n        computedwatcheroptions\n      )\n    }\n\n    // 此时 key 还没挂载到 vm\n    if (!(key in vm)) {\n      definecomputed(vm, key, userdef)\n    } else if (process.env.node_env !== 'production') {\n      // key 在 data 或者 props 存在，输出警告\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n\n\ninitcomputed 会给 computed 的每个属性创建 watcher（服务端渲染不会创建 watcher）， 然后调用 definecomputed。先看看 new watcher 的构造函数做了什么\n\n// vue/sct/core/observe/watcher.js\nconstructor (\n  vm: component,\n  exporfn: string | function,\n  cb: function,\n  options?: ?object,\n  isrenderwatcher?: boolean\n) {\n  this.vm = vm\n  if (isrenderwatcher) {\n    // 渲染 watcher\n    vm._watcher = this\n  }\n  vm._watchers.push(this)\n  // options\n  if (options) {\n    this.deep = !!options.deep\n    this.user = !!options.user\n    this.lazy = !!options.lazy\n    this.sync = !!options.sync\n    this.before = options.before\n  } else {\n    this.deep = this.user = this.lazy = this.sync = false\n  }\n  this.cb = cb\n  this.id = ++uid // uid for batching\n  this.dirty = this.lazy // for lazy watchers\n  // 还有其他属性的赋值\n  ...\n\n  // parse expression for getter\n  if (typeof exporfn === 'function') {\n    this.getter = exporfn\n  } else {\n    // 解析表达式，得到 getter 函数\n    this.getter = parsepath(exporfn)\n    if (!this.getter) {\n      this.getter = noop\n      // getter 为空时，输出警告\n      ...\n    }\n  }\n\n  // lazy 为 true 时，将 value 赋值为 undefined，否则调用 get 函数计算 value\n  this.value = this.lazy\n    ? undefined\n    : this.get()\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n\n\n看看 definecomputed 传了哪些参数给这个构造函数。\n\nconst computedwatcheroptions = { lazy: true }\n...\n  watchers[key] = new watcher(\n    vm,\n    getter || noop,\n    noop,\n    computedwatcheroptions\n  )\n...\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n可以从上面看到 computed 属性创建 watcher 时，lazy 为 true，也就是在 computed 中声明了属性也不使用，那么将不会计算该属性的结果，value 为 undefined。\n\n顺便看下 watcher 的 get 方法\n\n// vue/sct/core/observe/watcher.js\nget () {\n  // 将该 watcher push 到 dep 的 targetstack 中，开启依赖收集的模式\n  pushtarget(this)\n  let value\n  const vm = this.vm\n  try {\n    // 执行 computed 中的 get 函数\n    // 如果函数内使用了 data 中的属性，那么就会触发 defineproperty 中 get\n    value = this.getter.call(vm, vm)\n  } catch (e) {\n    if (this.user) {\n      handleerror(e, vm, `getter for watcher \"${this.expression}\"`)\n    } else {\n      throw e\n    }\n  } finally {\n    // \"touch\" every property so they are all tracked as\n    // dependencies for deep watching\n    if (this.deep) {\n      traverse(value)\n    }\n    // 完成依赖收集\n    poptarget()\n    this.cleanupdeps()\n  }\n  return value\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n\n\n这里就可以看到在调用 get 函数时，会将当前的 watcher 指定为 dep.target，然后开始执行 computed 属性的 get 函数，如果 computed 属性的 get 函数内使用了 data 中的属性，那么就会触发 defineproperty 中的 getter。这就验证了开头说的第二点：只有在响应式依赖发生改变时才会重新计算结果。\n\n// vue/src/core/observer/index.js\nobject.defineproperty(obj, key, {\n  enumerable: true,\n  configurable: true,\n  get: function reactivegetter () {\n    const value = getter ? getter.call(obj) : val\n    // 这个时候 target 为 computed 属性的 watcher，然后将 data 属性的 dep 收集到 computed 属性的 watcher 中\n    if (dep.target) {\n      dep.depend()\n      if (childob) {\n        childob.dep.depend()\n        if (array.isarray(value)) {\n          dependarray(value)\n        }\n      }\n    }\n    return value\n  },\n  set: {\n    ...\n    // data 的属性发生变化，通知订阅者进行更新\n    dep.notify()\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n从这里可以看出 vue 设计的非常巧妙，通过执行 computed 属性的 get 函数，就可以完成所有依赖的收集，当这些依赖发生变化时，又会通知 computed 属性的 watcher 进行更新。\n\n接着看回 definecomputed\n\n// vue/src/core/instance/state.js\nexport function definecomputed (\n  target: any,\n  key: string,\n  userdef: object | function\n) {\n  // 客户端渲染时，shouldcache 为 true，也就是对计算结果进行缓存。\n  const shouldcache = !isserverrendering()\n  if (typeof userdef === 'function') {\n    sharedpropertydefinition.get = shouldcache\n      ? createcomputedgetter(key)\n      : creategetterinvoker(userdef)\n    sharedpropertydefinition.set = noop\n  } else {\n    sharedpropertydefinition.get = userdef.get\n      ? shouldcache && userdef.cache !== false\n        ? createcomputedgetter(key)\n        : creategetterinvoker(userdef.get)\n      : noop\n    sharedpropertydefinition.set = userdef.set || noop\n  }\n  if (process.env.node_env !== 'production' &&\n      sharedpropertydefinition.set === noop) {\n    // 开发环境 computed 属性的 set 函数为空函数时，替换为输出警告的函数\n    ...\n  }\n  // 将 computed 的属性挂载到 vm 上，这样就可以用 this.key 调用 computed 的属性\n  object.defineproperty(target, key, sharedpropertydefinition)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n从这里可以看到，当对计算结果需要缓存，则会调用 createcomputedgetter，如果计算结果不需要缓存，则会调用 creategetterinvoker。\n\n# 官方彩蛋\n\n从这里还可以看到一个可以在开发时的小技巧，当 computed 的属性为对象时，还可以自定义是否需要缓存。\n\n官方文档好像没提到这一点，可能是觉得不缓存就和 methods 一样，就没有提到，这可能就是彩蛋吧。\n\ncomputed: {\n  nocachedemo: {\n    get () { ... },\n    set () { ... },\n    cache: false\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n回到正题，看看 createcomputedgetter 做了什么。\n\n// vue/src/core/instance/state.js\nfunction createcomputedgetter (key) {\n  return function computedgetter () {\n    // watcher 为 initcomputed 中创建的 watcher\n    const watcher = this._computedwatchers && this._computedwatchers[key]\n    if (watcher) {\n      // watcher 初始化时，dirty 的值与 lazy 相同，都为 true\n      // 那么第一次获取 computed 属性的值将会执行 watcher.evaluate()\n      // evaluate 中会将 dirty 置为 false\n      if (watcher.dirty) {\n        watcher.evaluate()\n      }\n      // 如果处于收集依赖的模式，调用 watcher 的 depend 进行依赖收集\n      if (dep.target) {\n        watcher.depend()\n      }\n      // 返回 watcher.value，而不是执行 computed 属性的 get 函数计算结果\n      return watcher.value\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n\n\n再看下 watcher 的 evaluate 函数\n\n// vue/sct/core/observe/watcher.js\nevaluate () {\n  this.value = this.get()\n  this.dirty = false\n}\n\n\n1\n2\n3\n4\n5\n\n\n这里可以看到，如果 computed 的计算结果需要缓存时，在第一次使用 computed 属性时会执行 watcher 的 get 函数，在执行 computed 属性的函数的过程中完成依赖的收集，并将计算结果赋值给 watcher的 value 属性。\n\n之后再调用 computed 的属性则会取 watcher.value 的值，而不用执行 computed 属性的 get 函数，就这样做到了缓存的效果。也就验证了开头提到的第一点：computed 的计算结果会进行缓存。\n\n最后再看看不使用缓存时的做法，creategetterinvoker 函数\n\n// vue/sct/core/instance/state.js\nfunction creategetterinvoker(fn) {\n  return function computedgetter () {\n    return fn.call(this, this)\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n其实做法非常简单，就是每次调用就执行 computed 属性的 get 函数。\n\n\n# 总结\n\n总结一下 computed 的实现过程，主要有以下几个方面：\n\n1、给 computed 的每个属性创建 watcher\n\n2、第一个使用 computed 的属性时，将会执行该属性的 get 函数，并完成依赖收集，完后将结果保存在对应 watcher 的 value 中，对计算结果进行缓存。\n\n3、当依赖发生变化时，dep 会发布通知，让订阅的 watcher 进行更新的操作。\n\n最后感谢各位小伙伴看到这里，vue computed 的实现过程都过了一遍，希望能够对各位小伙伴有所帮助。\n\n如果有讲的不对的地方，可以评论指出哦。如果还有不了解的地方，欢迎关注我的公众号给我留言哦。\n\n----------------------------------------\n\n如果还有其他疑问，欢迎大家扫码关注我的公众号【前端develop】给我留言。\n\n",charsets:{cjk:!0}},{title:"【面试题解析✨】Vue 的数据是如何渲染到页面的？",frontmatter:{title:"【面试题解析✨】Vue 的数据是如何渲染到页面的？",date:"2020-03-24T00:00:00.000Z",categories:["前端"],tags:["Vue","源码"],description:"面试的时候，面试官经常会问 Vue 双向绑定的原理是什么？我猜大部分人会跟我一样，不假思索的回答利用 Object.defineProperty 实现的。\n其实这个回答很笼统，而且也没回答完整？Vue 中 Object.defineProperty 只是对数据做了劫持，具体的如何渲染到页面上，并没有考虑到。接下来从初始化开始，看看 Vue 都做了什么事情。",meta:[{name:"image",content:"https://www.fedevelop.cn/imgs/qrcode.png"},{name:"twitter:title",content:"【面试题解析✨】Vue 的数据是如何渲染到页面的？"},{name:"twitter:description",content:"面试的时候，面试官经常会问 Vue 双向绑定的原理是什么？我猜大部分人会跟我一样，不假思索的回答利用 Object.defineProperty 实现的。\n其实这个回答很笼统，而且也没回答完整？Vue 中 Object.defineProperty 只是对数据做了劫持，具体的如何渲染到页面上，并没有考虑到。接下来从初始化开始，看看 Vue 都做了什么事情。"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://www.fedevelop.cn/imgs/qrcode.png"},{name:"twitter:url",content:"https://www.fedevelop.cn/views/%E5%89%8D%E7%AB%AF/2020/%E3%80%90%E9%9D%A2%E8%AF%95%E9%A2%98%E8%A7%A3%E6%9E%90%E2%9C%A8%E3%80%91Vue%20%E7%9A%84%E6%95%B0%E6%8D%AE%E6%98%AF%E5%A6%82%E4%BD%95%E6%B8%B2%E6%9F%93%E5%88%B0%E9%A1%B5%E9%9D%A2%E7%9A%84%EF%BC%9F.html"},{property:"og:type",content:"article"},{property:"og:title",content:"【面试题解析✨】Vue 的数据是如何渲染到页面的？"},{property:"og:description",content:"面试的时候，面试官经常会问 Vue 双向绑定的原理是什么？我猜大部分人会跟我一样，不假思索的回答利用 Object.defineProperty 实现的。\n其实这个回答很笼统，而且也没回答完整？Vue 中 Object.defineProperty 只是对数据做了劫持，具体的如何渲染到页面上，并没有考虑到。接下来从初始化开始，看看 Vue 都做了什么事情。"},{property:"og:image",content:"https://www.fedevelop.cn/imgs/qrcode.png"},{property:"og:url",content:"https://www.fedevelop.cn/views/%E5%89%8D%E7%AB%AF/2020/%E3%80%90%E9%9D%A2%E8%AF%95%E9%A2%98%E8%A7%A3%E6%9E%90%E2%9C%A8%E3%80%91Vue%20%E7%9A%84%E6%95%B0%E6%8D%AE%E6%98%AF%E5%A6%82%E4%BD%95%E6%B8%B2%E6%9F%93%E5%88%B0%E9%A1%B5%E9%9D%A2%E7%9A%84%EF%BC%9F.html"},{property:"og:site_name",content:"前端develop"},{property:"article:published_time",content:"2020-03-24T00:00:00.000Z"},{property:"article:tag",content:"Vue"},{property:"article:tag",content:"源码"},{itemprop:"name",content:"【面试题解析✨】Vue 的数据是如何渲染到页面的？"},{itemprop:"description",content:"面试的时候，面试官经常会问 Vue 双向绑定的原理是什么？我猜大部分人会跟我一样，不假思索的回答利用 Object.defineProperty 实现的。\n其实这个回答很笼统，而且也没回答完整？Vue 中 Object.defineProperty 只是对数据做了劫持，具体的如何渲染到页面上，并没有考虑到。接下来从初始化开始，看看 Vue 都做了什么事情。"},{itemprop:"image",content:"https://www.fedevelop.cn/imgs/qrcode.png"}]},regularPath:"/views/%E5%89%8D%E7%AB%AF/2020/%E3%80%90%E9%9D%A2%E8%AF%95%E9%A2%98%E8%A7%A3%E6%9E%90%E2%9C%A8%E3%80%91Vue%20%E7%9A%84%E6%95%B0%E6%8D%AE%E6%98%AF%E5%A6%82%E4%BD%95%E6%B8%B2%E6%9F%93%E5%88%B0%E9%A1%B5%E9%9D%A2%E7%9A%84%EF%BC%9F.html",relativePath:"views/前端/2020/【面试题解析✨】Vue 的数据是如何渲染到页面的？.md",key:"v-358226fc",path:"/views/%E5%89%8D%E7%AB%AF/2020/%E3%80%90%E9%9D%A2%E8%AF%95%E9%A2%98%E8%A7%A3%E6%9E%90%E2%9C%A8%E3%80%91Vue%20%E7%9A%84%E6%95%B0%E6%8D%AE%E6%98%AF%E5%A6%82%E4%BD%95%E6%B8%B2%E6%9F%93%E5%88%B0%E9%A1%B5%E9%9D%A2%E7%9A%84%EF%BC%9F.html",headers:[{level:2,title:"前提知识",slug:"前提知识",normalizedTitle:"前提知识",charIndex:185},{level:3,title:"Object.defineProperty",slug:"object-defineproperty",normalizedTitle:"object.defineproperty",charIndex:51},{level:3,title:"Dep",slug:"dep",normalizedTitle:"dep",charIndex:235},{level:2,title:"源码分析",slug:"源码分析",normalizedTitle:"源码分析",charIndex:264},{level:2,title:"总结",slug:"总结",normalizedTitle:"总结",charIndex:19852}],excerpt:"<p>面试的时候，面试官经常会问 <code>Vue 双向绑定的原理是什么？</code>我猜大部分人会跟我一样，不假思索的回答利用 <code>Object.defineProperty</code> 实现的。</p>\n<p>其实这个回答很笼统，而且也没回答完整？Vue 中 <code>Object.defineProperty</code> 只是对数据做了劫持，具体的如何渲染到页面上，并没有考虑到。接下来从初始化开始，看看 <code>Vue</code> 都做了什么事情。</p>\n",lastUpdated:"3/24/2020, 2:03:36 AM",headersStr:"前提知识 Object.defineProperty Dep 源码分析 总结",content:"面试的时候，面试官经常会问 Vue 双向绑定的原理是什么？我猜大部分人会跟我一样，不假思索的回答利用 Object.defineProperty 实现的。\n\n其实这个回答很笼统，而且也没回答完整？Vue 中 Object.defineProperty 只是对数据做了劫持，具体的如何渲染到页面上，并没有考虑到。接下来从初始化开始，看看 Vue 都做了什么事情。\n\n\n# 前提知识\n\n在读源码前，需要了解 Object.defineProperty 的使用，以及 Vue Dep 的用法。这里就简单带过，各位大佬可以直接跳过，进行源码分析。\n\n\n# Object.defineProperty\n\n当使用 Object.defineProperty 对对象的属性进行拦截时，调用该对象的属性，则会调用 get 函数，属性值则是 get 函数的返回值。当修改属性值时，则会调用 set 函数。\n\n当然也可以通过 Object.defineProperty 给对象添加属性值，Vue 中就是通过这个方法将 data、computed 等属性添加到 vm 上。\n\nObject.defineProperty(obj, key, {\n  enumerable: true,\n  configurable: true,\n  get: function reactiveGetter () {\n    const value = getter ? getter.call(obj) : val\n    // 用于依赖收集，Dep 中讲到\n    if (Dep.target) {\n      dep.depend()\n      if (childOb) {\n        childOb.dep.depend()\n        if (Array.isArray(value)) {\n          dependArray(value)\n        }\n      }\n    }\n    return value\n  },\n  set: function reactiveSetter (newVal) {\n    val = newVal\n    // val 发生变化时，发出通知，Dep 中讲到\n    dep.notify()\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# Dep\n\n这里不讲什么设计模式了，直接看代码。\n\nlet uid = 0\n\nexport default class Dep {\n  static target: ?Watcher;\n  id: number;\n  subs: Array<Watcher>;\n\n  constructor () {\n    this.id = uid++\n    this.subs = []\n  }\n\n  addSub (sub: Watcher) {\n    // 添加 Watcher\n    this.subs.push(sub)\n  }\n\n  removeSub (sub: Watcher) {\n    // 从列表中移除某个 Watcher\n    remove(this.subs, sub)\n  }\n\n  depend () {\n    // 当 target 存在时，也就是目标 Watcher 存在的时候，\n    // 就可以为这个目标 Watcher 收集依赖\n    // Watcher 的 addDep 方法在下文中\n    if (Dep.target) {\n      Dep.target.addDep(this)\n    }\n  }\n\n  notify () {\n    // 对 Watcher 进行排序\n    const subs = this.subs.slice()\n    if (process.env.NODE_ENV !== 'production' && !config.async) {\n      subs.sort((a, b) => a.id - b.id)\n    }\n    // 当该依赖发生变化时, 调用添加到列表中的 Watcher 的 update 方法进行更新\n    for (let i = 0, l = subs.length; i < l; i++) {\n      subs[i].update()\n    }\n  }\n}\n\n// target 为某个 Watcher 实例，一次只能为一个 Watcher 收集依赖\nDep.target = null\n// 通过堆栈存放 Watcher 实例，\n// 当某个 Watcher 的实例未收集完，又有新的 Watcher 实例需要收集依赖，\n// 那么旧的 Watcher 就先存放到 targetStack，\n// 等待新的 Watcher 收集完后再为旧的 Watcher 收集\n// 配合下面的 pushTarget 和 popTarget 实现\nconst targetStack = []\n\nexport function pushTarget (target: ?Watcher) {\n  targetStack.push(target)\n  Dep.target = target\n}\n\nexport function popTarget () {\n  targetStack.pop()\n  Dep.target = targetStack[targetStack.length - 1]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n\n\n当某个 Watcher 需要依赖某个 dep 时，那么调用 dep.addSub(Watcher) 即可，当 dep 发生变化时，调用 dep.notify() 就可以触发 Watcher 的 update 方法。接下来看看 Vue 中 Watcher 的实现。\n\nclass Watcher {\n  // 很多属性，这里省略\n  ...\n  // 构造函数\n  constructor (\n    vm: Component,\n    expOrFn: string | Function,\n    cb: Function,\n    options?: ?Object,\n    isRenderWatcher?: boolean\n  ) { ... }\n\n  get () {\n    // 当执行 Watcher 的 get 函数时，会将当前的 Watcher 作为 Dep 的 target\n    pushTarget(this)\n    let value\n    const vm = this.vm\n    try {\n      // 在执行 getter 时，当遇到响应式数据，会触发上面讲到的 Object.defineProperty 中的 get 函数\n      // Vue 就是在 Object.defineProperty 的 get 中调用 dep.depend() 进行依赖收集。\n      value = this.getter.call(vm, vm)\n    } catch (e) {\n      ...\n    } finally {\n      ...\n      // 当前 Watcher 的依赖收集完后，调用 popTarget 更换 Watcher\n      popTarget()\n      this.cleanupDeps()\n    }\n    return value\n  }\n\n  // dep.depend() 收集依赖时，会经过 Watcher 的 addDep 方法\n  // addDep 做了判断，避免重复收集，然后调用 dep.addSub 将该 Watcher 添加到 dep 的 subs 中\n  addDep (dep: Dep) {\n    const id = dep.id\n    if (!this.newDepIds.has(id)) {\n      this.newDepIds.add(id)\n      this.newDeps.push(dep)\n      if (!this.depIds.has(id)) {\n        dep.addSub(this)\n      }\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n\n\n通过 Object.defineProperty 中的 get，Dep 的 depend 以及 Watcher 的 addDep 这三个函数的配合，完成了依赖的收集，就是将 Watcher 添加到 dep 的 subs 列表中。\n\n当依赖发生变化时，就会调用 Object.defineProperty 中的 set，在 set 中调用 dep 的 notify，使得 subs 中的每个 Watcher 都执行 update 函数。\n\nWatcher 中的 update 最终会重新调用 get 函数，重新求值并重新收集依赖。\n\n\n# 源码分析\n\n先看看 new Vue 都做了什么?\n\n// vue/src/core/instance/index.js\nfunction Vue (options) {\n  if (process.env.NODE_ENV !== 'production' &&\n    !(this instanceof Vue)\n  ) {\n    // 只能使用 new Vue 调用该方法，否则输入警告\n    warn('Vue is a constructor and should be called with the `new` keyword')\n  }\n  // 开始初始化\n  this._init(options)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n_init 方法通过原型挂载在 Vue 上\n\n// vue/src/core/instance/init.js\nexport function initMixin (Vue: Class<Component>) {\n  Vue.prototype._init = function (options?: Object) {\n    const vm: Component = this\n    // a uid\n    vm._uid = uid++\n\n    let startTag, endTag\n    // 初始化前打点，用于记录 Vue 实例初始化所消耗的时间\n    if (process.env.NODE_ENV !== 'production' && config.performance && mark) {\n      startTag = `vue-perf-start:${vm._uid}`\n      endTag = `vue-perf-end:${vm._uid}`\n      mark(startTag)\n    }\n\n    // a flag to avoid this being observed\n    vm._isVue = true\n    // 合并参数到 $options\n    if (options && options._isComponent) {\n      initInternalComponent(vm, options)\n    } else {\n      vm.$options = mergeOptions(\n        resolveConstructorOptions(vm.constructor),\n        options || {},\n        vm\n      )\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      // 非生产环境以及支持 Proxy 的浏览器中，对 vm 的属性进行劫持，并将代理后的 vm 赋值给 _renderProxy\n      // 当调用 vm 不存在的属性时，进行错误提示。\n      // 在不支持 Proxy 的浏览器中，_renderProxy = vm; 为了简单理解，就看成等同于 vm\n\n      // 代码在 src/core/instance/proxy.js\n      initProxy(vm)\n    } else {\n      vm._renderProxy = vm\n    }\n    // expose real self\n    vm._self = vm\n    // 初始化声明周期函数\n    initLifecycle(vm)\n    // 初始化事件\n    initEvents(vm)\n    // 初始化 render 函数\n    initRender(vm)\n    // 触发 beforeCreate 钩子\n    callHook(vm, 'beforeCreate')\n    // 初始化 inject\n    initInjections(vm) // resolve injections before data/props\n    // 初始化 data/props 等\n    // 通过 Object.defineProperty 对数据进行劫持\n    initState(vm)\n    // 初始化 provide\n    initProvide(vm) // resolve provide after data/props\n    // 数据处理完后，触发 created 钩子\n    callHook(vm, 'created')\n\n    // 从 new Vue 到 created 所消耗的时间\n    if (process.env.NODE_ENV !== 'production' && config.performance && mark) {\n      vm._name = formatComponentName(vm, false)\n      mark(endTag)\n      measure(`vue ${vm._name} init`, startTag, endTag)\n    }\n\n    // 如果 options 有 el 参数则进行 mount\n    if (vm.$options.el) {\n      vm.$mount(vm.$options.el)\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n\n\n接下来进入 $mount，因为用的是完整版的 Vue，直接看 vue/src/platforms/web/entry-runtime-with-compiler.js 这个文件。\n\n// vue/src/platforms/web/entry-runtime-with-compiler.js\n// 首先将 runtime 中的 $mount 方法赋值给 mount 进行保存\nconst mount = Vue.prototype.$mount\n// 重写 $mount，对 template 编译为 render 函数后再调用 runtime 的 $mount\nVue.prototype.$mount = function (\n  el?: string | Element,\n  hydrating?: boolean\n): Component {\n  el = el && query(el)\n\n  // 挂载元素不允许为 body 或 html\n  if (el === document.body || el === document.documentElement) {\n    process.env.NODE_ENV !== 'production' && warn(\n      `Do not mount Vue to <html> or <body> - mount to normal elements instead.`\n    )\n    return this\n  }\n\n  const options = this.$options\n  if (!options.render) {\n    let template = options.template\n    // render 函数不存在时，将 template 转化为 render 函数\n    // 具体就不展开了\n    ...\n    if (template) {\n        ...\n    } else if (el) {\n      // template 不存在，则将 el 转成 template\n      // 从这里可以看出 Vue 支持 render、template、el 进行渲染\n      template = getOuterHTML(el)\n    }\n    if (template) {\n      const { render, staticRenderFns } = compileToFunctions(template, {\n        outputSourceRange: process.env.NODE_ENV !== 'production',\n        shouldDecodeNewlines,\n        shouldDecodeNewlinesForHref,\n        delimiters: options.delimiters,\n        comments: options.comments\n      }, this)\n      options.render = render\n      options.staticRenderFns = staticRenderFns\n    }\n  }\n  // 调用 runtime 中 $mount\n  return mount.call(this, el, hydrating)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n\n\n查看 runtime 中的 $mount\n\n// vue/src/platforms/web/runtime/index.js\nVue.prototype.$mount = function (\n  el?: string | Element,\n  hydrating?: boolean\n): Component {\n  el = el && inBrowser ? query(el) : undefined\n  return mountComponent(this, el, hydrating)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nmountComponent 定义在 vue/src/core/instance/lifecycle.js 中\n\n// vue/src/core/instance/lifecycle.js\nexport function mountComponent (\n  vm: Component,\n  el: ?Element,\n  hydrating?: boolean\n): Component {\n  vm.$el = el\n  if (!vm.$options.render) {\n    // 未定义 render 函数时，将 render 赋值为 createEmptyVNode 函数\n    vm.$options.render = createEmptyVNode\n    if (process.env.NODE_ENV !== 'production') {\n      /* istanbul ignore if */\n      if ((vm.$options.template && vm.$options.template.charAt(0) !== '#') ||\n        vm.$options.el || el) {\n        // 用了 Vue 的 runtime 版本，而没有 render 函数时，报错处理\n        warn(\n          'You are using the runtime-only build of Vue where the template ' +\n          'compiler is not available. Either pre-compile the templates into ' +\n          'render functions, or use the compiler-included build.',\n          vm\n        )\n      } else {\n        // template 和 render 都未定义时，报错处理\n        warn(\n          'Failed to mount component: template or render function not defined.',\n          vm\n        )\n      }\n    }\n  }\n  // 调用 beforeMount 钩子\n  callHook(vm, 'beforeMount')\n  // 定义 updateComponent 函数\n  let updateComponent\n  /* istanbul ignore if */\n  if (process.env.NODE_ENV !== 'production' && config.performance && mark) {\n    // 需要做监控性能时，在 updateComponent 内加入打点的操作\n    updateComponent = () => {\n      const name = vm._name\n      const id = vm._uid\n      const startTag = `vue-perf-start:${id}`\n      const endTag = `vue-perf-end:${id}`\n\n      mark(startTag)\n      const vnode = vm._render()\n      mark(endTag)\n      measure(`vue ${name} render`, startTag, endTag)\n\n      mark(startTag)\n      vm._update(vnode, hydrating)\n      mark(endTag)\n      measure(`vue ${name} patch`, startTag, endTag)\n    }\n  } else {\n    updateComponent = () => {\n      // updateComponent 主要调用 _update 进行浏览器渲染\n      // _render 返回 VNode\n      // 先继续往下看，等会再回来看这两个函数\n      vm._update(vm._render(), hydrating)\n    }\n  }\n\n  // new 一个渲染 Watcher\n  new Watcher(vm, updateComponent, noop, {\n    before () {\n      if (vm._isMounted && !vm._isDestroyed) {\n        callHook(vm, 'beforeUpdate')\n      }\n    }\n  }, true /* isRenderWatcher */)\n  hydrating = false\n\n  // 挂载完成，触发 mounted\n  if (vm.$vnode == null) {\n    vm._isMounted = true\n    callHook(vm, 'mounted')\n  }\n  return vm\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n\n\n先继续往下看，看看 new Watcher 做了什么，再回过头看 updateComponent 中的 _update 和 _render。\n\nWatcher 的构造函数如下\n\n// vue/src/core/observer/watcher.js\nconstructor (\n  vm: Component,\n  expOrFn: string | Function,\n  cb: Function,\n  options?: ?Object,\n  isRenderWatcher?: boolean\n) {\n  this.vm = vm\n  if (isRenderWatcher) {\n    vm._watcher = this\n  }\n  vm._watchers.push(this)\n  // options\n  if (options) {\n    this.deep = !!options.deep\n    this.user = !!options.user\n    this.lazy = !!options.lazy\n    this.sync = !!options.sync\n    this.before = options.before\n  } else {\n    this.deep = this.user = this.lazy = this.sync = false\n  }\n  this.cb = cb\n  this.id = ++uid // uid for batching\n  this.active = true\n  this.dirty = this.lazy // for lazy watchers\n  ...\n  // expOrFn 为上文的 updateComponent 函数，赋值给 getter\n  if (typeof expOrFn === 'function') {\n    this.getter = expOrFn\n  } else {\n    this.getter = parsePath(expOrFn)\n    if (!this.getter) {\n      this.getter = noop\n      ...\n    }\n  }\n  // lazy 为 false，调用 get 方法\n  this.value = this.lazy\n    ? undefined\n    : this.get()\n}\n\n// 执行 getter 函数，getter 函数为 updateComponent，并收集依赖\nget () {\n  pushTarget(this)\n  let value\n  const vm = this.vm\n  try {\n    value = this.getter.call(vm, vm)\n  } catch (e) {\n    ...\n  } finally {\n    if (this.deep) {\n      traverse(value)\n    }\n    popTarget()\n    this.cleanupDeps()\n  }\n  return value\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n\n\n在 new Watcher 后会调用 updateComponent 函数，上文中 updateComponent 内执行了 vm._update，_update 执行前会通过 _render 获得 vnode，接下里看看 _update 做了什么。_update 定义在 vue/src/core/instance/lifecycle.js 中\n\n// vue/src/core/instance/lifecycle.js\nVue.prototype._update = function (vnode: VNode, hydrating?: boolean) {\n  const vm: Component = this\n  const prevVnode = vm._vnode\n  vm._vnode = vnode\n  ...\n\n  if (!prevVnode) {\n    // 初始渲染\n    vm.$el = vm.__patch__(vm.$el, vnode, hydrating, false /* removeOnly */)\n  } else {\n    // 更新 vnode\n    vm.$el = vm.__patch__(prevVnode, vnode)\n  }\n  ...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n接下来到了 __patch__ 函数进行页面渲染。\n\n// vue/src/platforms/web/runtime/index.js\nimport { patch } from './patch'\nVue.prototype.__patch__ = inBrowser ? patch : noop\n\n\n1\n2\n3\n\n\n// vue/src/platforms/web/runtime/patch.js\nimport { createPatchFunction } from 'core/vdom/patch'\nexport const patch: Function = createPatchFunction({ nodeOps, modules })\n\n\n1\n2\n3\n\n\ncreatePatchFunction 提供了很多操作 virtual dom 的方法，最终会返回一个 path 函数。\n\nexport function createPatchFunction (backend) {\n  ...\n  // oldVnode 代表旧的节点，vnode 代表新的节点\n  return function patch (oldVnode, vnode, hydrating, removeOnly) {\n    // vnode 为 undefined, oldVnode 不为 undefined 则需要执行 destroy\n    if (isUndef(vnode)) {\n      if (isDef(oldVnode)) invokeDestroyHook(oldVnode)\n      return\n    }\n\n    let isInitialPatch = false\n    const insertedVnodeQueue = []\n\n    if (isUndef(oldVnode)) {\n      // oldVnode 不存在，表示初始渲染，则根据 vnode 创建元素\n      isInitialPatch = true\n      createElm(vnode, insertedVnodeQueue)\n    } else {\n\n      const isRealElement = isDef(oldVnode.nodeType)\n      if (!isRealElement && sameVnode(oldVnode, vnode)) {\n        // oldVnode 与 vnode 为相同节点，调用 patchVnode 更新子节点\n        patchVnode(oldVnode, vnode, insertedVnodeQueue, null, null, removeOnly)\n      } else {\n        if (isRealElement) {\n          // 服务端渲染的处理\n          ...\n        }\n        // 其他操作\n        ...\n      }\n    }\n\n    invokeInsertHook(vnode, insertedVnodeQueue, isInitialPatch)\n    // 最终渲染到页面上\n    return vnode.elm\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\n当渲染 Watcher 的依赖的数据发生变化时，会触发 Object.defineProperty 中的 set 函数。\n\n从而调用 dep.notify() 通知该 Watcher 进行 update 操作。最终达到数据改变时，自动更新页面。 Watcher 的 update 函数就不再展开了，有兴趣的小伙伴可以自行查看。\n\n最后再回过头看看前面遗留的 _render 函数。\n\nupdateComponent = () => {\n  vm._update(vm._render(), hydrating)\n}\n\n\n1\n2\n3\n\n\n之前说了 _render 函数会返回 vnode，看看具体做了什么吧。\n\n// vue/src/core/instance/render.js\nVue.prototype._render = function (): VNode {\n  const vm: Component = this\n  // 从 $options 取出 render 函数以及 _parentVnode\n  // 这里的 render 函数可以是 template 或者 el 编译的\n  const { render, _parentVnode } = vm.$options\n\n  if (_parentVnode) {\n    vm.$scopedSlots = normalizeScopedSlots(\n      _parentVnode.data.scopedSlots,\n      vm.$slots,\n      vm.$scopedSlots\n    )\n  }\n\n  vm.$vnode = _parentVnode\n  let vnode\n  try {\n    currentRenderingInstance = vm\n    // 最终会执行 $options 中的 render 函数\n    // _renderProxy 可以看做 vm\n    // 将 vm.$createElement 函数传递给 render，也就是经常看到的 h 函数\n    // 最终生成 vnode\n    vnode = render.call(vm._renderProxy, vm.$createElement)\n  } catch (e) {\n    // 异常处理\n    ...\n  } finally {\n    currentRenderingInstance = null\n  }\n\n  // 如果返回的数组只包含一个节点，则取第一个值\n  if (Array.isArray(vnode) && vnode.length === 1) {\n    vnode = vnode[0]\n  }\n\n  // vnode 如果不是 VNode 实例，报错并返回空的 vnode\n  if (!(vnode instanceof VNode)) {\n    if (process.env.NODE_ENV !== 'production' && Array.isArray(vnode)) {\n      warn(\n        'Multiple root nodes returned from render function. Render function ' +\n        'should return a single root node.',\n        vm\n      )\n    }\n    vnode = createEmptyVNode()\n  }\n  // 设置父节点\n  vnode.parent = _parentVnode\n  // 最终返回 vnode\n  return vnode\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n\n\n接下来就是看 vm.$createElement 也就是 render 函数中的 h\n\n// vue/src/core/instance/render.js\nimport { createElement } from '../vdom/create-element'\nexport function initRender (vm: Component) {\n  ...\n  vm._c = (a, b, c, d) => createElement(vm, a, b, c, d, false)\n  vm.$createElement = (a, b, c, d) => createElement(vm, a, b, c, d, true)\n  ...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n// vue/src/core/vdom/create-element.js\nexport function createElement (\n  context: Component,\n  tag: any,\n  data: any,\n  children: any,\n  normalizationType: any,\n  alwaysNormalize: boolean\n): VNode | Array<VNode> {\n  // data 是数组或简单数据类型，代表 data 没传，将参数值赋值给正确的变量\n  if (Array.isArray(data) || isPrimitive(data)) {\n    normalizationType = children\n    children = data\n    data = undefined\n  }\n  if (isTrue(alwaysNormalize)) {\n    normalizationType = ALWAYS_NORMALIZE\n  }\n  // 将正确的参数传递给 _createElement\n  return _createElement(context, tag, data, children, normalizationType)\n}\n\nexport function _createElement (\n  context: Component,\n  tag?: string | Class<Component> | Function | Object,\n  data?: VNodeData,\n  children?: any,\n  normalizationType?: number\n): VNode | Array<VNode> {\n  if (isDef(data) && isDef((data: any).__ob__)) {\n    // render 函数中的 data 不能为响应式数据\n    process.env.NODE_ENV !== 'production' && warn(\n      `Avoid using observed data object as vnode data: ${JSON.stringify(data)}\\n` +\n      'Always create fresh vnode data objects in each render!',\n      context\n    )\n    // 返回空的 vnode 节点\n    return createEmptyVNode()\n  }\n  // 用 is 指定标签\n  if (isDef(data) && isDef(data.is)) {\n    tag = data.is\n  }\n  if (!tag) {\n    // in case of component :is set to falsy value\n    return createEmptyVNode()\n  }\n  // key 值不是简单数据类型时，警告提示\n  if (process.env.NODE_ENV !== 'production' &&\n    isDef(data) && isDef(data.key) && !isPrimitive(data.key)\n  ) { ... }\n\n  if (Array.isArray(children) &&\n    typeof children[0] === 'function'\n  ) {\n    data = data || {}\n    data.scopedSlots = { default: children[0] }\n    children.length = 0\n  }\n  // 处理子节点\n  if (normalizationType === ALWAYS_NORMALIZE) {\n    // VNode 数组\n    children = normalizeChildren(children)\n  } else if (normalizationType === SIMPLE_NORMALIZE) {\n    children = simpleNormalizeChildren(children)\n  }\n\n  // 生成 vnode\n  let vnode, ns\n  if (typeof tag === 'string') {\n    let Ctor\n    ns = (context.$vnode && context.$vnode.ns) || config.getTagNamespace(tag)\n    if (config.isReservedTag(tag)) {\n      ...\n      vnode = new VNode(\n        config.parsePlatformTagName(tag), data, children,\n        undefined, undefined, context\n      )\n    } else if ((!data || !data.pre) && isDef(Ctor = resolveAsset(context.$options, 'components', tag))) {\n      vnode = createComponent(Ctor, data, context, children, tag)\n    } else {\n      vnode = new VNode(\n        tag, data, children,\n        undefined, undefined, context\n      )\n    }\n  } else {\n    vnode = createComponent(tag, data, context, children)\n  }\n\n  // 返回 vnode\n  if (Array.isArray(vnode)) {\n    return vnode\n  } else if (isDef(vnode)) {\n    if (isDef(ns)) applyNS(vnode, ns)\n    if (isDef(data)) registerDeepBindings(data)\n    return vnode\n  } else {\n    return createEmptyVNode()\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n\n\n\n# 总结\n\n代码看起来很多，其实主要流程可以分为以下 4 点：\n\n1、 new Vue 初始化数据等\n\n2、$mount 将 render、template 或 el 转为 render 函数\n\n3、生成一个渲染 Watcher 收集依赖，并将执行 render 函数生成 vnode 传递给 patch 函数执行，渲染页面。\n\n4、当渲染 Watcher 依赖发生变化时，执行 Watcher 的 getter 函数，重新依赖收集。并且重新执行 render 函数生成 vnode 传递给 patch 函数进行页面的更新。\n\n以上内容均是个人理解，如果有讲的不对的地方，还请各位大佬指点。\n\n如果觉得内容还不错的话，希望小伙伴可以帮忙点赞转发，给更多的小伙伴看到，感谢感谢！\n\n----------------------------------------\n\n如果你喜欢我的文章，还可以关注我的公众号【前端develop】\n\n",normalizedContent:"面试的时候，面试官经常会问 vue 双向绑定的原理是什么？我猜大部分人会跟我一样，不假思索的回答利用 object.defineproperty 实现的。\n\n其实这个回答很笼统，而且也没回答完整？vue 中 object.defineproperty 只是对数据做了劫持，具体的如何渲染到页面上，并没有考虑到。接下来从初始化开始，看看 vue 都做了什么事情。\n\n\n# 前提知识\n\n在读源码前，需要了解 object.defineproperty 的使用，以及 vue dep 的用法。这里就简单带过，各位大佬可以直接跳过，进行源码分析。\n\n\n# object.defineproperty\n\n当使用 object.defineproperty 对对象的属性进行拦截时，调用该对象的属性，则会调用 get 函数，属性值则是 get 函数的返回值。当修改属性值时，则会调用 set 函数。\n\n当然也可以通过 object.defineproperty 给对象添加属性值，vue 中就是通过这个方法将 data、computed 等属性添加到 vm 上。\n\nobject.defineproperty(obj, key, {\n  enumerable: true,\n  configurable: true,\n  get: function reactivegetter () {\n    const value = getter ? getter.call(obj) : val\n    // 用于依赖收集，dep 中讲到\n    if (dep.target) {\n      dep.depend()\n      if (childob) {\n        childob.dep.depend()\n        if (array.isarray(value)) {\n          dependarray(value)\n        }\n      }\n    }\n    return value\n  },\n  set: function reactivesetter (newval) {\n    val = newval\n    // val 发生变化时，发出通知，dep 中讲到\n    dep.notify()\n  }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n\n\n\n# dep\n\n这里不讲什么设计模式了，直接看代码。\n\nlet uid = 0\n\nexport default class dep {\n  static target: ?watcher;\n  id: number;\n  subs: array<watcher>;\n\n  constructor () {\n    this.id = uid++\n    this.subs = []\n  }\n\n  addsub (sub: watcher) {\n    // 添加 watcher\n    this.subs.push(sub)\n  }\n\n  removesub (sub: watcher) {\n    // 从列表中移除某个 watcher\n    remove(this.subs, sub)\n  }\n\n  depend () {\n    // 当 target 存在时，也就是目标 watcher 存在的时候，\n    // 就可以为这个目标 watcher 收集依赖\n    // watcher 的 adddep 方法在下文中\n    if (dep.target) {\n      dep.target.adddep(this)\n    }\n  }\n\n  notify () {\n    // 对 watcher 进行排序\n    const subs = this.subs.slice()\n    if (process.env.node_env !== 'production' && !config.async) {\n      subs.sort((a, b) => a.id - b.id)\n    }\n    // 当该依赖发生变化时, 调用添加到列表中的 watcher 的 update 方法进行更新\n    for (let i = 0, l = subs.length; i < l; i++) {\n      subs[i].update()\n    }\n  }\n}\n\n// target 为某个 watcher 实例，一次只能为一个 watcher 收集依赖\ndep.target = null\n// 通过堆栈存放 watcher 实例，\n// 当某个 watcher 的实例未收集完，又有新的 watcher 实例需要收集依赖，\n// 那么旧的 watcher 就先存放到 targetstack，\n// 等待新的 watcher 收集完后再为旧的 watcher 收集\n// 配合下面的 pushtarget 和 poptarget 实现\nconst targetstack = []\n\nexport function pushtarget (target: ?watcher) {\n  targetstack.push(target)\n  dep.target = target\n}\n\nexport function poptarget () {\n  targetstack.pop()\n  dep.target = targetstack[targetstack.length - 1]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n\n\n当某个 watcher 需要依赖某个 dep 时，那么调用 dep.addsub(watcher) 即可，当 dep 发生变化时，调用 dep.notify() 就可以触发 watcher 的 update 方法。接下来看看 vue 中 watcher 的实现。\n\nclass watcher {\n  // 很多属性，这里省略\n  ...\n  // 构造函数\n  constructor (\n    vm: component,\n    exporfn: string | function,\n    cb: function,\n    options?: ?object,\n    isrenderwatcher?: boolean\n  ) { ... }\n\n  get () {\n    // 当执行 watcher 的 get 函数时，会将当前的 watcher 作为 dep 的 target\n    pushtarget(this)\n    let value\n    const vm = this.vm\n    try {\n      // 在执行 getter 时，当遇到响应式数据，会触发上面讲到的 object.defineproperty 中的 get 函数\n      // vue 就是在 object.defineproperty 的 get 中调用 dep.depend() 进行依赖收集。\n      value = this.getter.call(vm, vm)\n    } catch (e) {\n      ...\n    } finally {\n      ...\n      // 当前 watcher 的依赖收集完后，调用 poptarget 更换 watcher\n      poptarget()\n      this.cleanupdeps()\n    }\n    return value\n  }\n\n  // dep.depend() 收集依赖时，会经过 watcher 的 adddep 方法\n  // adddep 做了判断，避免重复收集，然后调用 dep.addsub 将该 watcher 添加到 dep 的 subs 中\n  adddep (dep: dep) {\n    const id = dep.id\n    if (!this.newdepids.has(id)) {\n      this.newdepids.add(id)\n      this.newdeps.push(dep)\n      if (!this.depids.has(id)) {\n        dep.addsub(this)\n      }\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n\n\n通过 object.defineproperty 中的 get，dep 的 depend 以及 watcher 的 adddep 这三个函数的配合，完成了依赖的收集，就是将 watcher 添加到 dep 的 subs 列表中。\n\n当依赖发生变化时，就会调用 object.defineproperty 中的 set，在 set 中调用 dep 的 notify，使得 subs 中的每个 watcher 都执行 update 函数。\n\nwatcher 中的 update 最终会重新调用 get 函数，重新求值并重新收集依赖。\n\n\n# 源码分析\n\n先看看 new vue 都做了什么?\n\n// vue/src/core/instance/index.js\nfunction vue (options) {\n  if (process.env.node_env !== 'production' &&\n    !(this instanceof vue)\n  ) {\n    // 只能使用 new vue 调用该方法，否则输入警告\n    warn('vue is a constructor and should be called with the `new` keyword')\n  }\n  // 开始初始化\n  this._init(options)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n_init 方法通过原型挂载在 vue 上\n\n// vue/src/core/instance/init.js\nexport function initmixin (vue: class<component>) {\n  vue.prototype._init = function (options?: object) {\n    const vm: component = this\n    // a uid\n    vm._uid = uid++\n\n    let starttag, endtag\n    // 初始化前打点，用于记录 vue 实例初始化所消耗的时间\n    if (process.env.node_env !== 'production' && config.performance && mark) {\n      starttag = `vue-perf-start:${vm._uid}`\n      endtag = `vue-perf-end:${vm._uid}`\n      mark(starttag)\n    }\n\n    // a flag to avoid this being observed\n    vm._isvue = true\n    // 合并参数到 $options\n    if (options && options._iscomponent) {\n      initinternalcomponent(vm, options)\n    } else {\n      vm.$options = mergeoptions(\n        resolveconstructoroptions(vm.constructor),\n        options || {},\n        vm\n      )\n    }\n\n    if (process.env.node_env !== 'production') {\n      // 非生产环境以及支持 proxy 的浏览器中，对 vm 的属性进行劫持，并将代理后的 vm 赋值给 _renderproxy\n      // 当调用 vm 不存在的属性时，进行错误提示。\n      // 在不支持 proxy 的浏览器中，_renderproxy = vm; 为了简单理解，就看成等同于 vm\n\n      // 代码在 src/core/instance/proxy.js\n      initproxy(vm)\n    } else {\n      vm._renderproxy = vm\n    }\n    // expose real self\n    vm._self = vm\n    // 初始化声明周期函数\n    initlifecycle(vm)\n    // 初始化事件\n    initevents(vm)\n    // 初始化 render 函数\n    initrender(vm)\n    // 触发 beforecreate 钩子\n    callhook(vm, 'beforecreate')\n    // 初始化 inject\n    initinjections(vm) // resolve injections before data/props\n    // 初始化 data/props 等\n    // 通过 object.defineproperty 对数据进行劫持\n    initstate(vm)\n    // 初始化 provide\n    initprovide(vm) // resolve provide after data/props\n    // 数据处理完后，触发 created 钩子\n    callhook(vm, 'created')\n\n    // 从 new vue 到 created 所消耗的时间\n    if (process.env.node_env !== 'production' && config.performance && mark) {\n      vm._name = formatcomponentname(vm, false)\n      mark(endtag)\n      measure(`vue ${vm._name} init`, starttag, endtag)\n    }\n\n    // 如果 options 有 el 参数则进行 mount\n    if (vm.$options.el) {\n      vm.$mount(vm.$options.el)\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n\n\n接下来进入 $mount，因为用的是完整版的 vue，直接看 vue/src/platforms/web/entry-runtime-with-compiler.js 这个文件。\n\n// vue/src/platforms/web/entry-runtime-with-compiler.js\n// 首先将 runtime 中的 $mount 方法赋值给 mount 进行保存\nconst mount = vue.prototype.$mount\n// 重写 $mount，对 template 编译为 render 函数后再调用 runtime 的 $mount\nvue.prototype.$mount = function (\n  el?: string | element,\n  hydrating?: boolean\n): component {\n  el = el && query(el)\n\n  // 挂载元素不允许为 body 或 html\n  if (el === document.body || el === document.documentelement) {\n    process.env.node_env !== 'production' && warn(\n      `do not mount vue to <html> or <body> - mount to normal elements instead.`\n    )\n    return this\n  }\n\n  const options = this.$options\n  if (!options.render) {\n    let template = options.template\n    // render 函数不存在时，将 template 转化为 render 函数\n    // 具体就不展开了\n    ...\n    if (template) {\n        ...\n    } else if (el) {\n      // template 不存在，则将 el 转成 template\n      // 从这里可以看出 vue 支持 render、template、el 进行渲染\n      template = getouterhtml(el)\n    }\n    if (template) {\n      const { render, staticrenderfns } = compiletofunctions(template, {\n        outputsourcerange: process.env.node_env !== 'production',\n        shoulddecodenewlines,\n        shoulddecodenewlinesforhref,\n        delimiters: options.delimiters,\n        comments: options.comments\n      }, this)\n      options.render = render\n      options.staticrenderfns = staticrenderfns\n    }\n  }\n  // 调用 runtime 中 $mount\n  return mount.call(this, el, hydrating)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n\n\n查看 runtime 中的 $mount\n\n// vue/src/platforms/web/runtime/index.js\nvue.prototype.$mount = function (\n  el?: string | element,\n  hydrating?: boolean\n): component {\n  el = el && inbrowser ? query(el) : undefined\n  return mountcomponent(this, el, hydrating)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\nmountcomponent 定义在 vue/src/core/instance/lifecycle.js 中\n\n// vue/src/core/instance/lifecycle.js\nexport function mountcomponent (\n  vm: component,\n  el: ?element,\n  hydrating?: boolean\n): component {\n  vm.$el = el\n  if (!vm.$options.render) {\n    // 未定义 render 函数时，将 render 赋值为 createemptyvnode 函数\n    vm.$options.render = createemptyvnode\n    if (process.env.node_env !== 'production') {\n      /* istanbul ignore if */\n      if ((vm.$options.template && vm.$options.template.charat(0) !== '#') ||\n        vm.$options.el || el) {\n        // 用了 vue 的 runtime 版本，而没有 render 函数时，报错处理\n        warn(\n          'you are using the runtime-only build of vue where the template ' +\n          'compiler is not available. either pre-compile the templates into ' +\n          'render functions, or use the compiler-included build.',\n          vm\n        )\n      } else {\n        // template 和 render 都未定义时，报错处理\n        warn(\n          'failed to mount component: template or render function not defined.',\n          vm\n        )\n      }\n    }\n  }\n  // 调用 beforemount 钩子\n  callhook(vm, 'beforemount')\n  // 定义 updatecomponent 函数\n  let updatecomponent\n  /* istanbul ignore if */\n  if (process.env.node_env !== 'production' && config.performance && mark) {\n    // 需要做监控性能时，在 updatecomponent 内加入打点的操作\n    updatecomponent = () => {\n      const name = vm._name\n      const id = vm._uid\n      const starttag = `vue-perf-start:${id}`\n      const endtag = `vue-perf-end:${id}`\n\n      mark(starttag)\n      const vnode = vm._render()\n      mark(endtag)\n      measure(`vue ${name} render`, starttag, endtag)\n\n      mark(starttag)\n      vm._update(vnode, hydrating)\n      mark(endtag)\n      measure(`vue ${name} patch`, starttag, endtag)\n    }\n  } else {\n    updatecomponent = () => {\n      // updatecomponent 主要调用 _update 进行浏览器渲染\n      // _render 返回 vnode\n      // 先继续往下看，等会再回来看这两个函数\n      vm._update(vm._render(), hydrating)\n    }\n  }\n\n  // new 一个渲染 watcher\n  new watcher(vm, updatecomponent, noop, {\n    before () {\n      if (vm._ismounted && !vm._isdestroyed) {\n        callhook(vm, 'beforeupdate')\n      }\n    }\n  }, true /* isrenderwatcher */)\n  hydrating = false\n\n  // 挂载完成，触发 mounted\n  if (vm.$vnode == null) {\n    vm._ismounted = true\n    callhook(vm, 'mounted')\n  }\n  return vm\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n\n\n先继续往下看，看看 new watcher 做了什么，再回过头看 updatecomponent 中的 _update 和 _render。\n\nwatcher 的构造函数如下\n\n// vue/src/core/observer/watcher.js\nconstructor (\n  vm: component,\n  exporfn: string | function,\n  cb: function,\n  options?: ?object,\n  isrenderwatcher?: boolean\n) {\n  this.vm = vm\n  if (isrenderwatcher) {\n    vm._watcher = this\n  }\n  vm._watchers.push(this)\n  // options\n  if (options) {\n    this.deep = !!options.deep\n    this.user = !!options.user\n    this.lazy = !!options.lazy\n    this.sync = !!options.sync\n    this.before = options.before\n  } else {\n    this.deep = this.user = this.lazy = this.sync = false\n  }\n  this.cb = cb\n  this.id = ++uid // uid for batching\n  this.active = true\n  this.dirty = this.lazy // for lazy watchers\n  ...\n  // exporfn 为上文的 updatecomponent 函数，赋值给 getter\n  if (typeof exporfn === 'function') {\n    this.getter = exporfn\n  } else {\n    this.getter = parsepath(exporfn)\n    if (!this.getter) {\n      this.getter = noop\n      ...\n    }\n  }\n  // lazy 为 false，调用 get 方法\n  this.value = this.lazy\n    ? undefined\n    : this.get()\n}\n\n// 执行 getter 函数，getter 函数为 updatecomponent，并收集依赖\nget () {\n  pushtarget(this)\n  let value\n  const vm = this.vm\n  try {\n    value = this.getter.call(vm, vm)\n  } catch (e) {\n    ...\n  } finally {\n    if (this.deep) {\n      traverse(value)\n    }\n    poptarget()\n    this.cleanupdeps()\n  }\n  return value\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n\n\n在 new watcher 后会调用 updatecomponent 函数，上文中 updatecomponent 内执行了 vm._update，_update 执行前会通过 _render 获得 vnode，接下里看看 _update 做了什么。_update 定义在 vue/src/core/instance/lifecycle.js 中\n\n// vue/src/core/instance/lifecycle.js\nvue.prototype._update = function (vnode: vnode, hydrating?: boolean) {\n  const vm: component = this\n  const prevvnode = vm._vnode\n  vm._vnode = vnode\n  ...\n\n  if (!prevvnode) {\n    // 初始渲染\n    vm.$el = vm.__patch__(vm.$el, vnode, hydrating, false /* removeonly */)\n  } else {\n    // 更新 vnode\n    vm.$el = vm.__patch__(prevvnode, vnode)\n  }\n  ...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n接下来到了 __patch__ 函数进行页面渲染。\n\n// vue/src/platforms/web/runtime/index.js\nimport { patch } from './patch'\nvue.prototype.__patch__ = inbrowser ? patch : noop\n\n\n1\n2\n3\n\n\n// vue/src/platforms/web/runtime/patch.js\nimport { createpatchfunction } from 'core/vdom/patch'\nexport const patch: function = createpatchfunction({ nodeops, modules })\n\n\n1\n2\n3\n\n\ncreatepatchfunction 提供了很多操作 virtual dom 的方法，最终会返回一个 path 函数。\n\nexport function createpatchfunction (backend) {\n  ...\n  // oldvnode 代表旧的节点，vnode 代表新的节点\n  return function patch (oldvnode, vnode, hydrating, removeonly) {\n    // vnode 为 undefined, oldvnode 不为 undefined 则需要执行 destroy\n    if (isundef(vnode)) {\n      if (isdef(oldvnode)) invokedestroyhook(oldvnode)\n      return\n    }\n\n    let isinitialpatch = false\n    const insertedvnodequeue = []\n\n    if (isundef(oldvnode)) {\n      // oldvnode 不存在，表示初始渲染，则根据 vnode 创建元素\n      isinitialpatch = true\n      createelm(vnode, insertedvnodequeue)\n    } else {\n\n      const isrealelement = isdef(oldvnode.nodetype)\n      if (!isrealelement && samevnode(oldvnode, vnode)) {\n        // oldvnode 与 vnode 为相同节点，调用 patchvnode 更新子节点\n        patchvnode(oldvnode, vnode, insertedvnodequeue, null, null, removeonly)\n      } else {\n        if (isrealelement) {\n          // 服务端渲染的处理\n          ...\n        }\n        // 其他操作\n        ...\n      }\n    }\n\n    invokeinserthook(vnode, insertedvnodequeue, isinitialpatch)\n    // 最终渲染到页面上\n    return vnode.elm\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n\n\n当渲染 watcher 的依赖的数据发生变化时，会触发 object.defineproperty 中的 set 函数。\n\n从而调用 dep.notify() 通知该 watcher 进行 update 操作。最终达到数据改变时，自动更新页面。 watcher 的 update 函数就不再展开了，有兴趣的小伙伴可以自行查看。\n\n最后再回过头看看前面遗留的 _render 函数。\n\nupdatecomponent = () => {\n  vm._update(vm._render(), hydrating)\n}\n\n\n1\n2\n3\n\n\n之前说了 _render 函数会返回 vnode，看看具体做了什么吧。\n\n// vue/src/core/instance/render.js\nvue.prototype._render = function (): vnode {\n  const vm: component = this\n  // 从 $options 取出 render 函数以及 _parentvnode\n  // 这里的 render 函数可以是 template 或者 el 编译的\n  const { render, _parentvnode } = vm.$options\n\n  if (_parentvnode) {\n    vm.$scopedslots = normalizescopedslots(\n      _parentvnode.data.scopedslots,\n      vm.$slots,\n      vm.$scopedslots\n    )\n  }\n\n  vm.$vnode = _parentvnode\n  let vnode\n  try {\n    currentrenderinginstance = vm\n    // 最终会执行 $options 中的 render 函数\n    // _renderproxy 可以看做 vm\n    // 将 vm.$createelement 函数传递给 render，也就是经常看到的 h 函数\n    // 最终生成 vnode\n    vnode = render.call(vm._renderproxy, vm.$createelement)\n  } catch (e) {\n    // 异常处理\n    ...\n  } finally {\n    currentrenderinginstance = null\n  }\n\n  // 如果返回的数组只包含一个节点，则取第一个值\n  if (array.isarray(vnode) && vnode.length === 1) {\n    vnode = vnode[0]\n  }\n\n  // vnode 如果不是 vnode 实例，报错并返回空的 vnode\n  if (!(vnode instanceof vnode)) {\n    if (process.env.node_env !== 'production' && array.isarray(vnode)) {\n      warn(\n        'multiple root nodes returned from render function. render function ' +\n        'should return a single root node.',\n        vm\n      )\n    }\n    vnode = createemptyvnode()\n  }\n  // 设置父节点\n  vnode.parent = _parentvnode\n  // 最终返回 vnode\n  return vnode\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n\n\n接下来就是看 vm.$createelement 也就是 render 函数中的 h\n\n// vue/src/core/instance/render.js\nimport { createelement } from '../vdom/create-element'\nexport function initrender (vm: component) {\n  ...\n  vm._c = (a, b, c, d) => createelement(vm, a, b, c, d, false)\n  vm.$createelement = (a, b, c, d) => createelement(vm, a, b, c, d, true)\n  ...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n// vue/src/core/vdom/create-element.js\nexport function createelement (\n  context: component,\n  tag: any,\n  data: any,\n  children: any,\n  normalizationtype: any,\n  alwaysnormalize: boolean\n): vnode | array<vnode> {\n  // data 是数组或简单数据类型，代表 data 没传，将参数值赋值给正确的变量\n  if (array.isarray(data) || isprimitive(data)) {\n    normalizationtype = children\n    children = data\n    data = undefined\n  }\n  if (istrue(alwaysnormalize)) {\n    normalizationtype = always_normalize\n  }\n  // 将正确的参数传递给 _createelement\n  return _createelement(context, tag, data, children, normalizationtype)\n}\n\nexport function _createelement (\n  context: component,\n  tag?: string | class<component> | function | object,\n  data?: vnodedata,\n  children?: any,\n  normalizationtype?: number\n): vnode | array<vnode> {\n  if (isdef(data) && isdef((data: any).__ob__)) {\n    // render 函数中的 data 不能为响应式数据\n    process.env.node_env !== 'production' && warn(\n      `avoid using observed data object as vnode data: ${json.stringify(data)}\\n` +\n      'always create fresh vnode data objects in each render!',\n      context\n    )\n    // 返回空的 vnode 节点\n    return createemptyvnode()\n  }\n  // 用 is 指定标签\n  if (isdef(data) && isdef(data.is)) {\n    tag = data.is\n  }\n  if (!tag) {\n    // in case of component :is set to falsy value\n    return createemptyvnode()\n  }\n  // key 值不是简单数据类型时，警告提示\n  if (process.env.node_env !== 'production' &&\n    isdef(data) && isdef(data.key) && !isprimitive(data.key)\n  ) { ... }\n\n  if (array.isarray(children) &&\n    typeof children[0] === 'function'\n  ) {\n    data = data || {}\n    data.scopedslots = { default: children[0] }\n    children.length = 0\n  }\n  // 处理子节点\n  if (normalizationtype === always_normalize) {\n    // vnode 数组\n    children = normalizechildren(children)\n  } else if (normalizationtype === simple_normalize) {\n    children = simplenormalizechildren(children)\n  }\n\n  // 生成 vnode\n  let vnode, ns\n  if (typeof tag === 'string') {\n    let ctor\n    ns = (context.$vnode && context.$vnode.ns) || config.gettagnamespace(tag)\n    if (config.isreservedtag(tag)) {\n      ...\n      vnode = new vnode(\n        config.parseplatformtagname(tag), data, children,\n        undefined, undefined, context\n      )\n    } else if ((!data || !data.pre) && isdef(ctor = resolveasset(context.$options, 'components', tag))) {\n      vnode = createcomponent(ctor, data, context, children, tag)\n    } else {\n      vnode = new vnode(\n        tag, data, children,\n        undefined, undefined, context\n      )\n    }\n  } else {\n    vnode = createcomponent(tag, data, context, children)\n  }\n\n  // 返回 vnode\n  if (array.isarray(vnode)) {\n    return vnode\n  } else if (isdef(vnode)) {\n    if (isdef(ns)) applyns(vnode, ns)\n    if (isdef(data)) registerdeepbindings(data)\n    return vnode\n  } else {\n    return createemptyvnode()\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n94\n95\n96\n97\n98\n99\n100\n101\n\n\n\n# 总结\n\n代码看起来很多，其实主要流程可以分为以下 4 点：\n\n1、 new vue 初始化数据等\n\n2、$mount 将 render、template 或 el 转为 render 函数\n\n3、生成一个渲染 watcher 收集依赖，并将执行 render 函数生成 vnode 传递给 patch 函数执行，渲染页面。\n\n4、当渲染 watcher 依赖发生变化时，执行 watcher 的 getter 函数，重新依赖收集。并且重新执行 render 函数生成 vnode 传递给 patch 函数进行页面的更新。\n\n以上内容均是个人理解，如果有讲的不对的地方，还请各位大佬指点。\n\n如果觉得内容还不错的话，希望小伙伴可以帮忙点赞转发，给更多的小伙伴看到，感谢感谢！\n\n----------------------------------------\n\n如果你喜欢我的文章，还可以关注我的公众号【前端develop】\n\n",charsets:{cjk:!0}},{title:"【面试题解析】从 Vue 源码分析 key 的作用",frontmatter:{title:"【面试题解析】从 Vue 源码分析 key 的作用",date:"2020-03-15T00:00:00.000Z",categories:["前端"],tags:["Vue","Diff","面试题","源码"],description:"最近看了面试题中有一个这样的题，v-for 为什么要绑定 key？\nVue 中 key 很多人都弄不清楚有什么作用，甚至还有些人认为不绑定 key 就会报错。\n其实没绑定 key 的话，Vue 还是可以正常运行的，报警告是因为没通过 Eslint 的检查。\n接下来将通过源码一步步分析这个 key 的作用。",meta:[{name:"image",content:"https://www.fedevelop.cn/imgs/qrcode.png"},{name:"twitter:title",content:"【面试题解析】从 Vue 源码分析 key 的作用"},{name:"twitter:description",content:"最近看了面试题中有一个这样的题，v-for 为什么要绑定 key？\nVue 中 key 很多人都弄不清楚有什么作用，甚至还有些人认为不绑定 key 就会报错。\n其实没绑定 key 的话，Vue 还是可以正常运行的，报警告是因为没通过 Eslint 的检查。\n接下来将通过源码一步步分析这个 key 的作用。"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://www.fedevelop.cn/imgs/qrcode.png"},{name:"twitter:url",content:"https://www.fedevelop.cn/views/%E5%89%8D%E7%AB%AF/2020/%E3%80%90%E9%9D%A2%E8%AF%95%E9%A2%98%E8%A7%A3%E6%9E%90%E3%80%91%E4%BB%8E%20Vue%20%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%20key%20%E7%9A%84%E4%BD%9C%E7%94%A8.html"},{property:"og:type",content:"article"},{property:"og:title",content:"【面试题解析】从 Vue 源码分析 key 的作用"},{property:"og:description",content:"最近看了面试题中有一个这样的题，v-for 为什么要绑定 key？\nVue 中 key 很多人都弄不清楚有什么作用，甚至还有些人认为不绑定 key 就会报错。\n其实没绑定 key 的话，Vue 还是可以正常运行的，报警告是因为没通过 Eslint 的检查。\n接下来将通过源码一步步分析这个 key 的作用。"},{property:"og:image",content:"https://www.fedevelop.cn/imgs/qrcode.png"},{property:"og:url",content:"https://www.fedevelop.cn/views/%E5%89%8D%E7%AB%AF/2020/%E3%80%90%E9%9D%A2%E8%AF%95%E9%A2%98%E8%A7%A3%E6%9E%90%E3%80%91%E4%BB%8E%20Vue%20%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%20key%20%E7%9A%84%E4%BD%9C%E7%94%A8.html"},{property:"og:site_name",content:"前端develop"},{property:"article:published_time",content:"2020-03-15T00:00:00.000Z"},{property:"article:tag",content:"Vue"},{property:"article:tag",content:"Diff"},{property:"article:tag",content:"面试题"},{property:"article:tag",content:"源码"},{itemprop:"name",content:"【面试题解析】从 Vue 源码分析 key 的作用"},{itemprop:"description",content:"最近看了面试题中有一个这样的题，v-for 为什么要绑定 key？\nVue 中 key 很多人都弄不清楚有什么作用，甚至还有些人认为不绑定 key 就会报错。\n其实没绑定 key 的话，Vue 还是可以正常运行的，报警告是因为没通过 Eslint 的检查。\n接下来将通过源码一步步分析这个 key 的作用。"},{itemprop:"image",content:"https://www.fedevelop.cn/imgs/qrcode.png"}]},regularPath:"/views/%E5%89%8D%E7%AB%AF/2020/%E3%80%90%E9%9D%A2%E8%AF%95%E9%A2%98%E8%A7%A3%E6%9E%90%E3%80%91%E4%BB%8E%20Vue%20%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%20key%20%E7%9A%84%E4%BD%9C%E7%94%A8.html",relativePath:"views/前端/2020/【面试题解析】从 Vue 源码分析 key 的作用.md",key:"v-f62f16ea",path:"/views/%E5%89%8D%E7%AB%AF/2020/%E3%80%90%E9%9D%A2%E8%AF%95%E9%A2%98%E8%A7%A3%E6%9E%90%E3%80%91%E4%BB%8E%20Vue%20%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%20key%20%E7%9A%84%E4%BD%9C%E7%94%A8.html",headers:[{level:2,title:"Virtual DOM",slug:"virtual-dom",normalizedTitle:"virtual dom",charIndex:161},{level:2,title:"Diff",slug:"diff",normalizedTitle:"diff",charIndex:333},{level:2,title:"VNode 更新过程",slug:"vnode-更新过程",normalizedTitle:"vnode 更新过程",charIndex:440},{level:2,title:"key 的作用",slug:"key-的作用",normalizedTitle:"key 的作用",charIndex:148},{level:2,title:"总结",slug:"总结",normalizedTitle:"总结",charIndex:7068},{level:2,title:"补充（2020/03/16）",slug:"补充-2020-03-16",normalizedTitle:"补充（2020/03/16）",charIndex:7345}],excerpt:"<p>最近看了面试题中有一个这样的题，<code>v-for 为什么要绑定 key？</code></p>\n<p>Vue 中 key 很多人都弄不清楚有什么作用，甚至还有些人认为不绑定 key 就会报错。</p>\n<p>其实没绑定 key 的话，Vue 还是可以正常运行的，报警告是因为没通过 Eslint 的检查。</p>\n<p>接下来将通过源码一步步分析这个 key 的作用。</p>\n",lastUpdated:"3/18/2020, 10:08:19 PM",headersStr:"Virtual DOM Diff VNode 更新过程 key 的作用 总结 补充（2020/03/16）",content:"最近看了面试题中有一个这样的题，v-for 为什么要绑定 key？\n\nVue 中 key 很多人都弄不清楚有什么作用，甚至还有些人认为不绑定 key 就会报错。\n\n其实没绑定 key 的话，Vue 还是可以正常运行的，报警告是因为没通过 Eslint 的检查。\n\n接下来将通过源码一步步分析这个 key 的作用。\n\n\n# Virtual DOM\n\nVirtual DOM 最主要保留了 DOM 元素的层级关系和一些基本属性，本质上就是一个 JS 对象。相对于真实的 DOM，Virtual DOM 更简单，操作起来速度更快。\n\n如果需要改变 DOM，则会通过新旧 Virtual DOM 对比，找出需要修改的节点进行真实的 DOM 操作，从而减小性能消耗。\n\n\n# Diff\n\n传统的 Diff 算法需要遍历一个树的每个节点，与另一棵树的每个节点对比，时间复杂度为 O(n²)。\n\nVue 采用的 Diff 算法则通过逐级对比，大大降低了复杂性，时间复杂度为 O(n)。\n\n\n# VNode 更新过程\n\nVNode 更新首先会经过 patch 函数，patch 函数源码如下：\n\n/* vue/src/core/vdom/patch.js */\nfunction patch (oldVnode, vnode, hydrating, removeOnly) {\n  if (isUndef(vnode)) {\n    if (isDef(oldVnode)) invokeDestroyHook(oldVnode)\n    return\n  }\n\n  let isInitialPatch = false\n  const insertedVnodeQueue = []\n\n  if (isUndef(oldVnode)) {\n    // empty mount (likely as component), create new root element\n    isInitialPatch = true\n    createElm(vnode, insertedVnodeQueue)\n  } else {\n    const isRealElement = isDef(oldVnode.nodeType)\n    if (!isRealElement && sameVnode(oldVnode, vnode)) {\n      // patch existing root node\n      patchVnode(oldVnode, vnode, insertedVnodeQueue, null, null, removeOnly)\n    } else {\n      // somecode\n    }\n  }\n\n  invokeInsertHook(vnode, insertedVnodeQueue, isInitialPatch)\n  return vnode.elm\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\nvnode 表示更新后的节点，oldVnode 表示更新前的节点，通过对比新旧节点进行操作。\n\n1、vnode 未定义，oldVnode 存在则触发 destroy 的钩子函数\n\n2、oldVnode 未定义，则根据 vnode 创建新的元素\n\n3、oldVnode 不为真实元素并且 oldVnode 与 vnode 为同一节点，则会调用 patchVnode 触发更新\n\n4、oldVnode 为真实元素或者 oldVnode 与 vnode 不是同一节点，另做处理\n\n接下来会进入 patchVnode 函数，源码如下：\n\nfunction patchVnode (\n  oldVnode,\n  vnode,\n  insertedVnodeQueue,\n  ownerArray,\n  index,\n  removeOnly\n) {\n  if (oldVnode === vnode) {\n    return\n  }\n\n  if (isDef(vnode.elm) && isDef(ownerArray)) {\n    // clone reused vnode\n    vnode = ownerArray[index] = cloneVNode(vnode)\n  }\n\n  // somecode\n\n  const oldCh = oldVnode.children\n  const ch = vnode.children\n\n  // somecode\n\n  if (isUndef(vnode.text)) {\n    if (isDef(oldCh) && isDef(ch)) {\n      if (oldCh !== ch) updateChildren(elm, oldCh, ch, insertedVnodeQueue, removeOnly)\n    } else if (isDef(ch)) {\n      if (process.env.NODE_ENV !== 'production') {\n        checkDuplicateKeys(ch)\n      }\n      if (isDef(oldVnode.text)) nodeOps.setTextContent(elm, '')\n      addVnodes(elm, null, ch, 0, ch.length - 1, insertedVnodeQueue)\n    } else if (isDef(oldCh)) {\n      removeVnodes(oldCh, 0, oldCh.length - 1)\n    } else if (isDef(oldVnode.text)) {\n      nodeOps.setTextContent(elm, '')\n    }\n  } else if (oldVnode.text !== vnode.text) {\n    nodeOps.setTextContent(elm, vnode.text)\n  }\n  if (isDef(data)) {\n    if (isDef(i = data.hook) && isDef(i = i.postpatch)) i(oldVnode, vnode)\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n\n\n1、vnode 的 text 不存在，则会比对 oldVnode 与 vnode 的 children 节点进行更新操作\n\n2、vnode 的 text 存在，则会修改 DOM 节点的 text\n\n接下来在 updateChildren 函数内就可以看到 key 的用处。\n\n\n# key 的作用\n\nkey 的作用主要是给 VNode 添加唯一标识，通过这个 key，可以更快找到新旧 VNode 的变化，从而进一步操作。\n\nkey 的作用主要表现在以下这段源码中。\n\n/* vue/src/core/vdom/patch.js */\nfunction updateChildren (parentElm, oldCh, newCh, insertedVnodeQueue, removeOnly) {\n  let oldStartIdx = 0\n  let newStartIdx = 0\n  let oldEndIdx = oldCh.length - 1\n  let oldStartVnode = oldCh[0]\n  let oldEndVnode = oldCh[oldEndIdx]\n  let newEndIdx = newCh.length - 1\n  let newStartVnode = newCh[0]\n  let newEndVnode = newCh[newEndIdx]\n  let oldKeyToIdx, idxInOld, vnodeToMove, refElm\n\n  // removeOnly is a special flag used only by <transition-group>\n  // to ensure removed elements stay in correct relative positions\n  // during leaving transitions\n  const canMove = !removeOnly\n\n  if (process.env.NODE_ENV !== 'production') {\n    checkDuplicateKeys(newCh)\n  }\n\n  while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n    if (isUndef(oldStartVnode)) {\n      oldStartVnode = oldCh[++oldStartIdx] // Vnode has been moved left\n    } else if (isUndef(oldEndVnode)) {\n      oldEndVnode = oldCh[--oldEndIdx]\n    } else if (sameVnode(oldStartVnode, newStartVnode)) {\n      patchVnode(oldStartVnode, newStartVnode, insertedVnodeQueue, newCh, newStartIdx)\n      oldStartVnode = oldCh[++oldStartIdx]\n      newStartVnode = newCh[++newStartIdx]\n    } else if (sameVnode(oldEndVnode, newEndVnode)) {\n      patchVnode(oldEndVnode, newEndVnode, insertedVnodeQueue, newCh, newEndIdx)\n      oldEndVnode = oldCh[--oldEndIdx]\n      newEndVnode = newCh[--newEndIdx]\n    } else if (sameVnode(oldStartVnode, newEndVnode)) { // Vnode moved right\n      patchVnode(oldStartVnode, newEndVnode, insertedVnodeQueue, newCh, newEndIdx)\n      canMove && nodeOps.insertBefore(parentElm, oldStartVnode.elm, nodeOps.nextSibling(oldEndVnode.elm))\n      oldStartVnode = oldCh[++oldStartIdx]\n      newEndVnode = newCh[--newEndIdx]\n    } else if (sameVnode(oldEndVnode, newStartVnode)) { // Vnode moved left\n      patchVnode(oldEndVnode, newStartVnode, insertedVnodeQueue, newCh, newStartIdx)\n      canMove && nodeOps.insertBefore(parentElm, oldEndVnode.elm, oldStartVnode.elm)\n      oldEndVnode = oldCh[--oldEndIdx]\n      newStartVnode = newCh[++newStartIdx]\n    } else {\n      // 以上 4 种均匹配不到，通过 key 生成 key -> index 的 map（生成一次）\n      if (isUndef(oldKeyToIdx)) oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx)\n      /**\n       * 有 key 通过 key 比较，时间复杂度 O(n)\n       * 无 key 时，每个 vnode 均需要遍历比较，时间复杂度  O(n²)\n       */\n      idxInOld = isDef(newStartVnode.key)\n        ? oldKeyToIdx[newStartVnode.key]\n        : findIdxInOld(newStartVnode, oldCh, oldStartIdx, oldEndIdx)\n      if (isUndef(idxInOld)) { // New element\n        createElm(newStartVnode, insertedVnodeQueue, parentElm, oldStartVnode.elm, false, newCh, newStartIdx)\n      } else {\n        vnodeToMove = oldCh[idxInOld]\n        if (sameVnode(vnodeToMove, newStartVnode)) {\n          patchVnode(vnodeToMove, newStartVnode, insertedVnodeQueue, newCh, newStartIdx)\n          oldCh[idxInOld] = undefined\n          canMove && nodeOps.insertBefore(parentElm, vnodeToMove.elm, oldStartVnode.elm)\n        } else {\n          // same key but different element. treat as new element\n          createElm(newStartVnode, insertedVnodeQueue, parentElm, oldStartVnode.elm, false, newCh, newStartIdx)\n        }\n      }\n      newStartVnode = newCh[++newStartIdx]\n    }\n  }\n  if (oldStartIdx > oldEndIdx) {\n    refElm = isUndef(newCh[newEndIdx + 1]) ? null : newCh[newEndIdx + 1].elm\n    addVnodes(parentElm, refElm, newCh, newStartIdx, newEndIdx, insertedVnodeQueue)\n  } else if (newStartIdx > newEndIdx) {\n    removeVnodes(oldCh, oldStartIdx, oldEndIdx)\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n\n\nupdateChildren 过程为：\n\n1、分别用两个指针（startIndex, endIndex）表示 oldCh 和 newCh 的头尾节点\n\n2、对指针所对应的节点做一个两两比较，判断是否属于同一节点\n\n3、如果4种比较都没有匹配，那么判断是否有 key，有 key 就会用 key 去做一个比较；无 key 则会通过遍历的形式进行比较\n\n4、比较的过程中，指针往中间靠，当有一个 startIndex > endIndex，则表示有一个已经遍历完了，比较结束\n\n\n# 总结\n\n从 VNode 的渲染过程可以得知，Vue 的 Diff 算法先进行的是同级比较，然后再比较子节点。\n\n子节点比较会通过 startIndex、endIndex 两个指针进行两两比较，再通过 key 比对子节点。如果没设置 key，则会通过遍历的方式匹配节点，增加性能消耗。\n\n所以不绑定 key 并不会有问题，绑定 key 之后在性能上有一定的提升。\n\n综上，key 主要是应用在 Diff 算法中，作用是为了更快速定位出相同的新旧节点，尽量减少 DOM 的创建和销毁的操作。\n\n希望以上内容能够对各位小伙伴有所帮助，祝大家面试顺利。\n\n\n# 补充（2020/03/16）\n\nVue 的文档中对 key 的说明如下：\n\n> key 的特殊属性主要用在 Vue 的虚拟 DOM 算法，在新旧 nodes 对比时辨识 VNodes。如果不使用 key，Vue 会使用一种最大限度减少动态元素并且尽可能的尝试就地修改/复用相同类型元素的算法。而使用 key 时，它会基于 key 的变化重新排列元素顺序，并且会移除 key 不存在的元素。\n\n关于就地修改，关键在于 sameVnode 的实现，源码如下：\n\nfunction sameVnode (a, b) {\n  return (\n    a.key === b.key && (\n      (\n        a.tag === b.tag &&\n        a.isComment === b.isComment &&\n        isDef(a.data) === isDef(b.data) &&\n        sameInputType(a, b)\n      ) || (\n        isTrue(a.isAsyncPlaceholder) &&\n        a.asyncFactory === b.asyncFactory &&\n        isUndef(b.asyncFactory.error)\n      )\n    )\n  )\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n可以看出，当 key 未绑定时，主要通过元素的标签等进行判断，在 updateChildren 内会将 oldStartVnode 与 newStartVnode 判断为同一节点。\n\n如果 VNode 中只包含了文本节点，在 patchVnode 中可以直接替换文本节点，而不需要移动节点的位置，确实在不绑定 key 的情况下效率要高一丢丢。\n\n某些情况下不绑定 key 的效率更高，那为什么大部分Eslint的规则还是要求绑定 key 呢？\n\n因为在实际项目中，大多数情况下 v-for 的节点内并不只有文本节点，那么 VNode 的字节点就要进行销毁和创建的操作。\n\n相比替换文本带来的一丢丢提升，这部分会消耗更多的性能，得不偿失。\n\n了解了就地修改，那么我们在一些简单节点上可以选择不绑定 key，从而提高性能。\n\n----------------------------------------\n\n如果还有其他疑问，欢迎大家扫码关注我的公众号【前端develop】给我留言。\n\n",normalizedContent:"最近看了面试题中有一个这样的题，v-for 为什么要绑定 key？\n\nvue 中 key 很多人都弄不清楚有什么作用，甚至还有些人认为不绑定 key 就会报错。\n\n其实没绑定 key 的话，vue 还是可以正常运行的，报警告是因为没通过 eslint 的检查。\n\n接下来将通过源码一步步分析这个 key 的作用。\n\n\n# virtual dom\n\nvirtual dom 最主要保留了 dom 元素的层级关系和一些基本属性，本质上就是一个 js 对象。相对于真实的 dom，virtual dom 更简单，操作起来速度更快。\n\n如果需要改变 dom，则会通过新旧 virtual dom 对比，找出需要修改的节点进行真实的 dom 操作，从而减小性能消耗。\n\n\n# diff\n\n传统的 diff 算法需要遍历一个树的每个节点，与另一棵树的每个节点对比，时间复杂度为 o(n²)。\n\nvue 采用的 diff 算法则通过逐级对比，大大降低了复杂性，时间复杂度为 o(n)。\n\n\n# vnode 更新过程\n\nvnode 更新首先会经过 patch 函数，patch 函数源码如下：\n\n/* vue/src/core/vdom/patch.js */\nfunction patch (oldvnode, vnode, hydrating, removeonly) {\n  if (isundef(vnode)) {\n    if (isdef(oldvnode)) invokedestroyhook(oldvnode)\n    return\n  }\n\n  let isinitialpatch = false\n  const insertedvnodequeue = []\n\n  if (isundef(oldvnode)) {\n    // empty mount (likely as component), create new root element\n    isinitialpatch = true\n    createelm(vnode, insertedvnodequeue)\n  } else {\n    const isrealelement = isdef(oldvnode.nodetype)\n    if (!isrealelement && samevnode(oldvnode, vnode)) {\n      // patch existing root node\n      patchvnode(oldvnode, vnode, insertedvnodequeue, null, null, removeonly)\n    } else {\n      // somecode\n    }\n  }\n\n  invokeinserthook(vnode, insertedvnodequeue, isinitialpatch)\n  return vnode.elm\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\nvnode 表示更新后的节点，oldvnode 表示更新前的节点，通过对比新旧节点进行操作。\n\n1、vnode 未定义，oldvnode 存在则触发 destroy 的钩子函数\n\n2、oldvnode 未定义，则根据 vnode 创建新的元素\n\n3、oldvnode 不为真实元素并且 oldvnode 与 vnode 为同一节点，则会调用 patchvnode 触发更新\n\n4、oldvnode 为真实元素或者 oldvnode 与 vnode 不是同一节点，另做处理\n\n接下来会进入 patchvnode 函数，源码如下：\n\nfunction patchvnode (\n  oldvnode,\n  vnode,\n  insertedvnodequeue,\n  ownerarray,\n  index,\n  removeonly\n) {\n  if (oldvnode === vnode) {\n    return\n  }\n\n  if (isdef(vnode.elm) && isdef(ownerarray)) {\n    // clone reused vnode\n    vnode = ownerarray[index] = clonevnode(vnode)\n  }\n\n  // somecode\n\n  const oldch = oldvnode.children\n  const ch = vnode.children\n\n  // somecode\n\n  if (isundef(vnode.text)) {\n    if (isdef(oldch) && isdef(ch)) {\n      if (oldch !== ch) updatechildren(elm, oldch, ch, insertedvnodequeue, removeonly)\n    } else if (isdef(ch)) {\n      if (process.env.node_env !== 'production') {\n        checkduplicatekeys(ch)\n      }\n      if (isdef(oldvnode.text)) nodeops.settextcontent(elm, '')\n      addvnodes(elm, null, ch, 0, ch.length - 1, insertedvnodequeue)\n    } else if (isdef(oldch)) {\n      removevnodes(oldch, 0, oldch.length - 1)\n    } else if (isdef(oldvnode.text)) {\n      nodeops.settextcontent(elm, '')\n    }\n  } else if (oldvnode.text !== vnode.text) {\n    nodeops.settextcontent(elm, vnode.text)\n  }\n  if (isdef(data)) {\n    if (isdef(i = data.hook) && isdef(i = i.postpatch)) i(oldvnode, vnode)\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n\n\n1、vnode 的 text 不存在，则会比对 oldvnode 与 vnode 的 children 节点进行更新操作\n\n2、vnode 的 text 存在，则会修改 dom 节点的 text\n\n接下来在 updatechildren 函数内就可以看到 key 的用处。\n\n\n# key 的作用\n\nkey 的作用主要是给 vnode 添加唯一标识，通过这个 key，可以更快找到新旧 vnode 的变化，从而进一步操作。\n\nkey 的作用主要表现在以下这段源码中。\n\n/* vue/src/core/vdom/patch.js */\nfunction updatechildren (parentelm, oldch, newch, insertedvnodequeue, removeonly) {\n  let oldstartidx = 0\n  let newstartidx = 0\n  let oldendidx = oldch.length - 1\n  let oldstartvnode = oldch[0]\n  let oldendvnode = oldch[oldendidx]\n  let newendidx = newch.length - 1\n  let newstartvnode = newch[0]\n  let newendvnode = newch[newendidx]\n  let oldkeytoidx, idxinold, vnodetomove, refelm\n\n  // removeonly is a special flag used only by <transition-group>\n  // to ensure removed elements stay in correct relative positions\n  // during leaving transitions\n  const canmove = !removeonly\n\n  if (process.env.node_env !== 'production') {\n    checkduplicatekeys(newch)\n  }\n\n  while (oldstartidx <= oldendidx && newstartidx <= newendidx) {\n    if (isundef(oldstartvnode)) {\n      oldstartvnode = oldch[++oldstartidx] // vnode has been moved left\n    } else if (isundef(oldendvnode)) {\n      oldendvnode = oldch[--oldendidx]\n    } else if (samevnode(oldstartvnode, newstartvnode)) {\n      patchvnode(oldstartvnode, newstartvnode, insertedvnodequeue, newch, newstartidx)\n      oldstartvnode = oldch[++oldstartidx]\n      newstartvnode = newch[++newstartidx]\n    } else if (samevnode(oldendvnode, newendvnode)) {\n      patchvnode(oldendvnode, newendvnode, insertedvnodequeue, newch, newendidx)\n      oldendvnode = oldch[--oldendidx]\n      newendvnode = newch[--newendidx]\n    } else if (samevnode(oldstartvnode, newendvnode)) { // vnode moved right\n      patchvnode(oldstartvnode, newendvnode, insertedvnodequeue, newch, newendidx)\n      canmove && nodeops.insertbefore(parentelm, oldstartvnode.elm, nodeops.nextsibling(oldendvnode.elm))\n      oldstartvnode = oldch[++oldstartidx]\n      newendvnode = newch[--newendidx]\n    } else if (samevnode(oldendvnode, newstartvnode)) { // vnode moved left\n      patchvnode(oldendvnode, newstartvnode, insertedvnodequeue, newch, newstartidx)\n      canmove && nodeops.insertbefore(parentelm, oldendvnode.elm, oldstartvnode.elm)\n      oldendvnode = oldch[--oldendidx]\n      newstartvnode = newch[++newstartidx]\n    } else {\n      // 以上 4 种均匹配不到，通过 key 生成 key -> index 的 map（生成一次）\n      if (isundef(oldkeytoidx)) oldkeytoidx = createkeytooldidx(oldch, oldstartidx, oldendidx)\n      /**\n       * 有 key 通过 key 比较，时间复杂度 o(n)\n       * 无 key 时，每个 vnode 均需要遍历比较，时间复杂度  o(n²)\n       */\n      idxinold = isdef(newstartvnode.key)\n        ? oldkeytoidx[newstartvnode.key]\n        : findidxinold(newstartvnode, oldch, oldstartidx, oldendidx)\n      if (isundef(idxinold)) { // new element\n        createelm(newstartvnode, insertedvnodequeue, parentelm, oldstartvnode.elm, false, newch, newstartidx)\n      } else {\n        vnodetomove = oldch[idxinold]\n        if (samevnode(vnodetomove, newstartvnode)) {\n          patchvnode(vnodetomove, newstartvnode, insertedvnodequeue, newch, newstartidx)\n          oldch[idxinold] = undefined\n          canmove && nodeops.insertbefore(parentelm, vnodetomove.elm, oldstartvnode.elm)\n        } else {\n          // same key but different element. treat as new element\n          createelm(newstartvnode, insertedvnodequeue, parentelm, oldstartvnode.elm, false, newch, newstartidx)\n        }\n      }\n      newstartvnode = newch[++newstartidx]\n    }\n  }\n  if (oldstartidx > oldendidx) {\n    refelm = isundef(newch[newendidx + 1]) ? null : newch[newendidx + 1].elm\n    addvnodes(parentelm, refelm, newch, newstartidx, newendidx, insertedvnodequeue)\n  } else if (newstartidx > newendidx) {\n    removevnodes(oldch, oldstartidx, oldendidx)\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n\n\nupdatechildren 过程为：\n\n1、分别用两个指针（startindex, endindex）表示 oldch 和 newch 的头尾节点\n\n2、对指针所对应的节点做一个两两比较，判断是否属于同一节点\n\n3、如果4种比较都没有匹配，那么判断是否有 key，有 key 就会用 key 去做一个比较；无 key 则会通过遍历的形式进行比较\n\n4、比较的过程中，指针往中间靠，当有一个 startindex > endindex，则表示有一个已经遍历完了，比较结束\n\n\n# 总结\n\n从 vnode 的渲染过程可以得知，vue 的 diff 算法先进行的是同级比较，然后再比较子节点。\n\n子节点比较会通过 startindex、endindex 两个指针进行两两比较，再通过 key 比对子节点。如果没设置 key，则会通过遍历的方式匹配节点，增加性能消耗。\n\n所以不绑定 key 并不会有问题，绑定 key 之后在性能上有一定的提升。\n\n综上，key 主要是应用在 diff 算法中，作用是为了更快速定位出相同的新旧节点，尽量减少 dom 的创建和销毁的操作。\n\n希望以上内容能够对各位小伙伴有所帮助，祝大家面试顺利。\n\n\n# 补充（2020/03/16）\n\nvue 的文档中对 key 的说明如下：\n\n> key 的特殊属性主要用在 vue 的虚拟 dom 算法，在新旧 nodes 对比时辨识 vnodes。如果不使用 key，vue 会使用一种最大限度减少动态元素并且尽可能的尝试就地修改/复用相同类型元素的算法。而使用 key 时，它会基于 key 的变化重新排列元素顺序，并且会移除 key 不存在的元素。\n\n关于就地修改，关键在于 samevnode 的实现，源码如下：\n\nfunction samevnode (a, b) {\n  return (\n    a.key === b.key && (\n      (\n        a.tag === b.tag &&\n        a.iscomment === b.iscomment &&\n        isdef(a.data) === isdef(b.data) &&\n        sameinputtype(a, b)\n      ) || (\n        istrue(a.isasyncplaceholder) &&\n        a.asyncfactory === b.asyncfactory &&\n        isundef(b.asyncfactory.error)\n      )\n    )\n  )\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\n可以看出，当 key 未绑定时，主要通过元素的标签等进行判断，在 updatechildren 内会将 oldstartvnode 与 newstartvnode 判断为同一节点。\n\n如果 vnode 中只包含了文本节点，在 patchvnode 中可以直接替换文本节点，而不需要移动节点的位置，确实在不绑定 key 的情况下效率要高一丢丢。\n\n某些情况下不绑定 key 的效率更高，那为什么大部分eslint的规则还是要求绑定 key 呢？\n\n因为在实际项目中，大多数情况下 v-for 的节点内并不只有文本节点，那么 vnode 的字节点就要进行销毁和创建的操作。\n\n相比替换文本带来的一丢丢提升，这部分会消耗更多的性能，得不偿失。\n\n了解了就地修改，那么我们在一些简单节点上可以选择不绑定 key，从而提高性能。\n\n----------------------------------------\n\n如果还有其他疑问，欢迎大家扫码关注我的公众号【前端develop】给我留言。\n\n",charsets:{cjk:!0}},{title:"【面试题解析】手动实现Promise",frontmatter:{title:"【面试题解析】手动实现Promise",date:"2020-03-17T00:00:00.000Z",categories:["前端"],tags:["Promise","面试题"],description:"前端面试的时候，经常能看到这样一道题，实现一个Promise。\n这篇文章将一步步实现 Promise，彻底弄懂 Promise。",meta:[{name:"image",content:"https://www.fedevelop.cn/imgs/qrcode.png"},{name:"twitter:title",content:"【面试题解析】手动实现Promise"},{name:"twitter:description",content:"前端面试的时候，经常能看到这样一道题，实现一个Promise。\n这篇文章将一步步实现 Promise，彻底弄懂 Promise。"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://www.fedevelop.cn/imgs/qrcode.png"},{name:"twitter:url",content:"https://www.fedevelop.cn/views/%E5%89%8D%E7%AB%AF/2020/%E3%80%90%E9%9D%A2%E8%AF%95%E9%A2%98%E8%A7%A3%E6%9E%90%E3%80%91%E6%89%8B%E5%8A%A8%E5%AE%9E%E7%8E%B0%20Promise.html"},{property:"og:type",content:"article"},{property:"og:title",content:"【面试题解析】手动实现Promise"},{property:"og:description",content:"前端面试的时候，经常能看到这样一道题，实现一个Promise。\n这篇文章将一步步实现 Promise，彻底弄懂 Promise。"},{property:"og:image",content:"https://www.fedevelop.cn/imgs/qrcode.png"},{property:"og:url",content:"https://www.fedevelop.cn/views/%E5%89%8D%E7%AB%AF/2020/%E3%80%90%E9%9D%A2%E8%AF%95%E9%A2%98%E8%A7%A3%E6%9E%90%E3%80%91%E6%89%8B%E5%8A%A8%E5%AE%9E%E7%8E%B0%20Promise.html"},{property:"og:site_name",content:"前端develop"},{property:"article:published_time",content:"2020-03-17T00:00:00.000Z"},{property:"article:tag",content:"Promise"},{property:"article:tag",content:"面试题"},{itemprop:"name",content:"【面试题解析】手动实现Promise"},{itemprop:"description",content:"前端面试的时候，经常能看到这样一道题，实现一个Promise。\n这篇文章将一步步实现 Promise，彻底弄懂 Promise。"},{itemprop:"image",content:"https://www.fedevelop.cn/imgs/qrcode.png"}]},regularPath:"/views/%E5%89%8D%E7%AB%AF/2020/%E3%80%90%E9%9D%A2%E8%AF%95%E9%A2%98%E8%A7%A3%E6%9E%90%E3%80%91%E6%89%8B%E5%8A%A8%E5%AE%9E%E7%8E%B0%20Promise.html",relativePath:"views/前端/2020/【面试题解析】手动实现 Promise.md",key:"v-288515c3",path:"/views/%E5%89%8D%E7%AB%AF/2020/%E3%80%90%E9%9D%A2%E8%AF%95%E9%A2%98%E8%A7%A3%E6%9E%90%E3%80%91%E6%89%8B%E5%8A%A8%E5%AE%9E%E7%8E%B0%20Promise.html",headers:[{level:2,title:"Promise 基本构成",slug:"promise-基本构成",normalizedTitle:"promise 基本构成",charIndex:70},{level:2,title:"实现链式调用",slug:"实现链式调用",normalizedTitle:"实现链式调用",charIndex:2276},{level:2,title:"实现 resolvePromise",slug:"实现-resolvepromise",normalizedTitle:"实现 resolvepromise",charIndex:3539},{level:2,title:"优化 then 函数",slug:"优化-then-函数",normalizedTitle:"优化 then 函数",charIndex:4501},{level:2,title:"catch 等方法实现",slug:"catch-等方法实现",normalizedTitle:"catch 等方法实现",charIndex:5699},{level:2,title:"参考文章",slug:"参考文章",normalizedTitle:"参考文章",charIndex:6596}],excerpt:"<p>前端面试的时候，经常能看到这样一道题，<code>实现一个Promise</code>。</p>\n<p>这篇文章将一步步实现 Promise，彻底弄懂 Promise。</p>\n",lastUpdated:"3/18/2020, 10:08:19 PM",headersStr:"Promise 基本构成 实现链式调用 实现 resolvePromise 优化 then 函数 catch 等方法实现 参考文章",content:"前端面试的时候，经常能看到这样一道题，实现一个Promise。\n\n这篇文章将一步步实现 Promise，彻底弄懂 Promise。\n\n\n# Promise 基本构成\n\n平时使用 Promise 我们可以知道 Promise 存在三种状态 Pending、Resolve、Reject，在 new Promise 时需要传入一个函数, 参数为 resolve 和 reject 的函数，这两个函数用来改变 Promise 的状态。\n\n最重要的还有个 then 的方法，then 函数可以传入两个函数作为参数，第一个函数用来获取异步操作的结果，第二个函数用来获取错误的原因。\n\n除此之外还需要 value 和 reason 存放 Promise 的结果或错误原因。\n\n从上面这些信息可以转化为下面的代码：\n\nconst PENDING = 'pending';\nconst RESOLVED = 'resolved';\nconst REJECTED = 'rejected';\n\nclass Promise {\n  constructor(executor) {\n    this.status = PENDING;\n    this.value = null;\n    this.reason = null;\n\n    function resolve (value) {\n      this.status = RESOLVED;\n      this.value = value;\n    };\n\n    function reject (reason) {\n      this.status = REJECTED;\n      this.reason = reason;\n    };\n\n    executor(resolve.bind(this), reject.bind(this));\n  }\n\n  then(onFulfilled, onRejected) {\n    if (this.status === RESOLVED) {\n      onFulfilled(this.value);\n    }\n\n    if (this.status === REJECTED) {\n      onRejected(this.reason);\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\nPromise 的状态只允许修改一次，那么 resolve 和 reject 需要加上状态判断。\n\nfunction resolve (value) {\n  if (this.status !== PENDING) return;\n  this.status = RESOLVED;\n  this.value = value;\n};\n\nfunction reject (reason) {\n  if (this.status !== PENDING) return;\n  this.status = REJECTED;\n  this.reason = reason;\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n在调用 then 函数时，Promise 的状态有可能还是 Pending 的状态，这时需要将 then 函数的两个参数进行保存，状态改变时在进行调用。then 函数有可能会调用多次，那么可以用数组保存参数。\n\nclass Promise {\n  constructor(executor) {\n    // ...\n    this.resolveCbs = [];\n    this.rejectCbs = [];\n    function resolve (value) {\n      // ...\n      this.resolveCbs.map(fn => fn(this.value));\n    };\n\n    function reject (reason) {\n      // ...\n      this.rejectCbs.map(fn => fn(this.reason));\n    };\n  }\n\n  then(onFulfilled, onRejected) {\n    // ...\n    if (this.status === PENDING) {\n      this.resolveCbs.push(onFulfilled);\n      this.rejectCbs.push(onRejected);\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n写到这里，一个最基本的 Promise 就可以使用了。\n\n new Promise((resolve, reject) => {\n  setTimeout(() => {\n    resolve(1);\n  }, 500);\n}).then(res => {\n  console.log(res);\n});\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n上面的代码虽然完成了最基本的 Promise，但是还未实现 then 函数的链式调用。\n\n\n# 实现链式调用\n\nnew Promise((resolve, reject) => {\n  // ...\n}).then(res => {\n  // ...\n}).then(res => {\n  // ...\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n链式调用也是 Promise 的重点所在，因为有了链式调用，才能避免回调地狱的问题。接下来就来一步步实现。\n\nthen 是 Promise 的方法，为了能够继续调用 then 函数，需要 then 函数返回一个新的 Promise。\n\nonFulfilled 或 onRejected 的返回值有可能也是一个 Promise，那么需要等待 Promise 执行完的结果传递给下一个 then 函数。如果返回的不是 Promise，就可以将结果传递给下一个 then 函数。\n\n将 then 函数进行如下修改，resolvePromise 另外实现。\n\nclass Promise {\n  // ...\n  then(onFulfilled, onRejected) {\n    let promise2 = new Promise((resolve, reject) => {\n      if (this.status === RESOLVED) {\n        let x = onFulfilled(this.value);\n        resolvePromise(promise2, x, resolve, reject);\n      }\n\n      if (this.status === REJECTED) {\n        let x = onRejected(this.reason);\n        resolvePromise(promise2, x, resolve, reject);\n      }\n\n      if (this.status === PENDING) {\n        this.resolveCbs.push(() => {\n          let x = onFulfilled(this.value);\n          resolvePromise(promise2, x, resolve, reject);\n        });\n\n        this.rejectCbs.push(() => {\n          let x = onRejected(this.reason);\n          resolvePromise(promise2, x, resolve, reject);\n        });\n      }\n    });\n\n    return promise2;\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n\n# 实现 resolvePromise\n\nthen(onFulfilled, onRejected) {\n  function resolvePromise (promise2, x, resolve, reject) {\n    if (promise2 === x) {\n      // 不允许 promise2 === x; 避免自己等待自己\n      return reject(new TypeError('Chaining cycle detected for promise'));\n    }\n\n    // 防止重复调用\n    let called = false;\n\n    try {\n      if (x instanceof Promise) {\n        let then = x.then;\n        // 第一个参数指定调用对象\n        // 第二个参数为成功的回调，将结果作为 resolvePromise 的参数进行递归\n        // 第三个参数为失败的回调\n        then.call(x, y => {\n          if (called) return;\n          called = true;\n          // resolve 的结果依旧是 Promise 那就继续解析\n          resolvePromise(promise2, y, resolve, reject);\n        }, err => {\n          if (called) return;\n          called = true;\n          reject(err);\n        });\n      } else {\n        resolve(x);\n      }\n    } catch (e) {\n      reject(e);\n    }\n  }\n\n  // ...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\n\n# 优化 then 函数\n\nthen 函数的 onFulfilled 和 onRejected 参数允许不传.\n\nPromise/A+ 规范要求 onFulfilled 和 onRejected 不能被同步调用，可以使用 setTimeout 改为异步调用。\n\nthen(onFulfilled, onRejected) {\n  onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : v => { return v };\n  onRejected = typeof onRejected === 'function' ? onRejected : e => { throw e; };\n\n  function resolvePromise (promise2, x, resolve, reject) {...}\n\n  let promise2 = new Promise((resolve, reject) => {\n    function fulfilled () {\n      setTimeout(() => {\n        let x = onFulfilled(this.value);\n        resolvePromise(promise2, x, resolve, reject);\n      }, 0);\n    };\n\n    function rejected () {\n      setTimeout(() => {\n        let x = onRejected(this.reason);\n        resolvePromise(promise2, x, resolve, reject);\n      }, 0);\n    }\n\n    if (this.status === RESOLVED) {\n      fulfilled.call(this);\n    }\n\n    if (this.status === REJECTED) {\n      rejected.call(this);\n    }\n\n    if (this.status === PENDING) {\n      this.resolveCbs.push(fulfilled.bind(this));\n      this.rejectCbs.push(rejected.bind(this));\n    }\n  });\n\n  return promise2;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n\n\n\n# catch 等方法实现\n\nclass Promise {\n  // ...\n  catch(fn) {\n    this.then(null, fn);\n  }\n\n  static resolve (val) {\n    return new Promise((resolve) => {\n      resolve(val);\n    });\n  }\n\n  static reject (val) {\n    return new Promise((resolve, reject) => {\n      reject(val);\n    });\n  }\n\n  static race(promises) {\n    return new Promise((resolve, reject) => {\n      promises.map(promise => {\n        promise.then(resolve, reject);\n      });\n    });\n  }\n\n  static all(promises) {\n    let arr = [];\n    let i = 0;\n    return new Promise((resolve, reject) => {\n      promises.map((promise, index) => {\n        promise.then(data => {\n          arr[index] = data;\n          if (++i === promises.length) {\n            resolve(arr);\n          }\n        }, reject);\n      })\n    })\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n\n\n\n# 参考文章\n\nBAT前端经典面试问题：史上最最最详细的手写Promise教程\n\n----------------------------------------\n\n如果还有其他疑问，欢迎大家扫码关注我的公众号【前端develop】给我留言。\n\n",normalizedContent:"前端面试的时候，经常能看到这样一道题，实现一个promise。\n\n这篇文章将一步步实现 promise，彻底弄懂 promise。\n\n\n# promise 基本构成\n\n平时使用 promise 我们可以知道 promise 存在三种状态 pending、resolve、reject，在 new promise 时需要传入一个函数, 参数为 resolve 和 reject 的函数，这两个函数用来改变 promise 的状态。\n\n最重要的还有个 then 的方法，then 函数可以传入两个函数作为参数，第一个函数用来获取异步操作的结果，第二个函数用来获取错误的原因。\n\n除此之外还需要 value 和 reason 存放 promise 的结果或错误原因。\n\n从上面这些信息可以转化为下面的代码：\n\nconst pending = 'pending';\nconst resolved = 'resolved';\nconst rejected = 'rejected';\n\nclass promise {\n  constructor(executor) {\n    this.status = pending;\n    this.value = null;\n    this.reason = null;\n\n    function resolve (value) {\n      this.status = resolved;\n      this.value = value;\n    };\n\n    function reject (reason) {\n      this.status = rejected;\n      this.reason = reason;\n    };\n\n    executor(resolve.bind(this), reject.bind(this));\n  }\n\n  then(onfulfilled, onrejected) {\n    if (this.status === resolved) {\n      onfulfilled(this.value);\n    }\n\n    if (this.status === rejected) {\n      onrejected(this.reason);\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n\n\npromise 的状态只允许修改一次，那么 resolve 和 reject 需要加上状态判断。\n\nfunction resolve (value) {\n  if (this.status !== pending) return;\n  this.status = resolved;\n  this.value = value;\n};\n\nfunction reject (reason) {\n  if (this.status !== pending) return;\n  this.status = rejected;\n  this.reason = reason;\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n在调用 then 函数时，promise 的状态有可能还是 pending 的状态，这时需要将 then 函数的两个参数进行保存，状态改变时在进行调用。then 函数有可能会调用多次，那么可以用数组保存参数。\n\nclass promise {\n  constructor(executor) {\n    // ...\n    this.resolvecbs = [];\n    this.rejectcbs = [];\n    function resolve (value) {\n      // ...\n      this.resolvecbs.map(fn => fn(this.value));\n    };\n\n    function reject (reason) {\n      // ...\n      this.rejectcbs.map(fn => fn(this.reason));\n    };\n  }\n\n  then(onfulfilled, onrejected) {\n    // ...\n    if (this.status === pending) {\n      this.resolvecbs.push(onfulfilled);\n      this.rejectcbs.push(onrejected);\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n\n\n写到这里，一个最基本的 promise 就可以使用了。\n\n new promise((resolve, reject) => {\n  settimeout(() => {\n    resolve(1);\n  }, 500);\n}).then(res => {\n  console.log(res);\n});\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n上面的代码虽然完成了最基本的 promise，但是还未实现 then 函数的链式调用。\n\n\n# 实现链式调用\n\nnew promise((resolve, reject) => {\n  // ...\n}).then(res => {\n  // ...\n}).then(res => {\n  // ...\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n链式调用也是 promise 的重点所在，因为有了链式调用，才能避免回调地狱的问题。接下来就来一步步实现。\n\nthen 是 promise 的方法，为了能够继续调用 then 函数，需要 then 函数返回一个新的 promise。\n\nonfulfilled 或 onrejected 的返回值有可能也是一个 promise，那么需要等待 promise 执行完的结果传递给下一个 then 函数。如果返回的不是 promise，就可以将结果传递给下一个 then 函数。\n\n将 then 函数进行如下修改，resolvepromise 另外实现。\n\nclass promise {\n  // ...\n  then(onfulfilled, onrejected) {\n    let promise2 = new promise((resolve, reject) => {\n      if (this.status === resolved) {\n        let x = onfulfilled(this.value);\n        resolvepromise(promise2, x, resolve, reject);\n      }\n\n      if (this.status === rejected) {\n        let x = onrejected(this.reason);\n        resolvepromise(promise2, x, resolve, reject);\n      }\n\n      if (this.status === pending) {\n        this.resolvecbs.push(() => {\n          let x = onfulfilled(this.value);\n          resolvepromise(promise2, x, resolve, reject);\n        });\n\n        this.rejectcbs.push(() => {\n          let x = onrejected(this.reason);\n          resolvepromise(promise2, x, resolve, reject);\n        });\n      }\n    });\n\n    return promise2;\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n\n\n\n# 实现 resolvepromise\n\nthen(onfulfilled, onrejected) {\n  function resolvepromise (promise2, x, resolve, reject) {\n    if (promise2 === x) {\n      // 不允许 promise2 === x; 避免自己等待自己\n      return reject(new typeerror('chaining cycle detected for promise'));\n    }\n\n    // 防止重复调用\n    let called = false;\n\n    try {\n      if (x instanceof promise) {\n        let then = x.then;\n        // 第一个参数指定调用对象\n        // 第二个参数为成功的回调，将结果作为 resolvepromise 的参数进行递归\n        // 第三个参数为失败的回调\n        then.call(x, y => {\n          if (called) return;\n          called = true;\n          // resolve 的结果依旧是 promise 那就继续解析\n          resolvepromise(promise2, y, resolve, reject);\n        }, err => {\n          if (called) return;\n          called = true;\n          reject(err);\n        });\n      } else {\n        resolve(x);\n      }\n    } catch (e) {\n      reject(e);\n    }\n  }\n\n  // ...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n\n\n\n# 优化 then 函数\n\nthen 函数的 onfulfilled 和 onrejected 参数允许不传.\n\npromise/a+ 规范要求 onfulfilled 和 onrejected 不能被同步调用，可以使用 settimeout 改为异步调用。\n\nthen(onfulfilled, onrejected) {\n  onfulfilled = typeof onfulfilled === 'function' ? onfulfilled : v => { return v };\n  onrejected = typeof onrejected === 'function' ? onrejected : e => { throw e; };\n\n  function resolvepromise (promise2, x, resolve, reject) {...}\n\n  let promise2 = new promise((resolve, reject) => {\n    function fulfilled () {\n      settimeout(() => {\n        let x = onfulfilled(this.value);\n        resolvepromise(promise2, x, resolve, reject);\n      }, 0);\n    };\n\n    function rejected () {\n      settimeout(() => {\n        let x = onrejected(this.reason);\n        resolvepromise(promise2, x, resolve, reject);\n      }, 0);\n    }\n\n    if (this.status === resolved) {\n      fulfilled.call(this);\n    }\n\n    if (this.status === rejected) {\n      rejected.call(this);\n    }\n\n    if (this.status === pending) {\n      this.resolvecbs.push(fulfilled.bind(this));\n      this.rejectcbs.push(rejected.bind(this));\n    }\n  });\n\n  return promise2;\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n\n\n\n# catch 等方法实现\n\nclass promise {\n  // ...\n  catch(fn) {\n    this.then(null, fn);\n  }\n\n  static resolve (val) {\n    return new promise((resolve) => {\n      resolve(val);\n    });\n  }\n\n  static reject (val) {\n    return new promise((resolve, reject) => {\n      reject(val);\n    });\n  }\n\n  static race(promises) {\n    return new promise((resolve, reject) => {\n      promises.map(promise => {\n        promise.then(resolve, reject);\n      });\n    });\n  }\n\n  static all(promises) {\n    let arr = [];\n    let i = 0;\n    return new promise((resolve, reject) => {\n      promises.map((promise, index) => {\n        promise.then(data => {\n          arr[index] = data;\n          if (++i === promises.length) {\n            resolve(arr);\n          }\n        }, reject);\n      })\n    })\n  }\n}\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n\n\n\n# 参考文章\n\nbat前端经典面试问题：史上最最最详细的手写promise教程\n\n----------------------------------------\n\n如果还有其他疑问，欢迎大家扫码关注我的公众号【前端develop】给我留言。\n\n",charsets:{cjk:!0}},{title:"开源了一个图表库 lw-chart",frontmatter:{title:"开源了一个图表库 lw-chart",date:"2020-05-09T00:00:00.000Z",categories:["前端"],tags:["canvas","lw-chart"],description:"前段时间遇到一个需求，需要画一个 7日年化利率 的曲线图。\nUI 提了几个需求，说实话，一开始看到时都懵逼了，然后我回了句 “你说，我不一定实现。”\n一开始看了网上的一些开源图表，看是能实现，但是又觉得比较重，没必要为了一个图表而引入整个库。而后下定决心自己撸一个。",meta:[{name:"image",content:"https://imgkr.cn-bj.ufileos.com/67d85d47-3aca-421c-aa86-04acdb6d3c96.png"},{name:"twitter:title",content:"开源了一个图表库 lw-chart"},{name:"twitter:description",content:"前段时间遇到一个需求，需要画一个 7日年化利率 的曲线图。\nUI 提了几个需求，说实话，一开始看到时都懵逼了，然后我回了句 “你说，我不一定实现。”\n一开始看了网上的一些开源图表，看是能实现，但是又觉得比较重，没必要为了一个图表而引入整个库。而后下定决心自己撸一个。"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://imgkr.cn-bj.ufileos.com/67d85d47-3aca-421c-aa86-04acdb6d3c96.png"},{name:"twitter:url",content:"https://www.fedevelop.cn/views/%E5%89%8D%E7%AB%AF/2020/%E5%BC%80%E6%BA%90%E4%BA%86%E4%B8%80%E4%B8%AA%E5%9B%BE%E8%A1%A8%E5%BA%93lw-chart.html"},{property:"og:type",content:"article"},{property:"og:title",content:"开源了一个图表库 lw-chart"},{property:"og:description",content:"前段时间遇到一个需求，需要画一个 7日年化利率 的曲线图。\nUI 提了几个需求，说实话，一开始看到时都懵逼了，然后我回了句 “你说，我不一定实现。”\n一开始看了网上的一些开源图表，看是能实现，但是又觉得比较重，没必要为了一个图表而引入整个库。而后下定决心自己撸一个。"},{property:"og:image",content:"https://imgkr.cn-bj.ufileos.com/67d85d47-3aca-421c-aa86-04acdb6d3c96.png"},{property:"og:url",content:"https://www.fedevelop.cn/views/%E5%89%8D%E7%AB%AF/2020/%E5%BC%80%E6%BA%90%E4%BA%86%E4%B8%80%E4%B8%AA%E5%9B%BE%E8%A1%A8%E5%BA%93lw-chart.html"},{property:"og:site_name",content:"前端develop"},{property:"article:published_time",content:"2020-05-09T00:00:00.000Z"},{property:"article:tag",content:"canvas"},{property:"article:tag",content:"lw-chart"},{itemprop:"name",content:"开源了一个图表库 lw-chart"},{itemprop:"description",content:"前段时间遇到一个需求，需要画一个 7日年化利率 的曲线图。\nUI 提了几个需求，说实话，一开始看到时都懵逼了，然后我回了句 “你说，我不一定实现。”\n一开始看了网上的一些开源图表，看是能实现，但是又觉得比较重，没必要为了一个图表而引入整个库。而后下定决心自己撸一个。"},{itemprop:"image",content:"https://imgkr.cn-bj.ufileos.com/67d85d47-3aca-421c-aa86-04acdb6d3c96.png"}]},regularPath:"/views/%E5%89%8D%E7%AB%AF/2020/%E5%BC%80%E6%BA%90%E4%BA%86%E4%B8%80%E4%B8%AA%E5%9B%BE%E8%A1%A8%E5%BA%93lw-chart.html",relativePath:"views/前端/2020/开源了一个图表库lw-chart.md",key:"v-d5e5f2f4",path:"/views/%E5%89%8D%E7%AB%AF/2020/%E5%BC%80%E6%BA%90%E4%BA%86%E4%B8%80%E4%B8%AA%E5%9B%BE%E8%A1%A8%E5%BA%93lw-chart.html",headers:[{level:2,title:"为什么叫 lw-chart",slug:"为什么叫-lw-chart",normalizedTitle:"为什么叫 lw-chart",charIndex:248},{level:2,title:"踩过的坑",slug:"踩过的坑",normalizedTitle:"踩过的坑",charIndex:539},{level:3,title:"布局",slug:"布局",normalizedTitle:"布局",charIndex:548},{level:3,title:"高清屏下变模糊的处理",slug:"高清屏下变模糊的处理",normalizedTitle:"高清屏下变模糊的处理",charIndex:835},{level:3,title:"获取贝塞尔曲线控制点",slug:"获取贝塞尔曲线控制点",normalizedTitle:"获取贝塞尔曲线控制点",charIndex:1224},{level:2,title:"动画处理",slug:"动画处理",normalizedTitle:"动画处理",charIndex:2124},{level:3,title:"动画时间计算",slug:"动画时间计算",normalizedTitle:"动画时间计算",charIndex:2634},{level:2,title:"拓展",slug:"拓展",normalizedTitle:"拓展",charIndex:2768}],excerpt:"<p>前段时间遇到一个需求，需要画一个 7日年化利率 的曲线图。</p>\n<p>UI 提了几个需求，说实话，一开始看到时都懵逼了，然后我回了句 “你说，我不一定实现。”</p>\n<p>一开始看了网上的一些开源图表，看是能实现，但是又觉得比较重，没必要为了一个图表而引入整个库。而后下定决心自己撸一个。</p>\n",lastUpdated:"5/19/2020, 1:52:56 AM",headersStr:"为什么叫 lw-chart 踩过的坑 布局 高清屏下变模糊的处理 获取贝塞尔曲线控制点 动画处理 动画时间计算 拓展",content:"前段时间遇到一个需求，需要画一个 7日年化利率 的曲线图。\n\nUI 提了几个需求，说实话，一开始看到时都懵逼了，然后我回了句 “你说，我不一定实现。”\n\n一开始看了网上的一些开源图表，看是能实现，但是又觉得比较重，没必要为了一个图表而引入整个库。而后下定决心自己撸一个。\n\n当然了一开始并不打算写一个 npm 库，只是在项目中写一个 js 来实现图表绘制。在效果实现之后觉得需要整理一番，于是在五一期间进行了重构，将结构整清楚，提高扩展性，以便应对日后不同的需求。\n\n先来看看 demo\n\n\n# 为什么叫 lw-chart\n\n当然了 lw 不是我名字的缩写，lw 是指 lightweight 轻量的意思，我希望这 lw-chart 能够真正做到轻量化，当我只使用其中某一个类型的图表时，那么只需要引入这个类型的图表，其他的不相关的代码不要来增加项目的体积。\n\nlw-chart 是如何做的呢？\n\nlw-chart 内部通过类继承的方式提高代码的复用性，同时在编译打包时，输出多个文件，当实际项目中使用了其中某一个类型的图表，那么可以再项目中只 import 一个文件，避免把所有类型的图表都都入到项目中而不使用的情况。\n\n具体的使用方式可以查看文档，这里就不在赘述。\n\n\n# 踩过的坑\n\n\n# 布局\n\n在开始编码前一定要先考虑好布局，不然在写代码时会很混乱，不知道坐标该加还是该减。\n\n第一次写的时候，因为参考了网上的代码，导致没有清晰的布局，虽然能绘制出一些东西，但是遇到要计算坐标时，就会很混乱，导致就都无法达到预期的效果。\n\n最后自己画了一个布局的图，再开始编码。下面是我的一个布局结构\n\n\n\n我分了两个类来实现这个布局，一个是基类 LWChart，定义了 canvas，titleBar，chart。\n\n而 x坐标 和 y坐标 则定义在 Axis 坐标轴类中，因为有些图表可能不需要坐标轴，所以通过 Axis 继承 LWChart 达到更灵活的配置。\n\n\n# 高清屏下变模糊的处理\n\n获取屏幕 dpi，尺寸及位置参数在绘制时乘以 dpi。\n\ndpi 的计算方式如下:\n\nlet n = (ctx.backingStorePixelRatio ||\nctx.webkitBackingStorePixelRatio ||\nctx.mozBackingStorePixelRatio ||\nctx.msBackingStorePixelRatio ||\nctx.oBackingStorePixelRatio ||\nctx.backingStorePixelRatio ||\n1);\n\nlet a = (window.devicePixelRatio || 1) / n;\nif (a < 1) {\n  a = 1;\n}\n\nconst dpi = a / n;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# 获取贝塞尔曲线控制点\n\n可能大部分都是使用现成的图表库，网上比较少关于贝塞尔曲线控制点计算的文章。\n\n/** 给原始坐标点添加三次贝塞尔曲线控制点 */\nexport const getCurveList = function (pointList: IPos[]): ICurvePoint[] {\n  if (pointList.length <= 0) return [];\n  // 长度比例系数\n  const lenParam = 1 / 3;\n  const len = pointList.length;\n  return pointList.map((curPoint, index) => {\n    const nextPoint = index === len - 1 ? curPoint : pointList[index + 1];\n    const curX = curPoint.x;\n    const curY = curPoint.y;\n    const nextX = nextPoint.x;\n    const nextY = nextPoint.y;\n    const deltaX = Math.abs(nextX - curX)  * lenParam;\n    return {\n      start: curPoint,\n      end: nextPoint,\n      control1: {\n        x: curX + deltaX,\n        y: curY\n      },\n      control2: {\n        x: nextX - deltaX,\n        y: nextY\n      }\n    };\n  });\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n以上是我的计算方式，主要通过前后两个点的 x坐标 进行加减生成两个控制点，使得贝塞尔曲线相对平滑。\n\n\n# 动画处理\n\n动画主要通过 requestAnimationFrame api 进行实现。\n\n将需要绘制的数据存入一个数组中，将数组中的前 n - 1 个数据使用 bezierCurveTo 绘制，最后一段曲线使用贝塞尔曲线函数进行绘制\n\n// 动画执行中，使用贝塞尔函数绘制最后一段曲线\nfor (let t = 0; t <= percent / 100; t += 0.1) {\n  lastX = curveWithTime(lastPoint.start.x, lastPoint.control1.x, lastPoint.control2.x, lastPoint.end.x, t);\n  lastY = curveWithTime(lastPoint.start.y, lastPoint.control1.y, lastPoint.control2.y, lastPoint.end.y, t);\n  this.ctx.lineTo(lastX, lastY);\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n使用 ctx.lineTo 绘制出来的为直线，所以需要小间隙绘制多个点才能使得曲线相对平滑。\n\n\n# 动画时间计算\n\n首先通过计算每段曲线应该执行的时间， 结合 requestAnimationFrame 和 performance.now(); 获取每一帧的时间差，通过时间差与每一段曲线的单位时间进行对比，计算出百分比，再通过上面的 for 循环进行绘制。\n\n\n# 拓展\n\n目前 lw-chart 中实现的图表绘制的只有 Area，可以通过参数配置控制显示线条或区域。但是这也许还是还是不够好用，也不可能满足到各个需求。\n\n所以各位开发者可以在 lw-chart 的基础上进行定制开发，通过继承 LWChart 或者 Axis 这个类。\n\n关于如何开发，后期整理后会在文档上更新。\n\n欢迎各位大佬 pull request，一同开发。\n\n----------------------------------------\n\n如果觉得 lw-chart 不错的话，不妨下载体验一番，顺便到 Github 点个 Star。\n\n如果觉得内容还不错的话，希望小伙伴可以帮忙点赞转发，给更多的同学看到，感谢感谢！\n\n如果你喜欢我的文章，还可以关注我的公众号【前端develop】\n\n",normalizedContent:"前段时间遇到一个需求，需要画一个 7日年化利率 的曲线图。\n\nui 提了几个需求，说实话，一开始看到时都懵逼了，然后我回了句 “你说，我不一定实现。”\n\n一开始看了网上的一些开源图表，看是能实现，但是又觉得比较重，没必要为了一个图表而引入整个库。而后下定决心自己撸一个。\n\n当然了一开始并不打算写一个 npm 库，只是在项目中写一个 js 来实现图表绘制。在效果实现之后觉得需要整理一番，于是在五一期间进行了重构，将结构整清楚，提高扩展性，以便应对日后不同的需求。\n\n先来看看 demo\n\n\n# 为什么叫 lw-chart\n\n当然了 lw 不是我名字的缩写，lw 是指 lightweight 轻量的意思，我希望这 lw-chart 能够真正做到轻量化，当我只使用其中某一个类型的图表时，那么只需要引入这个类型的图表，其他的不相关的代码不要来增加项目的体积。\n\nlw-chart 是如何做的呢？\n\nlw-chart 内部通过类继承的方式提高代码的复用性，同时在编译打包时，输出多个文件，当实际项目中使用了其中某一个类型的图表，那么可以再项目中只 import 一个文件，避免把所有类型的图表都都入到项目中而不使用的情况。\n\n具体的使用方式可以查看文档，这里就不在赘述。\n\n\n# 踩过的坑\n\n\n# 布局\n\n在开始编码前一定要先考虑好布局，不然在写代码时会很混乱，不知道坐标该加还是该减。\n\n第一次写的时候，因为参考了网上的代码，导致没有清晰的布局，虽然能绘制出一些东西，但是遇到要计算坐标时，就会很混乱，导致就都无法达到预期的效果。\n\n最后自己画了一个布局的图，再开始编码。下面是我的一个布局结构\n\n\n\n我分了两个类来实现这个布局，一个是基类 lwchart，定义了 canvas，titlebar，chart。\n\n而 x坐标 和 y坐标 则定义在 axis 坐标轴类中，因为有些图表可能不需要坐标轴，所以通过 axis 继承 lwchart 达到更灵活的配置。\n\n\n# 高清屏下变模糊的处理\n\n获取屏幕 dpi，尺寸及位置参数在绘制时乘以 dpi。\n\ndpi 的计算方式如下:\n\nlet n = (ctx.backingstorepixelratio ||\nctx.webkitbackingstorepixelratio ||\nctx.mozbackingstorepixelratio ||\nctx.msbackingstorepixelratio ||\nctx.obackingstorepixelratio ||\nctx.backingstorepixelratio ||\n1);\n\nlet a = (window.devicepixelratio || 1) / n;\nif (a < 1) {\n  a = 1;\n}\n\nconst dpi = a / n;\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n\n\n\n# 获取贝塞尔曲线控制点\n\n可能大部分都是使用现成的图表库，网上比较少关于贝塞尔曲线控制点计算的文章。\n\n/** 给原始坐标点添加三次贝塞尔曲线控制点 */\nexport const getcurvelist = function (pointlist: ipos[]): icurvepoint[] {\n  if (pointlist.length <= 0) return [];\n  // 长度比例系数\n  const lenparam = 1 / 3;\n  const len = pointlist.length;\n  return pointlist.map((curpoint, index) => {\n    const nextpoint = index === len - 1 ? curpoint : pointlist[index + 1];\n    const curx = curpoint.x;\n    const cury = curpoint.y;\n    const nextx = nextpoint.x;\n    const nexty = nextpoint.y;\n    const deltax = math.abs(nextx - curx)  * lenparam;\n    return {\n      start: curpoint,\n      end: nextpoint,\n      control1: {\n        x: curx + deltax,\n        y: cury\n      },\n      control2: {\n        x: nextx - deltax,\n        y: nexty\n      }\n    };\n  });\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n\n\n以上是我的计算方式，主要通过前后两个点的 x坐标 进行加减生成两个控制点，使得贝塞尔曲线相对平滑。\n\n\n# 动画处理\n\n动画主要通过 requestanimationframe api 进行实现。\n\n将需要绘制的数据存入一个数组中，将数组中的前 n - 1 个数据使用 beziercurveto 绘制，最后一段曲线使用贝塞尔曲线函数进行绘制\n\n// 动画执行中，使用贝塞尔函数绘制最后一段曲线\nfor (let t = 0; t <= percent / 100; t += 0.1) {\n  lastx = curvewithtime(lastpoint.start.x, lastpoint.control1.x, lastpoint.control2.x, lastpoint.end.x, t);\n  lasty = curvewithtime(lastpoint.start.y, lastpoint.control1.y, lastpoint.control2.y, lastpoint.end.y, t);\n  this.ctx.lineto(lastx, lasty);\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n使用 ctx.lineto 绘制出来的为直线，所以需要小间隙绘制多个点才能使得曲线相对平滑。\n\n\n# 动画时间计算\n\n首先通过计算每段曲线应该执行的时间， 结合 requestanimationframe 和 performance.now(); 获取每一帧的时间差，通过时间差与每一段曲线的单位时间进行对比，计算出百分比，再通过上面的 for 循环进行绘制。\n\n\n# 拓展\n\n目前 lw-chart 中实现的图表绘制的只有 area，可以通过参数配置控制显示线条或区域。但是这也许还是还是不够好用，也不可能满足到各个需求。\n\n所以各位开发者可以在 lw-chart 的基础上进行定制开发，通过继承 lwchart 或者 axis 这个类。\n\n关于如何开发，后期整理后会在文档上更新。\n\n欢迎各位大佬 pull request，一同开发。\n\n----------------------------------------\n\n如果觉得 lw-chart 不错的话，不妨下载体验一番，顺便到 github 点个 star。\n\n如果觉得内容还不错的话，希望小伙伴可以帮忙点赞转发，给更多的同学看到，感谢感谢！\n\n如果你喜欢我的文章，还可以关注我的公众号【前端develop】\n\n",charsets:{cjk:!0}},{title:"通宵写了个 Chrome 插件",frontmatter:{title:"通宵写了个 Chrome 插件",date:"2020-03-21T00:00:00.000Z",categories:["插件"],tags:["插件开发"],description:"起因\n昨天在掘金看到一篇关于浏览器插件的教程，看完之后觉得还挺简单的，于是就在想有什么需求可以做成插件。\n之前用 Python 写了一个发布头条文章的小工具，因为每发一篇文章就需要 Python 打开浏览器，设置 cookie 等相对耗时的操作，于是决定将这个工具改写为浏览器插件。",meta:[{name:"image",content:"https://github.com/AD-feiben/plugin-toutiao/raw/master/img/effect.png"},{name:"twitter:title",content:"通宵写了个 Chrome 插件"},{name:"twitter:description",content:"起因\n昨天在掘金看到一篇关于浏览器插件的教程，看完之后觉得还挺简单的，于是就在想有什么需求可以做成插件。\n之前用 Python 写了一个发布头条文章的小工具，因为每发一篇文章就需要 Python 打开浏览器，设置 cookie 等相对耗时的操作，于是决定将这个工具改写为浏览器插件。"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://github.com/AD-feiben/plugin-toutiao/raw/master/img/effect.png"},{name:"twitter:url",content:"https://www.fedevelop.cn/views/%E5%89%8D%E7%AB%AF/2020/%E9%80%9A%E5%AE%B5%E5%86%99%E4%BA%86%E4%B8%AA%20Chrome%20%E6%8F%92%E4%BB%B6.html"},{property:"og:type",content:"article"},{property:"og:title",content:"通宵写了个 Chrome 插件"},{property:"og:description",content:"起因\n昨天在掘金看到一篇关于浏览器插件的教程，看完之后觉得还挺简单的，于是就在想有什么需求可以做成插件。\n之前用 Python 写了一个发布头条文章的小工具，因为每发一篇文章就需要 Python 打开浏览器，设置 cookie 等相对耗时的操作，于是决定将这个工具改写为浏览器插件。"},{property:"og:image",content:"https://github.com/AD-feiben/plugin-toutiao/raw/master/img/effect.png"},{property:"og:url",content:"https://www.fedevelop.cn/views/%E5%89%8D%E7%AB%AF/2020/%E9%80%9A%E5%AE%B5%E5%86%99%E4%BA%86%E4%B8%AA%20Chrome%20%E6%8F%92%E4%BB%B6.html"},{property:"og:site_name",content:"前端develop"},{property:"article:published_time",content:"2020-03-21T00:00:00.000Z"},{property:"article:tag",content:"插件开发"},{itemprop:"name",content:"通宵写了个 Chrome 插件"},{itemprop:"description",content:"起因\n昨天在掘金看到一篇关于浏览器插件的教程，看完之后觉得还挺简单的，于是就在想有什么需求可以做成插件。\n之前用 Python 写了一个发布头条文章的小工具，因为每发一篇文章就需要 Python 打开浏览器，设置 cookie 等相对耗时的操作，于是决定将这个工具改写为浏览器插件。"},{itemprop:"image",content:"https://github.com/AD-feiben/plugin-toutiao/raw/master/img/effect.png"}]},regularPath:"/views/%E5%89%8D%E7%AB%AF/2020/%E9%80%9A%E5%AE%B5%E5%86%99%E4%BA%86%E4%B8%AA%20Chrome%20%E6%8F%92%E4%BB%B6.html",relativePath:"views/前端/2020/通宵写了个 Chrome 插件.md",key:"v-0072bc1a",path:"/views/%E5%89%8D%E7%AB%AF/2020/%E9%80%9A%E5%AE%B5%E5%86%99%E4%BA%86%E4%B8%AA%20Chrome%20%E6%8F%92%E4%BB%B6.html",headers:[{level:2,title:"起因",slug:"起因",normalizedTitle:"起因",charIndex:2},{level:2,title:"浏览器插件的要点",slug:"浏览器插件的要点",normalizedTitle:"浏览器插件的要点",charIndex:212},{level:2,title:"插件通信",slug:"插件通信",normalizedTitle:"插件通信",charIndex:1524},{level:2,title:"需求分析",slug:"需求分析",normalizedTitle:"需求分析",charIndex:2958},{level:2,title:"总结",slug:"总结",normalizedTitle:"总结",charIndex:3339},{level:2,title:"参考",slug:"参考",normalizedTitle:"参考",charIndex:296}],excerpt:'<h2 id="起因"><a class="header-anchor" href="#起因">#</a> 起因</h2>\n<p>昨天在掘金看到一篇关于浏览器插件的教程，看完之后觉得还挺简单的，于是就在想有什么需求可以做成插件。</p>\n<p>之前用 Python 写了一个发布头条文章的小工具，因为每发一篇文章就需要 Python 打开浏览器，设置 cookie 等相对耗时的操作，于是决定将这个工具改写为浏览器插件。</p>\n',lastUpdated:"5/23/2021, 12:01:40 PM",headersStr:"起因 浏览器插件的要点 插件通信 需求分析 总结 参考",content:'# 起因\n\n昨天在掘金看到一篇关于浏览器插件的教程，看完之后觉得还挺简单的，于是就在想有什么需求可以做成插件。\n\n之前用 Python 写了一个发布头条文章的小工具，因为每发一篇文章就需要 Python 打开浏览器，设置 cookie 等相对耗时的操作，于是决定将这个工具改写为浏览器插件。\n\n插件效果图如下：\n\n\n\n插件源码：https://github.com/AD-feiben/plugin-toutiao\n\n\n# 浏览器插件的要点\n\n写一个浏览器插件主要由 manifest.json、popup.html、content.js、background.js 组成。\n\n具体教程大家可参考网络上其他文章，这里就大概讲一下。\n\n * manifest.json 为配置清单文件，可以设置插件名称，插件版本，各个页面内。\n\n{\n  // 清单文件的版本，这个必须写，而且必须是2\n  "manifest_version": 2,\n  // 插件名称\n  "name": "头条搞笑GIF",\n  // 插件版本号\n  "version": "1.0.0",\n  // 插件描述\n  "description": "api获取搞笑gif，并发布头条",\n  // 插件图标，在浏览器扩展程序管理页面显示\n  "icons": {\n    "16": "static/img/icon.png",\n    "48": "static/img/icon.png",\n    "128": "static/img/icon.png"\n  },\n\n  // 后台运行的页面\n  "background": {\n    // 2种指定方式，如果指定JS，那么会自动生成一个背景页\n    // "page": "template/background.html"\n    "scripts": ["static/js/background.js"]\n  },\n\n  // 指定 popup 页面\n  "browser_action": {\n    "default_icon": "static/img/icon.png",\n    "default_title": "头条搞笑GIF",\n    "default_popup": "template/popup.html"\n  },\n\n  "content_scripts": [{\n    // 匹配所有 url\n    "matches": ["<all_urls>"],\n    // 在页面中按顺序注入以下脚本\n    "js": ["static/js/content.js"],\n    // 在页面注入的样式\n    "css": ["static/css/content.css"],\n    // 代码注入的时间，可选值： document_start, document_end, or document_idle，最后一个表示页面空闲时，默认document_idle\n    "run_at": "document_idle"\n  }]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n\n\n * popup.html 为插件的弹窗，当然也可以执行 js 脚本。\n\n * content.js 则会将脚本注入到每个页面内。\n\n * background.js 则是插件后台运行的脚本。\n\n\n# 插件通信\n\n * popup 与 background 通信。popup 和 background 在同一上下文，可以直接调用。\n\n// background.js\nvar views = chrome.extension.getViews({type:\'popup\'}); // 返回popup对象\nif(views.length > 0) {\n    console.log(views[0].location.href);\n}\nfunction test(){\n\tconsole.log(\'我是background\')；\n}\n\n// popup.js\nvar bg = chrome.extension.getBackgroundPage();\nbg.test(); // 访问background的函数\nconsole.log(bg.document.body.innerHTML); // 访问background的DOM\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n * content 与插件通信\n\npopup 和 background 收发消息\n\n// 发消息\nfunction sendMsgToContentScript(message, callback){\n  chrome.tabs.query({active: true, currentWindow: true}, function(tabs){\n    chrome.tabs.sendMessage(tabs[0].id, message, function(response){\n      if(callback) callback(response);\n    })\n  })\n}\n\n// 收消息\nchrome.runtime.onMessage.addListener(function(request, sender, sendResonse){\n  if(request.type === \'contentMsg\'){\n    console.log(\'收到来自content的消息：\' + request.value);\n  }\n  sendResonse(\'我是后台，已收到你的消息。\');\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\ncontent 收发消息\n\n// 发消息\nchrome.runtime.sendMessage({type: \'contentMsg\', value: \'你好，我是content\'},function(response){\n  console.log(\'收到来自后台的回复：\'+ response)；\n})\n\n// 收消息\nchrome.runtime.onMessage.addListener(function(request, sender, sendResponse){\n  if(request.type === \'popMsg\'){\n    console.log(\'收到来自popup的消息：\' + request.value);\n  }\n  sendResponse(\'我是content,已收到你的消息\');\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n * popup 只有打开插件弹窗时才可以与其他脚本通信。\n\n\n# 需求分析\n\n1、首先在 popup 填写参数，点击发布文章按钮时需要获取文章数据并打开头条编辑文章的页面，在打开页面后将数据从 popup 发送给content。\n\n因为点击按钮会打开一个新页面，导致 popup 会自动关闭，使得数据无法从 popup 传递给 content。为了解决这个问题，昨晚干了一个通宵。\n\n后来改了思路，再点击发布文章时，将参数先传递给 background 并开始获取数据，然后再打开一个新页面。等页面打开之后再与 background 通信获取刚刚的数据。\n\n为了区分从插件点击打开的页面，与用户在其他地方打开的页面，在 popup 传递参数给 background 时设置一个标记，说明该页面是从插件打开的，等 content 获取数据时，将标记清空。\n\n2、content 获取到数据后进行解析，将内容填入编辑器内。\n\n\n# 总结\n\n插件开发主要需要区分插件与页面的上下文。\n\n另外需要注意 popup 只有在打开弹窗时才可以进行通信，必要时可以通过 background 中转。\n\n这篇文章不是开发教程，更多的是开发思路。如需教程，可以学习参考文章。\n\n希望这篇文章能给各位小伙伴帮助。\n\n\n# 参考\n\n从零开始写一个采集图片的chrome插件\n\n----------------------------------------\n\n如果还有其他疑问，欢迎大家扫码关注我的公众号【前端develop】给我留言。\n\n',normalizedContent:'# 起因\n\n昨天在掘金看到一篇关于浏览器插件的教程，看完之后觉得还挺简单的，于是就在想有什么需求可以做成插件。\n\n之前用 python 写了一个发布头条文章的小工具，因为每发一篇文章就需要 python 打开浏览器，设置 cookie 等相对耗时的操作，于是决定将这个工具改写为浏览器插件。\n\n插件效果图如下：\n\n\n\n插件源码：https://github.com/ad-feiben/plugin-toutiao\n\n\n# 浏览器插件的要点\n\n写一个浏览器插件主要由 manifest.json、popup.html、content.js、background.js 组成。\n\n具体教程大家可参考网络上其他文章，这里就大概讲一下。\n\n * manifest.json 为配置清单文件，可以设置插件名称，插件版本，各个页面内。\n\n{\n  // 清单文件的版本，这个必须写，而且必须是2\n  "manifest_version": 2,\n  // 插件名称\n  "name": "头条搞笑gif",\n  // 插件版本号\n  "version": "1.0.0",\n  // 插件描述\n  "description": "api获取搞笑gif，并发布头条",\n  // 插件图标，在浏览器扩展程序管理页面显示\n  "icons": {\n    "16": "static/img/icon.png",\n    "48": "static/img/icon.png",\n    "128": "static/img/icon.png"\n  },\n\n  // 后台运行的页面\n  "background": {\n    // 2种指定方式，如果指定js，那么会自动生成一个背景页\n    // "page": "template/background.html"\n    "scripts": ["static/js/background.js"]\n  },\n\n  // 指定 popup 页面\n  "browser_action": {\n    "default_icon": "static/img/icon.png",\n    "default_title": "头条搞笑gif",\n    "default_popup": "template/popup.html"\n  },\n\n  "content_scripts": [{\n    // 匹配所有 url\n    "matches": ["<all_urls>"],\n    // 在页面中按顺序注入以下脚本\n    "js": ["static/js/content.js"],\n    // 在页面注入的样式\n    "css": ["static/css/content.css"],\n    // 代码注入的时间，可选值： document_start, document_end, or document_idle，最后一个表示页面空闲时，默认document_idle\n    "run_at": "document_idle"\n  }]\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n\n\n * popup.html 为插件的弹窗，当然也可以执行 js 脚本。\n\n * content.js 则会将脚本注入到每个页面内。\n\n * background.js 则是插件后台运行的脚本。\n\n\n# 插件通信\n\n * popup 与 background 通信。popup 和 background 在同一上下文，可以直接调用。\n\n// background.js\nvar views = chrome.extension.getviews({type:\'popup\'}); // 返回popup对象\nif(views.length > 0) {\n    console.log(views[0].location.href);\n}\nfunction test(){\n\tconsole.log(\'我是background\')；\n}\n\n// popup.js\nvar bg = chrome.extension.getbackgroundpage();\nbg.test(); // 访问background的函数\nconsole.log(bg.document.body.innerhtml); // 访问background的dom\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n * content 与插件通信\n\npopup 和 background 收发消息\n\n// 发消息\nfunction sendmsgtocontentscript(message, callback){\n  chrome.tabs.query({active: true, currentwindow: true}, function(tabs){\n    chrome.tabs.sendmessage(tabs[0].id, message, function(response){\n      if(callback) callback(response);\n    })\n  })\n}\n\n// 收消息\nchrome.runtime.onmessage.addlistener(function(request, sender, sendresonse){\n  if(request.type === \'contentmsg\'){\n    console.log(\'收到来自content的消息：\' + request.value);\n  }\n  sendresonse(\'我是后台，已收到你的消息。\');\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n\n\ncontent 收发消息\n\n// 发消息\nchrome.runtime.sendmessage({type: \'contentmsg\', value: \'你好，我是content\'},function(response){\n  console.log(\'收到来自后台的回复：\'+ response)；\n})\n\n// 收消息\nchrome.runtime.onmessage.addlistener(function(request, sender, sendresponse){\n  if(request.type === \'popmsg\'){\n    console.log(\'收到来自popup的消息：\' + request.value);\n  }\n  sendresponse(\'我是content,已收到你的消息\');\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n * popup 只有打开插件弹窗时才可以与其他脚本通信。\n\n\n# 需求分析\n\n1、首先在 popup 填写参数，点击发布文章按钮时需要获取文章数据并打开头条编辑文章的页面，在打开页面后将数据从 popup 发送给content。\n\n因为点击按钮会打开一个新页面，导致 popup 会自动关闭，使得数据无法从 popup 传递给 content。为了解决这个问题，昨晚干了一个通宵。\n\n后来改了思路，再点击发布文章时，将参数先传递给 background 并开始获取数据，然后再打开一个新页面。等页面打开之后再与 background 通信获取刚刚的数据。\n\n为了区分从插件点击打开的页面，与用户在其他地方打开的页面，在 popup 传递参数给 background 时设置一个标记，说明该页面是从插件打开的，等 content 获取数据时，将标记清空。\n\n2、content 获取到数据后进行解析，将内容填入编辑器内。\n\n\n# 总结\n\n插件开发主要需要区分插件与页面的上下文。\n\n另外需要注意 popup 只有在打开弹窗时才可以进行通信，必要时可以通过 background 中转。\n\n这篇文章不是开发教程，更多的是开发思路。如需教程，可以学习参考文章。\n\n希望这篇文章能给各位小伙伴帮助。\n\n\n# 参考\n\n从零开始写一个采集图片的chrome插件\n\n----------------------------------------\n\n如果还有其他疑问，欢迎大家扫码关注我的公众号【前端develop】给我留言。\n\n',charsets:{cjk:!0}},{title:"通过小程序云开发了解Serverless",frontmatter:{title:"通过小程序云开发了解Serverless",date:"2020-05-01T00:00:00.000Z",categories:["前端"],tags:["Serverless","小程序","云开发"],description:"最近这段时间下班回家之后一直在写小程序，导致了最近很长一段时间都没更新文章，刚好利用这次假期，总结一下这段时间的工作。",meta:[{name:"image",content:"https://www.fedevelop.cn/imgs/前端/8.png"},{name:"twitter:title",content:"通过小程序云开发了解Serverless"},{name:"twitter:description",content:"最近这段时间下班回家之后一直在写小程序，导致了最近很长一段时间都没更新文章，刚好利用这次假期，总结一下这段时间的工作。"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://www.fedevelop.cn/imgs/前端/8.png"},{name:"twitter:url",content:"https://www.fedevelop.cn/views/%E5%89%8D%E7%AB%AF/2020/%E9%80%9A%E8%BF%87%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%BA%91%E5%BC%80%E5%8F%91%E4%BA%86%E8%A7%A3Serverless.html"},{property:"og:type",content:"article"},{property:"og:title",content:"通过小程序云开发了解Serverless"},{property:"og:description",content:"最近这段时间下班回家之后一直在写小程序，导致了最近很长一段时间都没更新文章，刚好利用这次假期，总结一下这段时间的工作。"},{property:"og:image",content:"https://www.fedevelop.cn/imgs/前端/8.png"},{property:"og:url",content:"https://www.fedevelop.cn/views/%E5%89%8D%E7%AB%AF/2020/%E9%80%9A%E8%BF%87%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%BA%91%E5%BC%80%E5%8F%91%E4%BA%86%E8%A7%A3Serverless.html"},{property:"og:site_name",content:"前端develop"},{property:"article:published_time",content:"2020-05-01T00:00:00.000Z"},{property:"article:tag",content:"Serverless"},{property:"article:tag",content:"小程序"},{property:"article:tag",content:"云开发"},{itemprop:"name",content:"通过小程序云开发了解Serverless"},{itemprop:"description",content:"最近这段时间下班回家之后一直在写小程序，导致了最近很长一段时间都没更新文章，刚好利用这次假期，总结一下这段时间的工作。"},{itemprop:"image",content:"https://www.fedevelop.cn/imgs/前端/8.png"}]},regularPath:"/views/%E5%89%8D%E7%AB%AF/2020/%E9%80%9A%E8%BF%87%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%BA%91%E5%BC%80%E5%8F%91%E4%BA%86%E8%A7%A3Serverless.html",relativePath:"views/前端/2020/通过小程序云开发了解Serverless.md",key:"v-5bfe3b3e",path:"/views/%E5%89%8D%E7%AB%AF/2020/%E9%80%9A%E8%BF%87%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%BA%91%E5%BC%80%E5%8F%91%E4%BA%86%E8%A7%A3Serverless.html",headers:[{level:2,title:"为什么要写小程序？",slug:"为什么要写小程序",normalizedTitle:"为什么要写小程序？",charIndex:64},{level:2,title:"什么是 Serverless",slug:"什么是-serverless",normalizedTitle:"什么是 serverless",charIndex:479},{level:3,title:"FasS (Function as a Service) 函数即服务",slug:"fass-function-as-a-service-函数即服务",normalizedTitle:"fass (function as a service) 函数即服务",charIndex:795},{level:3,title:"BasS (Backend as a Service) 后端即服务",slug:"bass-backend-as-a-service-后端即服务",normalizedTitle:"bass (backend as a service) 后端即服务",charIndex:1755},{level:2,title:"Serverless 的特点",slug:"serverless-的特点",normalizedTitle:"serverless 的特点",charIndex:2579},{level:2,title:"使用 Serverless 与传统应用开发的区别",slug:"使用-serverless-与传统应用开发的区别",normalizedTitle:"使用 serverless 与传统应用开发的区别",charIndex:2813},{level:2,title:"总结",slug:"总结",normalizedTitle:"总结",charIndex:47}],excerpt:"<p>最近这段时间下班回家之后一直在写小程序，导致了最近很长一段时间都没更新文章，刚好利用这次假期，总结一下这段时间的工作。</p>\n",lastUpdated:"5/1/2020, 5:18:52 PM",headersStr:"为什么要写小程序？ 什么是 Serverless FasS (Function as a Service) 函数即服务 BasS (Backend as a Service) 后端即服务 Serverless 的特点 使用 Serverless 与传统应用开发的区别 总结",content:"最近这段时间下班回家之后一直在写小程序，导致了最近很长一段时间都没更新文章，刚好利用这次假期，总结一下这段时间的工作。\n\n\n# 为什么要写小程序？\n\n其一，工作了几年了，都没有在实际项目中开发过小程序，为了提升自己的技术面，所有这段时间又捡起了小程序。\n\n其二，小程序出来没多久的时候，其实是有写过一些 demo 来练手的，但是因为当时没有服务器，有服务器的时候又觉得各种配置太过繁琐，导致了我对小程序并不是太在意，也就就只是写了一些样式在本地看看。\n\n最近这段时间 Serverless 的概念很火，于是想利用小程序云开发来了解一下 Serverless。而且用了云开发之后，少去了各种繁琐的配置，例如获取 access token、验签等各种繁琐的操作，最重要的是可以不用花钱买服务器。想到这里就大大提升了开发一个小程序的兴致。\n\n其三、现有的很多小程序都贴满了各种广告，这其实就是开发者的一个盈利模式。假如我的小程序也能够贴广告的话，那也是增加收入的一个方式。\n\n一举三得，那为什么还不开发一个小程序呢？回到重点，关注 Serverless。\n\n\n# 什么是 Serverless\n\n最近在掘金、朋友圈经常看到 Serverless，一开始看到 server 还以为是后端的技术。了解之后才发现原来这玩意更倾向前端。\n\n那 Serverless 到底是什么呢？\n\n根据 CNCF 的定义，无服务器计算是指构建和运行不需要服务器管理的应用程序的概念。\n\n> Serverless computing refers to the concept of building and running applications that do not require server management. --- CNCF\n\nSeverless 可以分为两个部分 FasS + BasS\n\n\n# FasS (Function as a Service) 函数即服务\n\nFasS 就是一些运行函数的平台，例如小程序中的云函数、阿里云的函数计算等。\n\n当驱动函数执行的事件到来的时候，首先需要下载代码，然后启动一个容器，在容器里面再启动一个运行环境，最后才是执行代码。\n\n在小程序云开发的 demo 中提供了一个 login 的云函数模板。\n\n// 云函数模板\n// 部署：在 cloud-functions/login 文件夹右击选择 “上传并部署”\n\n/**\n * 这个示例将经自动鉴权过的小程序用户 openid 返回给小程序端\n *\n * event 参数包含\n * - 小程序端调用传入的 data\n * - 经过微信鉴权直接可信的用户唯一标识 openid\n *\n */\nexports.main = (event, context) => {\n  console.log(event)\n  console.log(context)\n\n  // 可执行其他自定义逻辑\n  // console.log 的内容可以在云开发云函数调用日志查看\n\n  return {\n    openid: event.userInfo.openId,\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n在小程序端可以使用 wx.cloud.callFunction 调用云函数\n\nwx.cloud.callFunction({\n    name: 'login',\n    data: {},\n    success: res => {\n        app.globalData.openId = res.result.openid;\n    },\n    fail: () => {},\n    complete: () => {}\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n对于前端来说调用云函数其实和调用接口比较类似，似乎体现不了 Serverless 的优势。但站在后端开发的角度，使用 Serverless 之后，后端无需搭建运行环境，能够更专注于业务，进行快速开发。\n\n当然了，云函数的业务也可以由前端实现。\n\n\n# BasS (Backend as a Service) 后端即服务\n\n这里的 Backend 指的是一些后端云服务，例如云数据库、云存储等。\n\n在小程序的云开发中当然也提供了数据库及存储。\n\n小程序云开发的 demo 里提供了上传图片、操作数据库的例子，这里就拿在小程序端操作数据库作为例子，当然在云端同样可以操作数据库，这里就不过多举例。\n\nconst db = wx.cloud.database()\n// 查询当前用户所有的 counters\ndb.collection('counters').where({\n    _openid: this.data.openid\n}).get({\n    success: res => {\n        this.setData({\n            queryResult: JSON.stringify(res.data, null, 2)\n        })\n        console.log('[数据库] [查询记录] 成功: ', res)\n    },\n    fail: err => {\n        wx.showToast({\n            icon: 'none',\n            title: '查询记录失败'\n        })\n        console.error('[数据库] [查询记录] 失败：', err)\n    }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n小程序提供的是一个 NoSQL 的数据库，首先需要回去数据库对象，然后通过 collection 获取集合进行操作。\n\n这里可以看出在 Serverless 的架构下，前端的权限更大了，都可以在客户端直接操作数据库了。\n\n还有在客户端直接操作存储的 demo，这里就不再举例。\n\n\n# Serverless 的特点\n\n事件驱动\n\n函数在 FaaS 平台中，需要通过事件来驱动函数执行。例如触发器（定时器）、客户端调用等。\n\n无状态\n\n因为每次执行函数，使用的容器不一定相同，所以无法进行内存或数据共享。如果要共享数据，则只能通过第三方服务。\n\n无运维\n\n使用 Serverless 并不需要关心服务器。\n\n低成本\n\n使用 Serverless 只需为函数执行付费，函数不执行则不花钱。\n\n以上内容参考自Serverless 掀起新的前端技术变革\n\n\n# 使用 Serverless 与传统应用开发的区别\n\n传统应用开发，需要前后端进行开发、联调，开发完需要将前后端的代码部署到服务器上，这就少不了对服务器的运维。包含运行环境搭建、前后端部署等等。\n\n而使用 Serverless 之后，直接上传云函数就可以部署。无需使用服务器，省去了许多运维成本。\n\n\n# 总结\n\nServerless 比较适合用于短时间内处理大量数据的需求，使用了 Serverless 可以避免资源浪费。\n\n具体落地项目可以参考听上去很美的 Serverless 在中国落地的怎么样了？\n\n也许现在公司还不会使用 Serverless，但是多了解一门技术，将来在遇到这样的需求时，才会想起 Serverless 这个选择。\n\n如果想体验 Serverless，还是比较推荐微信小程序云开发，对个人来说使用微信小程序云开发确实非常容易上手。\n\n最后的最后，推广一下我的小程序【实用工具包】\n\n\n\n本来想开发一个待办提醒，因为有时候快递到了，下班回家需要拿快递，经常到了家才想起来快递没拿。\n\n功能开发完没想到审核不通过，因为涉及备忘录，需要企业主体的小程序。无奈只能屏蔽待办提醒，目前只有视频去水印功能，欢迎各位小伙伴扫码体验，如有需求或者建议也可以在评论区留言。\n\n----------------------------------------\n\n如果有讲的不对的地方，还请各位大佬指点。\n\n如果觉得内容还不错的话，希望小伙伴可以帮忙点赞转发，给更多的同学看到，感谢感谢！\n\n如果你喜欢我的文章，还可以关注我的公众号【前端develop】\n\n",normalizedContent:"最近这段时间下班回家之后一直在写小程序，导致了最近很长一段时间都没更新文章，刚好利用这次假期，总结一下这段时间的工作。\n\n\n# 为什么要写小程序？\n\n其一，工作了几年了，都没有在实际项目中开发过小程序，为了提升自己的技术面，所有这段时间又捡起了小程序。\n\n其二，小程序出来没多久的时候，其实是有写过一些 demo 来练手的，但是因为当时没有服务器，有服务器的时候又觉得各种配置太过繁琐，导致了我对小程序并不是太在意，也就就只是写了一些样式在本地看看。\n\n最近这段时间 serverless 的概念很火，于是想利用小程序云开发来了解一下 serverless。而且用了云开发之后，少去了各种繁琐的配置，例如获取 access token、验签等各种繁琐的操作，最重要的是可以不用花钱买服务器。想到这里就大大提升了开发一个小程序的兴致。\n\n其三、现有的很多小程序都贴满了各种广告，这其实就是开发者的一个盈利模式。假如我的小程序也能够贴广告的话，那也是增加收入的一个方式。\n\n一举三得，那为什么还不开发一个小程序呢？回到重点，关注 serverless。\n\n\n# 什么是 serverless\n\n最近在掘金、朋友圈经常看到 serverless，一开始看到 server 还以为是后端的技术。了解之后才发现原来这玩意更倾向前端。\n\n那 serverless 到底是什么呢？\n\n根据 cncf 的定义，无服务器计算是指构建和运行不需要服务器管理的应用程序的概念。\n\n> serverless computing refers to the concept of building and running applications that do not require server management. --- cncf\n\nseverless 可以分为两个部分 fass + bass\n\n\n# fass (function as a service) 函数即服务\n\nfass 就是一些运行函数的平台，例如小程序中的云函数、阿里云的函数计算等。\n\n当驱动函数执行的事件到来的时候，首先需要下载代码，然后启动一个容器，在容器里面再启动一个运行环境，最后才是执行代码。\n\n在小程序云开发的 demo 中提供了一个 login 的云函数模板。\n\n// 云函数模板\n// 部署：在 cloud-functions/login 文件夹右击选择 “上传并部署”\n\n/**\n * 这个示例将经自动鉴权过的小程序用户 openid 返回给小程序端\n *\n * event 参数包含\n * - 小程序端调用传入的 data\n * - 经过微信鉴权直接可信的用户唯一标识 openid\n *\n */\nexports.main = (event, context) => {\n  console.log(event)\n  console.log(context)\n\n  // 可执行其他自定义逻辑\n  // console.log 的内容可以在云开发云函数调用日志查看\n\n  return {\n    openid: event.userinfo.openid,\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n在小程序端可以使用 wx.cloud.callfunction 调用云函数\n\nwx.cloud.callfunction({\n    name: 'login',\n    data: {},\n    success: res => {\n        app.globaldata.openid = res.result.openid;\n    },\n    fail: () => {},\n    complete: () => {}\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n\n\n对于前端来说调用云函数其实和调用接口比较类似，似乎体现不了 serverless 的优势。但站在后端开发的角度，使用 serverless 之后，后端无需搭建运行环境，能够更专注于业务，进行快速开发。\n\n当然了，云函数的业务也可以由前端实现。\n\n\n# bass (backend as a service) 后端即服务\n\n这里的 backend 指的是一些后端云服务，例如云数据库、云存储等。\n\n在小程序的云开发中当然也提供了数据库及存储。\n\n小程序云开发的 demo 里提供了上传图片、操作数据库的例子，这里就拿在小程序端操作数据库作为例子，当然在云端同样可以操作数据库，这里就不过多举例。\n\nconst db = wx.cloud.database()\n// 查询当前用户所有的 counters\ndb.collection('counters').where({\n    _openid: this.data.openid\n}).get({\n    success: res => {\n        this.setdata({\n            queryresult: json.stringify(res.data, null, 2)\n        })\n        console.log('[数据库] [查询记录] 成功: ', res)\n    },\n    fail: err => {\n        wx.showtoast({\n            icon: 'none',\n            title: '查询记录失败'\n        })\n        console.error('[数据库] [查询记录] 失败：', err)\n    }\n})\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n\n\n小程序提供的是一个 nosql 的数据库，首先需要回去数据库对象，然后通过 collection 获取集合进行操作。\n\n这里可以看出在 serverless 的架构下，前端的权限更大了，都可以在客户端直接操作数据库了。\n\n还有在客户端直接操作存储的 demo，这里就不再举例。\n\n\n# serverless 的特点\n\n事件驱动\n\n函数在 faas 平台中，需要通过事件来驱动函数执行。例如触发器（定时器）、客户端调用等。\n\n无状态\n\n因为每次执行函数，使用的容器不一定相同，所以无法进行内存或数据共享。如果要共享数据，则只能通过第三方服务。\n\n无运维\n\n使用 serverless 并不需要关心服务器。\n\n低成本\n\n使用 serverless 只需为函数执行付费，函数不执行则不花钱。\n\n以上内容参考自serverless 掀起新的前端技术变革\n\n\n# 使用 serverless 与传统应用开发的区别\n\n传统应用开发，需要前后端进行开发、联调，开发完需要将前后端的代码部署到服务器上，这就少不了对服务器的运维。包含运行环境搭建、前后端部署等等。\n\n而使用 serverless 之后，直接上传云函数就可以部署。无需使用服务器，省去了许多运维成本。\n\n\n# 总结\n\nserverless 比较适合用于短时间内处理大量数据的需求，使用了 serverless 可以避免资源浪费。\n\n具体落地项目可以参考听上去很美的 serverless 在中国落地的怎么样了？\n\n也许现在公司还不会使用 serverless，但是多了解一门技术，将来在遇到这样的需求时，才会想起 serverless 这个选择。\n\n如果想体验 serverless，还是比较推荐微信小程序云开发，对个人来说使用微信小程序云开发确实非常容易上手。\n\n最后的最后，推广一下我的小程序【实用工具包】\n\n\n\n本来想开发一个待办提醒，因为有时候快递到了，下班回家需要拿快递，经常到了家才想起来快递没拿。\n\n功能开发完没想到审核不通过，因为涉及备忘录，需要企业主体的小程序。无奈只能屏蔽待办提醒，目前只有视频去水印功能，欢迎各位小伙伴扫码体验，如有需求或者建议也可以在评论区留言。\n\n----------------------------------------\n\n如果有讲的不对的地方，还请各位大佬指点。\n\n如果觉得内容还不错的话，希望小伙伴可以帮忙点赞转发，给更多的同学看到，感谢感谢！\n\n如果你喜欢我的文章，还可以关注我的公众号【前端develop】\n\n",charsets:{cjk:!0}},{title:"技术人玩小游戏，如何“不战而胜”",frontmatter:{title:"技术人玩小游戏，如何“不战而胜”",date:"2021-06-15T00:00:00.000Z",categories:["前端"],tags:["网站安全","抓包","Charles","Postman"],description:"虽然迟了一天，但还是祝各位小伙伴端午安康。\n最近因为端午节到来，物业举办了一个网页小游戏，得分最高的前 N 名可以拿到奖品。\n闲来无事的我参加了一下，发现自己实在是太菜了，总是玩不过别人，于是转变思路，研究看看这个小游戏是如何提交分数的。",meta:[{name:"image",content:"https://feiben-1253434158.cos.ap-guangzhou.myqcloud.com/PicGo/sign.png"},{name:"twitter:title",content:"技术人玩小游戏，如何“不战而胜”"},{name:"twitter:description",content:"虽然迟了一天，但还是祝各位小伙伴端午安康。\n最近因为端午节到来，物业举办了一个网页小游戏，得分最高的前 N 名可以拿到奖品。\n闲来无事的我参加了一下，发现自己实在是太菜了，总是玩不过别人，于是转变思路，研究看看这个小游戏是如何提交分数的。"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://feiben-1253434158.cos.ap-guangzhou.myqcloud.com/PicGo/sign.png"},{name:"twitter:url",content:"https://www.fedevelop.cn/views/%E5%89%8D%E7%AB%AF/2021/%E6%8A%80%E6%9C%AF%E4%BA%BA%E7%8E%A9%E5%B0%8F%E6%B8%B8%E6%88%8F%EF%BC%8C%E5%A6%82%E4%BD%95%E2%80%9C%E4%B8%8D%E6%88%98%E8%80%8C%E8%83%9C%E2%80%9D.html"},{property:"og:type",content:"article"},{property:"og:title",content:"技术人玩小游戏，如何“不战而胜”"},{property:"og:description",content:"虽然迟了一天，但还是祝各位小伙伴端午安康。\n最近因为端午节到来，物业举办了一个网页小游戏，得分最高的前 N 名可以拿到奖品。\n闲来无事的我参加了一下，发现自己实在是太菜了，总是玩不过别人，于是转变思路，研究看看这个小游戏是如何提交分数的。"},{property:"og:image",content:"https://feiben-1253434158.cos.ap-guangzhou.myqcloud.com/PicGo/sign.png"},{property:"og:url",content:"https://www.fedevelop.cn/views/%E5%89%8D%E7%AB%AF/2021/%E6%8A%80%E6%9C%AF%E4%BA%BA%E7%8E%A9%E5%B0%8F%E6%B8%B8%E6%88%8F%EF%BC%8C%E5%A6%82%E4%BD%95%E2%80%9C%E4%B8%8D%E6%88%98%E8%80%8C%E8%83%9C%E2%80%9D.html"},{property:"og:site_name",content:"前端develop"},{property:"article:published_time",content:"2021-06-15T00:00:00.000Z"},{property:"article:tag",content:"网站安全"},{property:"article:tag",content:"抓包"},{property:"article:tag",content:"Charles"},{property:"article:tag",content:"Postman"},{itemprop:"name",content:"技术人玩小游戏，如何“不战而胜”"},{itemprop:"description",content:"虽然迟了一天，但还是祝各位小伙伴端午安康。\n最近因为端午节到来，物业举办了一个网页小游戏，得分最高的前 N 名可以拿到奖品。\n闲来无事的我参加了一下，发现自己实在是太菜了，总是玩不过别人，于是转变思路，研究看看这个小游戏是如何提交分数的。"},{itemprop:"image",content:"https://feiben-1253434158.cos.ap-guangzhou.myqcloud.com/PicGo/sign.png"}]},regularPath:"/views/%E5%89%8D%E7%AB%AF/2021/%E6%8A%80%E6%9C%AF%E4%BA%BA%E7%8E%A9%E5%B0%8F%E6%B8%B8%E6%88%8F%EF%BC%8C%E5%A6%82%E4%BD%95%E2%80%9C%E4%B8%8D%E6%88%98%E8%80%8C%E8%83%9C%E2%80%9D.html",relativePath:"views/前端/2021/技术人玩小游戏，如何“不战而胜”.md",key:"v-d72c9f84",path:"/views/%E5%89%8D%E7%AB%AF/2021/%E6%8A%80%E6%9C%AF%E4%BA%BA%E7%8E%A9%E5%B0%8F%E6%B8%B8%E6%88%8F%EF%BC%8C%E5%A6%82%E4%BD%95%E2%80%9C%E4%B8%8D%E6%88%98%E8%80%8C%E8%83%9C%E2%80%9D.html",headers:[{level:2,title:"抓包",slug:"抓包",normalizedTitle:"抓包",charIndex:126},{level:2,title:"接口分析",slug:"接口分析",normalizedTitle:"接口分析",charIndex:252},{level:3,title:"特殊参数",slug:"特殊参数",normalizedTitle:"特殊参数",charIndex:325},{level:2,title:"请求头",slug:"请求头",normalizedTitle:"请求头",charIndex:678},{level:2,title:"发起请求",slug:"发起请求",normalizedTitle:"发起请求",charIndex:826},{level:2,title:"思考",slug:"思考",normalizedTitle:"思考",charIndex:1083},{level:2,title:"注意事项",slug:"注意事项",normalizedTitle:"注意事项",charIndex:1258}],excerpt:"<p>虽然迟了一天，但还是祝各位小伙伴端午安康。</p>\n<p>最近因为端午节到来，物业举办了一个网页小游戏，得分最高的前 N 名可以拿到奖品。</p>\n<p>闲来无事的我参加了一下，发现自己实在是太菜了，总是玩不过别人，于是转变思路，研究看看这个小游戏是如何提交分数的。</p>\n",lastUpdated:"6/15/2021, 12:06:24 AM",headersStr:"抓包 接口分析 特殊参数 请求头 发起请求 思考 注意事项",content:"虽然迟了一天，但还是祝各位小伙伴端午安康。\n\n最近因为端午节到来，物业举办了一个网页小游戏，得分最高的前 N 名可以拿到奖品。\n\n闲来无事的我参加了一下，发现自己实在是太菜了，总是玩不过别人，于是转变思路，研究看看这个小游戏是如何提交分数的。\n\n\n# 抓包\n\n通过 Charles 进行抓包，发现游戏结束时会调用 commit 接口提交分数。那这就好办了，因为我们可以利用 Postman 伪造请求，从而达到 “不战而胜”。\n\n如果想了解如何抓包，可以在评论区留言，有需要的话再写一篇抓包教程。\n\n\n# 接口分析\n\n抓包知道哪个接口还远远不够，因为接口最重要的还是请求参数，所以我们需要弄清楚每个参数的代表的意思，一般可以参数名可以猜出来。\n\n\n# 特殊参数\n\n一个特殊的参数 sign，这个参数是签名的意思，由其他参数计算得到，作用是防止请求参数被篡改。因为参数发生变化，计算出来的签名也是不同的。服务端经过相同的计算，可以校验参数与签名是否匹配。\n\n因为 sign 是计算得到的，我们伪造请求同样需要计算 sign，那么就要知道签名算法，如何知道？我们只能通过网页源码查看。\n\n现在的网页源码大部分都是经过打包工具压缩混淆，我们想要阅读是一件比较困难的事情。但是我们只需要看提交分数的部分即可，如何快速定位代码位置？答案是通过搜索字符串来定位。\n\n打包工具混淆代码只能修改变量名，而字符串是不能被混淆的，我们通过字符串搜索就可以稍微快速找到对应位置的代码。比如通过接口名 'commit'、参数名 'sign' 进行搜索，查看签名算法的逻辑。\n\n\n# 请求头\n\n很多人伪造请求，都不注意请求头的参数。例如 User-Agent 用户代理，即用户使用的浏览器标识、Cookie 一般会携带用户信息，用于区分用户。\n\n既然要伪造请求，那就要伪造的真实一点，将抓包中显示的请求头都复制到 Postman 中（Content-Length除外）。\n\n\n# 发起请求\n\n一切都准备就绪，那么就可以开始利用 Postman 发起请求。因为涉及签名计算，我们可以利用 Postman 提供的 Pre-requset Script 编写请求前的计算逻辑，并将计算结果写入环境变量中，然后再使用 {{}} 进行取值。\n\n将 sign 保存到环境变量中\n\npm.environment.set('sign', sign);\n\n\n1\n\n\n变量的使用\n\n到这里就可以发起请求了，从而达到 “不战而胜” 的效果。当然了，这种做法破坏了游戏的公平性，是不可取的。不过我们可以从中吸取经验，多思考问题，提升自身的技能。\n\n\n# 思考\n\n换位思考一下，假如这个小游戏是我们自己开发的，那么请你思考这几个问题。\n\n 1. 我们的应用该如何提高安全性，如何防止源码被轻易解读？\n 2. 我们如何去发现识别这类伪造请求？\n\n欢迎评论区留言讨论，也可以 wx 搜索 fe_develop6 一起在群里学习讨论。最后别忘了关注我，点赞来一波哦~\n\n\n# 注意事项\n\n 1. 该方法并不适用所有游戏，请自行分辨；\n 2. 本文仅供学习，如产生不良后果，本文概不负责；\n 3. 转载请标明出处 技术人玩小游戏，如何“不战而胜” @前端develop。",normalizedContent:"虽然迟了一天，但还是祝各位小伙伴端午安康。\n\n最近因为端午节到来，物业举办了一个网页小游戏，得分最高的前 n 名可以拿到奖品。\n\n闲来无事的我参加了一下，发现自己实在是太菜了，总是玩不过别人，于是转变思路，研究看看这个小游戏是如何提交分数的。\n\n\n# 抓包\n\n通过 charles 进行抓包，发现游戏结束时会调用 commit 接口提交分数。那这就好办了，因为我们可以利用 postman 伪造请求，从而达到 “不战而胜”。\n\n如果想了解如何抓包，可以在评论区留言，有需要的话再写一篇抓包教程。\n\n\n# 接口分析\n\n抓包知道哪个接口还远远不够，因为接口最重要的还是请求参数，所以我们需要弄清楚每个参数的代表的意思，一般可以参数名可以猜出来。\n\n\n# 特殊参数\n\n一个特殊的参数 sign，这个参数是签名的意思，由其他参数计算得到，作用是防止请求参数被篡改。因为参数发生变化，计算出来的签名也是不同的。服务端经过相同的计算，可以校验参数与签名是否匹配。\n\n因为 sign 是计算得到的，我们伪造请求同样需要计算 sign，那么就要知道签名算法，如何知道？我们只能通过网页源码查看。\n\n现在的网页源码大部分都是经过打包工具压缩混淆，我们想要阅读是一件比较困难的事情。但是我们只需要看提交分数的部分即可，如何快速定位代码位置？答案是通过搜索字符串来定位。\n\n打包工具混淆代码只能修改变量名，而字符串是不能被混淆的，我们通过字符串搜索就可以稍微快速找到对应位置的代码。比如通过接口名 'commit'、参数名 'sign' 进行搜索，查看签名算法的逻辑。\n\n\n# 请求头\n\n很多人伪造请求，都不注意请求头的参数。例如 user-agent 用户代理，即用户使用的浏览器标识、cookie 一般会携带用户信息，用于区分用户。\n\n既然要伪造请求，那就要伪造的真实一点，将抓包中显示的请求头都复制到 postman 中（content-length除外）。\n\n\n# 发起请求\n\n一切都准备就绪，那么就可以开始利用 postman 发起请求。因为涉及签名计算，我们可以利用 postman 提供的 pre-requset script 编写请求前的计算逻辑，并将计算结果写入环境变量中，然后再使用 {{}} 进行取值。\n\n将 sign 保存到环境变量中\n\npm.environment.set('sign', sign);\n\n\n1\n\n\n变量的使用\n\n到这里就可以发起请求了，从而达到 “不战而胜” 的效果。当然了，这种做法破坏了游戏的公平性，是不可取的。不过我们可以从中吸取经验，多思考问题，提升自身的技能。\n\n\n# 思考\n\n换位思考一下，假如这个小游戏是我们自己开发的，那么请你思考这几个问题。\n\n 1. 我们的应用该如何提高安全性，如何防止源码被轻易解读？\n 2. 我们如何去发现识别这类伪造请求？\n\n欢迎评论区留言讨论，也可以 wx 搜索 fe_develop6 一起在群里学习讨论。最后别忘了关注我，点赞来一波哦~\n\n\n# 注意事项\n\n 1. 该方法并不适用所有游戏，请自行分辨；\n 2. 本文仅供学习，如产生不良后果，本文概不负责；\n 3. 转载请标明出处 技术人玩小游戏，如何“不战而胜” @前端develop。",charsets:{cjk:!0}},{title:"持续集成工具",frontmatter:{title:"持续集成工具",date:"2019-10-18T00:00:00.000Z",categories:["CI"],tags:["CI","Travis"],description:"持续集成（Continuous integration，简称CI）是指频繁地将代码集成到主干。",meta:[{name:"image",content:"https://www.fedevelop.cn/imgs/工具/0.jpeg"},{name:"twitter:title",content:"持续集成工具"},{name:"twitter:description",content:"持续集成（Continuous integration，简称CI）是指频繁地将代码集成到主干。"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://www.fedevelop.cn/imgs/工具/0.jpeg"},{name:"twitter:url",content:"https://www.fedevelop.cn/views/%E5%B7%A5%E5%85%B7/2019/%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%B7%A5%E5%85%B7.html"},{property:"og:type",content:"article"},{property:"og:title",content:"持续集成工具"},{property:"og:description",content:"持续集成（Continuous integration，简称CI）是指频繁地将代码集成到主干。"},{property:"og:image",content:"https://www.fedevelop.cn/imgs/工具/0.jpeg"},{property:"og:url",content:"https://www.fedevelop.cn/views/%E5%B7%A5%E5%85%B7/2019/%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%B7%A5%E5%85%B7.html"},{property:"og:site_name",content:"前端develop"},{property:"article:published_time",content:"2019-10-18T00:00:00.000Z"},{property:"article:tag",content:"CI"},{property:"article:tag",content:"Travis"},{itemprop:"name",content:"持续集成工具"},{itemprop:"description",content:"持续集成（Continuous integration，简称CI）是指频繁地将代码集成到主干。"},{itemprop:"image",content:"https://www.fedevelop.cn/imgs/工具/0.jpeg"}]},regularPath:"/views/%E5%B7%A5%E5%85%B7/2019/%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%B7%A5%E5%85%B7.html",relativePath:"views/工具/2019/持续集成工具.md",key:"v-54cddafe",path:"/views/%E5%B7%A5%E5%85%B7/2019/%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E5%B7%A5%E5%85%B7.html",headers:[{level:2,title:"什么是持续集成",slug:"什么是持续集成",normalizedTitle:"什么是持续集成",charIndex:2},{level:2,title:"应用",slug:"应用",normalizedTitle:"应用",charIndex:313},{level:2,title:"例子",slug:"例子",normalizedTitle:"例子",charIndex:606}],lastUpdated:"10/19/2019, 9:05:16 PM",headersStr:"什么是持续集成 应用 例子",content:'# 什么是持续集成\n\n持续集成（Continuous integration，简称CI）是指频繁地将代码集成到主干。\n\n持续集成的好处可以帮助我们快速发现错误，集成到主干前需要经过自动测试，如果过程中出现错误，将无法完成此次集成，这是其一。\n\n第二点好处是可以防止分支与主干的偏差过大，导致集成难度变大。假如在分支发开时，没有及时集成到主干，而主干又在不断更新，将会导致分支与主干的偏差过大，最终导致难以集成。\n\n使用持续集成工具还能够替我们完成繁琐的工作，例如自动部署等。\n\n持续集成的工具非常多，例如 Travis CI、Jenkins、Gitlab CI 等等。本文将简单介绍一下 Travis CI 的使用。\n\n\n# 应用\n\nTravis 是一款流行的 CI 工具，可免费用于开源项目。在托管时，不必依赖任何平台。Travis CI 工具为许多构建配置和语言提供支持。\n\n前段时间写了个 Python 的项目，才开始了解到了 Travis CI。在项目的根目录添加了 .travis.yml 文件进行配置，当代码发生变动时，Travis CI 将会执行测试脚本，通过测试后将代码打包成 Docker 镜像并推送到官方仓库。\n\n这两天我用 VuePress 搭建了一个新的博客站点 http://blog.fedevelop.cn，刚好利用 Travis CI 实现部署的工作，省下了宝贵的时间。\n\n\n# 例子\n\n下面我将自动部署博客的应用作为例子，带大家熟悉持续集成工具。\n\n首先在我的 VuePress 项目里添加 .travis.yml 文件。我的内容只有简单 3 行，如下\n\n# 指定语言\nlanguage: node\n\n# 安装依赖\ninstall: npm install\n\n# 执行脚本\nscript: npm run deploy\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\ndeploy 命令是我在 package.json 中定义好的一个命令，内容如下\n\n"script": {\n    "dev": "xxx",\n    "build": "xxx",\n    "deploy": "bash deploy.sh"\n}\n\n\n1\n2\n3\n4\n5\n\n\nbash deploy.sh 意思是执行 deploy 这个 shell 脚本, deploy.sh 的内容如下\n\n#!/usr/bin/env sh\n\n# 确保脚本抛出遇到的错误\nset -e\n\n# 生成静态文件\nnpm run build\n\n# 进入生成静态文件的文件夹\ncd blogs/.vuepress/dist\n\ngit init\ngit add .\ngit commit -m "auto push"\ngit remote add origin https://${token}@github.com/<your name>/<your name>.github.io.git\ngit push -f --set-upstream origin master\n\ncd -\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n意思为先执行 npm run build 命令进行编译，如果报错的话，Travis 将不会进行下面的操作。如果编译没有报错的话，将会进入 blogs/.vuepress/dist 目录，将里面的内容推送到我的 GitHub Page 项目，完成部署工作。\n\n其中 ${token} 将会获取 Travis 中设置的环境变量。涉及隐私的数据，我们可以通过环境变量的方式来传递。下面我们就来看如何设置。\n\n下一步打开 Travis 官网 https://travis-ci.org 可以看到右上角的 Sign in with GitHub 即用 GitHub 账号登录。\n\n\n\n完成登录后，进入设置页，可以看到本人的 GitHub 的项目，找到 VuePress 的项目。如果项目过多，找不到项目，可以点击 Sync account 按钮同步账户。接下里进入设置页，这里我们可以设置监听的分支、环境变量等。\n\n\n\n其中 Environment Variables 为环境变量，Cron Jobs 为定时任务。在 .travis.yml 中可以使用 ${key} 取得环境变量中的值。\n\n因为从 Travis 提交代码到 GitHub 默认是会被拒绝的，我们需要加上 access_token，我的项目里设为了 token。\n\n接下来就可以去 GitHub https://github.com/settings/tokens 获取 access_token，点击 Generate new token 按钮，将生成好的 access_token 复制到 Travis 的环境变量中。到这里就算配置完成。\n\n接下来只要我的提交代码，Travis 就会帮我构建部署，这样我就省去了许多部署的时间。\n\n关于 .travis.yml 的配置还有很多，如果感兴趣也可以到 Travis 官网查看文档。\n\n----------------------------------------\n\n如果你喜欢我的文章，希望可以关注一下我的公众号【前端develop】\n\n',normalizedContent:'# 什么是持续集成\n\n持续集成（continuous integration，简称ci）是指频繁地将代码集成到主干。\n\n持续集成的好处可以帮助我们快速发现错误，集成到主干前需要经过自动测试，如果过程中出现错误，将无法完成此次集成，这是其一。\n\n第二点好处是可以防止分支与主干的偏差过大，导致集成难度变大。假如在分支发开时，没有及时集成到主干，而主干又在不断更新，将会导致分支与主干的偏差过大，最终导致难以集成。\n\n使用持续集成工具还能够替我们完成繁琐的工作，例如自动部署等。\n\n持续集成的工具非常多，例如 travis ci、jenkins、gitlab ci 等等。本文将简单介绍一下 travis ci 的使用。\n\n\n# 应用\n\ntravis 是一款流行的 ci 工具，可免费用于开源项目。在托管时，不必依赖任何平台。travis ci 工具为许多构建配置和语言提供支持。\n\n前段时间写了个 python 的项目，才开始了解到了 travis ci。在项目的根目录添加了 .travis.yml 文件进行配置，当代码发生变动时，travis ci 将会执行测试脚本，通过测试后将代码打包成 docker 镜像并推送到官方仓库。\n\n这两天我用 vuepress 搭建了一个新的博客站点 http://blog.fedevelop.cn，刚好利用 travis ci 实现部署的工作，省下了宝贵的时间。\n\n\n# 例子\n\n下面我将自动部署博客的应用作为例子，带大家熟悉持续集成工具。\n\n首先在我的 vuepress 项目里添加 .travis.yml 文件。我的内容只有简单 3 行，如下\n\n# 指定语言\nlanguage: node\n\n# 安装依赖\ninstall: npm install\n\n# 执行脚本\nscript: npm run deploy\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\ndeploy 命令是我在 package.json 中定义好的一个命令，内容如下\n\n"script": {\n    "dev": "xxx",\n    "build": "xxx",\n    "deploy": "bash deploy.sh"\n}\n\n\n1\n2\n3\n4\n5\n\n\nbash deploy.sh 意思是执行 deploy 这个 shell 脚本, deploy.sh 的内容如下\n\n#!/usr/bin/env sh\n\n# 确保脚本抛出遇到的错误\nset -e\n\n# 生成静态文件\nnpm run build\n\n# 进入生成静态文件的文件夹\ncd blogs/.vuepress/dist\n\ngit init\ngit add .\ngit commit -m "auto push"\ngit remote add origin https://${token}@github.com/<your name>/<your name>.github.io.git\ngit push -f --set-upstream origin master\n\ncd -\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n\n\n意思为先执行 npm run build 命令进行编译，如果报错的话，travis 将不会进行下面的操作。如果编译没有报错的话，将会进入 blogs/.vuepress/dist 目录，将里面的内容推送到我的 github page 项目，完成部署工作。\n\n其中 ${token} 将会获取 travis 中设置的环境变量。涉及隐私的数据，我们可以通过环境变量的方式来传递。下面我们就来看如何设置。\n\n下一步打开 travis 官网 https://travis-ci.org 可以看到右上角的 sign in with github 即用 github 账号登录。\n\n\n\n完成登录后，进入设置页，可以看到本人的 github 的项目，找到 vuepress 的项目。如果项目过多，找不到项目，可以点击 sync account 按钮同步账户。接下里进入设置页，这里我们可以设置监听的分支、环境变量等。\n\n\n\n其中 environment variables 为环境变量，cron jobs 为定时任务。在 .travis.yml 中可以使用 ${key} 取得环境变量中的值。\n\n因为从 travis 提交代码到 github 默认是会被拒绝的，我们需要加上 access_token，我的项目里设为了 token。\n\n接下来就可以去 github https://github.com/settings/tokens 获取 access_token，点击 generate new token 按钮，将生成好的 access_token 复制到 travis 的环境变量中。到这里就算配置完成。\n\n接下来只要我的提交代码，travis 就会帮我构建部署，这样我就省去了许多部署的时间。\n\n关于 .travis.yml 的配置还有很多，如果感兴趣也可以到 travis 官网查看文档。\n\n----------------------------------------\n\n如果你喜欢我的文章，希望可以关注一下我的公众号【前端develop】\n\n',charsets:{cjk:!0}},{title:"关于 IT 培训",frontmatter:{title:"关于 IT 培训",date:"2019-10-14T00:00:00.000Z",categories:["随笔"],tags:["培训"],description:"一直以来在网上都能够看到关于 IT 培训的话题，为什么有那么多人都想进入 IT 行业，可能每个人的原因都不同。比如 IT 行业的薪资高、IT 行业能了解到互联网的新动态、IT 行业光鲜亮丽，在亲戚朋友面前有面子……",meta:[{name:"image",content:"https://www.fedevelop.cn/imgs/qrcode.png"},{name:"twitter:title",content:"关于 IT 培训"},{name:"twitter:description",content:"一直以来在网上都能够看到关于 IT 培训的话题，为什么有那么多人都想进入 IT 行业，可能每个人的原因都不同。比如 IT 行业的薪资高、IT 行业能了解到互联网的新动态、IT 行业光鲜亮丽，在亲戚朋友面前有面子……"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://www.fedevelop.cn/imgs/qrcode.png"},{name:"twitter:url",content:"https://www.fedevelop.cn/views/%E9%9A%8F%E7%AC%94/2019/%E5%85%B3%E4%BA%8E%20IT%20%E5%9F%B9%E8%AE%AD.html"},{property:"og:type",content:"article"},{property:"og:title",content:"关于 IT 培训"},{property:"og:description",content:"一直以来在网上都能够看到关于 IT 培训的话题，为什么有那么多人都想进入 IT 行业，可能每个人的原因都不同。比如 IT 行业的薪资高、IT 行业能了解到互联网的新动态、IT 行业光鲜亮丽，在亲戚朋友面前有面子……"},{property:"og:image",content:"https://www.fedevelop.cn/imgs/qrcode.png"},{property:"og:url",content:"https://www.fedevelop.cn/views/%E9%9A%8F%E7%AC%94/2019/%E5%85%B3%E4%BA%8E%20IT%20%E5%9F%B9%E8%AE%AD.html"},{property:"og:site_name",content:"前端develop"},{property:"article:published_time",content:"2019-10-14T00:00:00.000Z"},{property:"article:tag",content:"培训"},{itemprop:"name",content:"关于 IT 培训"},{itemprop:"description",content:"一直以来在网上都能够看到关于 IT 培训的话题，为什么有那么多人都想进入 IT 行业，可能每个人的原因都不同。比如 IT 行业的薪资高、IT 行业能了解到互联网的新动态、IT 行业光鲜亮丽，在亲戚朋友面前有面子……"},{itemprop:"image",content:"https://www.fedevelop.cn/imgs/qrcode.png"}]},regularPath:"/views/%E9%9A%8F%E7%AC%94/2019/%E5%85%B3%E4%BA%8E%20IT%20%E5%9F%B9%E8%AE%AD.html",relativePath:"views/随笔/2019/关于 IT 培训.md",key:"v-d5699b42",path:"/views/%E9%9A%8F%E7%AC%94/2019/%E5%85%B3%E4%BA%8E%20IT%20%E5%9F%B9%E8%AE%AD.html",headers:[{level:2,title:"前言",slug:"前言",normalizedTitle:"前言",charIndex:2},{level:2,title:"我",slug:"我",normalizedTitle:"我",charIndex:139},{level:2,title:"参加培训",slug:"参加培训",normalizedTitle:"参加培训",charIndex:1283},{level:2,title:"建议",slug:"建议",normalizedTitle:"建议",charIndex:1994}],lastUpdated:"10/19/2019, 9:05:16 PM",headersStr:"前言 我 参加培训 建议",content:"# 前言\n\n一直以来在网上都能够看到关于 IT 培训的话题，为什么有那么多人都想进入 IT 行业，可能每个人的原因都不同。比如 IT 行业的薪资高、IT 行业能了解到互联网的新动态、IT 行业光鲜亮丽，在亲戚朋友面前有面子……\n\n作为一个从培训机构出来，工作了3年左右的程序员，我想将我的经验总结一下，给想要转行或者刚走出校门的你一点参考。下面先把我的背景介绍一下。\n\n\n# 我\n\n2016年毕业于一个倒数三本学校，读的电子信息工程专业，与大多数人一样，在学校的时候课本上的东西没学到多少。但庆幸的是，在大三期间我的兴趣——编程。\n\n因为大三的时候有一门单片机的课程，可能自己觉得这门课比较重要，而且书中附带了一份光盘，于是我在开课前，自己学了单片机的课程。虽然大二的时候教过C语言，但是并没有吸收多少，可以说从零开始，还好视频中也介绍了C语言的一些写法。\n\n也是从那时候开始，我才真正懂得什么叫做学习。小的时候只懂得在课堂上听讲，等待着老师给我们传授知识点。到后来初中甚至高中的时候，老师讲的内容变的爱听不听，学不学的明白也不是那么重要，这种行为也导致了我进到了一个倒数的学校中。\n\n在看视频学习的时候，我带着耳机，仿佛进入了我自己的世界中，尽管舍友在打游戏，但是对我没有丝毫影响。\n\n一开始学习的时候，总是会遇到很多没听明白的地方，但因为是视频，我能够掌控进度，我可以按下暂停、回退把不懂的问题查清楚或者重听一下。慢慢的学习到的东西也越来越多，看视频的时候能够跟得上作者的思路，能到理解作者所讲的东西，并且自己觉得其实也不是很难，只要听一遍之后，我也能够按照自己的想法去控制单片机上的东西。\n\n后来在上课的时候，因为自己提前学过，在课堂上就变得更加主动，变得更像是在玩找不同的游戏，在对比视频与课堂上讲的内容。看看能不能在课堂上学到更多，或者暗地里庆幸自己在视频里学到了其他同学没学到的东西。最后这门课也考了九十多分。\n\n到了这里，我就明白了主动学习其实是一件很有乐趣的事情。然而我已经大三了，马上面临着毕业，对毕业后能做什么工作仍然很是迷茫。这时候我堂哥给我提到了移动应用开发，因为经济原因，于是我选择学习安卓开发（iOS 开发需要 Mac 系统），后来在网上搜了很多关于 Android 的教程。\n\n那段时间可以说是天天学，有时候早上没有课，自己会学到半夜，然后早上睡晚起一点。学到快毕业的时候，自己也没学会多少东西。在校招中拿了一个 计算器 和 浏览器(其实就是一个 WebView) 的 App 就去面试。最终换来的都是同一个结果——等通知。那时，天真的我以为只要表现得足够的热情，让企业知道虽然我技术不怎么样，但是我可以学，还一直期望着公司能够通知我。\n\n就这样到毕业的时候我没有找到一份实习的工作，实习期间在家里继续学习 Android 开发。因为自己学的不够系统，欠缺很多知识点，一直处在能看代码，但是不会写的状态。每天看到网上出来很多新的技术，把自己陷入恐慌的状态中，而且安卓开发也处于饱和的状态，我不知道什么时候才能换来一份工作。这时候开始考虑参加培训。\n\n\n# 参加培训\n\n关于培训机构的选择，我这里就不做介绍了。因为我自己也没有了解过，当时是因为看了 java4android 的视频，觉得作者讲得挺好的，而且他刚出来创业，于是就投奔到他的公司。\n\n我当时选择培训的是前端开发，因为我听到市场上移动开发开始饱和，而且自己也学了一些安卓开发，再去培训安卓自己感觉很亏。至于为什么选择前端开发，是因为当时的前端非常火爆。\n\n后面就开始了 4 个半月的培训经历，培训期间其实非常辛苦。早上 9 点开始上课，一直上到晚上 6 点，晚上自习到 10 点钟左右。因为自己学过一些编程方面的内容，接受起来也比较快。像面向对象、网络请求等，其实任何语言都是互通。\n\n培训期间要求我们上课前要轮流分享自己学的东西，我们就会运用学过的知识做出应用或者自己去网上学习课堂上没讲过的知识来分享。那段时间不仅学会了技术，也锻炼了每个人的胆量、描述事情的能力等。\n\n培训期间，有个安卓班已经毕业的学生给我们发了传单。描述的是他学完了，但是并没有像宣传那样给自己找到一份满意的工作。因为很多培训机构为了招生，都会提供一个保证就业的承诺。大概就是：本科生学完能有几 k 以上的薪资；专科生学完能有多少薪资等。但凡有脑子的都知道，薪资的高低取决于你自己的能力。并不是培训完就能有多少 k 的薪资。\n\n至于为什么很多企业都对培训出来的开发那么不信任。因为大部分人并不能够完全掌握到培训机构所教的内容，很多都是不明不白就过去了，到公司中用到的时候就会埋下很多坑。导致企业不敢信任培训机构出来的同学。\n\n我在培训完后，面试了 3 家公司就拿到了 offer，当然薪资方面也是达到了自己的要求。\n\n\n# 建议\n\n对于想要进入 IT 行业的你们，有几点建议给你们。\n\n * 确定自己的兴趣\n\n很多人其实并不知道自己的兴趣，只是随波逐流。看到薪资等能满足自己要求的，就觉得很有兴趣。其实对一件事情有兴趣的时候，并不需要别人去指引你，你就会去摸索。\n\n对于还未参加培训的同学，你可以先确定自己是否是真正热爱 IT 行业。因为做一份自己不喜欢的工作，即使是高薪，也是一件很痛苦的事情。\n\n * 认真学习\n\n已经参加培训的同学，需要你们自己认真去学。因为 2 万左右的培训费确实是挺贵的，而且大部分是签订了分期的，不管你学完之后是否能够找到工作，这笔贷款都是要自己还的。只有认真学好，找到工作才是唯一的出路。\n\n * 提高自学能力\n\n不管是否参加培训，自学能力都非常重要。因为技术发展日新月异，如果没有自学能力，不用两年，你就会发现跟不上世界的步伐。IT 行业不像传统行业可以靠积累经验成为一个大牛，IT 行业可能技术一换代，你积累的经验就剩一丁点作用。\n\n----------------------------------------\n\n如果还有其他疑问，欢迎大家扫码关注我的公众号【前端develop】给我留言。\n\n",normalizedContent:"# 前言\n\n一直以来在网上都能够看到关于 it 培训的话题，为什么有那么多人都想进入 it 行业，可能每个人的原因都不同。比如 it 行业的薪资高、it 行业能了解到互联网的新动态、it 行业光鲜亮丽，在亲戚朋友面前有面子……\n\n作为一个从培训机构出来，工作了3年左右的程序员，我想将我的经验总结一下，给想要转行或者刚走出校门的你一点参考。下面先把我的背景介绍一下。\n\n\n# 我\n\n2016年毕业于一个倒数三本学校，读的电子信息工程专业，与大多数人一样，在学校的时候课本上的东西没学到多少。但庆幸的是，在大三期间我的兴趣——编程。\n\n因为大三的时候有一门单片机的课程，可能自己觉得这门课比较重要，而且书中附带了一份光盘，于是我在开课前，自己学了单片机的课程。虽然大二的时候教过c语言，但是并没有吸收多少，可以说从零开始，还好视频中也介绍了c语言的一些写法。\n\n也是从那时候开始，我才真正懂得什么叫做学习。小的时候只懂得在课堂上听讲，等待着老师给我们传授知识点。到后来初中甚至高中的时候，老师讲的内容变的爱听不听，学不学的明白也不是那么重要，这种行为也导致了我进到了一个倒数的学校中。\n\n在看视频学习的时候，我带着耳机，仿佛进入了我自己的世界中，尽管舍友在打游戏，但是对我没有丝毫影响。\n\n一开始学习的时候，总是会遇到很多没听明白的地方，但因为是视频，我能够掌控进度，我可以按下暂停、回退把不懂的问题查清楚或者重听一下。慢慢的学习到的东西也越来越多，看视频的时候能够跟得上作者的思路，能到理解作者所讲的东西，并且自己觉得其实也不是很难，只要听一遍之后，我也能够按照自己的想法去控制单片机上的东西。\n\n后来在上课的时候，因为自己提前学过，在课堂上就变得更加主动，变得更像是在玩找不同的游戏，在对比视频与课堂上讲的内容。看看能不能在课堂上学到更多，或者暗地里庆幸自己在视频里学到了其他同学没学到的东西。最后这门课也考了九十多分。\n\n到了这里，我就明白了主动学习其实是一件很有乐趣的事情。然而我已经大三了，马上面临着毕业，对毕业后能做什么工作仍然很是迷茫。这时候我堂哥给我提到了移动应用开发，因为经济原因，于是我选择学习安卓开发（ios 开发需要 mac 系统），后来在网上搜了很多关于 android 的教程。\n\n那段时间可以说是天天学，有时候早上没有课，自己会学到半夜，然后早上睡晚起一点。学到快毕业的时候，自己也没学会多少东西。在校招中拿了一个 计算器 和 浏览器(其实就是一个 webview) 的 app 就去面试。最终换来的都是同一个结果——等通知。那时，天真的我以为只要表现得足够的热情，让企业知道虽然我技术不怎么样，但是我可以学，还一直期望着公司能够通知我。\n\n就这样到毕业的时候我没有找到一份实习的工作，实习期间在家里继续学习 android 开发。因为自己学的不够系统，欠缺很多知识点，一直处在能看代码，但是不会写的状态。每天看到网上出来很多新的技术，把自己陷入恐慌的状态中，而且安卓开发也处于饱和的状态，我不知道什么时候才能换来一份工作。这时候开始考虑参加培训。\n\n\n# 参加培训\n\n关于培训机构的选择，我这里就不做介绍了。因为我自己也没有了解过，当时是因为看了 java4android 的视频，觉得作者讲得挺好的，而且他刚出来创业，于是就投奔到他的公司。\n\n我当时选择培训的是前端开发，因为我听到市场上移动开发开始饱和，而且自己也学了一些安卓开发，再去培训安卓自己感觉很亏。至于为什么选择前端开发，是因为当时的前端非常火爆。\n\n后面就开始了 4 个半月的培训经历，培训期间其实非常辛苦。早上 9 点开始上课，一直上到晚上 6 点，晚上自习到 10 点钟左右。因为自己学过一些编程方面的内容，接受起来也比较快。像面向对象、网络请求等，其实任何语言都是互通。\n\n培训期间要求我们上课前要轮流分享自己学的东西，我们就会运用学过的知识做出应用或者自己去网上学习课堂上没讲过的知识来分享。那段时间不仅学会了技术，也锻炼了每个人的胆量、描述事情的能力等。\n\n培训期间，有个安卓班已经毕业的学生给我们发了传单。描述的是他学完了，但是并没有像宣传那样给自己找到一份满意的工作。因为很多培训机构为了招生，都会提供一个保证就业的承诺。大概就是：本科生学完能有几 k 以上的薪资；专科生学完能有多少薪资等。但凡有脑子的都知道，薪资的高低取决于你自己的能力。并不是培训完就能有多少 k 的薪资。\n\n至于为什么很多企业都对培训出来的开发那么不信任。因为大部分人并不能够完全掌握到培训机构所教的内容，很多都是不明不白就过去了，到公司中用到的时候就会埋下很多坑。导致企业不敢信任培训机构出来的同学。\n\n我在培训完后，面试了 3 家公司就拿到了 offer，当然薪资方面也是达到了自己的要求。\n\n\n# 建议\n\n对于想要进入 it 行业的你们，有几点建议给你们。\n\n * 确定自己的兴趣\n\n很多人其实并不知道自己的兴趣，只是随波逐流。看到薪资等能满足自己要求的，就觉得很有兴趣。其实对一件事情有兴趣的时候，并不需要别人去指引你，你就会去摸索。\n\n对于还未参加培训的同学，你可以先确定自己是否是真正热爱 it 行业。因为做一份自己不喜欢的工作，即使是高薪，也是一件很痛苦的事情。\n\n * 认真学习\n\n已经参加培训的同学，需要你们自己认真去学。因为 2 万左右的培训费确实是挺贵的，而且大部分是签订了分期的，不管你学完之后是否能够找到工作，这笔贷款都是要自己还的。只有认真学好，找到工作才是唯一的出路。\n\n * 提高自学能力\n\n不管是否参加培训，自学能力都非常重要。因为技术发展日新月异，如果没有自学能力，不用两年，你就会发现跟不上世界的步伐。it 行业不像传统行业可以靠积累经验成为一个大牛，it 行业可能技术一换代，你积累的经验就剩一丁点作用。\n\n----------------------------------------\n\n如果还有其他疑问，欢迎大家扫码关注我的公众号【前端develop】给我留言。\n\n",charsets:{cjk:!0}},{title:"对未来的一些思考",frontmatter:{title:"对未来的一些思考",date:"2019-11-04T00:00:00.000Z",categories:["随笔"],tags:["未来"],description:"其实我不怎么看书，买了书之后就翻一翻前面几页，就没有然后了。最近花了几天看了阮一峰的《未来世界的幸存者》，算是打破记录把整本书都看完了。\n这本书写于 2017 年，从 AlphaGo 战胜人类引发对未来的思考。读完整本书也让我对现实和未来有了些新的认知。\n2019 年看这本两年前的书，其实一点也不过时。不仅可以让我们对未来进行思考，还可以验证作者当时对未来的看法。",meta:[{name:"image",content:"https://www.fedevelop.cn/imgs/qrcode.png"},{name:"twitter:title",content:"对未来的一些思考"},{name:"twitter:description",content:"其实我不怎么看书，买了书之后就翻一翻前面几页，就没有然后了。最近花了几天看了阮一峰的《未来世界的幸存者》，算是打破记录把整本书都看完了。\n这本书写于 2017 年，从 AlphaGo 战胜人类引发对未来的思考。读完整本书也让我对现实和未来有了些新的认知。\n2019 年看这本两年前的书，其实一点也不过时。不仅可以让我们对未来进行思考，还可以验证作者当时对未来的看法。"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://www.fedevelop.cn/imgs/qrcode.png"},{name:"twitter:url",content:"https://www.fedevelop.cn/views/%E9%9A%8F%E7%AC%94/2019/%E5%AF%B9%E6%9C%AA%E6%9D%A5%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83.html"},{property:"og:type",content:"article"},{property:"og:title",content:"对未来的一些思考"},{property:"og:description",content:"其实我不怎么看书，买了书之后就翻一翻前面几页，就没有然后了。最近花了几天看了阮一峰的《未来世界的幸存者》，算是打破记录把整本书都看完了。\n这本书写于 2017 年，从 AlphaGo 战胜人类引发对未来的思考。读完整本书也让我对现实和未来有了些新的认知。\n2019 年看这本两年前的书，其实一点也不过时。不仅可以让我们对未来进行思考，还可以验证作者当时对未来的看法。"},{property:"og:image",content:"https://www.fedevelop.cn/imgs/qrcode.png"},{property:"og:url",content:"https://www.fedevelop.cn/views/%E9%9A%8F%E7%AC%94/2019/%E5%AF%B9%E6%9C%AA%E6%9D%A5%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83.html"},{property:"og:site_name",content:"前端develop"},{property:"article:published_time",content:"2019-11-04T00:00:00.000Z"},{property:"article:tag",content:"未来"},{itemprop:"name",content:"对未来的一些思考"},{itemprop:"description",content:"其实我不怎么看书，买了书之后就翻一翻前面几页，就没有然后了。最近花了几天看了阮一峰的《未来世界的幸存者》，算是打破记录把整本书都看完了。\n这本书写于 2017 年，从 AlphaGo 战胜人类引发对未来的思考。读完整本书也让我对现实和未来有了些新的认知。\n2019 年看这本两年前的书，其实一点也不过时。不仅可以让我们对未来进行思考，还可以验证作者当时对未来的看法。"},{itemprop:"image",content:"https://www.fedevelop.cn/imgs/qrcode.png"}]},regularPath:"/views/%E9%9A%8F%E7%AC%94/2019/%E5%AF%B9%E6%9C%AA%E6%9D%A5%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83.html",relativePath:"views/随笔/2019/对未来的一些思考.md",key:"v-39c39aa6",path:"/views/%E9%9A%8F%E7%AC%94/2019/%E5%AF%B9%E6%9C%AA%E6%9D%A5%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83.html",headers:[{level:2,title:"做一个有想法的人",slug:"做一个有想法的人",normalizedTitle:"做一个有想法的人",charIndex:190},{level:2,title:"B 计划",slug:"b-计划",normalizedTitle:"b 计划",charIndex:771},{level:2,title:"保险",slug:"保险",normalizedTitle:"保险",charIndex:1240},{level:2,title:"总结",slug:"总结",normalizedTitle:"总结",charIndex:1715}],excerpt:"<p>其实我不怎么看书，买了书之后就翻一翻前面几页，就没有然后了。最近花了几天看了阮一峰的《未来世界的幸存者》，算是打破记录把整本书都看完了。</p>\n<p>这本书写于 2017 年，从 AlphaGo 战胜人类引发对未来的思考。读完整本书也让我对现实和未来有了些新的认知。</p>\n<p>2019 年看这本两年前的书，其实一点也不过时。不仅可以让我们对未来进行思考，还可以验证作者当时对未来的看法。</p>\n",lastUpdated:"12/24/2019, 9:20:03 PM",headersStr:"做一个有想法的人 B 计划 保险 总结",content:"其实我不怎么看书，买了书之后就翻一翻前面几页，就没有然后了。最近花了几天看了阮一峰的《未来世界的幸存者》，算是打破记录把整本书都看完了。\n\n这本书写于 2017 年，从 AlphaGo 战胜人类引发对未来的思考。读完整本书也让我对现实和未来有了些新的认知。\n\n2019 年看这本两年前的书，其实一点也不过时。不仅可以让我们对未来进行思考，还可以验证作者当时对未来的看法。\n\n\n# 做一个有想法的人\n\n以前的我以为只要多掌握一门或者多门编程语言，在工作中我就能比其他的程序员有更多的优势。于是我不停的学，学了 JavaScript、Python、Golang，在工作中不仅干前端的本职工作，也做了后端，甚至还干了一些运维的工作。\n\n至于对产品的思考，基本上没有。产品经理说要做什么，能实现的基本上都会去实现。至于为什么要这样做？还有没有更好的方式？如何提升用户体验？等问题，基本上没有思考过。感觉自己就像个机器，别人给个指令让我做什么我就做什么。\n\n如果将来 AI 机器人会写代码，那么最先被取代的会是什么样的程序员呢？机器人比我们懂得语言更多，逻辑更缜密，而且还能 7 * 24 不停工作，不需要薪资。如果我还像个机器一样写代码，那么企业第一时间是不是要换掉我呢。当然这个只是假想，也许中年危机比会写代码的机器人更快到来。\n\n回到现在，人与人竞争时，企业可能更喜欢一个没有想法的机器，等到机器老化了，再去市场上找一个回来替代。如果不能为企业提供一些自己的想法，那么我永远只能做一个底层的施工者，等到年纪大了、性价比不高了，换一批人继续施工就好了。\n\n所以没必要去纠结那么语言是世界上最好的语言，准备学哪一门技术。更重要的是学会成为一个有想法的人，每个人都可以有想法，但是要让我们的想法更有价值，有价值的想法才是我们个人的核心竞争力。\n\n\n# B 计划\n\n也许现在还是一人吃饱，全家不饿。如果将来一家老小全指着我吃饭，而中年危机到了，或者将来机器人取代了我的工作。所以提前为自己策划一个 B 计划就格外重要。\n\n当然了现在的还是要把重心放在工作中，因为工作能为我的生活提供保障。 工作之余可以开始执行 B 计划，我给自己制定的 B 计划就是运营自己的公众号，成为一个自媒体，说不定哪天我还可以先放下工作，而不是提心吊胆等中年危机到来。任何事情开头都是最困难的，一开始没人关注，没有收益，所以 B 计划也需要兴趣支撑。\n\n相比以前，这段时间可以说看了大量的文章，阅读的速度有所提升；对社会的认知也有一定提升；公众号也有了一些用户关注。所以还是有一定收获。\n\n如果有感兴趣的事情，现在就去做，犹豫就会失去很多机会。比别人早就会有有更多的优势。例如现在的公众号已经关掉留言功能，现在想要开通留言只能通过账号迁移。现在想想真是庆幸自己注册的比较早，虽然那时候并不知道准备写什么东西。\n\n现在已经是 5G 的时代，谁都说不好以后的机会在哪，多尝试新鲜事物，说不定还能搭上时代的便车。\n\n\n# 保险\n\n一场大病足以掏空一个中产家庭，所以定期体检、选择保险兜底是一件十分必要的事情。这里不会介绍任何保险给你，因为我自己对保险的认识还不足以给大家介绍。\n\n以前我觉得自己有社保，有政府重疾险就足够了。最近在了解保险的知识后，觉得很要必要给自己买一份。\n\n保险分很多种，目前我只了解到重疾险，当然重疾险也是有区分的多次赔付和单次赔付。\n\n多次赔付会把疾病进行分组，如果某一组赔付过，如果再换上相同分组的疾病，那么保险公司不会有进行赔付；如果患上不同分组的疾病，保险公司还是需要赔付的。所以分组越多越细，对消费者就越有保障。\n\n当然保险还有等待期等规则，详细的内容需要大家自己了解。\n\n每个人需要根据自己的需求去选择保险，不要看到网上说保险坑，就把保险拒之门外。当然保险是有些坑，可能销售在作解释的时候避重就轻，只对我们说有利的部分。所以了解清楚保险规则后再买保险是对自己更负责的做法。\n\n说保险坑的往往是那些没有了解清楚保险规则就买保险，等赔付的时候觉得不合理就说保险坑。我自己还没买保险，因为觉得对保险了解还是不够，需要再研究清楚后再买。\n\n\n# 总结\n\n因为我不想将来被生活虐得措手不及，所以提前为将来做好准备，才能更好的迎接未来、享受生活。最后再推荐一下阮一峰的《未来世界的幸存者》，可以在 http://survivor.ruanyifeng.com/ 阅读电子版，当然也可以买纸质版的。电子版与纸质版的内容略有不同。\n\n----------------------------------------\n\n如果还有其他疑问，欢迎大家扫码关注我的公众号【前端develop】给我留言。\n\n",normalizedContent:"其实我不怎么看书，买了书之后就翻一翻前面几页，就没有然后了。最近花了几天看了阮一峰的《未来世界的幸存者》，算是打破记录把整本书都看完了。\n\n这本书写于 2017 年，从 alphago 战胜人类引发对未来的思考。读完整本书也让我对现实和未来有了些新的认知。\n\n2019 年看这本两年前的书，其实一点也不过时。不仅可以让我们对未来进行思考，还可以验证作者当时对未来的看法。\n\n\n# 做一个有想法的人\n\n以前的我以为只要多掌握一门或者多门编程语言，在工作中我就能比其他的程序员有更多的优势。于是我不停的学，学了 javascript、python、golang，在工作中不仅干前端的本职工作，也做了后端，甚至还干了一些运维的工作。\n\n至于对产品的思考，基本上没有。产品经理说要做什么，能实现的基本上都会去实现。至于为什么要这样做？还有没有更好的方式？如何提升用户体验？等问题，基本上没有思考过。感觉自己就像个机器，别人给个指令让我做什么我就做什么。\n\n如果将来 ai 机器人会写代码，那么最先被取代的会是什么样的程序员呢？机器人比我们懂得语言更多，逻辑更缜密，而且还能 7 * 24 不停工作，不需要薪资。如果我还像个机器一样写代码，那么企业第一时间是不是要换掉我呢。当然这个只是假想，也许中年危机比会写代码的机器人更快到来。\n\n回到现在，人与人竞争时，企业可能更喜欢一个没有想法的机器，等到机器老化了，再去市场上找一个回来替代。如果不能为企业提供一些自己的想法，那么我永远只能做一个底层的施工者，等到年纪大了、性价比不高了，换一批人继续施工就好了。\n\n所以没必要去纠结那么语言是世界上最好的语言，准备学哪一门技术。更重要的是学会成为一个有想法的人，每个人都可以有想法，但是要让我们的想法更有价值，有价值的想法才是我们个人的核心竞争力。\n\n\n# b 计划\n\n也许现在还是一人吃饱，全家不饿。如果将来一家老小全指着我吃饭，而中年危机到了，或者将来机器人取代了我的工作。所以提前为自己策划一个 b 计划就格外重要。\n\n当然了现在的还是要把重心放在工作中，因为工作能为我的生活提供保障。 工作之余可以开始执行 b 计划，我给自己制定的 b 计划就是运营自己的公众号，成为一个自媒体，说不定哪天我还可以先放下工作，而不是提心吊胆等中年危机到来。任何事情开头都是最困难的，一开始没人关注，没有收益，所以 b 计划也需要兴趣支撑。\n\n相比以前，这段时间可以说看了大量的文章，阅读的速度有所提升；对社会的认知也有一定提升；公众号也有了一些用户关注。所以还是有一定收获。\n\n如果有感兴趣的事情，现在就去做，犹豫就会失去很多机会。比别人早就会有有更多的优势。例如现在的公众号已经关掉留言功能，现在想要开通留言只能通过账号迁移。现在想想真是庆幸自己注册的比较早，虽然那时候并不知道准备写什么东西。\n\n现在已经是 5g 的时代，谁都说不好以后的机会在哪，多尝试新鲜事物，说不定还能搭上时代的便车。\n\n\n# 保险\n\n一场大病足以掏空一个中产家庭，所以定期体检、选择保险兜底是一件十分必要的事情。这里不会介绍任何保险给你，因为我自己对保险的认识还不足以给大家介绍。\n\n以前我觉得自己有社保，有政府重疾险就足够了。最近在了解保险的知识后，觉得很要必要给自己买一份。\n\n保险分很多种，目前我只了解到重疾险，当然重疾险也是有区分的多次赔付和单次赔付。\n\n多次赔付会把疾病进行分组，如果某一组赔付过，如果再换上相同分组的疾病，那么保险公司不会有进行赔付；如果患上不同分组的疾病，保险公司还是需要赔付的。所以分组越多越细，对消费者就越有保障。\n\n当然保险还有等待期等规则，详细的内容需要大家自己了解。\n\n每个人需要根据自己的需求去选择保险，不要看到网上说保险坑，就把保险拒之门外。当然保险是有些坑，可能销售在作解释的时候避重就轻，只对我们说有利的部分。所以了解清楚保险规则后再买保险是对自己更负责的做法。\n\n说保险坑的往往是那些没有了解清楚保险规则就买保险，等赔付的时候觉得不合理就说保险坑。我自己还没买保险，因为觉得对保险了解还是不够，需要再研究清楚后再买。\n\n\n# 总结\n\n因为我不想将来被生活虐得措手不及，所以提前为将来做好准备，才能更好的迎接未来、享受生活。最后再推荐一下阮一峰的《未来世界的幸存者》，可以在 http://survivor.ruanyifeng.com/ 阅读电子版，当然也可以买纸质版的。电子版与纸质版的内容略有不同。\n\n----------------------------------------\n\n如果还有其他疑问，欢迎大家扫码关注我的公众号【前端develop】给我留言。\n\n",charsets:{cjk:!0}},{title:"我是如何面试别人的",frontmatter:{title:"我是如何面试别人的",date:"2019-10-19T00:00:00.000Z",categories:["随笔"],tags:["面试"],description:"前段时间公司有个前端离职了，导致前端有个空位。",meta:[{name:"image",content:"https://www.fedevelop.cn/imgs/qrcode.png"},{name:"twitter:title",content:"我是如何面试别人的"},{name:"twitter:description",content:"前段时间公司有个前端离职了，导致前端有个空位。"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://www.fedevelop.cn/imgs/qrcode.png"},{name:"twitter:url",content:"https://www.fedevelop.cn/views/%E9%9A%8F%E7%AC%94/2019/%E6%88%91%E6%98%AF%E5%A6%82%E4%BD%95%E9%9D%A2%E8%AF%95%E5%88%AB%E4%BA%BA%E7%9A%84.html"},{property:"og:type",content:"article"},{property:"og:title",content:"我是如何面试别人的"},{property:"og:description",content:"前段时间公司有个前端离职了，导致前端有个空位。"},{property:"og:image",content:"https://www.fedevelop.cn/imgs/qrcode.png"},{property:"og:url",content:"https://www.fedevelop.cn/views/%E9%9A%8F%E7%AC%94/2019/%E6%88%91%E6%98%AF%E5%A6%82%E4%BD%95%E9%9D%A2%E8%AF%95%E5%88%AB%E4%BA%BA%E7%9A%84.html"},{property:"og:site_name",content:"前端develop"},{property:"article:published_time",content:"2019-10-19T00:00:00.000Z"},{property:"article:tag",content:"面试"},{itemprop:"name",content:"我是如何面试别人的"},{itemprop:"description",content:"前段时间公司有个前端离职了，导致前端有个空位。"},{itemprop:"image",content:"https://www.fedevelop.cn/imgs/qrcode.png"}]},regularPath:"/views/%E9%9A%8F%E7%AC%94/2019/%E6%88%91%E6%98%AF%E5%A6%82%E4%BD%95%E9%9D%A2%E8%AF%95%E5%88%AB%E4%BA%BA%E7%9A%84.html",relativePath:"views/随笔/2019/我是如何面试别人的.md",key:"v-3620476a",path:"/views/%E9%9A%8F%E7%AC%94/2019/%E6%88%91%E6%98%AF%E5%A6%82%E4%BD%95%E9%9D%A2%E8%AF%95%E5%88%AB%E4%BA%BA%E7%9A%84.html",headers:[{level:2,title:"面试经历",slug:"面试经历",normalizedTitle:"面试经历",charIndex:269},{level:2,title:"总结",slug:"总结",normalizedTitle:"总结",charIndex:202}],lastUpdated:"10/19/2019, 9:19:26 PM",headersStr:"面试经历 总结",content:"前段时间公司有个前端离职了，导致前端有个空位。\n\n原本面试的工作是由前端负责人（下文用 Z 同事代替）负责的，后来因为大多数的水平不过关，就先让我去把关。\n\n虽然在以前的公司也面试过一些人，但是自己并不懂得怎么去面试，很多面试题都是自己想到什么就问什么，没有什么逻辑性。\n\n后来 Z 给我分享了他的面试经验，教我如何把问题归类，并且与我一起把所有的知识点都整理了一遍。Z 同事也说了这些面试经验也是他自己总结出来的，这里非常感谢 Z 同事无私的分享。\n\n由这件事可以看出，做任何事情都是有学问，关键还在于自己有没有去学习、总结。\n\n\n# 面试经历\n\n因为大部分的基础不过关，面试的过程持续了将近一个半月的时间，基本上每天都会安排两到三个人过来公司面试。因为后面是由我把的第一关，我面试了也有十几个人，下面我就分享几道面试题给大家。\n\n因为公司用的是 Vue 的框架，所以我的面试题主要是围绕在 Vue，JavaScript 和 CSS 上。\n\n下面简单给大家介绍几道 Vue 的面试题。其实答案大部分都在文档上，但是往往很多面试者连文档都懒得看。\n\nVue 的内置组件有哪些？\n\n这个问题一问，大部分面试者都懵逼了。有部分知道的也只会回答出几个，有些需要提醒之后才勉强能回答出一两个，很少有能够说全的。\n\n这个问题的答案其实就在 Vue 的官方文档上，内置组件有 5 个，具体的大家可以自行到文档上查看。\n\nv-for 循环的时候为什么要绑 key，不绑 key 会报错吗，绑与不绑有什么区别？\n\n我相信这个问题大部分人都没有去了解过，只是会用即可，并没有去深入研究。\n\n.vue 文件里的 style 标签，加上 scoped 和不加有什么区别？通过什么方式实现 scoped ？\n\n加上 scoped 可以限定样式的作用域，这个大部分人都能答出来，但是后面的问题很多人都不知道了，其实就是通过 css 的属性选择器实现的样式作用域。\n\n\n# 总结\n\n当然还有很多面试我就不一一举例了。通过这些面试我也了解到了其实很多人学习都只是表面上会了，效果出来了就以为自己学会了，然后就这样放过这些知识点。\n\n通过上面几道面试题可以看出，一个问题往往是可以往下深挖的，只要我们学习的时候多挖几个问题，其实就可以比其他人优秀一点。\n\n现在前端已经不再是两三年前，只要你稍微懂点框架就可以找到工作的时候，更多的需要我们懂这些框架工作的原理，不仅要做到知其然，更要知其所以然。\n\n我也经常在各种前端群看到，有些人说自己找了几个月的工作都没找到，我不知道是否像我说的那种只懂表面的那样。但是作为一个程序员，如果只懂得表面是不足以支撑我们走得更远。\n\n我们需要不断提升自己的能力，才能避免被公司优化，或者在跳槽的时候拥有更多的选择。\n\n最后祝大家都能顺利找到工作，如果有兴趣也可以关注我的公众号【前端develop】，有招聘的时候，我也会把 JD 发到我的公众号上。\n\n----------------------------------------\n\n如果你喜欢我的文章，希望可以关注一下我的公众号【前端develop】\n\n",normalizedContent:"前段时间公司有个前端离职了，导致前端有个空位。\n\n原本面试的工作是由前端负责人（下文用 z 同事代替）负责的，后来因为大多数的水平不过关，就先让我去把关。\n\n虽然在以前的公司也面试过一些人，但是自己并不懂得怎么去面试，很多面试题都是自己想到什么就问什么，没有什么逻辑性。\n\n后来 z 给我分享了他的面试经验，教我如何把问题归类，并且与我一起把所有的知识点都整理了一遍。z 同事也说了这些面试经验也是他自己总结出来的，这里非常感谢 z 同事无私的分享。\n\n由这件事可以看出，做任何事情都是有学问，关键还在于自己有没有去学习、总结。\n\n\n# 面试经历\n\n因为大部分的基础不过关，面试的过程持续了将近一个半月的时间，基本上每天都会安排两到三个人过来公司面试。因为后面是由我把的第一关，我面试了也有十几个人，下面我就分享几道面试题给大家。\n\n因为公司用的是 vue 的框架，所以我的面试题主要是围绕在 vue，javascript 和 css 上。\n\n下面简单给大家介绍几道 vue 的面试题。其实答案大部分都在文档上，但是往往很多面试者连文档都懒得看。\n\nvue 的内置组件有哪些？\n\n这个问题一问，大部分面试者都懵逼了。有部分知道的也只会回答出几个，有些需要提醒之后才勉强能回答出一两个，很少有能够说全的。\n\n这个问题的答案其实就在 vue 的官方文档上，内置组件有 5 个，具体的大家可以自行到文档上查看。\n\nv-for 循环的时候为什么要绑 key，不绑 key 会报错吗，绑与不绑有什么区别？\n\n我相信这个问题大部分人都没有去了解过，只是会用即可，并没有去深入研究。\n\n.vue 文件里的 style 标签，加上 scoped 和不加有什么区别？通过什么方式实现 scoped ？\n\n加上 scoped 可以限定样式的作用域，这个大部分人都能答出来，但是后面的问题很多人都不知道了，其实就是通过 css 的属性选择器实现的样式作用域。\n\n\n# 总结\n\n当然还有很多面试我就不一一举例了。通过这些面试我也了解到了其实很多人学习都只是表面上会了，效果出来了就以为自己学会了，然后就这样放过这些知识点。\n\n通过上面几道面试题可以看出，一个问题往往是可以往下深挖的，只要我们学习的时候多挖几个问题，其实就可以比其他人优秀一点。\n\n现在前端已经不再是两三年前，只要你稍微懂点框架就可以找到工作的时候，更多的需要我们懂这些框架工作的原理，不仅要做到知其然，更要知其所以然。\n\n我也经常在各种前端群看到，有些人说自己找了几个月的工作都没找到，我不知道是否像我说的那种只懂表面的那样。但是作为一个程序员，如果只懂得表面是不足以支撑我们走得更远。\n\n我们需要不断提升自己的能力，才能避免被公司优化，或者在跳槽的时候拥有更多的选择。\n\n最后祝大家都能顺利找到工作，如果有兴趣也可以关注我的公众号【前端develop】，有招聘的时候，我也会把 jd 发到我的公众号上。\n\n----------------------------------------\n\n如果你喜欢我的文章，希望可以关注一下我的公众号【前端develop】\n\n",charsets:{cjk:!0}},{title:"深入 Vue3 源码，学习初始化流程",frontmatter:{title:"深入 Vue3 源码，学习初始化流程",date:"2021-08-26T00:00:00.000Z",categories:["前端"],tags:["Vue3","源码"],description:"搭建调试环境\n为了弄清楚 Vue3 的初始化，建议先克隆 Vue3 到本地。\ngit clone https://github.com/vuejs/vue-next.git\n\n1安装依赖\nnpm install\n\n1",meta:[{name:"image",content:"https://feiben-1253434158.cos.ap-guangzhou.myqcloud.com/blogimage-20210825163424230.png"},{name:"twitter:title",content:"深入 Vue3 源码，学习初始化流程"},{name:"twitter:description",content:"搭建调试环境\n为了弄清楚 Vue3 的初始化，建议先克隆 Vue3 到本地。\ngit clone https://github.com/vuejs/vue-next.git\n\n1安装依赖\nnpm install\n\n1"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://feiben-1253434158.cos.ap-guangzhou.myqcloud.com/blogimage-20210825163424230.png"},{name:"twitter:url",content:"https://www.fedevelop.cn/views/%E5%89%8D%E7%AB%AF/2021/%E6%B7%B1%E5%85%A5%20Vue3%20%E6%BA%90%E7%A0%81%EF%BC%8C%E5%AD%A6%E4%B9%A0%E5%88%9D%E5%A7%8B%E5%8C%96%E6%B5%81%E7%A8%8B.html"},{property:"og:type",content:"article"},{property:"og:title",content:"深入 Vue3 源码，学习初始化流程"},{property:"og:description",content:"搭建调试环境\n为了弄清楚 Vue3 的初始化，建议先克隆 Vue3 到本地。\ngit clone https://github.com/vuejs/vue-next.git\n\n1安装依赖\nnpm install\n\n1"},{property:"og:image",content:"https://feiben-1253434158.cos.ap-guangzhou.myqcloud.com/blogimage-20210825163424230.png"},{property:"og:url",content:"https://www.fedevelop.cn/views/%E5%89%8D%E7%AB%AF/2021/%E6%B7%B1%E5%85%A5%20Vue3%20%E6%BA%90%E7%A0%81%EF%BC%8C%E5%AD%A6%E4%B9%A0%E5%88%9D%E5%A7%8B%E5%8C%96%E6%B5%81%E7%A8%8B.html"},{property:"og:site_name",content:"前端develop"},{property:"article:published_time",content:"2021-08-26T00:00:00.000Z"},{property:"article:tag",content:"Vue3"},{property:"article:tag",content:"源码"},{itemprop:"name",content:"深入 Vue3 源码，学习初始化流程"},{itemprop:"description",content:"搭建调试环境\n为了弄清楚 Vue3 的初始化，建议先克隆 Vue3 到本地。\ngit clone https://github.com/vuejs/vue-next.git\n\n1安装依赖\nnpm install\n\n1"},{itemprop:"image",content:"https://feiben-1253434158.cos.ap-guangzhou.myqcloud.com/blogimage-20210825163424230.png"}]},regularPath:"/views/%E5%89%8D%E7%AB%AF/2021/%E6%B7%B1%E5%85%A5%20Vue3%20%E6%BA%90%E7%A0%81%EF%BC%8C%E5%AD%A6%E4%B9%A0%E5%88%9D%E5%A7%8B%E5%8C%96%E6%B5%81%E7%A8%8B.html",relativePath:"views/前端/2021/深入 Vue3 源码，学习初始化流程.md",key:"v-1e2524b3",path:"/views/%E5%89%8D%E7%AB%AF/2021/%E6%B7%B1%E5%85%A5%20Vue3%20%E6%BA%90%E7%A0%81%EF%BC%8C%E5%AD%A6%E4%B9%A0%E5%88%9D%E5%A7%8B%E5%8C%96%E6%B5%81%E7%A8%8B.html",headers:[{level:2,title:"搭建调试环境",slug:"搭建调试环境",normalizedTitle:"搭建调试环境",charIndex:2},{level:2,title:"进行调试",slug:"进行调试",normalizedTitle:"进行调试",charIndex:637},{level:3,title:"createApp",slug:"createapp",normalizedTitle:"createapp",charIndex:443},{level:3,title:"mount",slug:"mount",normalizedTitle:"mount",charIndex:536},{level:2,title:"总结",slug:"总结",normalizedTitle:"总结",charIndex:669}],excerpt:'<h2 id="搭建调试环境"><a class="header-anchor" href="#搭建调试环境">#</a> 搭建调试环境</h2>\n<p>为了弄清楚 Vue3 的初始化，建议先克隆 Vue3 到本地。</p>\n\x3c!--beforebegin--\x3e<div class="language-bash line-numbers-mode">\x3c!--afterbegin--\x3e<pre v-pre class="language-bash"><code><span class="token function">git</span> clone https://github.com/vuejs/vue-next.git\n</code></pre>\n<div class="line-numbers-wrapper"><span class="line-number">1</span><br></div>\x3c!--beforeend--\x3e</div>\x3c!--afterend--\x3e<p>安装依赖</p>\n\x3c!--beforebegin--\x3e<div class="language-bash line-numbers-mode">\x3c!--afterbegin--\x3e<pre v-pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span>\n</code></pre>\n<div class="line-numbers-wrapper"><span class="line-number">1</span><br></div>\x3c!--beforeend--\x3e</div>\x3c!--afterend--\x3e',lastUpdated:"8/26/2021, 3:26:59 PM",headersStr:"搭建调试环境 进行调试 createApp mount 总结",content:'# 搭建调试环境\n\n为了弄清楚 Vue3 的初始化，建议先克隆 Vue3 到本地。\n\ngit clone https://github.com/vuejs/vue-next.git\n\n\n1\n\n\n安装依赖\n\nnpm install\n\n\n1\n\n\n修改 package.json，将 dev 命令加上 --sourcemap 方便调试，并运行 npm run dev\n\n// package.json\n...\n"scripts": {\n  "dev": "node scripts/dev.js --sourcemap",\n  ...\n}\n...\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n在 packages/vue 目录下增加 index.html，内容如下\n\n\x3c!-- index.html --\x3e\n<div id="app">\n  {{ count }}\n</div>\n<script src="./dist/vue.global.js"><\/script>\n<script>\n  Vue.createApp({\n    setup() {\n      const count = Vue.ref(0);\n      return { count };\n    }\n  }).mount(\'#app\');\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n在浏览器打开 index.html，程序正常运行则可以开始进行下一步调试。\n\n\n# 进行调试\n\n> 假如在下面的流程中迷失了方向，建议先看一下结尾的总结，再回过头来看这一段。\n\n\n\n在 createApp 的位置打上断点，然后刷新页面进断点，开始调试。\n\n具体大家可以自行调试，我在这里就大概描述一下初始化流程。\n\n\n# createApp\n\n进入 createApp 内部，会跳转到 packages/runtime-dom/src/index.ts 的 createApp，执行完成返回 app 实例。\n\n// packages/runtime-dom/src/index.ts\nexport const createApp = ((...args) => {\n  const app = ensureRenderer().createApp(...args)\n  ...\n  return app\n}) as CreateAppFunction<Element>\n\n\n1\n2\n3\n4\n5\n6\n\n\n接下来继续看 ensureRenderer 的实现。\n\n// packages/runtime-dom/src/index.ts\nfunction ensureRenderer() {\n  return (\n    renderer ||\n    (renderer = createRenderer<Node, Element | ShadowRoot>(rendererOptions))\n  )\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n这里的 renderer 是个单例，初始时会调用 createRenderer 创建，再继续深入。\n\n来到 packages/runtime-core/src/renderer.ts，可以看到 createRenderer 又会调用 baseCreateRenderer。\n\n// packages/runtime-core/src/renderer.ts\nexport function createRenderer<\n  HostNode = RendererNode,\n  HostElement = RendererElement\n>(options: RendererOptions<HostNode, HostElement>) {\n  return baseCreateRenderer<HostNode, HostElement>(options)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nbaseCreateRenderer 的实现有 2000 行，我们只需要关注几个关键点就可以了。\n\n\n\n其返回值也就是 ensureRenderer() 的返回值\n\n// packages/runtime-core/src/renderer.ts\nfunction baseCreateRenderer(\n  options: RendererOptions,\n  createHydrationFns?: typeof createHydrationFunctions\n): any {\n    // 此处省略 2000 行\n  return {\n    render,\n    hydrate,\n    createApp: createAppAPI(render, hydrate)\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n接下来回到开始的位置，在执行完 ensureRenderer() 后会接着执行 createApp，这个 createApp 就是上一步返回的 createApp，再接着看看做了哪些工作。\n\n// packages/runtime-dom/src/index.ts\nexport const createApp = ((...args) => {\n  const app = ensureRenderer().createApp(...args)\n  ...\n  return app\n}) as CreateAppFunction<Element>\n\n\n1\n2\n3\n4\n5\n6\n\n\nensureRenderer 返回的 createApp 由 createAppAPI 实现，接下来再看看 createAppAPI 是如何实现的吧。\n\n// packages/runtime-core/src/apiCreateApp.ts\nexport function createAppAPI<HostElement>(\n  render: RootRenderFunction,\n  hydrate?: RootHydrateFunction\n): CreateAppFunction<HostElement> {\n  return function createApp(rootComponent, rootProps = null) {\n    const app: App = (context.app = {\n      _uid: uid++,\n      _component: rootComponent as ConcreteComponent,\n      _props: rootProps,\n      _container: null,\n      _context: context,\n      _instance: null,\n\n      version,\n\n      get config() {},\n\n      set config(v) {},\n\n      use(plugin: Plugin, ...options: any[]) {},\n\n      mixin(mixin: ComponentOptions) {},\n\n      component(name: string, component?: Component): any {},\n\n      directive(name: string, directive?: Directive) {},\n\n      mount(\n        rootContainer: HostElement,\n        isHydrate?: boolean,\n        isSVG?: boolean\n      ): any {},\n\n      unmount() {},\n\n      provide(key, value) {}\n    })\n    return app\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n\n\n可以看到 createAppAPI 会返回一个 createApp 函数，也就是我们调用 createApp，当 createApp 执行完之后会返回 app 实例。app 实例还会有 use、mixin、component、directive 等方法，可以为全局 app 添加一些扩展。\n\n案例如下，传入的第一个参数为上一步的 rootComponent 也就是根组件。\n\n// index.html\nconst app = Vue.createApp({})\n\t.use(xxx)\n\t.component(xxx)\n\t.mount(xxx)\n\n\n1\n2\n3\n4\n5\n\n\n\n# mount\n\ncreateApp 创建 app 实例后，要渲染到页面上还需要调用 mount。接下来看看 mount 又做了什么工作。还是在 createAppAPI 内部\n\n// packages/runtime-core/src/apiCreateApp.ts\nmount(\n  rootContainer: HostElement,\n  isHydrate?: boolean,\n  isSVG?: boolean\n): any {\n  if (!isMounted) {\n    const vnode = createVNode(\n      rootComponent as ConcreteComponent,\n      rootProps\n    )\n\t\t...\n    if (isHydrate && hydrate) {\n      hydrate(vnode as VNode<Node, Element>, rootContainer as any)\n    } else {\n      render(vnode, rootContainer, isSVG)\n    }\n    isMounted = true\n    app._container = rootContainer\n    ...\n    return vnode.component!.proxy\n  } else if (__DEV__) {\n    // 开发环境警告提醒，app 不可以重复挂载\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n最终会执行 render(vnode, rootContainer, isSVG) 这一行代码，接下来看看调用 createAppAPI 时传入的 renderer。\n\n回到 baseCreateRenderer 中，可以看到在 return 时调用 createAppAPI 传入的 renderer。\n\n// packages/runtime-core/src/renderer.ts\nfunction baseCreateRenderer(\n  options: RendererOptions,\n  createHydrationFns?: typeof createHydrationFunctions\n): any {\n    // 此处省略 2000 行\n  return {\n    render,\n    hydrate,\n    createApp: createAppAPI(render, hydrate)\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n其中 renderer 在 baseCreateRenderer 中定义了\n\nconst render: RootRenderFunction = (vnode, container, isSVG) => {\n  if (vnode == null) {\n    if (container._vnode) {\n      unmount(container._vnode, null, null, true)\n    }\n  } else {\n    patch(container._vnode || null, vnode, container, null, null, null, isSVG)\n  }\n  flushPostFlushCbs()\n  container._vnode = vnode\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n在 index.html 的例子中，第一次执行 render 时 vnode 是由 rootComponent 创建出来，rootComponent 则是 createApp 时传入的对象。\n\ncontainer 为 app 容器，也就是 id 为 app 的 div , container._vnode 为 undefined。\n\n所以最终会进入 patch 。\n\npatch 的逻辑同样位于 baseCreateRenderer 中。代码太长了，这里就讲一下思路。在 patch 中会判断 vnode 的 type 或 shapeFlag 执行对应的操作。\n\n\n\n因为第一次 patch 时，vnode 是一个组件，会进入 ShapeFlags.COMPONENT 的判断内，执行 processComponent进行组件的处理。\n\n然后会触发 mountComponent 挂载组件，从而触发 setupComponent(instance) 初始化组件的 props、slots、setup 等将需要 proxy 代理的数据做好准备，以及将 template 进行编译为 render。\n\n// packages/runtime-core/src/renderer.ts\nconst mountComponent: MountComponentFn = (\n  initialVNode,\n  container,\n  anchor,\n  parentComponent,\n  parentSuspense,\n  isSVG,\n  optimized\n) => {\n  // 2.x compat may pre-creaate the component instance before actually\n  // mounting\n  const compatMountInstance =\n        __COMPAT__ && initialVNode.isCompatRoot && initialVNode.component\n  const instance: ComponentInternalInstance =\n        compatMountInstance ||\n        (initialVNode.component = createComponentInstance(\n          initialVNode,\n          parentComponent,\n          parentSuspense\n        ))\n\t...\n  // resolve props and slots for setup context\n  if (!(__COMPAT__ && compatMountInstance)) {\n    ...\n    setupComponent(instance)\n    ...\n  }\n  ...\n  setupRenderEffect(\n    instance,\n    initialVNode,\n    container,\n    anchor,\n    parentSuspense,\n    isSVG,\n    optimized\n  )\n  ...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\n紧接着会执行 setupRenderEffect，该方法会将渲染函数封装成一个副作用，当依赖的响应式数据发生变化时，会自动重新执行。\n\n重点关注 componentUpdateFn，代码太长了，这里也简单讲下吧，第一次会执行 instance.isMounted 为 undefined，则会进入创建流程，其中会执行 const subTree = (instance.subTree = renderComponentRoot(instance)) 创建子树，然后通过 patch 递归创建子节点，结束后 instance.isMounted = true。\n\n一旦依赖发生变化，componentUpdateFn会被重新执行，instance.isMounted 为 true，则会尽心更新的处理，具体就不再展开了。\n\n至于为什么依赖发生变化 componentUpdateFn会被重新执行，这个我们留在下一篇文章中介绍，记得关注我。\n\n\n# 总结\n\n 1. 在 index.html 调用 createApp 时会先经过ensureRenderer 和 baseCreateRenderer 生成下面的对象\n\n// baseCreateRenderer 返回值\nreturn {\n  render,\n  hydrate,\n  createApp: createAppAPI(render, hydrate)\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n 2. 继续调用 baseCreateRenderer 返回的 createApp，这里的 createApp 实际上调用的是 createAppAPI 返回的函数。\n    \n    createAppAPI执行完成返回 app 实例。\n\n 3. index.html 在创建好 app 后接着调用 mount 进行挂载，mount 的实现在 createAppAPI 内部。\n    \n    mount 执行时会调用 render函数，该 render 在 baseCreateRenderer 传入。\n\n 4. render 则开始 patch 进行渲染，patch 内部会进行递归渲染子节点。\n\n以上就是 Vue3 的 createApp 和 mount 的大致流程。至于第一步为什么需要经过 ensureRenderer 和 baseCreateRenderer？\n\nbaseCreateRenderer 主要是平台无关的逻辑处理，存放在 runtime-core 中。\n\n当 patch 的时候需要操作 dom，则会调用外部传入的方法进行操作，这样就可以更方便实现跨端。\n\nensureRenderer 存放在 runtime-dom 中，主要为 baseCreateRenderer 提供一系列 dom 操作的函数。\n\n假如我们要自定义渲染器，那么只需要实现ensureRenderer 即可。而不是像 Vue2 需要 fork 一份，大大提高了 Vue3 的应用范围。\n\n----------------------------------------\n\n好了，这篇文章就水到这里吧。如有错误的地方，希望还能在评论区指出，感谢！\n\n下篇文章将解析 Vue3 的响应式原理，如果有兴趣的话别忘了关注我呀，我们一起学习、进步。',normalizedContent:'# 搭建调试环境\n\n为了弄清楚 vue3 的初始化，建议先克隆 vue3 到本地。\n\ngit clone https://github.com/vuejs/vue-next.git\n\n\n1\n\n\n安装依赖\n\nnpm install\n\n\n1\n\n\n修改 package.json，将 dev 命令加上 --sourcemap 方便调试，并运行 npm run dev\n\n// package.json\n...\n"scripts": {\n  "dev": "node scripts/dev.js --sourcemap",\n  ...\n}\n...\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n在 packages/vue 目录下增加 index.html，内容如下\n\n\x3c!-- index.html --\x3e\n<div id="app">\n  {{ count }}\n</div>\n<script src="./dist/vue.global.js"><\/script>\n<script>\n  vue.createapp({\n    setup() {\n      const count = vue.ref(0);\n      return { count };\n    }\n  }).mount(\'#app\');\n<\/script>\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n\n\n在浏览器打开 index.html，程序正常运行则可以开始进行下一步调试。\n\n\n# 进行调试\n\n> 假如在下面的流程中迷失了方向，建议先看一下结尾的总结，再回过头来看这一段。\n\n\n\n在 createapp 的位置打上断点，然后刷新页面进断点，开始调试。\n\n具体大家可以自行调试，我在这里就大概描述一下初始化流程。\n\n\n# createapp\n\n进入 createapp 内部，会跳转到 packages/runtime-dom/src/index.ts 的 createapp，执行完成返回 app 实例。\n\n// packages/runtime-dom/src/index.ts\nexport const createapp = ((...args) => {\n  const app = ensurerenderer().createapp(...args)\n  ...\n  return app\n}) as createappfunction<element>\n\n\n1\n2\n3\n4\n5\n6\n\n\n接下来继续看 ensurerenderer 的实现。\n\n// packages/runtime-dom/src/index.ts\nfunction ensurerenderer() {\n  return (\n    renderer ||\n    (renderer = createrenderer<node, element | shadowroot>(rendereroptions))\n  )\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\n这里的 renderer 是个单例，初始时会调用 createrenderer 创建，再继续深入。\n\n来到 packages/runtime-core/src/renderer.ts，可以看到 createrenderer 又会调用 basecreaterenderer。\n\n// packages/runtime-core/src/renderer.ts\nexport function createrenderer<\n  hostnode = renderernode,\n  hostelement = rendererelement\n>(options: rendereroptions<hostnode, hostelement>) {\n  return basecreaterenderer<hostnode, hostelement>(options)\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n\n\nbasecreaterenderer 的实现有 2000 行，我们只需要关注几个关键点就可以了。\n\n\n\n其返回值也就是 ensurerenderer() 的返回值\n\n// packages/runtime-core/src/renderer.ts\nfunction basecreaterenderer(\n  options: rendereroptions,\n  createhydrationfns?: typeof createhydrationfunctions\n): any {\n    // 此处省略 2000 行\n  return {\n    render,\n    hydrate,\n    createapp: createappapi(render, hydrate)\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n接下来回到开始的位置，在执行完 ensurerenderer() 后会接着执行 createapp，这个 createapp 就是上一步返回的 createapp，再接着看看做了哪些工作。\n\n// packages/runtime-dom/src/index.ts\nexport const createapp = ((...args) => {\n  const app = ensurerenderer().createapp(...args)\n  ...\n  return app\n}) as createappfunction<element>\n\n\n1\n2\n3\n4\n5\n6\n\n\nensurerenderer 返回的 createapp 由 createappapi 实现，接下来再看看 createappapi 是如何实现的吧。\n\n// packages/runtime-core/src/apicreateapp.ts\nexport function createappapi<hostelement>(\n  render: rootrenderfunction,\n  hydrate?: roothydratefunction\n): createappfunction<hostelement> {\n  return function createapp(rootcomponent, rootprops = null) {\n    const app: app = (context.app = {\n      _uid: uid++,\n      _component: rootcomponent as concretecomponent,\n      _props: rootprops,\n      _container: null,\n      _context: context,\n      _instance: null,\n\n      version,\n\n      get config() {},\n\n      set config(v) {},\n\n      use(plugin: plugin, ...options: any[]) {},\n\n      mixin(mixin: componentoptions) {},\n\n      component(name: string, component?: component): any {},\n\n      directive(name: string, directive?: directive) {},\n\n      mount(\n        rootcontainer: hostelement,\n        ishydrate?: boolean,\n        issvg?: boolean\n      ): any {},\n\n      unmount() {},\n\n      provide(key, value) {}\n    })\n    return app\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n\n\n可以看到 createappapi 会返回一个 createapp 函数，也就是我们调用 createapp，当 createapp 执行完之后会返回 app 实例。app 实例还会有 use、mixin、component、directive 等方法，可以为全局 app 添加一些扩展。\n\n案例如下，传入的第一个参数为上一步的 rootcomponent 也就是根组件。\n\n// index.html\nconst app = vue.createapp({})\n\t.use(xxx)\n\t.component(xxx)\n\t.mount(xxx)\n\n\n1\n2\n3\n4\n5\n\n\n\n# mount\n\ncreateapp 创建 app 实例后，要渲染到页面上还需要调用 mount。接下来看看 mount 又做了什么工作。还是在 createappapi 内部\n\n// packages/runtime-core/src/apicreateapp.ts\nmount(\n  rootcontainer: hostelement,\n  ishydrate?: boolean,\n  issvg?: boolean\n): any {\n  if (!ismounted) {\n    const vnode = createvnode(\n      rootcomponent as concretecomponent,\n      rootprops\n    )\n\t\t...\n    if (ishydrate && hydrate) {\n      hydrate(vnode as vnode<node, element>, rootcontainer as any)\n    } else {\n      render(vnode, rootcontainer, issvg)\n    }\n    ismounted = true\n    app._container = rootcontainer\n    ...\n    return vnode.component!.proxy\n  } else if (__dev__) {\n    // 开发环境警告提醒，app 不可以重复挂载\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n\n\n最终会执行 render(vnode, rootcontainer, issvg) 这一行代码，接下来看看调用 createappapi 时传入的 renderer。\n\n回到 basecreaterenderer 中，可以看到在 return 时调用 createappapi 传入的 renderer。\n\n// packages/runtime-core/src/renderer.ts\nfunction basecreaterenderer(\n  options: rendereroptions,\n  createhydrationfns?: typeof createhydrationfunctions\n): any {\n    // 此处省略 2000 行\n  return {\n    render,\n    hydrate,\n    createapp: createappapi(render, hydrate)\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n其中 renderer 在 basecreaterenderer 中定义了\n\nconst render: rootrenderfunction = (vnode, container, issvg) => {\n  if (vnode == null) {\n    if (container._vnode) {\n      unmount(container._vnode, null, null, true)\n    }\n  } else {\n    patch(container._vnode || null, vnode, container, null, null, null, issvg)\n  }\n  flushpostflushcbs()\n  container._vnode = vnode\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n\n\n在 index.html 的例子中，第一次执行 render 时 vnode 是由 rootcomponent 创建出来，rootcomponent 则是 createapp 时传入的对象。\n\ncontainer 为 app 容器，也就是 id 为 app 的 div , container._vnode 为 undefined。\n\n所以最终会进入 patch 。\n\npatch 的逻辑同样位于 basecreaterenderer 中。代码太长了，这里就讲一下思路。在 patch 中会判断 vnode 的 type 或 shapeflag 执行对应的操作。\n\n\n\n因为第一次 patch 时，vnode 是一个组件，会进入 shapeflags.component 的判断内，执行 processcomponent进行组件的处理。\n\n然后会触发 mountcomponent 挂载组件，从而触发 setupcomponent(instance) 初始化组件的 props、slots、setup 等将需要 proxy 代理的数据做好准备，以及将 template 进行编译为 render。\n\n// packages/runtime-core/src/renderer.ts\nconst mountcomponent: mountcomponentfn = (\n  initialvnode,\n  container,\n  anchor,\n  parentcomponent,\n  parentsuspense,\n  issvg,\n  optimized\n) => {\n  // 2.x compat may pre-creaate the component instance before actually\n  // mounting\n  const compatmountinstance =\n        __compat__ && initialvnode.iscompatroot && initialvnode.component\n  const instance: componentinternalinstance =\n        compatmountinstance ||\n        (initialvnode.component = createcomponentinstance(\n          initialvnode,\n          parentcomponent,\n          parentsuspense\n        ))\n\t...\n  // resolve props and slots for setup context\n  if (!(__compat__ && compatmountinstance)) {\n    ...\n    setupcomponent(instance)\n    ...\n  }\n  ...\n  setuprendereffect(\n    instance,\n    initialvnode,\n    container,\n    anchor,\n    parentsuspense,\n    issvg,\n    optimized\n  )\n  ...\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n\n\n紧接着会执行 setuprendereffect，该方法会将渲染函数封装成一个副作用，当依赖的响应式数据发生变化时，会自动重新执行。\n\n重点关注 componentupdatefn，代码太长了，这里也简单讲下吧，第一次会执行 instance.ismounted 为 undefined，则会进入创建流程，其中会执行 const subtree = (instance.subtree = rendercomponentroot(instance)) 创建子树，然后通过 patch 递归创建子节点，结束后 instance.ismounted = true。\n\n一旦依赖发生变化，componentupdatefn会被重新执行，instance.ismounted 为 true，则会尽心更新的处理，具体就不再展开了。\n\n至于为什么依赖发生变化 componentupdatefn会被重新执行，这个我们留在下一篇文章中介绍，记得关注我。\n\n\n# 总结\n\n 1. 在 index.html 调用 createapp 时会先经过ensurerenderer 和 basecreaterenderer 生成下面的对象\n\n// basecreaterenderer 返回值\nreturn {\n  render,\n  hydrate,\n  createapp: createappapi(render, hydrate)\n}\n\n\n1\n2\n3\n4\n5\n6\n\n\n 2. 继续调用 basecreaterenderer 返回的 createapp，这里的 createapp 实际上调用的是 createappapi 返回的函数。\n    \n    createappapi执行完成返回 app 实例。\n\n 3. index.html 在创建好 app 后接着调用 mount 进行挂载，mount 的实现在 createappapi 内部。\n    \n    mount 执行时会调用 render函数，该 render 在 basecreaterenderer 传入。\n\n 4. render 则开始 patch 进行渲染，patch 内部会进行递归渲染子节点。\n\n以上就是 vue3 的 createapp 和 mount 的大致流程。至于第一步为什么需要经过 ensurerenderer 和 basecreaterenderer？\n\nbasecreaterenderer 主要是平台无关的逻辑处理，存放在 runtime-core 中。\n\n当 patch 的时候需要操作 dom，则会调用外部传入的方法进行操作，这样就可以更方便实现跨端。\n\nensurerenderer 存放在 runtime-dom 中，主要为 basecreaterenderer 提供一系列 dom 操作的函数。\n\n假如我们要自定义渲染器，那么只需要实现ensurerenderer 即可。而不是像 vue2 需要 fork 一份，大大提高了 vue3 的应用范围。\n\n----------------------------------------\n\n好了，这篇文章就水到这里吧。如有错误的地方，希望还能在评论区指出，感谢！\n\n下篇文章将解析 vue3 的响应式原理，如果有兴趣的话别忘了关注我呀，我们一起学习、进步。',charsets:{cjk:!0}},{title:"程序员为什么要培养第二技能",frontmatter:{title:"程序员为什么要培养第二技能",date:"2019-10-16T00:00:00.000Z",categories:["随笔"],tags:["程序员","第二技能"],description:"说起来自己也已经当了差不多 3 年的码农了，每当我在网络上看到“华为清理 34 岁以上老员工”这类的新闻，心里就会不由的产生焦虑。",meta:[{name:"image",content:"https://www.fedevelop.cn/imgs/qrcode.png"},{name:"twitter:title",content:"程序员为什么要培养第二技能"},{name:"twitter:description",content:"说起来自己也已经当了差不多 3 年的码农了，每当我在网络上看到“华为清理 34 岁以上老员工”这类的新闻，心里就会不由的产生焦虑。"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://www.fedevelop.cn/imgs/qrcode.png"},{name:"twitter:url",content:"https://www.fedevelop.cn/views/%E9%9A%8F%E7%AC%94/2019/%E7%A8%8B%E5%BA%8F%E5%91%98%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%9F%B9%E5%85%BB%E7%AC%AC%E4%BA%8C%E6%8A%80%E8%83%BD.html"},{property:"og:type",content:"article"},{property:"og:title",content:"程序员为什么要培养第二技能"},{property:"og:description",content:"说起来自己也已经当了差不多 3 年的码农了，每当我在网络上看到“华为清理 34 岁以上老员工”这类的新闻，心里就会不由的产生焦虑。"},{property:"og:image",content:"https://www.fedevelop.cn/imgs/qrcode.png"},{property:"og:url",content:"https://www.fedevelop.cn/views/%E9%9A%8F%E7%AC%94/2019/%E7%A8%8B%E5%BA%8F%E5%91%98%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%9F%B9%E5%85%BB%E7%AC%AC%E4%BA%8C%E6%8A%80%E8%83%BD.html"},{property:"og:site_name",content:"前端develop"},{property:"article:published_time",content:"2019-10-16T00:00:00.000Z"},{property:"article:tag",content:"程序员"},{property:"article:tag",content:"第二技能"},{itemprop:"name",content:"程序员为什么要培养第二技能"},{itemprop:"description",content:"说起来自己也已经当了差不多 3 年的码农了，每当我在网络上看到“华为清理 34 岁以上老员工”这类的新闻，心里就会不由的产生焦虑。"},{itemprop:"image",content:"https://www.fedevelop.cn/imgs/qrcode.png"}]},regularPath:"/views/%E9%9A%8F%E7%AC%94/2019/%E7%A8%8B%E5%BA%8F%E5%91%98%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%9F%B9%E5%85%BB%E7%AC%AC%E4%BA%8C%E6%8A%80%E8%83%BD.html",relativePath:"views/随笔/2019/程序员为什么要培养第二技能.md",key:"v-18fd2e5b",path:"/views/%E9%9A%8F%E7%AC%94/2019/%E7%A8%8B%E5%BA%8F%E5%91%98%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%9F%B9%E5%85%BB%E7%AC%AC%E4%BA%8C%E6%8A%80%E8%83%BD.html",headers:[{level:2,title:"起因",slug:"起因",normalizedTitle:"起因",charIndex:2},{level:2,title:"外包",slug:"外包",normalizedTitle:"外包",charIndex:434},{level:2,title:"培养第二技能",slug:"培养第二技能",normalizedTitle:"培养第二技能",charIndex:903}],lastUpdated:"10/19/2019, 9:05:16 PM",headersStr:"起因 外包 培养第二技能",content:"# 起因\n\n说起来自己也已经当了差不多 3 年的码农了，每当我在网络上看到“华为清理 34 岁以上老员工”这类的新闻，心里就会不由的产生焦虑。\n\n当然也有不少这样的新闻，人到中年被企业辞退，因为房贷车贷等压力，一下子就把人压崩溃了，直接从公司的楼里纵身跃下结束了自己的生命，家里的顶梁柱也就此崩塌。\n\n现在的日子过得还算惬意，1W+ 的工资，每个月的开销就住房、通勤、生活费用等，比起一起毕业的同学，日子过得还算滋润。\n\n但是马上就要奔三，像我们这一代人，到了 30 岁左右就要养起 大家、小家 两个家庭。因为家里并不富裕，所以我们一刻也不能松懈，哪怕请个假都是无比奢侈。\n\n距离网上流传的码农只能工作到 35 岁，对我来说，也就不过几年了。不想这些的话倒还好，每天写写代码，吃吃喝喝。一想到这些，心里不由得打冷颤。\n\n所以我一直在思考，怎么样才能够让我的经济来源变得更多样，不要被公司控制了我的命脉。毕竟公司是把利益放在第一位的，随时都可以把我们一脚踢开。\n\n\n# 外包\n\n一开始的时候我想到赚钱的方式就是接外包，但是苦于没有资源、不知道怎么报价，又不知道外包有哪些坑，一直都没有接。\n\n因为同学、同事介绍，今年做了 3 个外包项目。第一个项目因为甲方的需求不够明确，浪费了很多时间。那段时间过得非常辛苦，每天下班回来还要在家里加班到凌晨 2、3 点钟。兜兜转转做了将近 4 个月的时间，把第一期的功能做好了。但是最终只拿到了一部分钱，然后我也退出这个外包团队。从这时起，我也对外包有了新的认识。\n\n外包虽然能给我带来一些经济上的回报，但是对我的技能上的提升其实并没有那么大，换算下来，相当于当了一个廉价劳动力。\n\n后来几个月时间，因为公司的项目需要大改版，基本上一天在公司待 12 - 15 个小时，当然也就没有再接外包，也不想再接外包。\n\n这里并不是对外包有什么偏见，当然也不是所有的外包都像我所说的这么坑，像第二个项目做得还算比较顺利，功能没那么多，价格还可以，这个项目也是比较难遇到。\n\n外包其实在一定程度上能提升我们的能力，而且还有一定的经济回报，没有做过外包的同学建议可以尝试一下。\n\n\n# 培养第二技能\n\n上面说到外包，其实运用的还是我们的第一技能。假如一直做外包，做到哪天自己都做不下去了，你会发现自己除了写代码也不会其他的东西。所以说我们要抓紧时间培养第二技能，如果写代码混不下去了，还能够快速找到自己新的方向。\n\n这段时间相对前一两个月来说要稍微轻松一些，我忙里偷闲学习一些新的东西，并将学到的东西记录下来分享到公众号中。比如最近学习的 Docker，我也写了两篇文章 初识 Docker 和 Docker 仓库。\n\n因为这个这个公众号注册的时间也算挺长了，起初打算的是将自己学到的东西或者踩坑的经验分享给大家，所以到现在写的文章也并不多。后来想到我的公众号已经有了留言功能，现在也开通了赞赏的功能，倒不如好好运营一下，学习一下如何运营公众号，提升一下自己的写作能力。\n\n如何运营公众号，里面其实也有非常多的门道，光是公众号的数据都值得好好分析。比如阅读的数量多，分享转发的数量少，可以大致推断出文章的标题能够吸引人打开阅读，但是文章的内容还需要提升；阅读量多，分享转发的也多，说明文章还不错；阅读量少，分享转发的多，说明内容不错，标题还需要提升。\n\n现在只是开始，需要走的路还有很长，希望能够坚持下去给大家输出更有价值的东西。\n\n当然啦，这只是我自己培养第二技能的一种方式。像会吉他的、会摄影的同学，也可以往自己有长处发挥，尝试做一些兼职等等。最重要的是一切都要从个人的兴趣爱好出发，只有感兴趣才能支撑我们走下去。\n\n----------------------------------------\n\n如果你喜欢我的文章，希望可以关注一下我的公众号【前端develop】\n\n",normalizedContent:"# 起因\n\n说起来自己也已经当了差不多 3 年的码农了，每当我在网络上看到“华为清理 34 岁以上老员工”这类的新闻，心里就会不由的产生焦虑。\n\n当然也有不少这样的新闻，人到中年被企业辞退，因为房贷车贷等压力，一下子就把人压崩溃了，直接从公司的楼里纵身跃下结束了自己的生命，家里的顶梁柱也就此崩塌。\n\n现在的日子过得还算惬意，1w+ 的工资，每个月的开销就住房、通勤、生活费用等，比起一起毕业的同学，日子过得还算滋润。\n\n但是马上就要奔三，像我们这一代人，到了 30 岁左右就要养起 大家、小家 两个家庭。因为家里并不富裕，所以我们一刻也不能松懈，哪怕请个假都是无比奢侈。\n\n距离网上流传的码农只能工作到 35 岁，对我来说，也就不过几年了。不想这些的话倒还好，每天写写代码，吃吃喝喝。一想到这些，心里不由得打冷颤。\n\n所以我一直在思考，怎么样才能够让我的经济来源变得更多样，不要被公司控制了我的命脉。毕竟公司是把利益放在第一位的，随时都可以把我们一脚踢开。\n\n\n# 外包\n\n一开始的时候我想到赚钱的方式就是接外包，但是苦于没有资源、不知道怎么报价，又不知道外包有哪些坑，一直都没有接。\n\n因为同学、同事介绍，今年做了 3 个外包项目。第一个项目因为甲方的需求不够明确，浪费了很多时间。那段时间过得非常辛苦，每天下班回来还要在家里加班到凌晨 2、3 点钟。兜兜转转做了将近 4 个月的时间，把第一期的功能做好了。但是最终只拿到了一部分钱，然后我也退出这个外包团队。从这时起，我也对外包有了新的认识。\n\n外包虽然能给我带来一些经济上的回报，但是对我的技能上的提升其实并没有那么大，换算下来，相当于当了一个廉价劳动力。\n\n后来几个月时间，因为公司的项目需要大改版，基本上一天在公司待 12 - 15 个小时，当然也就没有再接外包，也不想再接外包。\n\n这里并不是对外包有什么偏见，当然也不是所有的外包都像我所说的这么坑，像第二个项目做得还算比较顺利，功能没那么多，价格还可以，这个项目也是比较难遇到。\n\n外包其实在一定程度上能提升我们的能力，而且还有一定的经济回报，没有做过外包的同学建议可以尝试一下。\n\n\n# 培养第二技能\n\n上面说到外包，其实运用的还是我们的第一技能。假如一直做外包，做到哪天自己都做不下去了，你会发现自己除了写代码也不会其他的东西。所以说我们要抓紧时间培养第二技能，如果写代码混不下去了，还能够快速找到自己新的方向。\n\n这段时间相对前一两个月来说要稍微轻松一些，我忙里偷闲学习一些新的东西，并将学到的东西记录下来分享到公众号中。比如最近学习的 docker，我也写了两篇文章 初识 docker 和 docker 仓库。\n\n因为这个这个公众号注册的时间也算挺长了，起初打算的是将自己学到的东西或者踩坑的经验分享给大家，所以到现在写的文章也并不多。后来想到我的公众号已经有了留言功能，现在也开通了赞赏的功能，倒不如好好运营一下，学习一下如何运营公众号，提升一下自己的写作能力。\n\n如何运营公众号，里面其实也有非常多的门道，光是公众号的数据都值得好好分析。比如阅读的数量多，分享转发的数量少，可以大致推断出文章的标题能够吸引人打开阅读，但是文章的内容还需要提升；阅读量多，分享转发的也多，说明文章还不错；阅读量少，分享转发的多，说明内容不错，标题还需要提升。\n\n现在只是开始，需要走的路还有很长，希望能够坚持下去给大家输出更有价值的东西。\n\n当然啦，这只是我自己培养第二技能的一种方式。像会吉他的、会摄影的同学，也可以往自己有长处发挥，尝试做一些兼职等等。最重要的是一切都要从个人的兴趣爱好出发，只有感兴趣才能支撑我们走下去。\n\n----------------------------------------\n\n如果你喜欢我的文章，希望可以关注一下我的公众号【前端develop】\n\n",charsets:{cjk:!0}},{title:"如何增加收入？",frontmatter:{title:"如何增加收入？",date:"2020-05-14T00:00:00.000Z",categories:["随笔"],tags:["自媒体"],description:"因各种原因，导致全球经济下行。前段时间还有许多关于薪资打折、cai员的文章，相信大家都有所了解。\n作为一个底层的打工仔，在此之前我就一直在寻找有什么方法能增加自己的经济收入。",meta:[{name:"image",content:"https://imgkr.cn-bj.ufileos.com/d1dd49d5-9947-4083-9f09-576ee400614e.png"},{name:"twitter:title",content:"如何增加收入？"},{name:"twitter:description",content:"因各种原因，导致全球经济下行。前段时间还有许多关于薪资打折、cai员的文章，相信大家都有所了解。\n作为一个底层的打工仔，在此之前我就一直在寻找有什么方法能增加自己的经济收入。"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://imgkr.cn-bj.ufileos.com/d1dd49d5-9947-4083-9f09-576ee400614e.png"},{name:"twitter:url",content:"https://www.fedevelop.cn/views/%E9%9A%8F%E7%AC%94/2020/%E5%A6%82%E4%BD%95%E5%A2%9E%E5%8A%A0%E6%94%B6%E5%85%A5%EF%BC%9F.html"},{property:"og:type",content:"article"},{property:"og:title",content:"如何增加收入？"},{property:"og:description",content:"因各种原因，导致全球经济下行。前段时间还有许多关于薪资打折、cai员的文章，相信大家都有所了解。\n作为一个底层的打工仔，在此之前我就一直在寻找有什么方法能增加自己的经济收入。"},{property:"og:image",content:"https://imgkr.cn-bj.ufileos.com/d1dd49d5-9947-4083-9f09-576ee400614e.png"},{property:"og:url",content:"https://www.fedevelop.cn/views/%E9%9A%8F%E7%AC%94/2020/%E5%A6%82%E4%BD%95%E5%A2%9E%E5%8A%A0%E6%94%B6%E5%85%A5%EF%BC%9F.html"},{property:"og:site_name",content:"前端develop"},{property:"article:published_time",content:"2020-05-14T00:00:00.000Z"},{property:"article:tag",content:"自媒体"},{itemprop:"name",content:"如何增加收入？"},{itemprop:"description",content:"因各种原因，导致全球经济下行。前段时间还有许多关于薪资打折、cai员的文章，相信大家都有所了解。\n作为一个底层的打工仔，在此之前我就一直在寻找有什么方法能增加自己的经济收入。"},{itemprop:"image",content:"https://imgkr.cn-bj.ufileos.com/d1dd49d5-9947-4083-9f09-576ee400614e.png"}]},regularPath:"/views/%E9%9A%8F%E7%AC%94/2020/%E5%A6%82%E4%BD%95%E5%A2%9E%E5%8A%A0%E6%94%B6%E5%85%A5%EF%BC%9F.html",relativePath:"views/随笔/2020/如何增加收入？.md",key:"v-9f984b4c",path:"/views/%E9%9A%8F%E7%AC%94/2020/%E5%A6%82%E4%BD%95%E5%A2%9E%E5%8A%A0%E6%94%B6%E5%85%A5%EF%BC%9F.html",headers:[{level:2,title:"增加收入的方法",slug:"增加收入的方法",normalizedTitle:"增加收入的方法",charIndex:222},{level:3,title:"外包",slug:"外包",normalizedTitle:"外包",charIndex:234},{level:3,title:"自媒体",slug:"自媒体",normalizedTitle:"自媒体",charIndex:790},{level:2,title:"总结",slug:"总结",normalizedTitle:"总结",charIndex:1189}],excerpt:"<p>因各种原因，导致全球经济下行。前段时间还有许多关于薪资打折、cai员的文章，相信大家都有所了解。</p>\n<p>作为一个底层的打工仔，在此之前我就一直在寻找有什么方法能增加自己的经济收入。</p>\n",lastUpdated:"5/14/2020, 2:07:18 AM",headersStr:"增加收入的方法 外包 自媒体 总结",content:"因各种原因，导致全球经济下行。前段时间还有许多关于薪资打折、cai员的文章，相信大家都有所了解。\n\n作为一个底层的打工仔，在此之前我就一直在寻找有什么方法能增加自己的经济收入。\n\n寻找更多经济来源的初衷并不是为了应对经济下行，主要是为了提前寻找出路应对中年危机，毕竟再过两年就到而立之年了。\n\n没想到各种因素的影响，许多人都没来得及准备，就不得不面对没有工作没有收入窘境。这也让我更加坚定要寻找更多经济来源以应对没工作即没收入的情况。\n\n\n# 增加收入的方法\n\n\n# 外包\n\n作为一个码农，最容易想到的方法就是技术变现，工作之余做外包项目。当然外包项目我之前也有所接触，但总体感觉不是很好。也可能是因为我自己对外包项目没太大的兴趣有关。\n\n我对外包项目不感兴趣的原因有几个。\n\n其一是觉得我无法将写代码一直作为我的主业。\n\n虽然我喜欢开发这个岗位，但是在我 35 岁、40 岁的时候，企业还会招我吗？我还写的动代码吗？从业几年下来，我觉得有必要锻炼一下写代码之外的技能，例如运营一个自己的产品，提高自己的写作能力等等。\n\n由于这个原因，我做了各种东西，包括在各个平台写文章输出自己的观点，运营自己的公众号（小程序），写了一些开源项目例如 lw-chart 还有一些小工具来提高生产效率。\n\n因为是为自己做的东西，经常在下班之后干到凌晨2、3点钟，虽然疲惫但不觉得厌倦。\n\n之前做外包或工作到这么晚就会让我不仅感到疲惫还会产生厌倦的情绪，也许是觉得为别人做事而透支自己的身体感到厌倦。\n\n其二，关于技术提升，虽然多做项目有利于提成自己的技术，但是与专门花时间学习某项技术相比，做外包的效率就低的太多了。\n\n在什么情况下我会做外包？可能外包项目耗时较短，或者资金紧缺的情况下会考虑接一下外包吧。这个是我对外包的看法，并不能代表什么。如果你有不同的看法，欢迎在评论区留言讨论。\n\n\n# 自媒体\n\n我了解到有很多的平台都可以通过发布文章、视频等作品进行变现，但是前提是作品的阅读量需要达到一定的量级。\n\n因为公众号内容以技术为主，短时间内达不到阅读量的要求。所以我选了另外一个平台进行尝试，内容方面我选择更加适合大众的搞笑动图，这样有更多的消费人群，更容易实现变现。\n\n下面是我在某一个平台从零开始运营一段时间所积累的数据。\n\n\n\n为了提高发布搞笑动图的效率，我自己通过 Python 写了一个小工具，主要通过接口获取内容，并将内容输出到编辑器中。在使用的过程中我觉得体验不够好，又将 Python 版本的小工具升级成一个浏览器插件，使得发布文章的效率大大增加。只需要点几下按钮，就可轻松发布文章。\n\n通过不断地开发这些小工具，不仅能提升我的工作效率，在一定程度上也拓展了自己的技术面。\n\n# 获取插件\n\n想要安装插件的小伙伴可以公众号【前端develop】回复「插件」获取。\n\n\n# 总结\n\n当然了，世界这么大增加收入的方法不仅只有上面的方法，如果各位小伙伴有更好的想法也可以在评论区留言讨论。\n\n如果觉得内容还不错的话，希望小伙伴可以帮忙点赞转发，给更多的小伙伴看到，感谢感谢！\n\n如果你喜欢我的文章，还可以关注我的公众号【前端develop】，在这里将会讨论关于技术方面以及我的观点。\n\n",normalizedContent:"因各种原因，导致全球经济下行。前段时间还有许多关于薪资打折、cai员的文章，相信大家都有所了解。\n\n作为一个底层的打工仔，在此之前我就一直在寻找有什么方法能增加自己的经济收入。\n\n寻找更多经济来源的初衷并不是为了应对经济下行，主要是为了提前寻找出路应对中年危机，毕竟再过两年就到而立之年了。\n\n没想到各种因素的影响，许多人都没来得及准备，就不得不面对没有工作没有收入窘境。这也让我更加坚定要寻找更多经济来源以应对没工作即没收入的情况。\n\n\n# 增加收入的方法\n\n\n# 外包\n\n作为一个码农，最容易想到的方法就是技术变现，工作之余做外包项目。当然外包项目我之前也有所接触，但总体感觉不是很好。也可能是因为我自己对外包项目没太大的兴趣有关。\n\n我对外包项目不感兴趣的原因有几个。\n\n其一是觉得我无法将写代码一直作为我的主业。\n\n虽然我喜欢开发这个岗位，但是在我 35 岁、40 岁的时候，企业还会招我吗？我还写的动代码吗？从业几年下来，我觉得有必要锻炼一下写代码之外的技能，例如运营一个自己的产品，提高自己的写作能力等等。\n\n由于这个原因，我做了各种东西，包括在各个平台写文章输出自己的观点，运营自己的公众号（小程序），写了一些开源项目例如 lw-chart 还有一些小工具来提高生产效率。\n\n因为是为自己做的东西，经常在下班之后干到凌晨2、3点钟，虽然疲惫但不觉得厌倦。\n\n之前做外包或工作到这么晚就会让我不仅感到疲惫还会产生厌倦的情绪，也许是觉得为别人做事而透支自己的身体感到厌倦。\n\n其二，关于技术提升，虽然多做项目有利于提成自己的技术，但是与专门花时间学习某项技术相比，做外包的效率就低的太多了。\n\n在什么情况下我会做外包？可能外包项目耗时较短，或者资金紧缺的情况下会考虑接一下外包吧。这个是我对外包的看法，并不能代表什么。如果你有不同的看法，欢迎在评论区留言讨论。\n\n\n# 自媒体\n\n我了解到有很多的平台都可以通过发布文章、视频等作品进行变现，但是前提是作品的阅读量需要达到一定的量级。\n\n因为公众号内容以技术为主，短时间内达不到阅读量的要求。所以我选了另外一个平台进行尝试，内容方面我选择更加适合大众的搞笑动图，这样有更多的消费人群，更容易实现变现。\n\n下面是我在某一个平台从零开始运营一段时间所积累的数据。\n\n\n\n为了提高发布搞笑动图的效率，我自己通过 python 写了一个小工具，主要通过接口获取内容，并将内容输出到编辑器中。在使用的过程中我觉得体验不够好，又将 python 版本的小工具升级成一个浏览器插件，使得发布文章的效率大大增加。只需要点几下按钮，就可轻松发布文章。\n\n通过不断地开发这些小工具，不仅能提升我的工作效率，在一定程度上也拓展了自己的技术面。\n\n# 获取插件\n\n想要安装插件的小伙伴可以公众号【前端develop】回复「插件」获取。\n\n\n# 总结\n\n当然了，世界这么大增加收入的方法不仅只有上面的方法，如果各位小伙伴有更好的想法也可以在评论区留言讨论。\n\n如果觉得内容还不错的话，希望小伙伴可以帮忙点赞转发，给更多的小伙伴看到，感谢感谢！\n\n如果你喜欢我的文章，还可以关注我的公众号【前端develop】，在这里将会讨论关于技术方面以及我的观点。\n\n",charsets:{cjk:!0}},{title:"我的年终总结以及新年计划",frontmatter:{title:"我的年终总结以及新年计划",date:"2021-01-01T00:00:00.000Z",categories:["随笔"],tags:["自媒体"],description:"2020发生了太多的事情，对于我来说，我最想分享的应该是12月份了。对我来说12月份算是2020年以来，个人成长最快的时候。",meta:[{name:"twitter:title",content:"我的年终总结以及新年计划"},{name:"twitter:description",content:"2020发生了太多的事情，对于我来说，我最想分享的应该是12月份了。对我来说12月份算是2020年以来，个人成长最快的时候。"},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/views/%E9%9A%8F%E7%AC%94/2021/%E6%88%91%E7%9A%84%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93%E4%BB%A5%E5%8F%8A%E6%96%B0%E5%B9%B4%E8%AE%A1%E5%88%92.html"},{property:"og:type",content:"article"},{property:"og:title",content:"我的年终总结以及新年计划"},{property:"og:description",content:"2020发生了太多的事情，对于我来说，我最想分享的应该是12月份了。对我来说12月份算是2020年以来，个人成长最快的时候。"},{property:"og:url",content:"https://www.fedevelop.cn/views/%E9%9A%8F%E7%AC%94/2021/%E6%88%91%E7%9A%84%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93%E4%BB%A5%E5%8F%8A%E6%96%B0%E5%B9%B4%E8%AE%A1%E5%88%92.html"},{property:"og:site_name",content:"前端develop"},{property:"article:published_time",content:"2021-01-01T00:00:00.000Z"},{property:"article:tag",content:"自媒体"},{itemprop:"name",content:"我的年终总结以及新年计划"},{itemprop:"description",content:"2020发生了太多的事情，对于我来说，我最想分享的应该是12月份了。对我来说12月份算是2020年以来，个人成长最快的时候。"}]},regularPath:"/views/%E9%9A%8F%E7%AC%94/2021/%E6%88%91%E7%9A%84%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93%E4%BB%A5%E5%8F%8A%E6%96%B0%E5%B9%B4%E8%AE%A1%E5%88%92.html",relativePath:"views/随笔/2021/我的年终总结以及新年计划.md",key:"v-21daaa6c",path:"/views/%E9%9A%8F%E7%AC%94/2021/%E6%88%91%E7%9A%84%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93%E4%BB%A5%E5%8F%8A%E6%96%B0%E5%B9%B4%E8%AE%A1%E5%88%92.html",headers:[{level:2,title:"副业尝试",slug:"副业尝试",normalizedTitle:"副业尝试",charIndex:67},{level:2,title:"加入星球",slug:"加入星球",normalizedTitle:"加入星球",charIndex:322},{level:3,title:"生财有术",slug:"生财有术",normalizedTitle:"生财有术",charIndex:365},{level:3,title:"stormzhang",slug:"stormzhang",normalizedTitle:"stormzhang",charIndex:371},{level:2,title:"2020年的成就",slug:"_2020年的成就",normalizedTitle:"2020年的成就",charIndex:1108},{level:2,title:"2021年的计划",slug:"_2021年的计划",normalizedTitle:"2021年的计划",charIndex:1280}],excerpt:"<p>2020发生了太多的事情，对于我来说，我最想分享的应该是12月份了。对我来说12月份算是2020年以来，个人成长最快的时候。</p>\n",lastUpdated:"1/2/2021, 11:16:35 PM",headersStr:"副业尝试 加入星球 生财有术 stormzhang 2020年的成就 2021年的计划",content:"2020发生了太多的事情，对于我来说，我最想分享的应该是12月份了。对我来说12月份算是2020年以来，个人成长最快的时候。\n\n\n# 副业尝试\n\n因为2020年的种种因素，我决定开始干副业。最初我打算开一个 TB 店来增加自己的业余收入，但是 TB 竞争非常激烈，我决定先学习 TB 的运营技巧，于是在 B站、公众号 不断搜索这类教程。\n\n在11月份的时候，我发现了盗坤的公众号，觉得文章内容非常真实，于是我从网上找来了盗坤的视频，每天下班回家就是不停观看盗坤的视频，学习了如何做 TB 蓝海类目。也咨询了我的朋友，在哪里租用生意参谋等等。因为迟迟没有选好品，最终还是没有开店。\n\n需要视频的小伙伴也可以加我微信私聊，我可以免费送你。\n\n\n# 加入星球\n\n由于没有成功开店，让我非常焦虑。\n\n每天就在各大公众号闲逛，某一天发现了 生财有术、 stormzhang 在做体验群的活动，我想着体验群也不用交钱，就进群围观了。\n\n\n# 生财有术\n\n生财有术这个圈子我很早就有听说，圈子里都是牛人。各个领域的牛人每天都在分享他们的经验。在体验群看过了几个案例之后，让我热血沸腾，感觉自己找对方向了。尽管2021年4月份星球就到期了，我还是花了接近2千元的价格加入星球，了解这群牛人每天在做些什么，看看自己能不能从中吸收到一些精华。\n\n加入星球之后，马上就送了我一本生财日历。生财日历中有365条非常有用的建议，涉及了很多行业，相信能给我们开阔思路。接下来我打算每天把日历中的内容发到我的知识星球，让想要进步的小伙伴能够一起学习。\n\n\n# stormzhang\n\nstormzhang 是我大学时期关注到的一个公众号号主，那时张哥还是一名安卓开发。从张哥的公众号中可以了解到了张哥的成长轨迹，从 「测试」 到 「开发」 到 「产品」 到 「高管」 到 「自由职业」 到 「创业」。我觉得能够做到其中的一步，就已经很牛逼了，足以见得张哥是有多么厉害。\n\n一次机缘巧合，看到张哥在视频号直播，看到张哥在给球友分享一个小程序的机会，我听完后激动万分，连夜通宵把功能实现出来，并审核上线。\n\n当然我也加入了张哥的星球，也加入了小程序群，在群里才见识到这群人的执行力有多么牛逼。群里的大佬可以一两周都通宵，每天只睡一会，工作之余还能开发出好用的小程序。\n\n加入小程序群之前，我自己总觉得我做了很多事情，做公众号、做小程序、写文章、研究源码等，一直纳闷怎么都没人能关注到我，于是破罐子破摔，公众号也不怎么维护，每天在焦虑中度过。\n\n到今天才知道和这群人比起来，我做的还远远不够。\n\n能让我们关注到的人，在背后付出的远超我们想象。\n\n\n# 2020年的成就\n\n在12月份一口气开发了三个小程序，i去水印、i外卖券、i购物券，其中一个小程序已经能为我带来一些些收益，当然其中一部分收益我会以红包的形式反馈给支持我的朋友，可以私信「微信」后加我微信，备注红包群，我拉你进群，我会不定期在群里发红包。\n\n从坏坏老师的分享中学会了如何引流，在短短几天时间让更多小伙伴知道我的公众号。\n\n\n# 2021年的计划\n\n 1. 做好当前的事，维护好小程序、公众号等\n\n 2. 做更多的尝试，例如知乎好物等\n\n 3. 做更多利他的事情，比如与大家分享有价值的内容、星球大佬的经验、生财日历精华等\n\n有兴趣的小伙伴可以加我微信，备注学习，进我的学习让我们共同学习，在新的一年里一起抱团成长。",normalizedContent:"2020发生了太多的事情，对于我来说，我最想分享的应该是12月份了。对我来说12月份算是2020年以来，个人成长最快的时候。\n\n\n# 副业尝试\n\n因为2020年的种种因素，我决定开始干副业。最初我打算开一个 tb 店来增加自己的业余收入，但是 tb 竞争非常激烈，我决定先学习 tb 的运营技巧，于是在 b站、公众号 不断搜索这类教程。\n\n在11月份的时候，我发现了盗坤的公众号，觉得文章内容非常真实，于是我从网上找来了盗坤的视频，每天下班回家就是不停观看盗坤的视频，学习了如何做 tb 蓝海类目。也咨询了我的朋友，在哪里租用生意参谋等等。因为迟迟没有选好品，最终还是没有开店。\n\n需要视频的小伙伴也可以加我微信私聊，我可以免费送你。\n\n\n# 加入星球\n\n由于没有成功开店，让我非常焦虑。\n\n每天就在各大公众号闲逛，某一天发现了 生财有术、 stormzhang 在做体验群的活动，我想着体验群也不用交钱，就进群围观了。\n\n\n# 生财有术\n\n生财有术这个圈子我很早就有听说，圈子里都是牛人。各个领域的牛人每天都在分享他们的经验。在体验群看过了几个案例之后，让我热血沸腾，感觉自己找对方向了。尽管2021年4月份星球就到期了，我还是花了接近2千元的价格加入星球，了解这群牛人每天在做些什么，看看自己能不能从中吸收到一些精华。\n\n加入星球之后，马上就送了我一本生财日历。生财日历中有365条非常有用的建议，涉及了很多行业，相信能给我们开阔思路。接下来我打算每天把日历中的内容发到我的知识星球，让想要进步的小伙伴能够一起学习。\n\n\n# stormzhang\n\nstormzhang 是我大学时期关注到的一个公众号号主，那时张哥还是一名安卓开发。从张哥的公众号中可以了解到了张哥的成长轨迹，从 「测试」 到 「开发」 到 「产品」 到 「高管」 到 「自由职业」 到 「创业」。我觉得能够做到其中的一步，就已经很牛逼了，足以见得张哥是有多么厉害。\n\n一次机缘巧合，看到张哥在视频号直播，看到张哥在给球友分享一个小程序的机会，我听完后激动万分，连夜通宵把功能实现出来，并审核上线。\n\n当然我也加入了张哥的星球，也加入了小程序群，在群里才见识到这群人的执行力有多么牛逼。群里的大佬可以一两周都通宵，每天只睡一会，工作之余还能开发出好用的小程序。\n\n加入小程序群之前，我自己总觉得我做了很多事情，做公众号、做小程序、写文章、研究源码等，一直纳闷怎么都没人能关注到我，于是破罐子破摔，公众号也不怎么维护，每天在焦虑中度过。\n\n到今天才知道和这群人比起来，我做的还远远不够。\n\n能让我们关注到的人，在背后付出的远超我们想象。\n\n\n# 2020年的成就\n\n在12月份一口气开发了三个小程序，i去水印、i外卖券、i购物券，其中一个小程序已经能为我带来一些些收益，当然其中一部分收益我会以红包的形式反馈给支持我的朋友，可以私信「微信」后加我微信，备注红包群，我拉你进群，我会不定期在群里发红包。\n\n从坏坏老师的分享中学会了如何引流，在短短几天时间让更多小伙伴知道我的公众号。\n\n\n# 2021年的计划\n\n 1. 做好当前的事，维护好小程序、公众号等\n\n 2. 做更多的尝试，例如知乎好物等\n\n 3. 做更多利他的事情，比如与大家分享有价值的内容、星球大佬的经验、生财日历精华等\n\n有兴趣的小伙伴可以加我微信，备注学习，进我的学习让我们共同学习，在新的一年里一起抱团成长。",charsets:{cjk:!0}},{title:"深入 Vue3 源码，学习响应式原理",frontmatter:{title:"深入 Vue3 源码，学习响应式原理",date:"2021-08-28T00:00:00.000Z",categories:["前端"],tags:["Vue3","源码"],description:"Vue2 响应式原理\n学过 Vue2 的话应该知道响应式原理是由 Object.defineProperty 对数据进行劫持，再加上订阅发布，实现数据的响应的。\nObject.defineProperty 存在以下几个方面的缺点。\n\n初始化的时候需要遍历对象的所有属性进行劫持，如果对象存在嵌套还需要进行递归。导致初始化的时候需要消耗一些资源用于递归遍历。\n从上面可以推导出 Vue2 对于新增、删减对象属性是无法进行劫持，需要通过 Vue.set、Vue.delete 进行操作。\n每个调用者会生成一个 Watcher，造成内存占用。\n无法劫持 Set、Map 对象。\n",meta:[{name:"twitter:title",content:"深入 Vue3 源码，学习响应式原理"},{name:"twitter:description",content:"Vue2 响应式原理\n学过 Vue2 的话应该知道响应式原理是由 Object.defineProperty 对数据进行劫持，再加上订阅发布，实现数据的响应的。\nObject.defineProperty 存在以下几个方面的缺点。\n\n初始化的时候需要遍历对象的所有属性进行劫持，如果对象存在嵌套还需要进行递归。导致初始化的时候需要消耗一些资源用于递归遍历。\n从上面可以推导出 Vue2 对于新增、删减对象属性是无法进行劫持，需要通过 Vue.set、Vue.delete 进行操作。\n每个调用者会生成一个 Watcher，造成内存占用。\n无法劫持 Set、Map 对象。\n"},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/views/%E5%89%8D%E7%AB%AF/2021/%E6%B7%B1%E5%85%A5%20Vue3%20%E6%BA%90%E7%A0%81%EF%BC%8C%E5%AD%A6%E4%B9%A0%E5%93%8D%E5%BA%94%E5%BC%8F%E5%8E%9F%E7%90%86.html"},{property:"og:type",content:"article"},{property:"og:title",content:"深入 Vue3 源码，学习响应式原理"},{property:"og:description",content:"Vue2 响应式原理\n学过 Vue2 的话应该知道响应式原理是由 Object.defineProperty 对数据进行劫持，再加上订阅发布，实现数据的响应的。\nObject.defineProperty 存在以下几个方面的缺点。\n\n初始化的时候需要遍历对象的所有属性进行劫持，如果对象存在嵌套还需要进行递归。导致初始化的时候需要消耗一些资源用于递归遍历。\n从上面可以推导出 Vue2 对于新增、删减对象属性是无法进行劫持，需要通过 Vue.set、Vue.delete 进行操作。\n每个调用者会生成一个 Watcher，造成内存占用。\n无法劫持 Set、Map 对象。\n"},{property:"og:url",content:"https://www.fedevelop.cn/views/%E5%89%8D%E7%AB%AF/2021/%E6%B7%B1%E5%85%A5%20Vue3%20%E6%BA%90%E7%A0%81%EF%BC%8C%E5%AD%A6%E4%B9%A0%E5%93%8D%E5%BA%94%E5%BC%8F%E5%8E%9F%E7%90%86.html"},{property:"og:site_name",content:"前端develop"},{property:"article:published_time",content:"2021-08-28T00:00:00.000Z"},{property:"article:tag",content:"Vue3"},{property:"article:tag",content:"源码"},{itemprop:"name",content:"深入 Vue3 源码，学习响应式原理"},{itemprop:"description",content:"Vue2 响应式原理\n学过 Vue2 的话应该知道响应式原理是由 Object.defineProperty 对数据进行劫持，再加上订阅发布，实现数据的响应的。\nObject.defineProperty 存在以下几个方面的缺点。\n\n初始化的时候需要遍历对象的所有属性进行劫持，如果对象存在嵌套还需要进行递归。导致初始化的时候需要消耗一些资源用于递归遍历。\n从上面可以推导出 Vue2 对于新增、删减对象属性是无法进行劫持，需要通过 Vue.set、Vue.delete 进行操作。\n每个调用者会生成一个 Watcher，造成内存占用。\n无法劫持 Set、Map 对象。\n"}]},regularPath:"/views/%E5%89%8D%E7%AB%AF/2021/%E6%B7%B1%E5%85%A5%20Vue3%20%E6%BA%90%E7%A0%81%EF%BC%8C%E5%AD%A6%E4%B9%A0%E5%93%8D%E5%BA%94%E5%BC%8F%E5%8E%9F%E7%90%86.html",relativePath:"views/前端/2021/深入 Vue3 源码，学习响应式原理.md",key:"v-de9e813e",path:"/views/%E5%89%8D%E7%AB%AF/2021/%E6%B7%B1%E5%85%A5%20Vue3%20%E6%BA%90%E7%A0%81%EF%BC%8C%E5%AD%A6%E4%B9%A0%E5%93%8D%E5%BA%94%E5%BC%8F%E5%8E%9F%E7%90%86.html",headers:[{level:2,title:"Vue2 响应式原理",slug:"vue2-响应式原理",normalizedTitle:"vue2 响应式原理",charIndex:2},{level:2,title:"Vue3 响应式原理",slug:"vue3-响应式原理",normalizedTitle:"vue3 响应式原理",charIndex:310},{level:2,title:"Vue3 响应式源码",slug:"vue3-响应式源码",normalizedTitle:"vue3 响应式源码",charIndex:3164},{level:2,title:"结语",slug:"结语",normalizedTitle:"结语",charIndex:11985}],excerpt:'<h2 id="vue2-响应式原理"><a class="header-anchor" href="#vue2-响应式原理">#</a> Vue2 响应式原理</h2>\n<p>学过 Vue2 的话应该知道响应式原理是由 Object.defineProperty 对数据进行劫持，再加上订阅发布，实现数据的响应的。</p>\n<p>Object.defineProperty 存在以下几个方面的缺点。</p>\n<ol>\n<li>初始化的时候需要遍历对象的所有属性进行劫持，如果对象存在嵌套还需要进行递归。导致初始化的时候需要消耗一些资源用于递归遍历。</li>\n<li>从上面可以推导出 Vue2 对于新增、删减对象属性是无法进行劫持，需要通过 Vue.set、Vue.delete 进行操作。</li>\n<li>每个调用者会生成一个 Watcher，造成内存占用。</li>\n<li>无法劫持 Set、Map 对象。</li>\n</ol>\n',lastUpdated:"8/28/2021, 3:22:46 PM",headersStr:"Vue2 响应式原理 Vue3 响应式原理 Vue3 响应式源码 结语",content:'# Vue2 响应式原理\n\n学过 Vue2 的话应该知道响应式原理是由 Object.defineProperty 对数据进行劫持，再加上订阅发布，实现数据的响应的。\n\nObject.defineProperty 存在以下几个方面的缺点。\n\n 1. 初始化的时候需要遍历对象的所有属性进行劫持，如果对象存在嵌套还需要进行递归。导致初始化的时候需要消耗一些资源用于递归遍历。\n 2. 从上面可以推导出 Vue2 对于新增、删减对象属性是无法进行劫持，需要通过 Vue.set、Vue.delete 进行操作。\n 3. 每个调用者会生成一个 Watcher，造成内存占用。\n 4. 无法劫持 Set、Map 对象。\n\n\n# Vue3 响应式原理\n\n针对以上问题，Vue3 改用了 ES6 原生的 Proxy 对数据进行代理。\n\nProxy 基本用法如下：\n\nconst reactive = (target) => {\n  return new Proxy(target, {\n    get(target, key) {\n      console.log("get: ", key);\n      // return Reflect.get(target, key);\n      return target[key];\n    },\n\n    set(target, key, value) {\n      console.log("set: ", key, " = ", value);\n      // Reflect.set(target, key, value);\n      target[key] = value;\n      return value;\n    },\n  });\n};\n\nvar a = reactive({ count: 1 });\nconsole.log(a.count);\n\na.count = 2;\nconsole.log(a.count);\n\n// log 输出\n// get:  count\n// 1\n// set:  count  =  2\n// get:  count\n// 2\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n如此便可检测到数据的变化。接下来只需在 get 进行收集依赖，set 通知依赖更新。\n\n接下来还需借助 effect、track 和 trigger 方法。\n\neffect 函数传入一个回调函数，回调函数会立即执行，并自动与响应式数据建立依赖关系。\n\ntrack 在 proxy get 中执行，建立依赖关系。\n\ntrigger 响应式数据发生变化时，根据依赖关系找到对应函数进行执行。\n\n代码实现如下：\n\nconst reactive = (target) => {\n  return new Proxy(target, {\n    get(target, key) {\n      console.log("[proxy get] ", key);\n      track(target, key);\n      // return Reflect.get(target, key);\n      return target[key];\n    },\n\n    set(target, key, value) {\n      console.log("[proxy set]  ", key, " = ", value);\n      // Reflect.set(target, key, value);\n      target[key] = value;\n      trigger(target, key);\n      return value;\n    },\n  });\n};\n\n// 用于存放 effect 传入的 fn，便于 track 时找到对应 fn\nconst effectStack = [];\n\n// 用于保存 响应式对象 和 fn 的关系\n// {\n//   target: {\n//     key: [fn, fn];\n//   }\n// }\nconst targetMap = {};\n\nconst track = (target, key) => {\n  let depsMap = targetMap[target];\n  if (!depsMap) {\n    targetMap[target] = depsMap = {};\n  }\n  let dep = depsMap[key];\n  if (!dep) {\n    depsMap[key] = dep = [];\n  }\n\n  // 建立依赖关系\n  const activeEffect = effectStack[effectStack.length - 1];\n  dep.push(activeEffect);\n};\n\nconst trigger = (target, key) => {\n  const depsMap = targetMap[target];\n  if (!depsMap) return;\n  const deps = depsMap[key];\n  // 根据依赖关系，找出 fn 并重新执行\n  deps.map(fn => {\n    fn();\n  });\n};\n\nconst effect = (fn) => {\n  try {\n    effectStack.push(fn);\n    fn();\n  } catch (error) {\n    effectStack.pop(fn);\n  }\n};\n\nvar a = reactive({ count: 1 });\n\neffect(() => {\n  console.log("[effect] ", a.count);\n});\n\na.count = 2;\n\n// log 输出\n// [proxy get]  count\n// [effect]  1\n// [proxy set]   count  =  2\n// [proxy get]  count\n// [effect]  2\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n\n\n以上代码并不是 Vue3 的源码，而是 Vue3 响应式的原理，相比起 Vue2 要更加简单。\n\n执行顺序为\n\n 1. 调用 reactive 代理响应式对象；\n 2. 调用 effect ，会将 fn 保存至 effectStack，在执行 fn 时会触发 Proxy 的 get；\n 3. 从 Proxy 的 get 触发 track，将数据与 fn 建立关系；\n 4. 修改响应式数据，触发 Proxy 的 set；\n 5. 从 Proxy 的 set 触发 trigger，从而找出对应的 fn 并执行。\n\n弄清楚原理再去看源码会简单很多，下面我们一起去看下源码。\n\n\n# Vue3 响应式源码\n\nVue3 的响应式是一个独立的模块，不依赖框架，甚至可以在 React、Angular 中使用。\n\nreactive 函数位于 packages/reactivity/src/reactive.ts\n\n// packages/reactivity/src/reactive.ts\nexport function reactive(target: object) {\n  // if trying to observe a readonly proxy, return the readonly version.\n  if (target && (target as Target)[ReactiveFlags.IS_READONLY]) {\n    return target\n  }\n  return createReactiveObject(\n    target,\n    false,\n    mutableHandlers,\n    mutableCollectionHandlers,\n    reactiveMap\n  )\n}\n\nfunction createReactiveObject(\n  target: Target,\n  isReadonly: boolean,\n  baseHandlers: ProxyHandler<any>,\n  collectionHandlers: ProxyHandler<any>,\n  proxyMap: WeakMap<Target, any>\n) {\n\t// ...\n  const proxy = new Proxy(\n    target,\n    // 对 Set、Map 的集合使用 collectionHandlers（mutableCollectionHandlers）\n    // 普通对象使用 baseHandlers（mutableHandlers）\n    targetType === TargetType.COLLECTION ? collectionHandlers : baseHandlers\n  )\n  // ...\n  return proxy\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n接下来看下 mutableHandlers\n\n// packages/reactivity/src/baseHandlers.ts\nexport const mutableHandlers: ProxyHandler<object> = {\n  get,\n  set,\n  deleteProperty,\n  has,\n  ownKeys\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n看下 get 和 set\n\n// packages/reactivity/src/baseHandlers.ts\nconst get = /*#__PURE__*/ createGetter()\n// ...\nfunction createGetter(isReadonly = false, shallow = false) {\n  return function get(target: Target, key: string | symbol, receiver: object) {\n    // ...\n\n    const res = Reflect.get(target, key, receiver)\n\n    if (isSymbol(key) ? builtInSymbols.has(key) : isNonTrackableKeys(key)) {\n      return res\n    }\n\n    if (!isReadonly) {\n      // 调用 track 建立依赖关系\n      track(target, TrackOpTypes.GET, key)\n    }\n\n    // ...\n    return res\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n// packages/reactivity/src/baseHandlers.ts\nconst set = /*#__PURE__*/ createSetter()\n// ...\nfunction createSetter(shallow = false) {\n  return function set(\n    target: object,\n    key: string | symbol,\n    value: unknown,\n    receiver: object\n  ): boolean {\n    let oldValue = (target as any)[key]\n    // ...\n    const result = Reflect.set(target, key, value, receiver)\n    // don\'t trigger if target is something up in the prototype chain of original\n    if (target === toRaw(receiver)) {\n      if (!hadKey) {\n        // 调用 trigger 通知依赖重新执行\n        trigger(target, TriggerOpTypes.ADD, key, value)\n      } else if (hasChanged(value, oldValue)) {\n        // 调用 trigger 通知依赖重新执行\n        trigger(target, TriggerOpTypes.SET, key, value, oldValue)\n      }\n    }\n    return result\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n接下来再看下 track\n\n// packages/reactivity/src/effect.ts\nexport function track(target: object, type: TrackOpTypes, key: unknown) {\n  if (!isTracking()) {\n    return\n  }\n  let depsMap = targetMap.get(target)\n  if (!depsMap) {\n    targetMap.set(target, (depsMap = new Map()))\n  }\n  let dep = depsMap.get(key)\n  if (!dep) {\n    depsMap.set(key, (dep = createDep()))\n  }\n\n  const eventInfo = __DEV__\n    ? { effect: activeEffect, target, type, key }\n    : undefined\n\n  trackEffects(dep, eventInfo)\n}\n\n\nexport function trackEffects(\n  dep: Dep,\n  debuggerEventExtraInfo?: DebuggerEventExtraInfo\n) {\n\t// ...\n  if (shouldTrack) {\n    dep.add(activeEffect!)\n    activeEffect!.deps.push(dep)\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n上半部分与我们自己实现的逻辑很类似，先找出 dep 如果不存在则创建，只不过 Vue 使用的是 Map 和 Set（createDep 返回值为 Set）。\n\n然后是 trackEffects，关键代码就是 dep 和 activeEffect 互相保存，我们的做法只是将 activeEffect 存入 dep 。\n\n接下来看看 set 中调用的 trigger。\n\n// packages/reactivity/src/effect.ts\nexport function trigger(\n  target: object,\n  type: TriggerOpTypes,\n  key?: unknown,\n  newValue?: unknown,\n  oldValue?: unknown,\n  oldTarget?: Map<unknown, unknown> | Set<unknown>\n) {\n  const depsMap = targetMap.get(target)\n  if (!depsMap) {\n    // never been tracked\n    // 没有被 track 收集到，直接返回\n    return\n  }\n\n  let deps: (Dep | undefined)[] = []\n  if (type === TriggerOpTypes.CLEAR) {\n    // collection being cleared\n    // trigger all effects for target\n    // 清空依赖，需要触发与 target 关联的所有 effect\n    deps = [...depsMap.values()]\n  } else if (key === \'length\' && isArray(target)) {\n    // 修改数组的 length 时对应的处理\n    depsMap.forEach((dep, key) => {\n      if (key === \'length\' || key >= (newValue as number)) {\n        deps.push(dep)\n      }\n    })\n  } else {\n    // schedule runs for SET | ADD | DELETE\n    // 修改、新增、删除属性时执行\n    if (key !== void 0) {\n      deps.push(depsMap.get(key))\n    }\n\n    // also run for iteration key on ADD | DELETE | Map.SET\n    // 往 deps 中添加迭代器属性的 effect\n    switch (type) {\n      // ...\n    }\n  }\n  \n  // 以上操作则是为了取出 deps (targetMap[target][key])\n\n  // 下面的操作则是将 deps 中的 effect 取出并执行\n  // 开发时还会传入 eventInfo\n  const eventInfo = __DEV__\n    ? { target, type, key, newValue, oldValue, oldTarget }\n    : undefined\n\n  if (deps.length === 1) {\n    if (deps[0]) {\n      if (__DEV__) {\n        triggerEffects(deps[0], eventInfo)\n      } else {\n        triggerEffects(deps[0])\n      }\n    }\n  } else {\n    const effects: ReactiveEffect[] = []\n    for (const dep of deps) {\n      if (dep) {\n        effects.push(...dep)\n      }\n    }\n    if (__DEV__) {\n      triggerEffects(createDep(effects), eventInfo)\n    } else {\n      triggerEffects(createDep(effects))\n    }\n  }\n}\n\n// 执行 effect\nexport function triggerEffects(\n  dep: Dep | ReactiveEffect[],\n  debuggerEventExtraInfo?: DebuggerEventExtraInfo\n) {\n  // spread into array for stabilization\n  for (const effect of isArray(dep) ? dep : [...dep]) {\n    if (effect !== activeEffect || effect.allowRecurse) {\n      if (__DEV__ && effect.onTrigger) {\n        effect.onTrigger(extend({ effect }, debuggerEventExtraInfo))\n      }\n      if (effect.scheduler) {\n        effect.scheduler()\n      } else {\n        effect.run()\n      }\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n\n\ntrigger 函数看似很长，其实可以简化成我们的例子进行理解，无非就是取出对应的 deps ，遍历出 deps 中的 effect 并执行。\n\n接下来就该看看 effect 函数的实现了。\n\n// packages/reactivity/src/effect.ts\nexport function effect<T = any>(\n  fn: () => T,\n  options?: ReactiveEffectOptions\n): ReactiveEffectRunner {\n  if ((fn as ReactiveEffectRunner).effect) {\n    fn = (fn as ReactiveEffectRunner).effect.fn\n  }\n\n  // 调用 ReactiveEffect 对进行封装\n  const _effect = new ReactiveEffect(fn)\n  // ...\n  // 判断是否有 options.lazy\n  // lazy 为 true 不会立即执行\n  if (!options || !options.lazy) {\n    _effect.run()\n  }\n  const runner = _effect.run.bind(_effect) as ReactiveEffectRunner\n  runner.effect = _effect\n  return runner\n}\n\n\nexport class ReactiveEffect<T = any> {\n  active = true\n  deps: Dep[] = []\n\n  // can be attached after creation\n  computed?: boolean\n  allowRecurse?: boolean\n  onStop?: () => void\n  // dev only\n  onTrack?: (event: DebuggerEvent) => void\n  // dev only\n  onTrigger?: (event: DebuggerEvent) => void\n\n  constructor(\n    public fn: () => T,\n    public scheduler: EffectScheduler | null = null,\n    scope?: EffectScope | null\n  ) {\n    recordEffectScope(this, scope)\n  }\n\n  run() {\n    if (!this.active) {\n      return this.fn()\n    }\n    if (!effectStack.includes(this)) {\n      try {\n        // 执行时将当前的 effect 存入 effectStack\n        // 并赋值给 activeEffect\n        // 在 track 时获取\n        effectStack.push((activeEffect = this))\n        enableTracking()\n        // ...\n        return this.fn()\n      } finally {\n        // ...\n        resetTracking()\n        effectStack.pop()\n        const n = effectStack.length\n        // 从 effectStack 继续取出上一个的 activeEffect 继续执行\n        activeEffect = n > 0 ? effectStack[n - 1] : undefined\n      }\n    }\n  }\n\n  stop() {\n    // ...\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n\n\n我们在使用 effect 时，会将我们传入的函数经过 ReactiveEffect 封装，如果我们没传入 { lazy: true } 则会立即执行 run 函数。\n\nrun 函数就是先赋值 activeEffect 并存入 effectStack，然后执行我们传入的回调函数。\n\n执行回调函数的过程会触发 Proxy 的 get，get 又会触发 track 进行依赖收集。\n\n执行完成后将 activeEffect 从 effectStack pop出去，并取出上一个 activeEffect 继续执行。\n\n> 为什么要用 effectStack ？\n> \n> 假如我们在 effect 中使用了 computed，Vue 需要先执行计算出 computed。\n> \n> computed 内部也会调用 ReactiveEffect，所以需要将 computed 的 effect 存入 effectStack ，当 computed 计算完成之后，则从 effectStack pop 出去，继续执行我们的 effect。\n\n如此便完成依赖收集，当响应式数据发生变化时则会触发 trigger，重新执行我们在 effect 中传入的回调函数。\n\n修改响应式数据为什么页面会自动更新？还记得上篇文章<深入 Vue3 源码，学习初始化流程>介绍的 setupRenderEffect 吗？\n\n这个方法也是利用了 ReactiveEffect，在 mount 的时候会触发 setupRenderEffect 执行进而触发 patch 。 patch 的过程中会使用响应式数据，从而建立依赖关系，当响应式数据发生变化时会重新执行 setupRenderEffect，后面就进入 diff 了，下篇文章在详细展开 diff。\n\n\n# 结语\n\n以上便是 Vue3 的响应式原理，只要了解了原理，能用自己的语言清晰的描述出来，面试肯定能增加成功率。\n\n好了，这篇文章就水到这里吧。如有错误的地方，希望还能在评论区指出，感谢！\n\n下篇文章将解析 Vue3 的 diff 算法，如果有兴趣的话别忘了关注我呀，我们一起学习、进步。',normalizedContent:'# vue2 响应式原理\n\n学过 vue2 的话应该知道响应式原理是由 object.defineproperty 对数据进行劫持，再加上订阅发布，实现数据的响应的。\n\nobject.defineproperty 存在以下几个方面的缺点。\n\n 1. 初始化的时候需要遍历对象的所有属性进行劫持，如果对象存在嵌套还需要进行递归。导致初始化的时候需要消耗一些资源用于递归遍历。\n 2. 从上面可以推导出 vue2 对于新增、删减对象属性是无法进行劫持，需要通过 vue.set、vue.delete 进行操作。\n 3. 每个调用者会生成一个 watcher，造成内存占用。\n 4. 无法劫持 set、map 对象。\n\n\n# vue3 响应式原理\n\n针对以上问题，vue3 改用了 es6 原生的 proxy 对数据进行代理。\n\nproxy 基本用法如下：\n\nconst reactive = (target) => {\n  return new proxy(target, {\n    get(target, key) {\n      console.log("get: ", key);\n      // return reflect.get(target, key);\n      return target[key];\n    },\n\n    set(target, key, value) {\n      console.log("set: ", key, " = ", value);\n      // reflect.set(target, key, value);\n      target[key] = value;\n      return value;\n    },\n  });\n};\n\nvar a = reactive({ count: 1 });\nconsole.log(a.count);\n\na.count = 2;\nconsole.log(a.count);\n\n// log 输出\n// get:  count\n// 1\n// set:  count  =  2\n// get:  count\n// 2\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n\n\n如此便可检测到数据的变化。接下来只需在 get 进行收集依赖，set 通知依赖更新。\n\n接下来还需借助 effect、track 和 trigger 方法。\n\neffect 函数传入一个回调函数，回调函数会立即执行，并自动与响应式数据建立依赖关系。\n\ntrack 在 proxy get 中执行，建立依赖关系。\n\ntrigger 响应式数据发生变化时，根据依赖关系找到对应函数进行执行。\n\n代码实现如下：\n\nconst reactive = (target) => {\n  return new proxy(target, {\n    get(target, key) {\n      console.log("[proxy get] ", key);\n      track(target, key);\n      // return reflect.get(target, key);\n      return target[key];\n    },\n\n    set(target, key, value) {\n      console.log("[proxy set]  ", key, " = ", value);\n      // reflect.set(target, key, value);\n      target[key] = value;\n      trigger(target, key);\n      return value;\n    },\n  });\n};\n\n// 用于存放 effect 传入的 fn，便于 track 时找到对应 fn\nconst effectstack = [];\n\n// 用于保存 响应式对象 和 fn 的关系\n// {\n//   target: {\n//     key: [fn, fn];\n//   }\n// }\nconst targetmap = {};\n\nconst track = (target, key) => {\n  let depsmap = targetmap[target];\n  if (!depsmap) {\n    targetmap[target] = depsmap = {};\n  }\n  let dep = depsmap[key];\n  if (!dep) {\n    depsmap[key] = dep = [];\n  }\n\n  // 建立依赖关系\n  const activeeffect = effectstack[effectstack.length - 1];\n  dep.push(activeeffect);\n};\n\nconst trigger = (target, key) => {\n  const depsmap = targetmap[target];\n  if (!depsmap) return;\n  const deps = depsmap[key];\n  // 根据依赖关系，找出 fn 并重新执行\n  deps.map(fn => {\n    fn();\n  });\n};\n\nconst effect = (fn) => {\n  try {\n    effectstack.push(fn);\n    fn();\n  } catch (error) {\n    effectstack.pop(fn);\n  }\n};\n\nvar a = reactive({ count: 1 });\n\neffect(() => {\n  console.log("[effect] ", a.count);\n});\n\na.count = 2;\n\n// log 输出\n// [proxy get]  count\n// [effect]  1\n// [proxy set]   count  =  2\n// [proxy get]  count\n// [effect]  2\n\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n\n\n以上代码并不是 vue3 的源码，而是 vue3 响应式的原理，相比起 vue2 要更加简单。\n\n执行顺序为\n\n 1. 调用 reactive 代理响应式对象；\n 2. 调用 effect ，会将 fn 保存至 effectstack，在执行 fn 时会触发 proxy 的 get；\n 3. 从 proxy 的 get 触发 track，将数据与 fn 建立关系；\n 4. 修改响应式数据，触发 proxy 的 set；\n 5. 从 proxy 的 set 触发 trigger，从而找出对应的 fn 并执行。\n\n弄清楚原理再去看源码会简单很多，下面我们一起去看下源码。\n\n\n# vue3 响应式源码\n\nvue3 的响应式是一个独立的模块，不依赖框架，甚至可以在 react、angular 中使用。\n\nreactive 函数位于 packages/reactivity/src/reactive.ts\n\n// packages/reactivity/src/reactive.ts\nexport function reactive(target: object) {\n  // if trying to observe a readonly proxy, return the readonly version.\n  if (target && (target as target)[reactiveflags.is_readonly]) {\n    return target\n  }\n  return createreactiveobject(\n    target,\n    false,\n    mutablehandlers,\n    mutablecollectionhandlers,\n    reactivemap\n  )\n}\n\nfunction createreactiveobject(\n  target: target,\n  isreadonly: boolean,\n  basehandlers: proxyhandler<any>,\n  collectionhandlers: proxyhandler<any>,\n  proxymap: weakmap<target, any>\n) {\n\t// ...\n  const proxy = new proxy(\n    target,\n    // 对 set、map 的集合使用 collectionhandlers（mutablecollectionhandlers）\n    // 普通对象使用 basehandlers（mutablehandlers）\n    targettype === targettype.collection ? collectionhandlers : basehandlers\n  )\n  // ...\n  return proxy\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n接下来看下 mutablehandlers\n\n// packages/reactivity/src/basehandlers.ts\nexport const mutablehandlers: proxyhandler<object> = {\n  get,\n  set,\n  deleteproperty,\n  has,\n  ownkeys\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n\n\n看下 get 和 set\n\n// packages/reactivity/src/basehandlers.ts\nconst get = /*#__pure__*/ creategetter()\n// ...\nfunction creategetter(isreadonly = false, shallow = false) {\n  return function get(target: target, key: string | symbol, receiver: object) {\n    // ...\n\n    const res = reflect.get(target, key, receiver)\n\n    if (issymbol(key) ? builtinsymbols.has(key) : isnontrackablekeys(key)) {\n      return res\n    }\n\n    if (!isreadonly) {\n      // 调用 track 建立依赖关系\n      track(target, trackoptypes.get, key)\n    }\n\n    // ...\n    return res\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n\n\n// packages/reactivity/src/basehandlers.ts\nconst set = /*#__pure__*/ createsetter()\n// ...\nfunction createsetter(shallow = false) {\n  return function set(\n    target: object,\n    key: string | symbol,\n    value: unknown,\n    receiver: object\n  ): boolean {\n    let oldvalue = (target as any)[key]\n    // ...\n    const result = reflect.set(target, key, value, receiver)\n    // don\'t trigger if target is something up in the prototype chain of original\n    if (target === toraw(receiver)) {\n      if (!hadkey) {\n        // 调用 trigger 通知依赖重新执行\n        trigger(target, triggeroptypes.add, key, value)\n      } else if (haschanged(value, oldvalue)) {\n        // 调用 trigger 通知依赖重新执行\n        trigger(target, triggeroptypes.set, key, value, oldvalue)\n      }\n    }\n    return result\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n接下来再看下 track\n\n// packages/reactivity/src/effect.ts\nexport function track(target: object, type: trackoptypes, key: unknown) {\n  if (!istracking()) {\n    return\n  }\n  let depsmap = targetmap.get(target)\n  if (!depsmap) {\n    targetmap.set(target, (depsmap = new map()))\n  }\n  let dep = depsmap.get(key)\n  if (!dep) {\n    depsmap.set(key, (dep = createdep()))\n  }\n\n  const eventinfo = __dev__\n    ? { effect: activeeffect, target, type, key }\n    : undefined\n\n  trackeffects(dep, eventinfo)\n}\n\n\nexport function trackeffects(\n  dep: dep,\n  debuggereventextrainfo?: debuggereventextrainfo\n) {\n\t// ...\n  if (shouldtrack) {\n    dep.add(activeeffect!)\n    activeeffect!.deps.push(dep)\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n\n\n上半部分与我们自己实现的逻辑很类似，先找出 dep 如果不存在则创建，只不过 vue 使用的是 map 和 set（createdep 返回值为 set）。\n\n然后是 trackeffects，关键代码就是 dep 和 activeeffect 互相保存，我们的做法只是将 activeeffect 存入 dep 。\n\n接下来看看 set 中调用的 trigger。\n\n// packages/reactivity/src/effect.ts\nexport function trigger(\n  target: object,\n  type: triggeroptypes,\n  key?: unknown,\n  newvalue?: unknown,\n  oldvalue?: unknown,\n  oldtarget?: map<unknown, unknown> | set<unknown>\n) {\n  const depsmap = targetmap.get(target)\n  if (!depsmap) {\n    // never been tracked\n    // 没有被 track 收集到，直接返回\n    return\n  }\n\n  let deps: (dep | undefined)[] = []\n  if (type === triggeroptypes.clear) {\n    // collection being cleared\n    // trigger all effects for target\n    // 清空依赖，需要触发与 target 关联的所有 effect\n    deps = [...depsmap.values()]\n  } else if (key === \'length\' && isarray(target)) {\n    // 修改数组的 length 时对应的处理\n    depsmap.foreach((dep, key) => {\n      if (key === \'length\' || key >= (newvalue as number)) {\n        deps.push(dep)\n      }\n    })\n  } else {\n    // schedule runs for set | add | delete\n    // 修改、新增、删除属性时执行\n    if (key !== void 0) {\n      deps.push(depsmap.get(key))\n    }\n\n    // also run for iteration key on add | delete | map.set\n    // 往 deps 中添加迭代器属性的 effect\n    switch (type) {\n      // ...\n    }\n  }\n  \n  // 以上操作则是为了取出 deps (targetmap[target][key])\n\n  // 下面的操作则是将 deps 中的 effect 取出并执行\n  // 开发时还会传入 eventinfo\n  const eventinfo = __dev__\n    ? { target, type, key, newvalue, oldvalue, oldtarget }\n    : undefined\n\n  if (deps.length === 1) {\n    if (deps[0]) {\n      if (__dev__) {\n        triggereffects(deps[0], eventinfo)\n      } else {\n        triggereffects(deps[0])\n      }\n    }\n  } else {\n    const effects: reactiveeffect[] = []\n    for (const dep of deps) {\n      if (dep) {\n        effects.push(...dep)\n      }\n    }\n    if (__dev__) {\n      triggereffects(createdep(effects), eventinfo)\n    } else {\n      triggereffects(createdep(effects))\n    }\n  }\n}\n\n// 执行 effect\nexport function triggereffects(\n  dep: dep | reactiveeffect[],\n  debuggereventextrainfo?: debuggereventextrainfo\n) {\n  // spread into array for stabilization\n  for (const effect of isarray(dep) ? dep : [...dep]) {\n    if (effect !== activeeffect || effect.allowrecurse) {\n      if (__dev__ && effect.ontrigger) {\n        effect.ontrigger(extend({ effect }, debuggereventextrainfo))\n      }\n      if (effect.scheduler) {\n        effect.scheduler()\n      } else {\n        effect.run()\n      }\n    }\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90\n91\n92\n93\n\n\ntrigger 函数看似很长，其实可以简化成我们的例子进行理解，无非就是取出对应的 deps ，遍历出 deps 中的 effect 并执行。\n\n接下来就该看看 effect 函数的实现了。\n\n// packages/reactivity/src/effect.ts\nexport function effect<t = any>(\n  fn: () => t,\n  options?: reactiveeffectoptions\n): reactiveeffectrunner {\n  if ((fn as reactiveeffectrunner).effect) {\n    fn = (fn as reactiveeffectrunner).effect.fn\n  }\n\n  // 调用 reactiveeffect 对进行封装\n  const _effect = new reactiveeffect(fn)\n  // ...\n  // 判断是否有 options.lazy\n  // lazy 为 true 不会立即执行\n  if (!options || !options.lazy) {\n    _effect.run()\n  }\n  const runner = _effect.run.bind(_effect) as reactiveeffectrunner\n  runner.effect = _effect\n  return runner\n}\n\n\nexport class reactiveeffect<t = any> {\n  active = true\n  deps: dep[] = []\n\n  // can be attached after creation\n  computed?: boolean\n  allowrecurse?: boolean\n  onstop?: () => void\n  // dev only\n  ontrack?: (event: debuggerevent) => void\n  // dev only\n  ontrigger?: (event: debuggerevent) => void\n\n  constructor(\n    public fn: () => t,\n    public scheduler: effectscheduler | null = null,\n    scope?: effectscope | null\n  ) {\n    recordeffectscope(this, scope)\n  }\n\n  run() {\n    if (!this.active) {\n      return this.fn()\n    }\n    if (!effectstack.includes(this)) {\n      try {\n        // 执行时将当前的 effect 存入 effectstack\n        // 并赋值给 activeeffect\n        // 在 track 时获取\n        effectstack.push((activeeffect = this))\n        enabletracking()\n        // ...\n        return this.fn()\n      } finally {\n        // ...\n        resettracking()\n        effectstack.pop()\n        const n = effectstack.length\n        // 从 effectstack 继续取出上一个的 activeeffect 继续执行\n        activeeffect = n > 0 ? effectstack[n - 1] : undefined\n      }\n    }\n  }\n\n  stop() {\n    // ...\n  }\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n\n\n我们在使用 effect 时，会将我们传入的函数经过 reactiveeffect 封装，如果我们没传入 { lazy: true } 则会立即执行 run 函数。\n\nrun 函数就是先赋值 activeeffect 并存入 effectstack，然后执行我们传入的回调函数。\n\n执行回调函数的过程会触发 proxy 的 get，get 又会触发 track 进行依赖收集。\n\n执行完成后将 activeeffect 从 effectstack pop出去，并取出上一个 activeeffect 继续执行。\n\n> 为什么要用 effectstack ？\n> \n> 假如我们在 effect 中使用了 computed，vue 需要先执行计算出 computed。\n> \n> computed 内部也会调用 reactiveeffect，所以需要将 computed 的 effect 存入 effectstack ，当 computed 计算完成之后，则从 effectstack pop 出去，继续执行我们的 effect。\n\n如此便完成依赖收集，当响应式数据发生变化时则会触发 trigger，重新执行我们在 effect 中传入的回调函数。\n\n修改响应式数据为什么页面会自动更新？还记得上篇文章<深入 vue3 源码，学习初始化流程>介绍的 setuprendereffect 吗？\n\n这个方法也是利用了 reactiveeffect，在 mount 的时候会触发 setuprendereffect 执行进而触发 patch 。 patch 的过程中会使用响应式数据，从而建立依赖关系，当响应式数据发生变化时会重新执行 setuprendereffect，后面就进入 diff 了，下篇文章在详细展开 diff。\n\n\n# 结语\n\n以上便是 vue3 的响应式原理，只要了解了原理，能用自己的语言清晰的描述出来，面试肯定能增加成功率。\n\n好了，这篇文章就水到这里吧。如有错误的地方，希望还能在评论区指出，感谢！\n\n下篇文章将解析 vue3 的 diff 算法，如果有兴趣的话别忘了关注我呀，我们一起学习、进步。',charsets:{cjk:!0}},{title:"如何用 OpenWrite 给 VuePress 配置博客导流公众号插件 - 公众号获取验证码阅读全文",frontmatter:{title:"如何用 OpenWrite 给 VuePress 配置博客导流公众号插件 - 公众号获取验证码阅读全文",date:"2021-05-18T00:00:00.000Z",categories:["VuePress"],tags:["公众号","VuePress","引流","OpenWrite"],description:"经常在网络上浏览文章的小伙伴可能会遇到一些这样的文章，当我们看的正起劲的时候，剩余的内容都被隐藏了，需要到指定公众号回复关键词解锁。\n这两天我也给我的博客加上了，因为踩了一些坑，所以记录一下，希望能帮助到更多人。接下来一起来看看是如何配置的吧。",meta:[{name:"image",content:"https://feiben-1253434158.cos.ap-guangzhou.myqcloud.com/PicGo/form.png"},{name:"twitter:title",content:"如何用 OpenWrite 给 VuePress 配置博客导流公众号插件 - 公众号获取验证码阅读全文"},{name:"twitter:description",content:"经常在网络上浏览文章的小伙伴可能会遇到一些这样的文章，当我们看的正起劲的时候，剩余的内容都被隐藏了，需要到指定公众号回复关键词解锁。\n这两天我也给我的博客加上了，因为踩了一些坑，所以记录一下，希望能帮助到更多人。接下来一起来看看是如何配置的吧。"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://feiben-1253434158.cos.ap-guangzhou.myqcloud.com/PicGo/form.png"},{name:"twitter:url",content:"https://www.fedevelop.cn/views/%E9%9A%8F%E7%AC%94/2021/VuePress%20%E9%85%8D%E7%BD%AE%E5%85%AC%E4%BC%97%E5%8F%B7%E8%8E%B7%E5%8F%96%E9%AA%8C%E8%AF%81%E7%A0%81%E9%98%85%E8%AF%BB%E5%85%A8%E6%96%87%20-%20%E5%85%AC%E4%BC%97%E5%8F%B7%E5%BC%95%E6%B5%81%E6%8F%92%E4%BB%B6.html"},{property:"og:type",content:"article"},{property:"og:title",content:"如何用 OpenWrite 给 VuePress 配置博客导流公众号插件 - 公众号获取验证码阅读全文"},{property:"og:description",content:"经常在网络上浏览文章的小伙伴可能会遇到一些这样的文章，当我们看的正起劲的时候，剩余的内容都被隐藏了，需要到指定公众号回复关键词解锁。\n这两天我也给我的博客加上了，因为踩了一些坑，所以记录一下，希望能帮助到更多人。接下来一起来看看是如何配置的吧。"},{property:"og:image",content:"https://feiben-1253434158.cos.ap-guangzhou.myqcloud.com/PicGo/form.png"},{property:"og:url",content:"https://www.fedevelop.cn/views/%E9%9A%8F%E7%AC%94/2021/VuePress%20%E9%85%8D%E7%BD%AE%E5%85%AC%E4%BC%97%E5%8F%B7%E8%8E%B7%E5%8F%96%E9%AA%8C%E8%AF%81%E7%A0%81%E9%98%85%E8%AF%BB%E5%85%A8%E6%96%87%20-%20%E5%85%AC%E4%BC%97%E5%8F%B7%E5%BC%95%E6%B5%81%E6%8F%92%E4%BB%B6.html"},{property:"og:site_name",content:"前端develop"},{property:"article:published_time",content:"2021-05-18T00:00:00.000Z"},{property:"article:tag",content:"公众号"},{property:"article:tag",content:"VuePress"},{property:"article:tag",content:"引流"},{property:"article:tag",content:"OpenWrite"},{itemprop:"name",content:"如何用 OpenWrite 给 VuePress 配置博客导流公众号插件 - 公众号获取验证码阅读全文"},{itemprop:"description",content:"经常在网络上浏览文章的小伙伴可能会遇到一些这样的文章，当我们看的正起劲的时候，剩余的内容都被隐藏了，需要到指定公众号回复关键词解锁。\n这两天我也给我的博客加上了，因为踩了一些坑，所以记录一下，希望能帮助到更多人。接下来一起来看看是如何配置的吧。"},{itemprop:"image",content:"https://feiben-1253434158.cos.ap-guangzhou.myqcloud.com/PicGo/form.png"}]},regularPath:"/views/%E9%9A%8F%E7%AC%94/2021/VuePress%20%E9%85%8D%E7%BD%AE%E5%85%AC%E4%BC%97%E5%8F%B7%E8%8E%B7%E5%8F%96%E9%AA%8C%E8%AF%81%E7%A0%81%E9%98%85%E8%AF%BB%E5%85%A8%E6%96%87%20-%20%E5%85%AC%E4%BC%97%E5%8F%B7%E5%BC%95%E6%B5%81%E6%8F%92%E4%BB%B6.html",relativePath:"views/随笔/2021/VuePress 配置公众号获取验证码阅读全文 - 公众号引流插件.md",key:"v-78add9ad",path:"/views/%E9%9A%8F%E7%AC%94/2021/VuePress%20%E9%85%8D%E7%BD%AE%E5%85%AC%E4%BC%97%E5%8F%B7%E8%8E%B7%E5%8F%96%E9%AA%8C%E8%AF%81%E7%A0%81%E9%98%85%E8%AF%BB%E5%85%A8%E6%96%87%20-%20%E5%85%AC%E4%BC%97%E5%8F%B7%E5%BC%95%E6%B5%81%E6%8F%92%E4%BB%B6.html",headers:[{level:2,title:"OpenWrite",slug:"openwrite",normalizedTitle:"openwrite",charIndex:128},{level:2,title:"公众号配置",slug:"公众号配置",normalizedTitle:"公众号配置",charIndex:382},{level:2,title:"VuePress 配置",slug:"vuepress-配置",normalizedTitle:"vuepress 配置",charIndex:523},{level:3,title:"最终方案",slug:"最终方案",normalizedTitle:"最终方案",charIndex:1727},{level:2,title:"OpenWrite 工具的优缺点",slug:"openwrite-工具的优缺点",normalizedTitle:"openwrite 工具的优缺点",charIndex:2474}],excerpt:"<p>经常在网络上浏览文章的小伙伴可能会遇到一些这样的文章，当我们看的正起劲的时候，剩余的内容都被隐藏了，需要到指定公众号回复关键词解锁。</p>\n<p>这两天我也给我的博客加上了，因为踩了一些坑，所以记录一下，希望能帮助到更多人。接下来一起来看看是如何配置的吧。</p>\n",lastUpdated:"5/23/2021, 12:01:40 PM",headersStr:"OpenWrite 公众号配置 VuePress 配置 最终方案 OpenWrite 工具的优缺点",content:"经常在网络上浏览文章的小伙伴可能会遇到一些这样的文章，当我们看的正起劲的时候，剩余的内容都被隐藏了，需要到指定公众号回复关键词解锁。\n\n这两天我也给我的博客加上了，因为踩了一些坑，所以记录一下，希望能帮助到更多人。接下来一起来看看是如何配置的吧。\n\n\n# OpenWrite\n\n> OpenWrite 是一个群发软件、博客导流公众号-阅读全文工具、媒体发布平台、博客群发平台、软文推广平台、软文推广发布、博客发布官网引流科技小工具、微信公众号Markdown编辑器、多平台免费图床配置、Markdown 编辑器的免费简洁流畅、文章一键群发等的免费自媒体运营工具助手。\n\n这里我们借助 OpenWrite 提供的 博客导流公众号\n\n填好如下表单，即可生成生成你的 blogId\n\n\n\n返回 博客列表 查看刚刚生成的 blogId。接下里既可以开始进行配置。\n\n\n# 公众号配置\n\n登录公众号后台 配置关键词自动回复即可\n\n\n\n自动回复内容如下\n\n<a href=\"https://readmore.openwrite.cn/code/generate?blogId=yourBlogId\">点击该链接，获取博客解锁验证码</a>\n\n\n1\n\n\n\n# VuePress 配置\n\nOpenWrite 的教程描述如下\n\n\n\n 1. 添加 https://readmore.openwrite.cn/js/readmore.js\n\n这个还比较好处理，在 docs/.vuepress/config.js 的 head 添加多一条数据即可\n\n// docs/.vuepress/config.js\nhead: [\n  ...,\n  ['script', { charset: 'utf-8', src: 'https://readmore.openwrite.cn/js/readmore.js' }]\n]\n\n\n1\n2\n3\n4\n5\n\n 2. 添加脚本\n\n主要是在这一步踩了一些坑。希望看完我的解决方法后能够帮助到你。\n\n * init 方法中的 id\n\n此 id 必须为容器的 id，而 VuePress 的内容容器并没有 id 的属性。那么只能通过 js 添加 id，代码如下\n\nconst container = document.querySelector('.theme-reco-content.content__default');\ncontainer.setAttribute('id', 'container');\n\n\n1\n2\n\n * 加载 js\n\n一开始我也在 docs/.vuepress/config.js 的 head 中导入这么一个 js，结果报错了，提示找不到容器。\n\n因为在 head 中的 js 会在页面内容生成之前就执行了，为了解决这个问题，我加上了 window.onload 事件，然后又报了另外一个错: btw is not defined，经过检查发现 readmore.js 直接使用全局的 btw 对象。\n\n于是我将 btw 添加到 window 上，这次再看效果，貌似可以了。\n\nwindow.onload = () => {\n  const container = document.querySelector('.theme-reco-content.content__default');\n  container.setAttribute('id', 'container');\n  window.btw = new BTWPlugin();\n  window.btw.init({\n    id: 'container',\n    blogId: 'xxx',\n    name: '前端develop',\n    qrcode: 'xxx',\n    keyword: '验证码',\n  });\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n经过测试，发现只有第一次进入页面时有效，因为 VuePress 也是一个单页应用，onload 事件只会触发一次，所以这个方法还是行不通。\n\n\n# 最终方案\n\n最后还是用 Vue 全局的 Mixin ，代码如下：\n\n// docs/.vuepress/enhanceApp.js\n// 使用异步函数也是可以的\nexport default ({\n  Vue, // VuePress 正在使用的 Vue 构造函数\n  options, // 附加到根实例的一些选项\n  router, // 当前应用的路由实例\n  siteData, // 站点元数据\n  isServer, // 当前应用配置是处于 服务端渲染 或 客户端\n}) => {\n  Vue.mixin({\n    // 混合注入,加载全局文件\n    mounted() {\n      const container = document.querySelector('.theme-reco-content.content__default');\n      if (!container) return;\n      container.setAttribute('id', 'container');\n      window.btw = new BTWPlugin();\n      window.btw.init({\n        id: 'container',\n        blogId: 'xxx',\n        name: '前端develop',\n        qrcode: 'xxx',\n        keyword: '验证码',\n      });\n    }\n  });\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n\n# OpenWrite 工具的优缺点\n\n先说下缺点\n\n 1. OpenWrite 隐藏文章内容是通过 CSS 样式实现的，那么稍微懂点前端的同学，就可以直接改 CSS 查看全文。主要样式如下：\n\nposition: relative;\nheight: 350px;\noverflow: hidden;\n\n\n1\n2\n3\n\n\n 2. 公众号关键词回复的内容为 https://readmore.openwrite.cn/code/generate?blogId=yourBlogId，如果用户知道 blogId 那么可以直接打开该链接获取验证码。\n\n 3. 目前已有一些浏览器插件可以将关闭 OpenWrite 的隐藏功能。\n\n优点就是免服务器、免开发，这对于我来说已经足矣。\n\n以上就是本文的全部内容，希望能帮助到你，如有疑问，欢迎评论区留言讨论或者可以到我的公众号获取微信联系我。",normalizedContent:"经常在网络上浏览文章的小伙伴可能会遇到一些这样的文章，当我们看的正起劲的时候，剩余的内容都被隐藏了，需要到指定公众号回复关键词解锁。\n\n这两天我也给我的博客加上了，因为踩了一些坑，所以记录一下，希望能帮助到更多人。接下来一起来看看是如何配置的吧。\n\n\n# openwrite\n\n> openwrite 是一个群发软件、博客导流公众号-阅读全文工具、媒体发布平台、博客群发平台、软文推广平台、软文推广发布、博客发布官网引流科技小工具、微信公众号markdown编辑器、多平台免费图床配置、markdown 编辑器的免费简洁流畅、文章一键群发等的免费自媒体运营工具助手。\n\n这里我们借助 openwrite 提供的 博客导流公众号\n\n填好如下表单，即可生成生成你的 blogid\n\n\n\n返回 博客列表 查看刚刚生成的 blogid。接下里既可以开始进行配置。\n\n\n# 公众号配置\n\n登录公众号后台 配置关键词自动回复即可\n\n\n\n自动回复内容如下\n\n<a href=\"https://readmore.openwrite.cn/code/generate?blogid=yourblogid\">点击该链接，获取博客解锁验证码</a>\n\n\n1\n\n\n\n# vuepress 配置\n\nopenwrite 的教程描述如下\n\n\n\n 1. 添加 https://readmore.openwrite.cn/js/readmore.js\n\n这个还比较好处理，在 docs/.vuepress/config.js 的 head 添加多一条数据即可\n\n// docs/.vuepress/config.js\nhead: [\n  ...,\n  ['script', { charset: 'utf-8', src: 'https://readmore.openwrite.cn/js/readmore.js' }]\n]\n\n\n1\n2\n3\n4\n5\n\n 2. 添加脚本\n\n主要是在这一步踩了一些坑。希望看完我的解决方法后能够帮助到你。\n\n * init 方法中的 id\n\n此 id 必须为容器的 id，而 vuepress 的内容容器并没有 id 的属性。那么只能通过 js 添加 id，代码如下\n\nconst container = document.queryselector('.theme-reco-content.content__default');\ncontainer.setattribute('id', 'container');\n\n\n1\n2\n\n * 加载 js\n\n一开始我也在 docs/.vuepress/config.js 的 head 中导入这么一个 js，结果报错了，提示找不到容器。\n\n因为在 head 中的 js 会在页面内容生成之前就执行了，为了解决这个问题，我加上了 window.onload 事件，然后又报了另外一个错: btw is not defined，经过检查发现 readmore.js 直接使用全局的 btw 对象。\n\n于是我将 btw 添加到 window 上，这次再看效果，貌似可以了。\n\nwindow.onload = () => {\n  const container = document.queryselector('.theme-reco-content.content__default');\n  container.setattribute('id', 'container');\n  window.btw = new btwplugin();\n  window.btw.init({\n    id: 'container',\n    blogid: 'xxx',\n    name: '前端develop',\n    qrcode: 'xxx',\n    keyword: '验证码',\n  });\n}\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n\n\n经过测试，发现只有第一次进入页面时有效，因为 vuepress 也是一个单页应用，onload 事件只会触发一次，所以这个方法还是行不通。\n\n\n# 最终方案\n\n最后还是用 vue 全局的 mixin ，代码如下：\n\n// docs/.vuepress/enhanceapp.js\n// 使用异步函数也是可以的\nexport default ({\n  vue, // vuepress 正在使用的 vue 构造函数\n  options, // 附加到根实例的一些选项\n  router, // 当前应用的路由实例\n  sitedata, // 站点元数据\n  isserver, // 当前应用配置是处于 服务端渲染 或 客户端\n}) => {\n  vue.mixin({\n    // 混合注入,加载全局文件\n    mounted() {\n      const container = document.queryselector('.theme-reco-content.content__default');\n      if (!container) return;\n      container.setattribute('id', 'container');\n      window.btw = new btwplugin();\n      window.btw.init({\n        id: 'container',\n        blogid: 'xxx',\n        name: '前端develop',\n        qrcode: 'xxx',\n        keyword: '验证码',\n      });\n    }\n  });\n};\n\n\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n\n\n\n# openwrite 工具的优缺点\n\n先说下缺点\n\n 1. openwrite 隐藏文章内容是通过 css 样式实现的，那么稍微懂点前端的同学，就可以直接改 css 查看全文。主要样式如下：\n\nposition: relative;\nheight: 350px;\noverflow: hidden;\n\n\n1\n2\n3\n\n\n 2. 公众号关键词回复的内容为 https://readmore.openwrite.cn/code/generate?blogid=yourblogid，如果用户知道 blogid 那么可以直接打开该链接获取验证码。\n\n 3. 目前已有一些浏览器插件可以将关闭 openwrite 的隐藏功能。\n\n优点就是免服务器、免开发，这对于我来说已经足矣。\n\n以上就是本文的全部内容，希望能帮助到你，如有疑问，欢迎评论区留言讨论或者可以到我的公众号获取微信联系我。",charsets:{cjk:!0}},{title:"朋友圈小霸王游戏机，快来领取链接和源码找回青春记忆",frontmatter:{title:"朋友圈小霸王游戏机，快来领取链接和源码找回青春记忆",date:"2021-05-22T00:00:00.000Z",categories:["随笔"],tags:["小霸王游戏机","JSENS"],description:"今天不知道什么情况，朋友圈、微信群都在发小霸王游戏机。\n作为互联网从业者，体验一番之后肯定是找源码看看啦，发现作者是在 2020-09 就发版了，可能最近被短视频带火了。",meta:[{name:"image",content:"https://feiben-1253434158.cos.ap-guangzhou.myqcloud.com/PicGo/fc.png"},{name:"twitter:title",content:"朋友圈小霸王游戏机，快来领取链接和源码找回青春记忆"},{name:"twitter:description",content:"今天不知道什么情况，朋友圈、微信群都在发小霸王游戏机。\n作为互联网从业者，体验一番之后肯定是找源码看看啦，发现作者是在 2020-09 就发版了，可能最近被短视频带火了。"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:"https://feiben-1253434158.cos.ap-guangzhou.myqcloud.com/PicGo/fc.png"},{name:"twitter:url",content:"https://www.fedevelop.cn/views/%E9%9A%8F%E7%AC%94/2021/%E6%9C%8B%E5%8F%8B%E5%9C%88%E5%B0%8F%E9%9C%B8%E7%8E%8B%E6%B8%B8%E6%88%8F%E6%9C%BA%EF%BC%8C%E5%BF%AB%E6%9D%A5%E9%A2%86%E5%8F%96%E9%93%BE%E6%8E%A5%E5%92%8C%E6%BA%90%E7%A0%81%E6%89%BE%E5%9B%9E%E9%9D%92%E6%98%A5%E8%AE%B0%E5%BF%86.html"},{property:"og:type",content:"article"},{property:"og:title",content:"朋友圈小霸王游戏机，快来领取链接和源码找回青春记忆"},{property:"og:description",content:"今天不知道什么情况，朋友圈、微信群都在发小霸王游戏机。\n作为互联网从业者，体验一番之后肯定是找源码看看啦，发现作者是在 2020-09 就发版了，可能最近被短视频带火了。"},{property:"og:image",content:"https://feiben-1253434158.cos.ap-guangzhou.myqcloud.com/PicGo/fc.png"},{property:"og:url",content:"https://www.fedevelop.cn/views/%E9%9A%8F%E7%AC%94/2021/%E6%9C%8B%E5%8F%8B%E5%9C%88%E5%B0%8F%E9%9C%B8%E7%8E%8B%E6%B8%B8%E6%88%8F%E6%9C%BA%EF%BC%8C%E5%BF%AB%E6%9D%A5%E9%A2%86%E5%8F%96%E9%93%BE%E6%8E%A5%E5%92%8C%E6%BA%90%E7%A0%81%E6%89%BE%E5%9B%9E%E9%9D%92%E6%98%A5%E8%AE%B0%E5%BF%86.html"},{property:"og:site_name",content:"前端develop"},{property:"article:published_time",content:"2021-05-22T00:00:00.000Z"},{property:"article:tag",content:"小霸王游戏机"},{property:"article:tag",content:"JSENS"},{itemprop:"name",content:"朋友圈小霸王游戏机，快来领取链接和源码找回青春记忆"},{itemprop:"description",content:"今天不知道什么情况，朋友圈、微信群都在发小霸王游戏机。\n作为互联网从业者，体验一番之后肯定是找源码看看啦，发现作者是在 2020-09 就发版了，可能最近被短视频带火了。"},{itemprop:"image",content:"https://feiben-1253434158.cos.ap-guangzhou.myqcloud.com/PicGo/fc.png"}]},regularPath:"/views/%E9%9A%8F%E7%AC%94/2021/%E6%9C%8B%E5%8F%8B%E5%9C%88%E5%B0%8F%E9%9C%B8%E7%8E%8B%E6%B8%B8%E6%88%8F%E6%9C%BA%EF%BC%8C%E5%BF%AB%E6%9D%A5%E9%A2%86%E5%8F%96%E9%93%BE%E6%8E%A5%E5%92%8C%E6%BA%90%E7%A0%81%E6%89%BE%E5%9B%9E%E9%9D%92%E6%98%A5%E8%AE%B0%E5%BF%86.html",relativePath:"views/随笔/2021/朋友圈小霸王游戏机，快来领取链接和源码找回青春记忆.md",key:"v-4ab872ee",path:"/views/%E9%9A%8F%E7%AC%94/2021/%E6%9C%8B%E5%8F%8B%E5%9C%88%E5%B0%8F%E9%9C%B8%E7%8E%8B%E6%B8%B8%E6%88%8F%E6%9C%BA%EF%BC%8C%E5%BF%AB%E6%9D%A5%E9%A2%86%E5%8F%96%E9%93%BE%E6%8E%A5%E5%92%8C%E6%BA%90%E7%A0%81%E6%89%BE%E5%9B%9E%E9%9D%92%E6%98%A5%E8%AE%B0%E5%BF%86.html",excerpt:"<p>今天不知道什么情况，朋友圈、微信群都在发小霸王游戏机。</p>\n<p>作为互联网从业者，体验一番之后肯定是找源码看看啦，发现作者是在 2020-09 就发版了，可能最近被短视频带火了。</p>\n",lastUpdated:"5/22/2021, 8:25:01 PM",headersStr:null,content:"今天不知道什么情况，朋友圈、微信群都在发小霸王游戏机。\n\n作为互联网从业者，体验一番之后肯定是找源码看看啦，发现作者是在 2020-09 就发版了，可能最近被短视频带火了。\n\n作者是基于 JSNES (https://github.com/bfirsh/jsnes) 这个库开发的，JSNES 是一个 JavaScript 实现的红白机模拟器。\n\n用这个模拟器可以运行各种红白机游戏，以前的小霸王游戏机运行的游戏一样可以运行。\n\n官方案例的界面比较简陋，原作者修改了界面布局，看起来更像游戏机。\n\n这波操作让许多 80，90 一下就找回了童年记忆，也是走红的原因吧。\n\n\n\n不多 BB 了，想在线体验的小伙伴可以在公众号后台回复「小霸王」即可。\n\n如需源码，请在公众号回复「助理」获取。",normalizedContent:"今天不知道什么情况，朋友圈、微信群都在发小霸王游戏机。\n\n作为互联网从业者，体验一番之后肯定是找源码看看啦，发现作者是在 2020-09 就发版了，可能最近被短视频带火了。\n\n作者是基于 jsnes (https://github.com/bfirsh/jsnes) 这个库开发的，jsnes 是一个 javascript 实现的红白机模拟器。\n\n用这个模拟器可以运行各种红白机游戏，以前的小霸王游戏机运行的游戏一样可以运行。\n\n官方案例的界面比较简陋，原作者修改了界面布局，看起来更像游戏机。\n\n这波操作让许多 80，90 一下就找回了童年记忆，也是走红的原因吧。\n\n\n\n不多 bb 了，想在线体验的小伙伴可以在公众号后台回复「小霸王」即可。\n\n如需源码，请在公众号回复「助理」获取。",charsets:{cjk:!0}},{frontmatter:{layout:"Tags",title:"Tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tag/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tag/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tag/",key:"v-b1564aac",path:"/tag/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"FrontmatterKey",title:"Categories",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/categories/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/categories/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/categories/",key:"v-ef9325c4",path:"/categories/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"Deno tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/Deno/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/Deno/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/Deno/",key:"v-68f607ec",path:"/tags/Deno/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"Docker tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/Docker/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/Docker/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/Docker/",key:"v-140837ce",path:"/tags/Docker/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"Dockerfile tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/Dockerfile/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/Dockerfile/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/Dockerfile/",key:"v-34b7eb5c",path:"/tags/Dockerfile/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"Nexus tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/Nexus/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/Nexus/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/Nexus/",key:"v-723fd31e",path:"/tags/Nexus/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"Nginx tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/Nginx/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/Nginx/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/Nginx/",key:"v-72154b94",path:"/tags/Nginx/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"今日头条 tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/%E4%BB%8A%E6%97%A5%E5%A4%B4%E6%9D%A1/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/%E4%BB%8A%E6%97%A5%E5%A4%B4%E6%9D%A1/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/%E4%BB%8A%E6%97%A5%E5%A4%B4%E6%9D%A1/",key:"v-3a3ca238",path:"/tags/今日头条/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"selenium tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/selenium/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/selenium/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/selenium/",key:"v-2ef4eeb0",path:"/tags/selenium/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"滑块验证码 tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/%E6%BB%91%E5%9D%97%E9%AA%8C%E8%AF%81%E7%A0%81/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/%E6%BB%91%E5%9D%97%E9%AA%8C%E8%AF%81%E7%A0%81/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/%E6%BB%91%E5%9D%97%E9%AA%8C%E8%AF%81%E7%A0%81/",key:"v-2062ecb1",path:"/tags/滑块验证码/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"装饰器 tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/%E8%A3%85%E9%A5%B0%E5%99%A8/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/%E8%A3%85%E9%A5%B0%E5%99%A8/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/%E8%A3%85%E9%A5%B0%E5%99%A8/",key:"v-01306f34",path:"/tags/装饰器/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"关于我 tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/%E5%85%B3%E4%BA%8E%E6%88%91/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/%E5%85%B3%E4%BA%8E%E6%88%91/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/%E5%85%B3%E4%BA%8E%E6%88%91/",key:"v-0f8f667b",path:"/tags/关于我/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"Vue tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/Vue/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/Vue/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/Vue/",key:"v-6683f60a",path:"/tags/Vue/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"地图 tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/%E5%9C%B0%E5%9B%BE/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/%E5%9C%B0%E5%9B%BE/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/%E5%9C%B0%E5%9B%BE/",key:"v-f61d6310",path:"/tags/地图/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"Nuxt tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/Nuxt/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/Nuxt/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/Nuxt/",key:"v-698a5f0b",path:"/tags/Nuxt/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"微信 tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/%E5%BE%AE%E4%BF%A1/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/%E5%BE%AE%E4%BF%A1/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/%E5%BE%AE%E4%BF%A1/",key:"v-48276b04",path:"/tags/微信/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"NPM tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/NPM/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/NPM/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/NPM/",key:"v-667fc545",path:"/tags/NPM/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"源码 tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/%E6%BA%90%E7%A0%81/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/%E6%BA%90%E7%A0%81/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/%E6%BA%90%E7%A0%81/",key:"v-5c7a564a",path:"/tags/源码/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"Diff tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/Diff/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/Diff/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/Diff/",key:"v-68f7ba49",path:"/tags/Diff/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"面试题 tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/",key:"v-6c55000e",path:"/tags/面试题/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"Promise tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/Promise/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/Promise/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/Promise/",key:"v-02507ed6",path:"/tags/Promise/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"canvas tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/canvas/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/canvas/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/canvas/",key:"v-64a57fb6",path:"/tags/canvas/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"lw-chart tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/lw-chart/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/lw-chart/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/lw-chart/",key:"v-66808cb2",path:"/tags/lw-chart/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"插件开发 tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91/",key:"v-5bd4d7d4",path:"/tags/插件开发/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"Serverless tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/Serverless/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/Serverless/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/Serverless/",key:"v-3b2e5e92",path:"/tags/Serverless/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"小程序 tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/",key:"v-8bf328fe",path:"/tags/小程序/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"云开发 tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/%E4%BA%91%E5%BC%80%E5%8F%91/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/%E4%BA%91%E5%BC%80%E5%8F%91/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/%E4%BA%91%E5%BC%80%E5%8F%91/",key:"v-d4092720",path:"/tags/云开发/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"网站安全 tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/%E7%BD%91%E7%AB%99%E5%AE%89%E5%85%A8/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/%E7%BD%91%E7%AB%99%E5%AE%89%E5%85%A8/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/%E7%BD%91%E7%AB%99%E5%AE%89%E5%85%A8/",key:"v-6774d888",path:"/tags/网站安全/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"抓包 tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/%E6%8A%93%E5%8C%85/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/%E6%8A%93%E5%8C%85/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/%E6%8A%93%E5%8C%85/",key:"v-2fcc8e4e",path:"/tags/抓包/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"Charles tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/Charles/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/Charles/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/Charles/",key:"v-e0642068",path:"/tags/Charles/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"Postman tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/Postman/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/Postman/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/Postman/",key:"v-675ca4d6",path:"/tags/Postman/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"CI tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/CI/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/CI/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/CI/",key:"v-2aefd430",path:"/tags/CI/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"Travis tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/Travis/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/Travis/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/Travis/",key:"v-677355f1",path:"/tags/Travis/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"培训 tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/%E5%9F%B9%E8%AE%AD/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/%E5%9F%B9%E8%AE%AD/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/%E5%9F%B9%E8%AE%AD/",key:"v-a7ecfb54",path:"/tags/培训/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"未来 tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/%E6%9C%AA%E6%9D%A5/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/%E6%9C%AA%E6%9D%A5/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/%E6%9C%AA%E6%9D%A5/",key:"v-1916bc1b",path:"/tags/未来/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"面试 tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/%E9%9D%A2%E8%AF%95/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/%E9%9D%A2%E8%AF%95/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/%E9%9D%A2%E8%AF%95/",key:"v-1110d61e",path:"/tags/面试/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"Vue3 tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/Vue3/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/Vue3/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/Vue3/",key:"v-69facbe1",path:"/tags/Vue3/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"程序员 tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/%E7%A8%8B%E5%BA%8F%E5%91%98/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/%E7%A8%8B%E5%BA%8F%E5%91%98/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/%E7%A8%8B%E5%BA%8F%E5%91%98/",key:"v-61666fae",path:"/tags/程序员/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"第二技能 tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/%E7%AC%AC%E4%BA%8C%E6%8A%80%E8%83%BD/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/%E7%AC%AC%E4%BA%8C%E6%8A%80%E8%83%BD/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/%E7%AC%AC%E4%BA%8C%E6%8A%80%E8%83%BD/",key:"v-d3327f2a",path:"/tags/第二技能/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"自媒体 tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/%E8%87%AA%E5%AA%92%E4%BD%93/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/%E8%87%AA%E5%AA%92%E4%BD%93/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/%E8%87%AA%E5%AA%92%E4%BD%93/",key:"v-7b3d6199",path:"/tags/自媒体/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"公众号 tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/%E5%85%AC%E4%BC%97%E5%8F%B7/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/%E5%85%AC%E4%BC%97%E5%8F%B7/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/%E5%85%AC%E4%BC%97%E5%8F%B7/",key:"v-8638f0aa",path:"/tags/公众号/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"VuePress tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/VuePress/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/VuePress/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/VuePress/",key:"v-4b5c4b71",path:"/tags/VuePress/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"引流 tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/%E5%BC%95%E6%B5%81/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/%E5%BC%95%E6%B5%81/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/%E5%BC%95%E6%B5%81/",key:"v-7133adbc",path:"/tags/引流/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"OpenWrite tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/OpenWrite/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/OpenWrite/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/OpenWrite/",key:"v-db20ae0a",path:"/tags/OpenWrite/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"小霸王游戏机 tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/%E5%B0%8F%E9%9C%B8%E7%8E%8B%E6%B8%B8%E6%88%8F%E6%9C%BA/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/%E5%B0%8F%E9%9C%B8%E7%8E%8B%E6%B8%B8%E6%88%8F%E6%9C%BA/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/%E5%B0%8F%E9%9C%B8%E7%8E%8B%E6%B8%B8%E6%88%8F%E6%9C%BA/",key:"v-3e45c675",path:"/tags/小霸王游戏机/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Tag",title:"JSENS tags",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/tags/JSENS/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/tags/JSENS/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/tags/JSENS/",key:"v-821170a2",path:"/tags/JSENS/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Category",title:"Deno categories",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/categories/Deno/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/categories/Deno/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/categories/Deno/",key:"v-60e4e7ef",path:"/categories/Deno/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Category",title:"Docker categories",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/categories/Docker/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/categories/Docker/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/categories/Docker/",key:"v-6881b9de",path:"/categories/Docker/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Category",title:"Nginx categories",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/categories/Nginx/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/categories/Nginx/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/categories/Nginx/",key:"v-663b0ada",path:"/categories/Nginx/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Category",title:"Python categories",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/categories/Python/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/categories/Python/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/categories/Python/",key:"v-5888b7d5",path:"/categories/Python/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Category",title:"关于我 categories",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/categories/%E5%85%B3%E4%BA%8E%E6%88%91/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/categories/%E5%85%B3%E4%BA%8E%E6%88%91/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/categories/%E5%85%B3%E4%BA%8E%E6%88%91/",key:"v-5ce93318",path:"/categories/关于我/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Category",title:"前端 categories",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/categories/%E5%89%8D%E7%AB%AF/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/categories/%E5%89%8D%E7%AB%AF/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/categories/%E5%89%8D%E7%AB%AF/",key:"v-14bbbf36",path:"/categories/前端/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Category",title:"插件 categories",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/categories/%E6%8F%92%E4%BB%B6/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/categories/%E6%8F%92%E4%BB%B6/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/categories/%E6%8F%92%E4%BB%B6/",key:"v-375741ea",path:"/categories/插件/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Category",title:"CI categories",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/categories/CI/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/categories/CI/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/categories/CI/",key:"v-35a51aab",path:"/categories/CI/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Category",title:"随笔 categories",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/categories/%E9%9A%8F%E7%AC%94/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/categories/%E9%9A%8F%E7%AC%94/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/categories/%E9%9A%8F%E7%AC%94/",key:"v-2bf76980",path:"/categories/随笔/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Category",title:"VuePress categories",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/categories/VuePress/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/categories/VuePress/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/categories/VuePress/",key:"v-1df51c18",path:"/categories/VuePress/",headersStr:null,content:"",normalizedContent:"",charsets:{}},{frontmatter:{layout:"Layout",title:"Page 1 - 前端 | categories",description:"",meta:[{name:"twitter:title",content:""},{name:"twitter:description",content:""},{name:"twitter:card",content:"summary"},{name:"twitter:url",content:"https://www.fedevelop.cn/categories/%E5%89%8D%E7%AB%AF/page/2/"},{property:"og:type",content:"article"},{property:"og:title",content:""},{property:"og:description",content:""},{property:"og:url",content:"https://www.fedevelop.cn/categories/%E5%89%8D%E7%AB%AF/page/2/"},{property:"og:site_name",content:"前端develop"},{itemprop:"name",content:""},{itemprop:"description",content:""}]},regularPath:"/categories/%E5%89%8D%E7%AB%AF/page/2/",key:"v-260e2472",path:"/categories/前端/page/2/",headersStr:null,content:"",normalizedContent:"",charsets:{}}],themeConfig:{nav:[{text:"首页",link:"/",icon:"reco-home"},{text:"关于我",link:"/views/about",icon:"reco-other"},{text:"时间轴",link:"/timeline/",icon:"reco-date"},{text:"联系我",icon:"reco-message",items:[{text:"GitHub",link:"https://github.com/AD-feiben",icon:"reco-github"},{text:"掘金",link:"https://juejin.im/user/58d3ab5b128fe1006cb236e1",icon:"reco-juejin"},{text:"知乎",link:"https://www.zhihu.com/people/fei-ben-3-68/activities",icon:"reco-zhihu"},{text:"简书",link:"https://www.jianshu.com/u/ccb05861b473",icon:"reco-jianshu"}]}],type:"blog",blogConfig:{category:{location:2,text:"分类"},tag:{location:3,text:"标签"}},logo:"/head.png",search:!0,searchMaxSuggestions:10,sidebar:"auto",lastUpdated:"更新于:",author:"前端develop",authorAvatar:"/head.png",record:"粤ICP备19159721号",recordLink:"https://beian.miit.gov.cn/",startYear:"2017",valineConfig:{appId:"jSVTklp4k0iME4GqIF4wiLvR-MdYXbMMI",appKey:"PmGnm2o6TNtNgRETcB9FUkDb",placeholder:"Type something here...",recordIP:!0,visitor:!0,notify:!0,verify:!0},themePicker:!1}},In=(t(243),t(244),t(70),t(245),t(65)),Nn={computed:{$recoPosts:function(){var e=this.$categories.list.reduce((function(e,n){return[].concat(Object(Ye.a)(e),Object(Ye.a)(n.pages))}),[]);return e=Object(In.a)(e),Object(In.c)(e),e},$recoPostsForTimeline:function(){var e=this.$recoPosts,n={},t=[];e=Object(In.a)(e,!0),this.pages=0==e.length?[]:e;for(var r=0,o=e.length;r<o;r++){var i=e[r],a=Fn(i.frontmatter.date,"year");n[a]?n[a].push(i):n[a]=[i]}for(var s in n){var c=n[s];Object(In.b)(c),t.unshift({year:s,data:c})}return t}}};function Fn(e,n){e=function(e){var n=new Date(e).toJSON();return new Date(+new Date(n)+288e5).toISOString().replace(/T/g," ").replace(/\.[\d]{3}Z/,"").replace(/-/g,"/")}(e);var t=new Date(e),r=t.getFullYear(),o=t.getMonth()+1,i=t.getDate();return"year"==n?r:"".concat(o,"-").concat(i)}t(374);o.a.component("ad",(function(){return Promise.all([t.e(0),t.e(9)]).then(t.bind(null,560))})),o.a.component("Badge",(function(){return Promise.all([t.e(0),t.e(11)]).then(t.bind(null,595))}));var $n={name:"BackToTop",data:function(){return{visible:!1,interval:null,isMoving:!1,customStyle:{right:"1rem",bottom:"6rem",width:"2.5rem",height:"2.5rem","border-radius":".25rem","line-height":"2.5rem"},visibilityHeight:400}},mounted:function(){window.addEventListener("scroll",this.handleScroll)},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScroll),this.interval&&clearInterval(this.interval)},methods:{handleScroll:function(){this.visible=window.pageYOffset>this.visibilityHeight},backToTop:function(){var e=this;if(!this.isMoving){var n=window.pageYOffset,t=0;this.isMoving=!0,this.interval=setInterval((function(){var r=Math.floor(e.easeInOutQuad(10*t,n,-n,500));r<=0?(window.scrollTo(0,0),clearInterval(e.interval),e.isMoving=!1):window.scrollTo(0,r),t++}),16.7)}},easeInOutQuad:function(e,n,t,r){return(e/=r/2)<1?t/2*e*e+n:-t/2*(--e*(e-2)-1)+n}}},Rn=(t(375),Object(On.a)($n,(function(){var e=this.$createElement,n=this._self._c||e;return n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:this.visible,expression:"visible"}],staticClass:"back-to-ceiling",style:this.customStyle,on:{click:this.backToTop}},[n("svg",{staticClass:"icon",attrs:{t:"1574745035067",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5404"}},[n("path",{attrs:{d:"M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z","p-id":"5405"}}),n("path",{attrs:{d:"M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z","p-id":"5406"}})])])])}),[],!1,null,"44bd5a18",null).exports),Mn=(t(96),{name:"Demo",props:{collapse:{type:Boolean,default:!1}},data:function(){return{showCode:!1,copied:!1,codeNavIndex:0,codeNavConfigs:[]}},created:function(){this.showCode=this.collapse,this.makeCodeNavConfigs()},methods:{toggleCode:function(){this.showCode=!this.showCode},copyCode:function(){var e=this,n=this.$el.querySelectorAll("pre")[this.codeNavIndex];n.setAttribute("contenteditable","true"),n.focus(),document.execCommand("selectAll",!1,null),this.copied=document.execCommand("copy"),n.removeAttribute("contenteditable"),setTimeout((function(){e.copied=!1}),1e3)},codeNavBtnHandler:function(e){this.codeNavIndex=e},makeCodeNavConfigs:function(){console.log(this.$slots);var e,n=this.$slots,t=[];for(var r in n)console.log(r.indexOf("code-")),0==r.indexOf("code-")&&(e=r.replace("code-","").replace(/^\S/,(function(e){return e.toUpperCase()})),t.push({title:e,slotName:r}));this.codeNavConfigs=t}}}),zn=(t(376),Object(On.a)(Mn,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"demo-wrap"},[t("div",{staticClass:"demo-nav"},[t("i",{staticClass:"demo-nav-btn",on:{click:e.toggleCode}},[t("svg",{staticClass:"icon",attrs:{t:"1572515960134",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1097",width:"20",height:"20"}},[t("path",{attrs:{d:"M888 64H136q-30.016 0-51.008 20.992T64 136v752.992q0 28.992 20.992 50.496t51.008 21.504h752.992q28.992 0 50.496-21.504t21.504-50.496V136q0-30.016-21.504-51.008T888 64zM228.992 548.992q-15.008 0-25.504-10.496t-10.496-25.504 10.016-26.016l115.008-115.008-115.008-116.992q-10.016-11.008-10.016-25.504t10.496-24.992 25.504-10.496 24.992 10.016l140.992 142.016q10.016 11.008 10.016 26.016t-11.008 24.992l-140 140.992q-10.016 11.008-24.992 11.008z m389.024 0l-199.008-0.992q-15.008 0-25.504-10.496T383.008 512t10.496-25.504 25.504-10.496l199.008 0.992q15.008 0 25.504 10.496t10.496 25.504-11.008 25.504-24.992 10.496z","p-id":"1098"}})])]),e._v(" "),t("i",{class:e.showCode?"demo-icon-arrow active":"demo-icon-arrow"},[t("svg",{staticClass:"icon",attrs:{t:"1572587847226",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3297",width:"16",height:"16"}},[t("path",{attrs:{d:"M830.687738 603.071182c0 9.614985-3.933589 17.949814-11.799744 25.007557-7.867178 7.05672-17.222243 10.56052-28.065196 10.512425L232.716714 638.591163c-10.789741 0-20.144806-3.5038-28.064172-10.512425-7.919367-7.009647-11.852956-15.344476-11.799744-25.007557 0.053212-9.660011 3.986801-17.996886 11.799744-25.00551l279.05253-248.641917c7.867178-7.009647 17.22122-10.513448 28.065196-10.513448 10.842952 0 20.196994 3.504824 28.064172 10.513448l279.05253 248.641917C826.754149 585.074296 830.687738 593.411171 830.687738 603.071182z","p-id":"3298"}})])])]),e._v(" "),t("transition",{attrs:{name:"code-fade"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.showCode,expression:"showCode"}],staticClass:"demo-code"},[t("div",{staticClass:"demo-code-nav"},e._l(e.codeNavConfigs,(function(n,r){return t("button",{key:r,class:["demo-code-btn",e.codeNavIndex===r?"active":""],on:{click:function(n){return e.codeNavBtnHandler(r)}}},[e._v(e._s(n.title))])})),0),e._v(" "),t("div",{staticClass:"demo-code-content"},[e._l(e.codeNavConfigs,(function(n,r){return t("div",{directives:[{name:"show",rawName:"v-show",value:e.codeNavIndex===r,expression:"codeNavIndex === index"}],key:r,staticClass:"demo-code-item"},[e._t(n.slotName)],2)})),e._v(" "),t("i",{staticClass:"demo-code-content-copy",on:{click:e.copyCode}},[t("svg",{staticClass:"icon",staticStyle:{fill:"#fff"},attrs:{t:"1572585974849",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1695",width:"20",height:"20"}},[t("path",{attrs:{d:"M866.461538 39.384615H354.461538c-43.323077 0-78.769231 35.446154-78.76923 78.769231v39.384616h472.615384c43.323077 0 78.769231 35.446154 78.769231 78.76923v551.384616h39.384615c43.323077 0 78.769231-35.446154 78.769231-78.769231V118.153846c0-43.323077-35.446154-78.769231-78.769231-78.769231z m-118.153846 275.692308c0-43.323077-35.446154-78.769231-78.76923-78.769231H157.538462c-43.323077 0-78.769231 35.446154-78.769231 78.769231v590.769231c0 43.323077 35.446154 78.769231 78.769231 78.769231h512c43.323077 0 78.769231-35.446154 78.76923-78.769231V315.076923z m-354.461538 137.846154c0 11.815385-7.876923 19.692308-19.692308 19.692308h-157.538461c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h157.538461c11.815385 0 19.692308 7.876923 19.692308 19.692308v39.384615z m157.538461 315.076923c0 11.815385-7.876923 19.692308-19.692307 19.692308H216.615385c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h315.076923c11.815385 0 19.692308 7.876923 19.692307 19.692308v39.384615z m78.769231-157.538462c0 11.815385-7.876923 19.692308-19.692308 19.692308H216.615385c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h393.846153c11.815385 0 19.692308 7.876923 19.692308 19.692308v39.384615z","p-id":"1696"}})])]),e._v(" "),t("transition",{attrs:{name:"slide-fade"}},[e.copied?t("span",{staticClass:"demo-code-content-copied"},[e._v("Copied")]):e._e()])],2)])]),e._v(" "),t("div",{staticClass:"demo-main"},[e.$slots.demo?t("div",{staticClass:"demo-component-wrap"},[e._t("demo")],2):e._e()])],1)}),[],!1,null,null,null).exports),Vn=(t(377),Object(On.a)({},(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"loader-wrapper"}},[t("div",{staticClass:"loader-main"},e._l(4,(function(e){return t("div",{key:"out"+e})})),0),e._v(" "),e.$frontmatter.home?t("h3",{staticClass:"title"},[e._v(e._s(e.$site.title||e.$localeConfig.title))]):e._e(),e._v(" "),e.$frontmatter.home?t("p",{staticClass:"description"},[e._v(e._s(e.$site.description||e.$localeConfig.description))]):e._e()])}),[],!1,null,"1c4f0192",null).exports),Ln=(t(134),t(231),{data:function(){return{changePage:""}},props:{total:{type:Number,default:10},perPage:{type:Number,default:10},currentPage:{type:Number,default:1}},computed:{pages:function(){return Math.ceil(this.total/this.perPage)},show:function(){return this.pages&&1!=this.pages},efont:function(){return!(this.pages<=7)&&this.currentPage>5},indexs:function(){var e=1,n=this.pages,t=[];for(this.pages>=7&&(this.currentPage>5&&this.currentPage<this.pages-4?(e=Number(this.currentPage)-3,n=Number(this.currentPage)+3):this.currentPage<=5?(e=1,n=7):(n=this.pages,e=this.pages-6));e<=n;)t.push(e),e++;return t}},methods:{goPrev:function(){var e=this.currentPage;this.currentPage>1&&this.emit(--e)},goNext:function(){var e=this.currentPage;e<this.pages&&this.emit(++e)},jumpPage:function(e){var n=parseInt(e);n<=this.pages&&n>0?this.emit(n):alert("请输入大于0，并且小于".concat(this.pages,"的页码！"))},emit:function(e){this.$emit("getCurrentPage",e)}}}),Un=(t(379),Object(On.a)(Ln,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"pagation"},[t("div",{staticClass:"pagation-list"},[t("span",{directives:[{name:"show",rawName:"v-show",value:e.currentPage>1,expression:"currentPage > 1"}],staticClass:"jump",attrs:{unselectable:"on"},on:{click:e.goPrev}},[e._v("Prev")]),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:e.efont,expression:"efont"}],staticClass:"jump",on:{click:function(n){return e.jumpPage(1)}}},[e._v("1")]),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:e.efont,expression:"efont"}],staticClass:"ellipsis"},[e._v("...")]),e._v(" "),e._l(e.indexs,(function(n){return t("span",{key:n,staticClass:"jump",class:{bgprimary:e.currentPage==n},on:{click:function(t){return e.jumpPage(n)}}},[e._v(e._s(n))])})),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:e.efont&&e.currentPage<e.pages-4,expression:"efont&&currentPage<pages-4"}],staticClass:"ellipsis"},[e._v("...")]),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:e.efont&&e.currentPage<e.pages-4,expression:"efont&&currentPage<pages-4"}],staticClass:"jump",on:{click:function(n){return e.jumpPage(e.pages)}}},[e._v(e._s(e.pages))]),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:e.currentPage<e.pages,expression:"currentPage < pages"}],staticClass:"jump",on:{click:e.goNext}},[e._v("Next")]),e._v(" "),t("span",{staticClass:"jumppoint"},[e._v("跳转到：")]),e._v(" "),t("span",{staticClass:"jumpinp"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.changePage,expression:"changePage"}],attrs:{type:"text"},domProps:{value:e.changePage},on:{input:function(n){n.target.composing||(e.changePage=n.target.value)}}})]),e._v(" "),t("span",{staticClass:"jump gobtn",on:{click:function(n){return e.jumpPage(e.changePage)}}},[e._v("GO")])],2)])}),[],!1,null,"dd29196a",null).exports),qn=t(57),Wn={name:"Valine",props:{options:{type:Object,default:function(){return{}}}},mounted:function(){this.initValine()},methods:{initValine:function(){var e=t(382),n=t(383),r=Object(qn.a)({el:"#valine",placeholder:"just go go",notify:!1,verify:!1,avatar:"retro",visitor:!0,recordIP:!1,path:window.location.pathname},this.options);"undefined"!=typeof window&&(this.window=window,window.AV=n),new e(r)}},watch:{$route:function(e,n){var t=this;e.path!==n.path&&setTimeout((function(){t.initValine()}),300)}}},Hn=(t(384),Object(On.a)(Wn,(function(){var e=this.$createElement;this._self._c;return this._m(0)}),[function(){var e=this.$createElement,n=this._self._c||e;return n("div",{staticClass:"valine-wrapper"},[n("div",{attrs:{id:"valine"}})])}],!1,null,null,null).exports);
/**
  * vue-class-component v7.2.6
  * (c) 2015-present Evan You
  * @license MIT
  */
function Gn(e){return(Gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kn(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Jn(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Qn(){return"undefined"!=typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys}function Yn(e,n){Zn(e,n),Object.getOwnPropertyNames(n.prototype).forEach((function(t){Zn(e.prototype,n.prototype,t)})),Object.getOwnPropertyNames(n).forEach((function(t){Zn(e,n,t)}))}function Zn(e,n,t){(t?Reflect.getOwnMetadataKeys(n,t):Reflect.getOwnMetadataKeys(n)).forEach((function(r){var o=t?Reflect.getOwnMetadata(r,n,t):Reflect.getOwnMetadata(r,n);t?Reflect.defineMetadata(r,o,e,t):Reflect.defineMetadata(r,o,e)}))}var Xn={__proto__:[]}instanceof Array;function et(e){return function(n,t,r){var o="function"==typeof n?n:n.constructor;o.__decorators__||(o.__decorators__=[]),"number"!=typeof r&&(r=void 0),o.__decorators__.push((function(n){return e(n,t,r)}))}}function nt(e,n){var t=n.prototype._init;n.prototype._init=function(){var n=this,t=Object.getOwnPropertyNames(e);if(e.$options.props)for(var r in e.$options.props)e.hasOwnProperty(r)||t.push(r);t.forEach((function(t){Object.defineProperty(n,t,{get:function(){return e[t]},set:function(n){e[t]=n},configurable:!0})}))};var r=new n;n.prototype._init=t;var o={};return Object.keys(r).forEach((function(e){void 0!==r[e]&&(o[e]=r[e])})),o}var tt=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function rt(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.name=n.name||e._componentTag||e.name;var t=e.prototype;Object.getOwnPropertyNames(t).forEach((function(e){if("constructor"!==e)if(tt.indexOf(e)>-1)n[e]=t[e];else{var r=Object.getOwnPropertyDescriptor(t,e);void 0!==r.value?"function"==typeof r.value?(n.methods||(n.methods={}))[e]=r.value:(n.mixins||(n.mixins=[])).push({data:function(){return Kn({},e,r.value)}}):(r.get||r.set)&&((n.computed||(n.computed={}))[e]={get:r.get,set:r.set})}})),(n.mixins||(n.mixins=[])).push({data:function(){return nt(this,e)}});var r=e.__decorators__;r&&(r.forEach((function(e){return e(n)})),delete e.__decorators__);var i=Object.getPrototypeOf(e.prototype),a=i instanceof o.a?i.constructor:o.a,s=a.extend(n);return it(s,e,a),Qn()&&Yn(s,e),s}var ot={prototype:!0,arguments:!0,callee:!0,caller:!0};function it(e,n,t){Object.getOwnPropertyNames(n).forEach((function(r){if(!ot[r]){var o=Object.getOwnPropertyDescriptor(e,r);if(!o||o.configurable){var i,a,s=Object.getOwnPropertyDescriptor(n,r);if(!Xn){if("cid"===r)return;var c=Object.getOwnPropertyDescriptor(t,r);if(i=s.value,a=Gn(i),null!=i&&("object"===a||"function"===a)&&c&&c.value===s.value)return}0,Object.defineProperty(e,r,s)}}}))}function at(e){return"function"==typeof e?rt(e):function(n){return rt(n,e)}}at.registerHooks=function(e){tt.push.apply(tt,Jn(e))};var st=at;function ct(e){return et((function(n,t){void 0===n.inject&&(n.inject={}),Array.isArray(n.inject)||(n.inject[t]=e||t)}))}function ut(e){var n=function(){var t=this,r="function"==typeof e?e.call(this):e;for(var o in(r=Object.create(r||null)).__reactiveInject__=this.__reactiveInject__||{},n.managed)r[n.managed[o]]=this[o];var i=function(e){r[n.managedReactive[e]]=a[e],Object.defineProperty(r.__reactiveInject__,n.managedReactive[e],{enumerable:!0,get:function(){return t[e]}})},a=this;for(var o in n.managedReactive)i(o);return r};return n.managed={},n.managedReactive={},n}function lt(e){return"function"!=typeof e||!e.managed&&!e.managedReactive}var pt="undefined"!=typeof Reflect&&void 0!==Reflect.getMetadata;function dt(e,n,t){if(pt&&!Array.isArray(e)&&"function"!=typeof e&&void 0===e.type){var r=Reflect.getMetadata("design:type",n,t);r!==Object&&(e.type=r)}}function ft(e){return void 0===e&&(e={}),function(n,t){dt(e,n,t),et((function(n,t){(n.props||(n.props={}))[t]=e}))(n,t)}}function ht(e,n){void 0===n&&(n={});var t=n.deep,r=void 0!==t&&t,o=n.immediate,i=void 0!==o&&o;return et((function(n,t){"object"!=typeof n.watch&&(n.watch=Object.create(null));var o=n.watch;"object"!=typeof o[e]||Array.isArray(o[e])?void 0===o[e]&&(o[e]=[]):o[e]=[o[e]],o[e].push({handler:t,deep:r,immediate:i})}))}var mt=t(50);const vt=e=>Object(mt.stringify)(e),gt=(e,n)=>`${e}${Object(mt.stringify)(n,{addQueryPrefix:!0})}`,yt=(e,n)=>`${e.replace(/\/$/,"")}/${n.replace(/^\//,"")}`;var bt=t(228),wt=t.n(bt);const Et=e=>wt()(e,"YYYY-MM-DD HH:mm:ss"),_t=e=>(e.split("#")[0]||"").split("?")[0]||"",xt=e=>Object(mt.parse)(e,{ignoreQueryPrefix:!0})
/*!
 * vue-i18n v8.25.0 
 * (c) 2021 kazuya kawaguchi
 * Released under the MIT License.
 */;var At=["compactDisplay","currency","currencyDisplay","currencySign","localeMatcher","notation","numberingSystem","signDisplay","style","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function kt(e,n){"undefined"!=typeof console&&(console.warn("[vue-i18n] "+e),n&&console.warn(n.stack))}var Ct=Array.isArray;function Ot(e){return null!==e&&"object"==typeof e}function St(e){return"string"==typeof e}var Bt=Object.prototype.toString;function jt(e){return"[object Object]"===Bt.call(e)}function Tt(e){return null==e}function Dt(e){return"function"==typeof e}function Pt(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var t=null,r=null;return 1===e.length?Ot(e[0])||Ct(e[0])?r=e[0]:"string"==typeof e[0]&&(t=e[0]):2===e.length&&("string"==typeof e[0]&&(t=e[0]),(Ot(e[1])||Ct(e[1]))&&(r=e[1])),{locale:t,params:r}}function It(e){return JSON.parse(JSON.stringify(e))}function Nt(e,n){return!!~e.indexOf(n)}var Ft=Object.prototype.hasOwnProperty;function $t(e,n){return Ft.call(e,n)}function Rt(e){for(var n=arguments,t=Object(e),r=1;r<arguments.length;r++){var o=n[r];if(null!=o){var i=void 0;for(i in o)$t(o,i)&&(Ot(o[i])?t[i]=Rt(t[i],o[i]):t[i]=o[i])}}return t}function Mt(e,n){if(e===n)return!0;var t=Ot(e),r=Ot(n);if(!t||!r)return!t&&!r&&String(e)===String(n);try{var o=Ct(e),i=Ct(n);if(o&&i)return e.length===n.length&&e.every((function(e,t){return Mt(e,n[t])}));if(o||i)return!1;var a=Object.keys(e),s=Object.keys(n);return a.length===s.length&&a.every((function(t){return Mt(e[t],n[t])}))}catch(e){return!1}}function zt(e){return null!=e&&Object.keys(e).forEach((function(n){"string"==typeof e[n]&&(e[n]=e[n].replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"))})),e}var Vt={beforeCreate:function(){var e=this.$options;if(e.i18n=e.i18n||(e.__i18n?{}:null),e.i18n)if(e.i18n instanceof vr){if(e.__i18n)try{var n=e.i18n&&e.i18n.messages?e.i18n.messages:{};e.__i18n.forEach((function(e){n=Rt(n,JSON.parse(e))})),Object.keys(n).forEach((function(t){e.i18n.mergeLocaleMessage(t,n[t])}))}catch(e){0}this._i18n=e.i18n,this._i18nWatcher=this._i18n.watchI18nData()}else if(jt(e.i18n)){var t=this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof vr?this.$root.$i18n:null;if(t&&(e.i18n.root=this.$root,e.i18n.formatter=t.formatter,e.i18n.fallbackLocale=t.fallbackLocale,e.i18n.formatFallbackMessages=t.formatFallbackMessages,e.i18n.silentTranslationWarn=t.silentTranslationWarn,e.i18n.silentFallbackWarn=t.silentFallbackWarn,e.i18n.pluralizationRules=t.pluralizationRules,e.i18n.preserveDirectiveContent=t.preserveDirectiveContent),e.__i18n)try{var r=e.i18n&&e.i18n.messages?e.i18n.messages:{};e.__i18n.forEach((function(e){r=Rt(r,JSON.parse(e))})),e.i18n.messages=r}catch(e){0}var o=e.i18n.sharedMessages;o&&jt(o)&&(e.i18n.messages=Rt(e.i18n.messages,o)),this._i18n=new vr(e.i18n),this._i18nWatcher=this._i18n.watchI18nData(),(void 0===e.i18n.sync||e.i18n.sync)&&(this._localeWatcher=this.$i18n.watchLocale()),t&&t.onComponentInstanceCreated(this._i18n)}else 0;else this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof vr?this._i18n=this.$root.$i18n:e.parent&&e.parent.$i18n&&e.parent.$i18n instanceof vr&&(this._i18n=e.parent.$i18n)},beforeMount:function(){var e=this.$options;e.i18n=e.i18n||(e.__i18n?{}:null),e.i18n?(e.i18n instanceof vr||jt(e.i18n))&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0):(this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof vr||e.parent&&e.parent.$i18n&&e.parent.$i18n instanceof vr)&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0)},mounted:function(){this!==this.$root&&this.$options.__INTLIFY_META__&&this.$el&&this.$el.setAttribute("data-intlify",this.$options.__INTLIFY_META__)},beforeDestroy:function(){if(this._i18n){var e=this;this.$nextTick((function(){e._subscribing&&(e._i18n.unsubscribeDataChanging(e),delete e._subscribing),e._i18nWatcher&&(e._i18nWatcher(),e._i18n.destroyVM(),delete e._i18nWatcher),e._localeWatcher&&(e._localeWatcher(),delete e._localeWatcher)}))}}},Lt={name:"i18n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},path:{type:String,required:!0},locale:{type:String},places:{type:[Array,Object]}},render:function(e,n){var t=n.data,r=n.parent,o=n.props,i=n.slots,a=r.$i18n;if(a){var s=o.path,c=o.locale,u=o.places,l=i(),p=a.i(s,c,function(e){var n;for(n in e)if("default"!==n)return!1;return Boolean(n)}(l)||u?function(e,n){var t=n?function(e){0;return Array.isArray(e)?e.reduce(qt,{}):Object.assign({},e)}(n):{};if(!e)return t;var r=(e=e.filter((function(e){return e.tag||""!==e.text.trim()}))).every(Wt);0;return e.reduce(r?Ut:qt,t)}(l.default,u):l),d=o.tag&&!0!==o.tag||!1===o.tag?o.tag:"span";return d?e(d,t,p):p}}};function Ut(e,n){return n.data&&n.data.attrs&&n.data.attrs.place&&(e[n.data.attrs.place]=n),e}function qt(e,n,t){return e[t]=n,e}function Wt(e){return Boolean(e.data&&e.data.attrs&&e.data.attrs.place)}var Ht,Gt={name:"i18n-n",functional:!0,props:{tag:{type:[String,Boolean,Object],default:"span"},value:{type:Number,required:!0},format:{type:[String,Object]},locale:{type:String}},render:function(e,n){var t=n.props,r=n.parent,o=n.data,i=r.$i18n;if(!i)return null;var a=null,s=null;St(t.format)?a=t.format:Ot(t.format)&&(t.format.key&&(a=t.format.key),s=Object.keys(t.format).reduce((function(e,n){var r;return Nt(At,n)?Object.assign({},e,((r={})[n]=t.format[n],r)):e}),null));var c=t.locale||i.locale,u=i._ntp(t.value,c,a,s),l=u.map((function(e,n){var t,r=o.scopedSlots&&o.scopedSlots[e.type];return r?r(((t={})[e.type]=e.value,t.index=n,t.parts=u,t)):e.value})),p=t.tag&&!0!==t.tag||!1===t.tag?t.tag:"span";return p?e(p,{attrs:o.attrs,class:o.class,staticClass:o.staticClass},l):l}};function Kt(e,n,t){Yt(e,t)&&Zt(e,n,t)}function Jt(e,n,t,r){if(Yt(e,t)){var o=t.context.$i18n;(function(e,n){var t=n.context;return e._locale===t.$i18n.locale})(e,t)&&Mt(n.value,n.oldValue)&&Mt(e._localeMessage,o.getLocaleMessage(o.locale))||Zt(e,n,t)}}function Qt(e,n,t,r){if(t.context){var o=t.context.$i18n||{};n.modifiers.preserve||o.preserveDirectiveContent||(e.textContent=""),e._vt=void 0,delete e._vt,e._locale=void 0,delete e._locale,e._localeMessage=void 0,delete e._localeMessage}else kt("Vue instance does not exists in VNode context")}function Yt(e,n){var t=n.context;return t?!!t.$i18n||(kt("VueI18n instance does not exists in Vue instance"),!1):(kt("Vue instance does not exists in VNode context"),!1)}function Zt(e,n,t){var r,o,i=function(e){var n,t,r,o;St(e)?n=e:jt(e)&&(n=e.path,t=e.locale,r=e.args,o=e.choice);return{path:n,locale:t,args:r,choice:o}}(n.value),a=i.path,s=i.locale,c=i.args,u=i.choice;if(a||s||c)if(a){var l=t.context;e._vt=e.textContent=null!=u?(r=l.$i18n).tc.apply(r,[a,u].concat(Xt(s,c))):(o=l.$i18n).t.apply(o,[a].concat(Xt(s,c))),e._locale=l.$i18n.locale,e._localeMessage=l.$i18n.getLocaleMessage(l.$i18n.locale)}else kt("`path` is required in v-t directive");else kt("value type not supported")}function Xt(e,n){var t=[];return e&&t.push(e),n&&(Array.isArray(n)||jt(n))&&t.push(n),t}function er(e){er.installed=!0;var n;(Ht=e).version&&Number(Ht.version.split(".")[0]);(n=Ht).prototype.hasOwnProperty("$i18n")||Object.defineProperty(n.prototype,"$i18n",{get:function(){return this._i18n}}),n.prototype.$t=function(e){for(var n=[],t=arguments.length-1;t-- >0;)n[t]=arguments[t+1];var r=this.$i18n;return r._t.apply(r,[e,r.locale,r._getMessages(),this].concat(n))},n.prototype.$tc=function(e,n){for(var t=[],r=arguments.length-2;r-- >0;)t[r]=arguments[r+2];var o=this.$i18n;return o._tc.apply(o,[e,o.locale,o._getMessages(),this,n].concat(t))},n.prototype.$te=function(e,n){var t=this.$i18n;return t._te(e,t.locale,t._getMessages(),n)},n.prototype.$d=function(e){for(var n,t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return(n=this.$i18n).d.apply(n,[e].concat(t))},n.prototype.$n=function(e){for(var n,t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return(n=this.$i18n).n.apply(n,[e].concat(t))},Ht.mixin(Vt),Ht.directive("t",{bind:Kt,update:Jt,unbind:Qt}),Ht.component(Lt.name,Lt),Ht.component(Gt.name,Gt),Ht.config.optionMergeStrategies.i18n=function(e,n){return void 0===n?e:n}}var nr=function(){this._caches=Object.create(null)};nr.prototype.interpolate=function(e,n){if(!n)return[e];var t=this._caches[e];return t||(t=function(e){var n=[],t=0,r="";for(;t<e.length;){var o=e[t++];if("{"===o){r&&n.push({type:"text",value:r}),r="";var i="";for(o=e[t++];void 0!==o&&"}"!==o;)i+=o,o=e[t++];var a="}"===o,s=tr.test(i)?"list":a&&rr.test(i)?"named":"unknown";n.push({value:i,type:s})}else"%"===o?"{"!==e[t]&&(r+=o):r+=o}return r&&n.push({type:"text",value:r}),n}(e),this._caches[e]=t),function(e,n){var t=[],r=0,o=Array.isArray(n)?"list":Ot(n)?"named":"unknown";if("unknown"===o)return t;for(;r<e.length;){var i=e[r];switch(i.type){case"text":t.push(i.value);break;case"list":t.push(n[parseInt(i.value,10)]);break;case"named":"named"===o&&t.push(n[i.value]);break;case"unknown":0}r++}return t}(t,n)};var tr=/^(?:\d)+/,rr=/^(?:\w)+/;var or=[];or[0]={ws:[0],ident:[3,0],"[":[4],eof:[7]},or[1]={ws:[1],".":[2],"[":[4],eof:[7]},or[2]={ws:[2],ident:[3,0],0:[3,0],number:[3,0]},or[3]={ident:[3,0],0:[3,0],number:[3,0],ws:[1,1],".":[2,1],"[":[4,1],eof:[7,1]},or[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],eof:8,else:[4,0]},or[5]={"'":[4,0],eof:8,else:[5,0]},or[6]={'"':[4,0],eof:8,else:[6,0]};var ir=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function ar(e){if(null==e)return"eof";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"ident";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return"ident"}function sr(e){var n,t,r,o=e.trim();return("0"!==e.charAt(0)||!isNaN(e))&&(r=o,ir.test(r)?(t=(n=o).charCodeAt(0))!==n.charCodeAt(n.length-1)||34!==t&&39!==t?n:n.slice(1,-1):"*"+o)}var cr=function(){this._cache=Object.create(null)};cr.prototype.parsePath=function(e){var n=this._cache[e];return n||(n=function(e){var n,t,r,o,i,a,s,c=[],u=-1,l=0,p=0,d=[];function f(){var n=e[u+1];if(5===l&&"'"===n||6===l&&'"'===n)return u++,r="\\"+n,d[0](),!0}for(d[1]=function(){void 0!==t&&(c.push(t),t=void 0)},d[0]=function(){void 0===t?t=r:t+=r},d[2]=function(){d[0](),p++},d[3]=function(){if(p>0)p--,l=4,d[0]();else{if(p=0,void 0===t)return!1;if(!1===(t=sr(t)))return!1;d[1]()}};null!==l;)if(u++,"\\"!==(n=e[u])||!f()){if(o=ar(n),8===(i=(s=or[l])[o]||s.else||8))return;if(l=i[0],(a=d[i[1]])&&(r=void 0===(r=i[2])?n:r,!1===a()))return;if(7===l)return c}}(e))&&(this._cache[e]=n),n||[]},cr.prototype.getPathValue=function(e,n){if(!Ot(e))return null;var t=this.parsePath(n);if(0===t.length)return null;for(var r=t.length,o=e,i=0;i<r;){var a=o[t[i]];if(null==a)return null;o=a,i++}return o};var ur,lr=/<\/?[\w\s="/.':;#-\/]+>/,pr=/(?:@(?:\.[a-z]+)?:(?:[\w\-_|.]+|\([\w\-_|.]+\)))/g,dr=/^@(?:\.([a-z]+))?:/,fr=/[()]/g,hr={upper:function(e){return e.toLocaleUpperCase()},lower:function(e){return e.toLocaleLowerCase()},capitalize:function(e){return""+e.charAt(0).toLocaleUpperCase()+e.substr(1)}},mr=new nr,vr=function(e){var n=this;void 0===e&&(e={}),!Ht&&"undefined"!=typeof window&&window.Vue&&er(window.Vue);var t=e.locale||"en-US",r=!1!==e.fallbackLocale&&(e.fallbackLocale||"en-US"),o=e.messages||{},i=e.dateTimeFormats||{},a=e.numberFormats||{};this._vm=null,this._formatter=e.formatter||mr,this._modifiers=e.modifiers||{},this._missing=e.missing||null,this._root=e.root||null,this._sync=void 0===e.sync||!!e.sync,this._fallbackRoot=void 0===e.fallbackRoot||!!e.fallbackRoot,this._formatFallbackMessages=void 0!==e.formatFallbackMessages&&!!e.formatFallbackMessages,this._silentTranslationWarn=void 0!==e.silentTranslationWarn&&e.silentTranslationWarn,this._silentFallbackWarn=void 0!==e.silentFallbackWarn&&!!e.silentFallbackWarn,this._dateTimeFormatters={},this._numberFormatters={},this._path=new cr,this._dataListeners=new Set,this._componentInstanceCreatedListener=e.componentInstanceCreatedListener||null,this._preserveDirectiveContent=void 0!==e.preserveDirectiveContent&&!!e.preserveDirectiveContent,this.pluralizationRules=e.pluralizationRules||{},this._warnHtmlInMessage=e.warnHtmlInMessage||"off",this._postTranslation=e.postTranslation||null,this._escapeParameterHtml=e.escapeParameterHtml||!1,this.getChoiceIndex=function(e,t){var r=Object.getPrototypeOf(n);if(r&&r.getChoiceIndex)return r.getChoiceIndex.call(n,e,t);var o,i;return n.locale in n.pluralizationRules?n.pluralizationRules[n.locale].apply(n,[e,t]):(o=e,i=t,o=Math.abs(o),2===i?o?o>1?1:0:1:o?Math.min(o,2):0)},this._exist=function(e,t){return!(!e||!t)&&(!Tt(n._path.getPathValue(e,t))||!!e[t])},"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||Object.keys(o).forEach((function(e){n._checkLocaleMessage(e,n._warnHtmlInMessage,o[e])})),this._initVM({locale:t,fallbackLocale:r,messages:o,dateTimeFormats:i,numberFormats:a})},gr={vm:{configurable:!0},messages:{configurable:!0},dateTimeFormats:{configurable:!0},numberFormats:{configurable:!0},availableLocales:{configurable:!0},locale:{configurable:!0},fallbackLocale:{configurable:!0},formatFallbackMessages:{configurable:!0},missing:{configurable:!0},formatter:{configurable:!0},silentTranslationWarn:{configurable:!0},silentFallbackWarn:{configurable:!0},preserveDirectiveContent:{configurable:!0},warnHtmlInMessage:{configurable:!0},postTranslation:{configurable:!0}};vr.prototype._checkLocaleMessage=function(e,n,t){var r=function(e,n,t,o){if(jt(t))Object.keys(t).forEach((function(i){var a=t[i];jt(a)?(o.push(i),o.push("."),r(e,n,a,o),o.pop(),o.pop()):(o.push(i),r(e,n,a,o),o.pop())}));else if(Ct(t))t.forEach((function(t,i){jt(t)?(o.push("["+i+"]"),o.push("."),r(e,n,t,o),o.pop(),o.pop()):(o.push("["+i+"]"),r(e,n,t,o),o.pop())}));else if(St(t)){if(lr.test(t)){var i="Detected HTML in message '"+t+"' of keypath '"+o.join("")+"' at '"+n+"'. Consider component interpolation with '<i18n>' to avoid XSS. See https://bit.ly/2ZqJzkp";"warn"===e?kt(i):"error"===e&&function(e,n){"undefined"!=typeof console&&(console.error("[vue-i18n] "+e),n&&console.error(n.stack))}(i)}}};r(n,e,t,[])},vr.prototype._initVM=function(e){var n=Ht.config.silent;Ht.config.silent=!0,this._vm=new Ht({data:e}),Ht.config.silent=n},vr.prototype.destroyVM=function(){this._vm.$destroy()},vr.prototype.subscribeDataChanging=function(e){this._dataListeners.add(e)},vr.prototype.unsubscribeDataChanging=function(e){!function(e,n){if(e.delete(n));}(this._dataListeners,e)},vr.prototype.watchI18nData=function(){var e=this;return this._vm.$watch("$data",(function(){for(var n,t,r=(n=e._dataListeners,t=[],n.forEach((function(e){return t.push(e)})),t),o=r.length;o--;)Ht.nextTick((function(){r[o]&&r[o].$forceUpdate()}))}),{deep:!0})},vr.prototype.watchLocale=function(){if(!this._sync||!this._root)return null;var e=this._vm;return this._root.$i18n.vm.$watch("locale",(function(n){e.$set(e,"locale",n),e.$forceUpdate()}),{immediate:!0})},vr.prototype.onComponentInstanceCreated=function(e){this._componentInstanceCreatedListener&&this._componentInstanceCreatedListener(e,this)},gr.vm.get=function(){return this._vm},gr.messages.get=function(){return It(this._getMessages())},gr.dateTimeFormats.get=function(){return It(this._getDateTimeFormats())},gr.numberFormats.get=function(){return It(this._getNumberFormats())},gr.availableLocales.get=function(){return Object.keys(this.messages).sort()},gr.locale.get=function(){return this._vm.locale},gr.locale.set=function(e){this._vm.$set(this._vm,"locale",e)},gr.fallbackLocale.get=function(){return this._vm.fallbackLocale},gr.fallbackLocale.set=function(e){this._localeChainCache={},this._vm.$set(this._vm,"fallbackLocale",e)},gr.formatFallbackMessages.get=function(){return this._formatFallbackMessages},gr.formatFallbackMessages.set=function(e){this._formatFallbackMessages=e},gr.missing.get=function(){return this._missing},gr.missing.set=function(e){this._missing=e},gr.formatter.get=function(){return this._formatter},gr.formatter.set=function(e){this._formatter=e},gr.silentTranslationWarn.get=function(){return this._silentTranslationWarn},gr.silentTranslationWarn.set=function(e){this._silentTranslationWarn=e},gr.silentFallbackWarn.get=function(){return this._silentFallbackWarn},gr.silentFallbackWarn.set=function(e){this._silentFallbackWarn=e},gr.preserveDirectiveContent.get=function(){return this._preserveDirectiveContent},gr.preserveDirectiveContent.set=function(e){this._preserveDirectiveContent=e},gr.warnHtmlInMessage.get=function(){return this._warnHtmlInMessage},gr.warnHtmlInMessage.set=function(e){var n=this,t=this._warnHtmlInMessage;if(this._warnHtmlInMessage=e,t!==e&&("warn"===e||"error"===e)){var r=this._getMessages();Object.keys(r).forEach((function(e){n._checkLocaleMessage(e,n._warnHtmlInMessage,r[e])}))}},gr.postTranslation.get=function(){return this._postTranslation},gr.postTranslation.set=function(e){this._postTranslation=e},vr.prototype._getMessages=function(){return this._vm.messages},vr.prototype._getDateTimeFormats=function(){return this._vm.dateTimeFormats},vr.prototype._getNumberFormats=function(){return this._vm.numberFormats},vr.prototype._warnDefault=function(e,n,t,r,o,i){if(!Tt(t))return t;if(this._missing){var a=this._missing.apply(null,[e,n,r,o]);if(St(a))return a}else 0;if(this._formatFallbackMessages){var s=Pt.apply(void 0,o);return this._render(n,i,s.params,n)}return n},vr.prototype._isFallbackRoot=function(e){return!e&&!Tt(this._root)&&this._fallbackRoot},vr.prototype._isSilentFallbackWarn=function(e){return this._silentFallbackWarn instanceof RegExp?this._silentFallbackWarn.test(e):this._silentFallbackWarn},vr.prototype._isSilentFallback=function(e,n){return this._isSilentFallbackWarn(n)&&(this._isFallbackRoot()||e!==this.fallbackLocale)},vr.prototype._isSilentTranslationWarn=function(e){return this._silentTranslationWarn instanceof RegExp?this._silentTranslationWarn.test(e):this._silentTranslationWarn},vr.prototype._interpolate=function(e,n,t,r,o,i,a){if(!n)return null;var s,c=this._path.getPathValue(n,t);if(Ct(c)||jt(c))return c;if(Tt(c)){if(!jt(n))return null;if(!St(s=n[t])&&!Dt(s))return null}else{if(!St(c)&&!Dt(c))return null;s=c}return St(s)&&(s.indexOf("@:")>=0||s.indexOf("@.")>=0)&&(s=this._link(e,n,s,r,"raw",i,a)),this._render(s,o,i,t)},vr.prototype._link=function(e,n,t,r,o,i,a){var s=t,c=s.match(pr);for(var u in c)if(c.hasOwnProperty(u)){var l=c[u],p=l.match(dr),d=p[0],f=p[1],h=l.replace(d,"").replace(fr,"");if(Nt(a,h))return s;a.push(h);var m=this._interpolate(e,n,h,r,"raw"===o?"string":o,"raw"===o?void 0:i,a);if(this._isFallbackRoot(m)){if(!this._root)throw Error("unexpected error");var v=this._root.$i18n;m=v._translate(v._getMessages(),v.locale,v.fallbackLocale,h,r,o,i)}m=this._warnDefault(e,h,m,r,Ct(i)?i:[i],o),this._modifiers.hasOwnProperty(f)?m=this._modifiers[f](m):hr.hasOwnProperty(f)&&(m=hr[f](m)),a.pop(),s=m?s.replace(l,m):s}return s},vr.prototype._createMessageContext=function(e,n,t,r){var o=this,i=Ct(e)?e:[],a=Ot(e)?e:{},s=this._getMessages(),c=this.locale;return{list:function(e){return i[e]},named:function(e){return a[e]},values:e,formatter:n,path:t,messages:s,locale:c,linked:function(e){return o._interpolate(c,s[c]||{},e,null,r,void 0,[e])}}},vr.prototype._render=function(e,n,t,r){if(Dt(e))return e(this._createMessageContext(t,this._formatter||mr,r,n));var o=this._formatter.interpolate(e,t,r);return o||(o=mr.interpolate(e,t,r)),"string"!==n||St(o)?o:o.join("")},vr.prototype._appendItemToChain=function(e,n,t){var r=!1;return Nt(e,n)||(r=!0,n&&(r="!"!==n[n.length-1],n=n.replace(/!/g,""),e.push(n),t&&t[n]&&(r=t[n]))),r},vr.prototype._appendLocaleToChain=function(e,n,t){var r,o=n.split("-");do{var i=o.join("-");r=this._appendItemToChain(e,i,t),o.splice(-1,1)}while(o.length&&!0===r);return r},vr.prototype._appendBlockToChain=function(e,n,t){for(var r=!0,o=0;o<n.length&&"boolean"==typeof r;o++){var i=n[o];St(i)&&(r=this._appendLocaleToChain(e,i,t))}return r},vr.prototype._getLocaleChain=function(e,n){if(""===e)return[];this._localeChainCache||(this._localeChainCache={});var t=this._localeChainCache[e];if(!t){n||(n=this.fallbackLocale),t=[];for(var r,o=[e];Ct(o);)o=this._appendBlockToChain(t,o,n);(o=St(r=Ct(n)?n:Ot(n)?n.default?n.default:null:n)?[r]:r)&&this._appendBlockToChain(t,o,null),this._localeChainCache[e]=t}return t},vr.prototype._translate=function(e,n,t,r,o,i,a){for(var s,c=this._getLocaleChain(n,t),u=0;u<c.length;u++){var l=c[u];if(!Tt(s=this._interpolate(l,e[l],r,o,i,a,[r])))return s}return null},vr.prototype._t=function(e,n,t,r){for(var o,i=[],a=arguments.length-4;a-- >0;)i[a]=arguments[a+4];if(!e)return"";var s=Pt.apply(void 0,i);this._escapeParameterHtml&&(s.params=zt(s.params));var c=s.locale||n,u=this._translate(t,c,this.fallbackLocale,e,r,"string",s.params);if(this._isFallbackRoot(u)){if(!this._root)throw Error("unexpected error");return(o=this._root).$t.apply(o,[e].concat(i))}return u=this._warnDefault(c,e,u,r,i,"string"),this._postTranslation&&null!=u&&(u=this._postTranslation(u,e)),u},vr.prototype.t=function(e){for(var n,t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return(n=this)._t.apply(n,[e,this.locale,this._getMessages(),null].concat(t))},vr.prototype._i=function(e,n,t,r,o){var i=this._translate(t,n,this.fallbackLocale,e,r,"raw",o);if(this._isFallbackRoot(i)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.i(e,n,o)}return this._warnDefault(n,e,i,r,[o],"raw")},vr.prototype.i=function(e,n,t){return e?(St(n)||(n=this.locale),this._i(e,n,this._getMessages(),null,t)):""},vr.prototype._tc=function(e,n,t,r,o){for(var i,a=[],s=arguments.length-5;s-- >0;)a[s]=arguments[s+5];if(!e)return"";void 0===o&&(o=1);var c={count:o,n:o},u=Pt.apply(void 0,a);return u.params=Object.assign(c,u.params),a=null===u.locale?[u.params]:[u.locale,u.params],this.fetchChoice((i=this)._t.apply(i,[e,n,t,r].concat(a)),o)},vr.prototype.fetchChoice=function(e,n){if(!e||!St(e))return null;var t=e.split("|");return t[n=this.getChoiceIndex(n,t.length)]?t[n].trim():e},vr.prototype.tc=function(e,n){for(var t,r=[],o=arguments.length-2;o-- >0;)r[o]=arguments[o+2];return(t=this)._tc.apply(t,[e,this.locale,this._getMessages(),null,n].concat(r))},vr.prototype._te=function(e,n,t){for(var r=[],o=arguments.length-3;o-- >0;)r[o]=arguments[o+3];var i=Pt.apply(void 0,r).locale||n;return this._exist(t[i],e)},vr.prototype.te=function(e,n){return this._te(e,this.locale,this._getMessages(),n)},vr.prototype.getLocaleMessage=function(e){return It(this._vm.messages[e]||{})},vr.prototype.setLocaleMessage=function(e,n){"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||this._checkLocaleMessage(e,this._warnHtmlInMessage,n),this._vm.$set(this._vm.messages,e,n)},vr.prototype.mergeLocaleMessage=function(e,n){"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||this._checkLocaleMessage(e,this._warnHtmlInMessage,n),this._vm.$set(this._vm.messages,e,Rt(void 0!==this._vm.messages[e]&&Object.keys(this._vm.messages[e]).length?Object.assign({},this._vm.messages[e]):{},n))},vr.prototype.getDateTimeFormat=function(e){return It(this._vm.dateTimeFormats[e]||{})},vr.prototype.setDateTimeFormat=function(e,n){this._vm.$set(this._vm.dateTimeFormats,e,n),this._clearDateTimeFormat(e,n)},vr.prototype.mergeDateTimeFormat=function(e,n){this._vm.$set(this._vm.dateTimeFormats,e,Rt(this._vm.dateTimeFormats[e]||{},n)),this._clearDateTimeFormat(e,n)},vr.prototype._clearDateTimeFormat=function(e,n){for(var t in n){var r=e+"__"+t;this._dateTimeFormatters.hasOwnProperty(r)&&delete this._dateTimeFormatters[r]}},vr.prototype._localizeDateTime=function(e,n,t,r,o){for(var i=n,a=r[i],s=this._getLocaleChain(n,t),c=0;c<s.length;c++){var u=s[c];if(i=u,!Tt(a=r[u])&&!Tt(a[o]))break}if(Tt(a)||Tt(a[o]))return null;var l=a[o],p=i+"__"+o,d=this._dateTimeFormatters[p];return d||(d=this._dateTimeFormatters[p]=new Intl.DateTimeFormat(i,l)),d.format(e)},vr.prototype._d=function(e,n,t){if(!t)return new Intl.DateTimeFormat(n).format(e);var r=this._localizeDateTime(e,n,this.fallbackLocale,this._getDateTimeFormats(),t);if(this._isFallbackRoot(r)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.d(e,t,n)}return r||""},vr.prototype.d=function(e){for(var n=[],t=arguments.length-1;t-- >0;)n[t]=arguments[t+1];var r=this.locale,o=null;return 1===n.length?St(n[0])?o=n[0]:Ot(n[0])&&(n[0].locale&&(r=n[0].locale),n[0].key&&(o=n[0].key)):2===n.length&&(St(n[0])&&(o=n[0]),St(n[1])&&(r=n[1])),this._d(e,r,o)},vr.prototype.getNumberFormat=function(e){return It(this._vm.numberFormats[e]||{})},vr.prototype.setNumberFormat=function(e,n){this._vm.$set(this._vm.numberFormats,e,n),this._clearNumberFormat(e,n)},vr.prototype.mergeNumberFormat=function(e,n){this._vm.$set(this._vm.numberFormats,e,Rt(this._vm.numberFormats[e]||{},n)),this._clearNumberFormat(e,n)},vr.prototype._clearNumberFormat=function(e,n){for(var t in n){var r=e+"__"+t;this._numberFormatters.hasOwnProperty(r)&&delete this._numberFormatters[r]}},vr.prototype._getNumberFormatter=function(e,n,t,r,o,i){for(var a=n,s=r[a],c=this._getLocaleChain(n,t),u=0;u<c.length;u++){var l=c[u];if(a=l,!Tt(s=r[l])&&!Tt(s[o]))break}if(Tt(s)||Tt(s[o]))return null;var p,d=s[o];if(i)p=new Intl.NumberFormat(a,Object.assign({},d,i));else{var f=a+"__"+o;(p=this._numberFormatters[f])||(p=this._numberFormatters[f]=new Intl.NumberFormat(a,d))}return p},vr.prototype._n=function(e,n,t,r){if(!vr.availabilities.numberFormat)return"";if(!t)return(r?new Intl.NumberFormat(n,r):new Intl.NumberFormat(n)).format(e);var o=this._getNumberFormatter(e,n,this.fallbackLocale,this._getNumberFormats(),t,r),i=o&&o.format(e);if(this._isFallbackRoot(i)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.n(e,Object.assign({},{key:t,locale:n},r))}return i||""},vr.prototype.n=function(e){for(var n=[],t=arguments.length-1;t-- >0;)n[t]=arguments[t+1];var r=this.locale,o=null,i=null;return 1===n.length?St(n[0])?o=n[0]:Ot(n[0])&&(n[0].locale&&(r=n[0].locale),n[0].key&&(o=n[0].key),i=Object.keys(n[0]).reduce((function(e,t){var r;return Nt(At,t)?Object.assign({},e,((r={})[t]=n[0][t],r)):e}),null)):2===n.length&&(St(n[0])&&(o=n[0]),St(n[1])&&(r=n[1])),this._n(e,r,o,i)},vr.prototype._ntp=function(e,n,t,r){if(!vr.availabilities.numberFormat)return[];if(!t)return(r?new Intl.NumberFormat(n,r):new Intl.NumberFormat(n)).formatToParts(e);var o=this._getNumberFormatter(e,n,this.fallbackLocale,this._getNumberFormats(),t,r),i=o&&o.formatToParts(e);if(this._isFallbackRoot(i)){if(!this._root)throw Error("unexpected error");return this._root.$i18n._ntp(e,n,t,r)}return i||[]},Object.defineProperties(vr.prototype,gr),Object.defineProperty(vr,"availabilities",{get:function(){if(!ur){var e="undefined"!=typeof Intl;ur={dateTimeFormat:e&&void 0!==Intl.DateTimeFormat,numberFormat:e&&void 0!==Intl.NumberFormat}}return ur}}),vr.install=er,vr.version="8.25.0";var yr=vr;
/*!
 * vssue - A vue-powered issue-based comment plugin
 *
 * @version v1.4.8
 * @link https://vssue.js.org
 * @license MIT
 * @copyright 2018-2021 meteorlxy
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function br(e,n,t,r){var o,i=arguments.length,a=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(n,t,a):o(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a}var wr=o.a.extend({name:"Iconfont"});function Er(e,n,t,r,o,i,a,s,c,u){"boolean"!=typeof a&&(c=s,s=a,a=!1);const l="function"==typeof t?t.options:t;let p;if(e&&e.render&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,o&&(l.functional=!0)),r&&(l._scopeId=r),i?(p=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,c(e)),e&&e._registeredComponents&&e._registeredComponents.add(i)},l._ssrRegister=p):n&&(p=a?function(e){n.call(this,u(e,this.$root.$options.shadowRoot))}:function(e){n.call(this,s(e))}),p)if(l.functional){const e=l.render;l.render=function(n,t){return p.call(t),e(n,t)}}else{const e=l.beforeCreate;l.beforeCreate=e?[].concat(e,p):[p]}return t}"undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());const _r=Er({render:function(e,n){var t=n._c;return t("svg",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[t("symbol",{attrs:{id:"vssue-icon-bitbucket",viewBox:"0 0 1024 1024"}},[t("path",{attrs:{d:"M579.5522464 489.45249493q4.8371808 38.38537173-30.81752427 61.55702827t-67.95459093 3.66689493q-23.79580907-10.37653333-32.6119616-35.34262826t-0.31207573-50.01020907 31.67573333-35.34262827q21.92335253-11.00068587 44.1587808-7.33379093t39.00952427 21.61127573 16.77409493 41.1160384zM647.19476053 476.65737173q-8.50407573-65.22392427-68.8908192-99.9424t-120.07131413-7.9579424q-38.38537173 17.08617173-61.24495253 53.9111616t-21.0651424 78.95527574q2.41859093 55.4715424 47.20152426 94.48106666t100.87862827 34.1723424q55.4715424-4.8371808 92.60860907-51.18049493t30.50544746-102.43900907zM792.93434133 146.32472427q-12.17097173-16.4620192-34.1723424-27.15062827t-35.34262826-13.41927573-43.30057174-7.64586667q-177.33729493-28.63299093-345.00022826 1.24830507-26.2144 4.29104747-40.25782827 7.33379093t-33.54819093 13.41927573-30.50544747 26.2144q18.2564576 17.08617173 46.34331413 27.6967616t44.78293334 13.41927574 53.36502826 7.02171413q138.95192427 17.71032427 273.06666667 0.62415253 38.38537173-4.8371808 54.53531413-7.33379093t44.1587808-13.1072 45.7191616-28.32091413zM827.65281813 777.10872427q-4.8371808 15.83786667-9.44030506 46.65539093t-8.50407574 51.18049493-17.39824746 42.6764192-35.34262827 34.4064q-52.4288 29.2571424-115.46819093 43.61264747t-123.1140576 13.41927573-122.8019808-11.3127616q-28.0088384-4.8371808-49.69813334-11.00068586t-46.65539093-16.4620192-44.4708576-26.52647574-31.67573333-37.4491424q-15.21371413-58.51428587-34.71847574-177.96144746l3.66689494-9.7523808 11.00068586-5.46133334q135.9091808 90.1900192 308.72137174 90.1900192t309.34552426-90.1900192q12.79512427 3.66689493 14.5895616 14.04342827t-3.0427424 27.46270507-4.8371808 22.54750506zM937.97175147 191.41973333q-15.83786667 101.8148576-67.64251414 399.22346667-3.0427424 18.2564576-16.4620192 34.1723424t-26.52647573 24.3419424-33.23611413 18.88060907q-153.61950507 76.7707424-371.8387808 53.67710506-151.12289493-16.4620192-240.14262827-84.72868586-9.12822827-7.33379093-15.52579093-16.1499424t-10.37653334-21.2992-5.46133333-20.75306667-3.66689493-24.10788587-3.3548192-21.2992q-5.46133333-30.50544747-16.1499424-91.43832426t-17.08617174-98.4600384-14.35550506-89.8779424-13.41927574-96.27550507q1.7944384-15.83786667 10.68860907-29.5692192t19.19268587-22.8595808 27.46270506-18.2564576 28.0088384-13.73135253 29.2571424-11.3127616q76.22460907-28.0088384 190.75657174-39.00952427 231.0144-22.54750507 412.01859093 30.50544747 94.48106667 28.0088384 131.072 74.35215253 9.7523808 12.17097173 10.0644576 31.0515808t-3.3548192 32.9240384z"}})]),n._v(" "),t("symbol",{attrs:{id:"vssue-icon-gitea",viewBox:"0 0 1024 1024"}},[t("path",{attrs:{d:"M184.31868985 236.10860742C106.94832667 235.94086648 3.32655508 285.13080468 9.02973665 408.46209936c8.93218827 192.65010787 206.32096845 210.5144844 285.20099725 212.06608453 8.63864186 36.14810496 101.48307766 160.77938883 170.21479898 167.32127321h301.09442177c180.57278288-11.99345499 315.77172611-546.07960359 215.54670217-548.09249109-165.7696721 7.79993906-264.02374305 11.74184405-348.27147151 12.41280591v166.69224585l-26.25140843-11.61603761-0.16773997-154.99233728c-96.70246985-0.04193548-181.83083757-4.52899687-343.4069947-12.49667687-20.21274496-0.12580547-48.39316992-3.5644886-78.67035236-3.64835859z m10.94507577 68.14462849h9.22573371c10.98701124 98.75729283 28.85138778 156.50200291 64.99949274 244.73357185-92.25734394-10.90314029-170.75995634-37.69970509-185.18564974-137.75698809-7.46445813-51.78991757 17.69663558-105.84433456 110.96042329-107.01851827z m358.83913087 97.07988723c6.29027343 0.08386999 12.70635233 1.25805468 18.74501482 4.02577499l31.40943263 13.54505513-22.51917887 41.05451824a28.18042496 25.03528825 0 0 0-10.10637297 1.59353561 28.18042496 25.03528825 0 0 0-16.98373825 32.038459 28.18042496 25.03528825 0 0 0 4.69673781 7.29671718l-38.83195528 70.70267333a28.18042496 25.03528825 0 0 0-9.30960467 1.59353659 28.18042496 25.03528825 0 0 0-16.98373825 32.038459 28.18042496 25.03528825 0 0 0 36.06423497 15.09665623 28.18042496 25.03528825 0 0 0 16.94180276-32.08039449 28.18042496 25.03528825 0 0 0-6.62575434-9.22573468l37.82551056-68.85752581a28.18042496 25.03528825 0 0 0 12.28700044-1.25805469 28.18042496 25.03528825 0 0 0 8.93218826-4.69673783c14.59343435 6.12253248 26.54495386 11.11281671 35.14166122 15.34826717 12.91602778 6.37414341 17.48696012 10.60959485 18.87082027 15.30633169 1.38386015 4.61286685-0.12580547 13.50312062-7.42252263 29.10299872-5.45157063 11.61603859-14.46762889 28.09655497-25.11915823 47.51253164a28.18042496 25.03528825 0 0 0-10.52572486 1.59353659 28.18042496 25.03528825 0 0 0-16.98373826 32.038459 28.18042496 25.03528825 0 0 0 36.06423498 15.09665623 28.18042496 25.03528825 0 0 0 16.94180278-32.03845901 28.18042496 25.03528825 0 0 0-5.74511608-8.47090188c10.52572388-19.20630122 19.58371762-35.72875308 25.41270465-48.14155897 7.88380904-16.85793279 11.99345499-29.39654416 8.38703091-41.51580463-3.60642311-12.11926046-14.67730434-20.0030695-29.35460966-27.25785217-9.6450856-4.73867233-21.68047607-9.77089106-36.06423399-15.80955357a28.18042496 25.03528825 0 0 0-1.59353562-10.022502 28.18042496 25.03528825 0 0 0-6.08059796-8.7644483l22.14176246-40.38355541 122.61839638 52.96410227c22.14176247 9.6031511 31.2836262 33.12877372 20.54822685 52.8382968l-84.28966393 154.32137544c-10.77733482 19.66758857-37.23841869 27.80300855-59.38018118 18.24179293l-173.48574115-74.98005927c-22.14176247-9.5612156-31.32556167-33.12877372-20.54822687-52.83829679l84.28966395-154.27943995c7.38058716-13.54505513 22.22563246-21.59660511 37.951317-22.22563246h2.68384935z"}})]),n._v(" "),t("symbol",{attrs:{id:"vssue-icon-gitee",viewBox:"0 0 1024 1024"}},[t("path",{attrs:{d:"M978.404275 409.561604H455.061338c-25.117645 0-45.499734 20.382089-45.499734 45.499734l-0.031997 113.781333c0 25.117645 20.350092 45.499734 45.499734 45.531731h318.594132c25.117645 0 45.499734 20.382089 45.499734 45.499735v22.749867a136.5312 136.5312 0 0 1-136.5312 136.5312H250.248539a45.499734 45.499734 0 0 1-45.499734-45.499734V341.343999a136.5312 136.5312 0 0 1 136.5312-136.5312L978.308284 204.780802c25.117645 0 45.499734-20.350092 45.499734-45.467738L1023.904009 45.531731h0.031997A45.499734 45.499734 0 0 0 978.468269 0h-0.031997L341.343999 0.031997C152.84967 0.031997 0.031997 152.84967 0.031997 341.343999v637.092273c0 25.117645 20.382089 45.499734 45.499734 45.499734h671.233072a307.171203 307.171203 0 0 0 307.171203-307.171203v-261.671468c0-25.117645-20.382089-45.499734-45.499734-45.499734z"}})]),n._v(" "),t("symbol",{attrs:{id:"vssue-icon-github",viewBox:"0 0 1024 1024"}},[t("path",{attrs:{d:"M512 20.4425c-278.334 0-504 225.6345-504 504 0 222.6735 144.4275 411.6105 344.673 478.233 25.2 4.662 34.461-10.9305 34.461-24.255 0-12.0015-0.4725-51.723-0.693-93.8385-140.238 30.492-169.8165-59.472-169.8165-59.472-22.932-58.2435-55.944-73.7415-55.944-73.7415-45.738-31.2795 3.465-30.6495 3.465-30.6495 50.589 3.5595 77.238 51.9435 77.238 51.9435 44.9505 77.049 117.9045 54.7785 146.664 41.895 4.5045-32.571 17.577-54.81 32.004-67.41-111.951-12.726-229.635-55.9755-229.635-249.0705 0-55.0305 19.6875-99.981 51.9435-135.2925-5.229-12.6945-22.491-63.945 4.8825-133.371 0 0 42.336-13.545 138.6315 51.66 40.194-11.1825 83.3175-16.758 126.1575-16.9785 42.8085 0.189 85.9635 5.796 126.252 16.9785 96.201-65.205 138.4425-51.66 138.4425-51.66 27.4365 69.426 10.1745 120.6765 4.9455 133.371 32.319 35.28 51.8805 80.262 51.8805 135.2925 0 193.5675-117.9045 236.187-230.139 248.6925 18.081 15.6555 34.1775 46.305 34.1775 93.3345 0 67.4415-0.5985 121.716-0.5985 138.3165 0 13.419 9.072 29.1375 34.6185 24.192 200.151-66.717 344.3895-255.5595 344.3895-478.17 0-278.3655-225.666-504-504-504z"}})]),n._v(" "),t("symbol",{attrs:{id:"vssue-icon-gitlab",viewBox:"0 0 1024 1024"}},[t("path",{attrs:{d:"M66.61375986 405.11600042L512.11376028 976.03999972 23.84576 621.65599958a39.312 39.312 0 0 1-14.07600042-43.30799944l56.8080007-173.26800028z m259.88400014 0h371.26800014L512.14975986 976.03999972zM215.11376 60.88400042l111.384 344.232H66.61375986l111.384-344.232a19.72800014 19.72800014 0 0 1 37.11600014 0z m742.49999972 344.232l56.8080007 173.2679993a39.23999986 39.23999986 0 0 1-14.07600042 43.30800042l-488.26800028 354.38400014 445.50000042-570.92400028z m0 0h-259.88400014l111.384-344.232a19.72800014 19.72800014 0 0 1 37.11600014 0z"}})]),n._v(" "),t("symbol",{attrs:{id:"vssue-icon-loading",viewBox:"0 0 1024 1024"}},[t("path",{attrs:{d:"M843.307 742.24c0 3.217 2.607 5.824 5.824 5.824s5.824-2.607 5.824-5.824a5.823 5.823 0 0 0-5.824-5.824 5.823 5.823 0 0 0-5.824 5.824zM714.731 874.912c0 6.398 5.186 11.584 11.584 11.584s11.584-5.186 11.584-11.584-5.186-11.584-11.584-11.584-11.584 5.186-11.584 11.584zM541.419 943.2c0 9.614 7.794 17.408 17.408 17.408s17.408-7.794 17.408-17.408-7.794-17.408-17.408-17.408-17.408 7.794-17.408 17.408z m-186.56-9.152c0 12.795 10.373 23.168 23.168 23.168s23.168-10.373 23.168-23.168-10.373-23.168-23.168-23.168-23.168 10.373-23.168 23.168zM189.355 849.12c0 16.012 12.98 28.992 28.992 28.992s28.992-12.98 28.992-28.992-12.98-28.992-28.992-28.992-28.992 12.98-28.992 28.992zM74.731 704.736c0 19.228 15.588 34.816 34.816 34.816s34.816-15.588 34.816-34.816-15.588-34.816-34.816-34.816-34.816 15.588-34.816 34.816z m-43.008-177.28c0 22.41 18.166 40.576 40.576 40.576s40.576-18.166 40.576-40.576-18.166-40.576-40.576-40.576-40.576 18.166-40.576 40.576z m35.392-176.128c0 25.626 20.774 46.4 46.4 46.4s46.4-20.774 46.4-46.4c0-25.626-20.774-46.4-46.4-46.4-25.626 0-46.4 20.774-46.4 46.4z m106.176-142.016c0 28.843 23.381 52.224 52.224 52.224s52.224-23.381 52.224-52.224c0-28.843-23.381-52.224-52.224-52.224-28.843 0-52.224 23.381-52.224 52.224z m155.904-81.344c0 32.024 25.96 57.984 57.984 57.984s57.984-25.96 57.984-57.984-25.96-57.984-57.984-57.984-57.984 25.96-57.984 57.984z m175.104-5.056c0 35.24 28.568 63.808 63.808 63.808s63.808-28.568 63.808-63.808c0-35.24-28.568-63.808-63.808-63.808-35.24 0-63.808 28.568-63.808 63.808z m160.32 72.128c0 38.421 31.147 69.568 69.568 69.568s69.568-31.147 69.568-69.568-31.147-69.568-69.568-69.568-69.568 31.147-69.568 69.568z m113.92 135.488c0 41.638 33.754 75.392 75.392 75.392s75.392-33.754 75.392-75.392-33.754-75.392-75.392-75.392-75.392 33.754-75.392 75.392z m45.312 175.488c0 44.854 36.362 81.216 81.216 81.216s81.216-36.362 81.216-81.216c0-44.854-36.362-81.216-81.216-81.216-44.854 0-81.216 36.362-81.216 81.216z"}})]),n._v(" "),t("symbol",{attrs:{id:"vssue-icon-like",viewBox:"0 0 1024 1024"}},[t("path",{attrs:{d:"M885.9 533.7c16.8-22.2 26.1-49.4 26.1-77.7 0-44.9-25.1-87.4-65.5-111.1a67.67 67.67 0 0 0-34.3-9.3H572.4l6-122.9c1.4-29.7-9.1-57.9-29.5-79.4-20.5-21.5-48.1-33.4-77.9-33.4-52 0-98 35-111.8 85.1l-85.9 311H144c-17.7 0-32 14.3-32 32v364c0 17.7 14.3 32 32 32h601.3c9.2 0 18.2-1.8 26.5-5.4 47.6-20.3 78.3-66.8 78.3-118.4 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7-0.2-12.6-2-25.1-5.6-37.1zM184 852V568h81v284h-81z m636.4-353l-21.9 19 13.9 25.4c4.6 8.4 6.9 17.6 6.9 27.3 0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4c4.6 8.4 6.9 17.6 6.9 27.3 0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4c4.6 8.4 6.9 17.6 6.9 27.3 0 22.4-13.2 42.6-33.6 51.8H329V564.8l99.5-360.5c5.2-18.9 22.5-32.2 42.2-32.3 7.6 0 15.1 2.2 21.1 6.7 9.9 7.4 15.2 18.6 14.6 30.5l-9.6 198.4h314.4C829 418.5 840 436.9 840 456c0 16.5-7.2 32.1-19.6 43z"}})]),n._v(" "),t("symbol",{attrs:{id:"vssue-icon-unlike",viewBox:"0 0 1024 1024"}},[t("path",{attrs:{d:"M885.9 490.3c3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-51.6-30.7-98.1-78.3-118.4-8.3-3.6-17.2-5.4-26.5-5.4H144c-17.7 0-32 14.3-32 32v364c0 17.7 14.3 32 32 32h129.3l85.8 310.8C372.9 889 418.9 924 470.9 924c29.7 0 57.4-11.8 77.9-33.4 20.5-21.5 31-49.7 29.5-79.4l-6-122.9h239.9c12.1 0 23.9-3.2 34.3-9.3 40.4-23.5 65.5-66.1 65.5-111 0-28.3-9.3-55.5-26.1-77.7zM184 456V172h81v284h-81z m627.2 160.4H496.8l9.6 198.4c0.6 11.9-4.7 23.1-14.6 30.5-6.1 4.5-13.6 6.8-21.1 6.7-19.6-0.1-36.9-13.4-42.2-32.3L329 459.2V172h415.4c20.4 9.2 33.6 29.4 33.6 51.8 0 9.7-2.3 18.9-6.9 27.3l-13.9 25.4 21.9 19c12.5 10.8 19.6 26.5 19.6 43 0 9.7-2.3 18.9-6.9 27.3l-13.9 25.4 21.9 19c12.5 10.8 19.6 26.5 19.6 43 0 9.7-2.3 18.9-6.9 27.3l-14 25.5 21.9 19c12.5 10.8 19.6 26.5 19.6 43 0 19.1-11 37.5-28.8 48.4z"}})]),n._v(" "),t("symbol",{attrs:{id:"vssue-icon-heart",viewBox:"0 0 1024 1024"}},[t("path",{attrs:{d:"M923 283.6c-13.4-31.1-32.6-58.9-56.9-82.8-24.3-23.8-52.5-42.4-84-55.5-32.5-13.5-66.9-20.3-102.4-20.3-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5-24.4 23.9-43.5 51.7-56.9 82.8-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3 0.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z"}})]),n._v(" "),t("symbol",{attrs:{id:"vssue-icon-edit",viewBox:"0 0 1024 1024"}},[t("path",{attrs:{d:"M723.2 917.76H286.72c-65.28 0-118.4-51.2-118.4-113.92V261.76C168.32 198.4 221.44 147.2 286.72 147.2h375.04c17.92 0 32 14.08 32 32s-14.08 32-32 32H286.72c-30.08 0-54.4 22.4-54.4 49.92v542.08c0 27.52 24.32 49.92 54.4 49.92H723.2c30.08 0 54.4-22.4 54.4-49.92V440.32c0-17.92 14.08-32 32-32s32 14.08 32 32v363.52c0 62.72-53.12 113.92-118.4 113.92z"}}),n._v(" "),t("path",{attrs:{d:"M499.84 602.24c-7.68 0-14.72-2.56-21.12-7.68-13.44-11.52-14.72-32-3.2-45.44L780.16 198.4c11.52-13.44 32-14.72 45.44-3.2s14.72 32 3.2 45.44L524.16 591.36c-6.4 7.04-15.36 10.88-24.32 10.88z"}})]),n._v(" "),t("symbol",{attrs:{id:"vssue-icon-delete",viewBox:"0 0 1024 1024"}},[t("path",{attrs:{d:"M677.647059 256l0-90.352941c0-37.436235-23.461647-60.235294-61.771294-60.235294L408.094118 105.411765c-38.249412 0-61.741176 22.799059-61.741176 60.235294l0 90.352941-180.705882 0 0 60.235294 60.235294 0 0 512c0 54.272 33.972706 90.352941 90.352941 90.352941l391.529412 0c55.085176 0 90.352941-33.490824 90.352941-90.352941l0-512 60.235294 0 0-60.235294L677.647059 256zM406.588235 165.647059l210.823529 0-1.264941 90.352941L406.588235 256 406.588235 165.647059zM737.882353 858.352941l-451.764706 0 0-542.117647 451.764706 0L737.882353 858.352941zM466.823529 376.470588l-58.729412 0-1.505882 391.529412 60.235294 0L466.823529 376.470588zM617.411765 376.470588l-60.235294 0 0 391.529412 60.235294 0L617.411765 376.470588z"}})]),n._v(" "),t("symbol",{attrs:{id:"vssue-icon-reply",viewBox:"0 0 1024 1024"}},[t("path",{attrs:{d:"M426.666667 384 426.666667 213.333333 128 512 426.666667 810.666667 426.666667 635.733333C640 635.733333 789.333333 704 896 853.333333 853.333333 640 725.333333 426.666667 426.666667 384Z"}})]),n._v(" "),t("symbol",{attrs:{id:"vssue-icon-error",viewBox:"0 0 1024 1024"}},[t("path",{attrs:{d:"M512 720m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z"}}),n._v(" "),t("path",{attrs:{d:"M480 416v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8z"}}),n._v(" "),t("path",{attrs:{d:"M955.7 856l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48z m-783.5-27.9L512 239.9l339.8 588.2H172.2z"}})])])},staticRenderFns:[]},void 0,wr,void 0,!0,void 0,!1,void 0,void 0,void 0);const xr=Er({},void 0,o.a.extend({name:"TransitionFade",functional:!0,props:{group:{type:Boolean,required:!1,default:!1},tag:{type:String,required:!1,default:"div"}},render:(e,{props:n,children:t})=>e(n.group?"TransitionGroup":"Transition",{props:{name:"fade",mode:"out-in",appear:!0,tag:n.tag}},t)}),void 0,void 0,void 0,!1,void 0,void 0,void 0);const Ar=Er({},void 0,o.a.extend({name:"VssueIcon",functional:!0,props:{name:{type:String,required:!0},title:{type:String,required:!1,default:null}},render:(e,{props:n,data:t})=>e("svg",Object.assign(Object.assign({},t),{class:["vssue-icon","vssue-icon-"+n.name],attrs:{"aria-hidden":"true"}}),[e("title",n.title),e("use",{attrs:{"xlink:href":"#vssue-icon-"+n.name}})])}),void 0,void 0,void 0,!1,void 0,void 0,void 0);let kr=class extends o.a{constructor(){super(...arguments),this.editMode=!1,this.editContent=this.comment.contentRaw,this.creatingReactions=[],this.isPutingComment=!1,this.isDeletingComment=!1}get currentUser(){return this.vssue.user?this.vssue.user.username:null}get content(){return this.comment.content}get author(){return this.comment.author}get createdAt(){return Et(this.comment.createdAt)}get updatedAt(){return Et(this.comment.updatedAt)}get showReactions(){return Boolean(this.vssue.API&&this.vssue.API.platform.meta.reactable&&this.comment.reactions&&!this.editMode)}get reactionKeys(){return["heart","like","unlike"]}get editContentRows(){return this.editContent.split("\n").length-1}get editInputRows(){return this.editContentRows<3?5:this.editContentRows+2}async postReaction({reaction:e}){try{if(this.creatingReactions.includes(e))return;this.creatingReactions.push(e);await this.vssue.postCommentReaction({commentId:this.comment.id,reaction:e})||this.vssue.$emit("error",new Error(this.vssue.$t("reactionGiven",{reaction:this.vssue.$t(e)})));const n=await this.vssue.getCommentReactions({commentId:this.comment.id});n&&(this.comment.reactions=n)}finally{this.creatingReactions.splice(this.creatingReactions.findIndex(n=>n===e),1)}}enterEdit(){this.editMode=!0,this.$nextTick(()=>{this.$refs.input.focus()})}resetEdit(){this.editMode=!1,this.editContent=this.comment.contentRaw}async putComment(){try{if(this.vssue.isPending)return;if(this.editContent!==this.comment.contentRaw){this.isPutingComment=!0,this.vssue.isUpdatingComment=!0;const e=await this.vssue.putComment({commentId:this.comment.id,content:this.editContent});e&&this.vssue.comments.data.splice(this.vssue.comments.data.findIndex(e=>e.id===this.comment.id),1,e)}this.editMode=!1}finally{this.isPutingComment=!1,this.vssue.isUpdatingComment=!1}}async deleteComment(){try{if(this.vssue.isPending)return;if(!window.confirm(this.vssue.$t("deleteConfirm")))return;this.isDeletingComment=!0,this.vssue.isUpdatingComment=!0;await this.vssue.deleteComment({commentId:this.comment.id})?(this.vssue.comments.count-=1,this.vssue.comments.data.length>1&&this.vssue.comments.data.splice(this.vssue.comments.data.findIndex(e=>e.id===this.comment.id),1),this.vssue.query.page>1&&this.vssue.query.page>Math.ceil(this.vssue.comments.count/this.vssue.query.perPage)?this.vssue.query.page-=1:await this.vssue.getComments()):this.vssue.$emit("error",new Error(this.vssue.$t("deleteFailed")))}finally{this.isDeletingComment=!1,this.vssue.isUpdatingComment=!1}}};br([ft({type:Object,required:!0})],kr.prototype,"comment",void 0),br([ct()],kr.prototype,"vssue",void 0),kr=br([st({components:{VssueIcon:Ar}})],kr);const Cr=Er({render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"vssue-comment",class:{"vssue-comment-edit-mode":e.editMode,"vssue-comment-disabled":e.isDeletingComment||e.isPutingComment}},[t("div",{staticClass:"vssue-comment-avatar"},[t("a",{attrs:{href:e.author.homepage,title:e.author.username,target:"_blank",rel:"noopener noreferrer"}},[t("img",{attrs:{src:e.author.avatar,alt:e.author.username}})])]),e._v(" "),t("div",{staticClass:"vssue-comment-body"},[e._t("body",[t("div",{staticClass:"vssue-comment-header"},[t("span",{staticClass:"vssue-comment-author"},[t("a",{attrs:{href:e.author.homepage,title:e.author.username,target:"_blank",rel:"noopener noreferrer"}},[e._v("\n            "+e._s(e.author.username)+"\n          ")])]),e._v(" "),t("span",{staticClass:"vssue-comment-created-at"},[e._v("\n          "+e._s(e.createdAt)+"\n        ")])]),e._v(" "),t("div",{staticClass:"vssue-comment-main"},[e.editMode?t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.editContent,expression:"editContent"}],ref:"input",staticClass:"vssue-edit-comment-input",attrs:{rows:e.editInputRows},domProps:{value:e.editContent},on:{keyup:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:n.ctrlKey?e.putComment():null},input:function(n){n.target.composing||(e.editContent=n.target.value)}}}):t("article",{staticClass:"markdown-body",domProps:{innerHTML:e._s(e.content)}})]),e._v(" "),t("div",{staticClass:"vssue-comment-footer"},[e.editMode?t("span",{staticClass:"vssue-comment-hint"},[e._v("\n          "+e._s(e.vssue.$t("editMode"))+"\n        ")]):e._e(),e._v(" "),e.showReactions?t("span",{staticClass:"vssue-comment-reactions"},e._l(e.reactionKeys,(function(n){return t("span",{key:n,staticClass:"vssue-comment-reaction",attrs:{title:e.vssue.$t(e.creatingReactions.includes(n)?"loading":n)},on:{click:function(t){return e.postReaction({reaction:n})}}},[t("VssueIcon",{attrs:{name:e.creatingReactions.includes(n)?"loading":n,title:e.vssue.$t(e.creatingReactions.includes(n)?"loading":n)}}),e._v(" "),t("span",{staticClass:"vssue-comment-reaction-number"},[e._v("\n              "+e._s(e.comment.reactions[n])+"\n            ")])],1)})),0):e._e(),e._v(" "),t("span",{staticClass:"vssue-comment-operations"},[e.comment.author.username===e.currentUser&&e.editMode?t("span",{staticClass:"vssue-comment-operation",class:{"vssue-comment-operation-muted":e.isPutingComment},attrs:{title:e.vssue.$t(e.isPutingComment?"loading":"submit")},on:{click:function(n){return e.putComment()}}},[t("VssueIcon",{directives:[{name:"show",rawName:"v-show",value:e.isPutingComment,expression:"isPutingComment"}],attrs:{name:"loading",title:e.vssue.$t("loading")}}),e._v("\n\n            "+e._s(e.vssue.$t("submit"))+"\n          ")],1):e._e(),e._v(" "),e.comment.author.username===e.currentUser&&e.editMode?t("span",{staticClass:"vssue-comment-operation vssue-comment-operation-muted",attrs:{title:e.vssue.$t("cancel")},on:{click:function(n){return e.resetEdit()}}},[e._v("\n            "+e._s(e.vssue.$t("cancel"))+"\n          ")]):e._e(),e._v(" "),e.comment.author.username===e.currentUser?t("span",{directives:[{name:"show",rawName:"v-show",value:!e.editMode,expression:"!editMode"}],staticClass:"vssue-comment-operation",on:{click:function(n){return e.enterEdit()}}},[t("VssueIcon",{attrs:{name:"edit",title:e.vssue.$t("edit")}})],1):e._e(),e._v(" "),e.comment.author.username===e.currentUser||e.vssue.isAdmin?t("span",{directives:[{name:"show",rawName:"v-show",value:!e.editMode,expression:"!editMode"}],staticClass:"vssue-comment-operation",on:{click:function(n){return e.deleteComment()}}},[t("VssueIcon",{attrs:{name:e.isDeletingComment?"loading":"delete",title:e.vssue.$t(e.isDeletingComment?"loading":"delete")}})],1):e._e(),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:!e.editMode,expression:"!editMode"}],staticClass:"vssue-comment-operation",on:{click:function(n){return e.vssue.$emit("reply-comment",e.comment)}}},[t("VssueIcon",{attrs:{name:"reply",title:e.vssue.$t("reply")}})],1)])])])],2)])},staticRenderFns:[]},void 0,kr,void 0,!1,void 0,!1,void 0,void 0,void 0);let Or=class extends o.a{get disabled(){return this.vssue.isPending}get pageCount(){const e=Math.ceil(this.vssue.comments.count/this.vssue.comments.perPage);return e>1?e:1}get perPageOptions(){const e=[5,10,20,50];return!e.includes(this.vssue.options.perPage)&&this.vssue.options.perPage<100&&e.push(this.vssue.options.perPage),e.sort((e,n)=>e-n)}get page(){return this.vssue.query.page>this.pageCount?this.pageCount:this.vssue.query.page}set page(e){e>0&&e<=this.pageCount&&(this.vssue.query.page=e)}get perPage(){return this.vssue.query.perPage}set perPage(e){this.perPageOptions.includes(e)&&(this.vssue.query.perPage=e)}};br([ct()],Or.prototype,"vssue",void 0),Or=br([st({components:{VssueIcon:Ar}})],Or);const Sr=Er({render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"vssue-pagination"},[t("div",{staticClass:"vssue-pagination-per-page"},[t("label",[t("select",{directives:[{name:"model",rawName:"v-model",value:e.perPage,expression:"perPage"}],staticClass:"vssue-pagination-select",attrs:{disabled:e.disabled},on:{change:function(n){var t=Array.prototype.filter.call(n.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.perPage=n.target.multiple?t:t[0]}}},e._l(e.perPageOptions,(function(n){return t("option",{key:n,domProps:{value:n}},[e._v("\n          "+e._s(n)+"\n        ")])})),0),e._v(" "),t("span",[e._v("\n        "+e._s(e.vssue.$t("perPage"))+"\n      ")])]),e._v(" "),e.vssue.API.platform.meta.sortable?t("span",{class:{"vssue-pagination-link":!0,disabled:e.disabled},attrs:{title:e.vssue.$t("sort")},on:{click:function(n){e.vssue.query.sort="asc"===e.vssue.query.sort?"desc":"asc"}}},[e._v("\n      "+e._s("asc"===e.vssue.query.sort?"↑":"↓")+"\n    ")]):e._e()]),e._v(" "),t("div",{staticClass:"vssue-pagination-page"},[t("span",{class:{"vssue-pagination-link":!0,disabled:1===e.page||e.disabled},attrs:{title:e.vssue.$t("prev")},domProps:{textContent:e._s("<")},on:{click:function(n){e.page-=1}}}),e._v(" "),t("label",[t("span",[e._v("\n        "+e._s(e.vssue.$t("page"))+"\n      ")]),e._v(" "),t("select",{directives:[{name:"show",rawName:"v-show",value:e.pageCount>1,expression:"pageCount > 1"},{name:"model",rawName:"v-model",value:e.page,expression:"page"}],staticClass:"vssue-pagination-select",attrs:{disabled:e.disabled},on:{change:function(n){var t=Array.prototype.filter.call(n.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.page=n.target.multiple?t:t[0]}}},e._l(e.pageCount,(function(n){return t("option",{key:n,domProps:{value:n}},[e._v("\n          "+e._s(n)+"\n        ")])})),0),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:e.pageCount<2,expression:"pageCount < 2"}],domProps:{textContent:e._s(e.page)}}),e._v(" "),t("span",{domProps:{textContent:e._s(" / "+e.pageCount+" ")}})]),e._v(" "),t("span",{class:{"vssue-pagination-link":!0,disabled:e.page===e.pageCount||e.disabled},attrs:{title:e.vssue.$t("next")},domProps:{textContent:e._s(">")},on:{click:function(n){e.page+=1}}})])])},staticRenderFns:[]},void 0,Or,void 0,!1,void 0,!1,void 0,void 0,void 0);let Br=class extends o.a{};br([ct()],Br.prototype,"vssue",void 0),Br=br([st({components:{TransitionFade:xr,VssueComment:Cr,VssuePagination:Sr}})],Br);const jr=Er({render:function(){var e=this.$createElement,n=this._self._c||e;return n("div",{staticClass:"vssue-comments"},[n("VssuePagination"),this._v(" "),n("TransitionFade",{attrs:{group:""}},this._l(this.vssue.comments.data,(function(e){return n("VssueComment",{key:e.id,attrs:{comment:e}})})),1),this._v(" "),n("VssuePagination",{directives:[{name:"show",rawName:"v-show",value:this.vssue.comments.data.length>5,expression:"vssue.comments.data.length > 5"}]})],1)},staticRenderFns:[]},void 0,Br,void 0,!1,void 0,!1,void 0,void 0,void 0);const Tr=Er({},void 0,o.a.extend({name:"VssueIcon",functional:!0,props:{type:{type:String,required:!1,default:"default"}},render:(e,{props:n,data:t,children:r})=>e("button",Object.assign(Object.assign({},t),{class:["vssue-button","vssue-button-"+n.type]}),r)}),void 0,void 0,void 0,!1,void 0,void 0,void 0);let Dr=class extends o.a{constructor(){super(...arguments),this.content=""}get user(){return this.vssue.user}get platform(){return this.vssue.API&&this.vssue.API.platform.name}get isInputDisabled(){return this.loading||null===this.user||null===this.vssue.issue}get isSubmitDisabled(){return""===this.content||this.vssue.isPending||null===this.vssue.issue}get loading(){return this.vssue.isCreatingComment}get contentRows(){return this.content.split("\n").length-1}get inputRows(){return this.contentRows<3?5:this.contentRows+2}created(){this.vssue.$on("reply-comment",e=>{const n=e.contentRaw.replace(/\n/g,"\n> "),t=`@${e.author.username}\n\n> ${n}\n\n`;this.content=this.content.concat(t),this.focus()})}beforeDestroy(){this.vssue.$off("reply-comment")}focus(){this.$refs.input.focus()}async submit(){this.isSubmitDisabled||(await this.vssue.postComment({content:this.content}),this.content="",await this.vssue.getComments())}};br([ct()],Dr.prototype,"vssue",void 0),Dr=br([st({components:{VssueButton:Tr,VssueIcon:Ar}})],Dr);const Pr=Er({render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"vssue-new-comment"},[t("div",{staticClass:"vssue-comment-avatar"},[e.user?t("a",{attrs:{href:e.user.homepage,title:e.user.username,target:"_blank",rel:"noopener noreferrer"}},[t("img",{attrs:{src:e.user.avatar,alt:e.user.username}})]):t("VssueIcon",{attrs:{name:e.platform.toLowerCase(),title:e.vssue.$t("loginToComment",{platform:e.platform})},on:{click:function(n){return e.vssue.login()}}})],1),e._v(" "),t("div",{staticClass:"vssue-new-comment-body"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"content"}],ref:"input",staticClass:"vssue-new-comment-input",attrs:{rows:e.inputRows,disabled:e.isInputDisabled,placeholder:e.vssue.$t(e.user?"placeholder":"noLoginPlaceHolder"),spellcheck:!1,"aria-label":"leave a comment"},domProps:{value:e.content},on:{keyup:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:n.ctrlKey?e.submit():null},input:function(n){n.target.composing||(e.content=n.target.value)}}})]),e._v(" "),t("div",{staticClass:"vssue-new-comment-footer"},[e.user?t("span",{staticClass:"vssue-current-user"},[t("span",[e._v(e._s(e.vssue.$t("currentUser"))+" - "+e._s(e.user.username)+" - ")]),e._v(" "),t("a",{staticClass:"vssue-logout",on:{click:function(n){return e.vssue.logout()}}},[e._v("\n        "+e._s(e.vssue.$t("logout"))+"\n      ")])]):t("span",{staticClass:"vssue-current-user"},[e._v("\n      "+e._s(e.vssue.$t("loginToComment",{platform:e.platform}))+"\n    ")]),e._v(" "),t("div",{staticClass:"vssue-new-comment-operations"},[e.user?t("VssueButton",{staticClass:"vssue-button-submit-comment",attrs:{type:"primary",disabled:e.isSubmitDisabled},on:{click:function(n){return e.submit()}}},[t("VssueIcon",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],attrs:{name:"loading"}}),e._v("\n\n        "+e._s(e.vssue.$t(e.loading?"submitting":"submitComment"))+"\n      ")],1):t("VssueButton",{staticClass:"vssue-button-login",attrs:{type:"primary",title:e.vssue.$t("loginToComment",{platform:e.platform})},on:{click:function(n){return e.vssue.login()}}},[e._v("\n        "+e._s(e.vssue.$t("login",{platform:e.platform}))+"\n      ")])],1)])])},staticRenderFns:[]},void 0,Dr,void 0,!1,void 0,!1,void 0,void 0,void 0);let Ir=class extends o.a{constructor(){super(...arguments),this.progress={show:!1,percent:0,timer:null,speed:200},this.alert={show:!1,message:null,timer:null}}onLoadingCommentsChange(e){this.vssue.comments&&(e?this.progressStart():this.progressDone())}created(){this.vssue.$on("error",e=>this.alertShow(e.message))}beforeDestroy(){this.vssue.$off("error"),null!==this.progress.timer&&window.clearTimeout(this.progress.timer),null!==this.alert.timer&&window.clearTimeout(this.alert.timer)}progressStart(){this.progress.show=!0,this.progress.percent=0,this.progress.timer=window.setInterval(()=>{this.progress.percent+=5,this.progress.percent>94&&null!==this.progress.timer&&window.clearInterval(this.progress.timer)},this.progress.speed)}progressDone(){this.progress.percent=100,null!==this.progress.timer&&window.clearTimeout(this.progress.timer),this.progress.timer=null,window.setTimeout(()=>{this.progress.show=!1},this.progress.speed)}alertShow(e){this.alert.show=!0,this.alert.message=e,null!==this.alert.timer&&window.clearTimeout(this.alert.timer),this.alert.timer=window.setTimeout(()=>{this.alertHide()},3e3)}alertHide(){this.alert.show=!1,null!==this.alert.timer&&window.clearTimeout(this.alert.timer),this.alert.timer=null}};br([ct()],Ir.prototype,"vssue",void 0),br([ht("vssue.isLoadingComments")],Ir.prototype,"onLoadingCommentsChange",null),Ir=br([st({components:{TransitionFade:xr}})],Ir);const Nr=Er({render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"vssue-notice"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.progress.show,expression:"progress.show"}],staticClass:"vssue-progress",style:{width:e.progress.percent+"%",transition:"all "+e.progress.speed+"ms linear"}}),e._v(" "),t("TransitionFade",[t("div",{directives:[{name:"show",rawName:"v-show",value:e.alert.show,expression:"alert.show"}],staticClass:"vssue-alert",domProps:{textContent:e._s(e.alert.message)},on:{click:function(n){return e.alertHide()}}})])],1)},staticRenderFns:[]},void 0,Ir,void 0,!1,void 0,!1,void 0,void 0,void 0);let Fr=class extends o.a{get status(){return this.vssue.isFailed?"failed":this.vssue.isInitializing?"initializing":this.vssue.isIssueNotCreated&&!this.vssue.isCreatingIssue?this.vssue.isAdmin||!this.vssue.isLogined?"issueNotCreated":"failed":this.vssue.isLoginRequired?"loginRequired":!this.vssue.comments||this.vssue.isCreatingIssue?"loadingComments":0===this.vssue.comments.data.length?"noComments":null}handleClick(){"issueNotCreated"===this.status?this.vssue.postIssue():"loginRequired"===this.status&&this.vssue.login()}};br([ct()],Fr.prototype,"vssue",void 0),Fr=br([st({components:{TransitionFade:xr,VssueIcon:Ar}})],Fr);const $r=Er({render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("TransitionFade",[e.status?t("div",{key:e.status,staticClass:"vssue-status"},[["failed","loadingComments","initializing"].includes(e.status)?t("VssueIcon",{attrs:{name:"failed"===e.status?"error":"loading"}}):e._e(),e._v(" "),t("p",{staticClass:"vssue-status-info"},[t(["issueNotCreated","loginRequired"].includes(e.status)?"a":"span",{tag:"Component",on:{click:e.handleClick}},[e._v("\n        "+e._s(e.vssue.$t(e.status))+"\n      ")])],1)],1):e._e()])},staticRenderFns:[]},void 0,Fr,void 0,!1,void 0,!1,void 0,void 0,void 0);let Rr=class extends o.a{};br([ct()],Rr.prototype,"vssue",void 0),Rr=br([st({components:{TransitionFade:xr,VssueIcon:Ar,VssueComments:jr,VssueNewComment:Pr,VssueNotice:Nr,VssueStatus:$r}})],Rr);const Mr=Er({render:function(){var e=this.$createElement,n=this._self._c||e;return n("TransitionFade",[this.vssue.isInitializing?n("VssueStatus"):n("div",{staticClass:"vssue-body"},[this.vssue.API?n("VssueNewComment"):this._e(),this._v(" "),n("VssueNotice"),this._v(" "),n("TransitionFade",[this.vssue.comments&&this.vssue.comments.data.length>0?n("VssueComments"):n("VssueStatus")],1)],1)],1)},staticRenderFns:[]},void 0,Rr,void 0,!1,void 0,!1,void 0,void 0,void 0);let zr=class extends o.a{};br([ct()],zr.prototype,"vssue",void 0),zr=br([st],zr);const Vr=Er({render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"vssue-header"},[t("a",{staticClass:"vssue-header-comments-count",attrs:{href:e.vssue.issue?e.vssue.issue.link:null,target:"_blank",rel:"noopener noreferrer"}},[t("span",[e._v("\n      "+e._s(e.vssue.comments?e.vssue.$tc("comments",e.vssue.comments.count,{count:e.vssue.comments.count}):e.vssue.$tc("comments",0))+"\n    ")])]),e._v(" "),t("span",{staticClass:"vssue-header-powered-by"},[t("span",[e._v("Powered by")]),e._v(" "),e.vssue.API?t("span",[t("a",{attrs:{href:e.vssue.API.platform.link,title:e.vssue.API.platform.name+" API "+e.vssue.API.platform.version,target:"_blank",rel:"noopener noreferrer"}},[e._v("\n        "+e._s(e.vssue.API.platform.name)+"\n      ")]),e._v(" "),t("span",[e._v("&")])]):e._e(),e._v(" "),t("a",{attrs:{href:"https://github.com/meteorlxy/vssue",title:"Vssue v"+e.vssue.version,target:"_blank",rel:"noopener noreferrer"}},[e._v("\n      Vssue\n    ")])])])},staticRenderFns:[]},void 0,zr,void 0,!1,void 0,!1,void 0,void 0,void 0),Lr={login:"Login with {platform}",logout:"Logout",currentUser:"Current User",loading:"Loading",submit:"Submit",submitting:"Submitting",submitComment:"Submit Comment",cancel:"Cancel",edit:"Edit",editMode:"Edit Mode",delete:"Delete",reply:"Reply",heart:"Heart",like:"Like",unlike:"Unlike",perPage:"Comments per page",sort:"Click to change the sort direction",page:"Page",prev:"Previous Page",next:"Next Page",comments:"Comments | {count} Comment | {count} Comments",loginToComment:"Login with {platform} account to leave a comment",placeholder:"Leave a comment. Styling with Markdown is supported. Ctrl + Enter to submit.",noLoginPlaceHolder:"Login to leave a comment. Styling with Markdown is supported. ",failed:"Failed to load comments",initializing:"Initializing...",issueNotCreated:"Click to create issue",loadingComments:"Loading comments...",loginRequired:"Login to view comments",noComments:"No comments yet. Leave the first comment !",reactionGiven:"Already given '{reaction}' reaction",deleteConfirm:"Confirm to delete this comment ?",deleteFailed:"Failed to delete comment"},Ur={login:"使用 {platform} 登录",logout:"退出登录",currentUser:"当前用户",loading:"加载中",submit:"提交",submitting:"发表中",submitComment:"发表评论",cancel:"取消",edit:"编辑",editMode:"编辑模式",delete:"删除",reply:"回复",heart:"喜欢",like:"赞",unlike:"踩",perPage:"每页评论数",sort:"点击改变排序方式",page:"页数",prev:"上一页",next:"下一页",comments:"评论 | {count} 条评论 | {count} 条评论",loginToComment:"使用 {platform} 帐号登录后发表评论",placeholder:"留下你的评论丨支持 Markdown 语法丨Ctrl + Enter 发表评论",noLoginPlaceHolder:"登录后才能发表评论丨支持 Markdown 语法",failed:"评论加载失败",initializing:"正在初始化...",issueNotCreated:"点击创建 Issue",loadingComments:"正在加载评论...",loginRequired:"登录后查看评论",noComments:"还没有评论，来发表第一条评论吧！",reactionGiven:"已经添加过 '{reaction}' 了",deleteConfirm:"确认要删除该评论吗？",deleteFailed:"评论删除失败"},qr={login:"Entrar com {platform}",logout:"Sair",currentUser:"Usuário Atual",loading:"Carregando",submit:"Enviar",submitting:"Enviando",submitComment:"Enviar Comentário",cancel:"Cancelar",edit:"Editar",editMode:"Modo de Edição",delete:"Apagar",reply:"Responder",heart:"Heart",like:"Like",unlike:"Unlike",perPage:"Comentários por página",sort:"Clique para alterar a ordenação",page:"Página",prev:"Página Anterior",next:"Próxima Página",comments:"Comentários | {count} Comentário | {count} Comentários",loginToComment:"Entre com uma conta {platform} para deixar um comentário",placeholder:"Deixe um comentário. Estilos com Markdown suportados. Ctrl + Enter para enviar.",noLoginPlaceHolder:"Entre para deixar um comentário. Estilos com Markdown suportados. ",failed:"Falha ao carregar comentários",initializing:"Inicializando...",issueNotCreated:"Click to create issue",loadingComments:"Carregando comentários...",loginRequired:"Entrar para visualizar comentários",noComments:"Nenhum comentário. Deixe o primeiro comentário!",reactionGiven:"Já reagiu com '{reaction}'",deleteConfirm:"Apagar este comentário?",deleteFailed:"Falha ao apagar comentário"},Wr={login:"{platform} でログイン",logout:"ログアウト",currentUser:"現在のユーザー",loading:"読み込み中",submit:"送信",submitting:"送信中",submitComment:"コメントを送信",cancel:"キャンセル",edit:"編集",editMode:"編集モード",delete:"削除",reply:"返信",heart:"ハート",like:"高評価",unlike:"低評価",perPage:"コメント/ページ",sort:"並び順を変更するにはクリックしてください",page:"ページ",prev:"前のページ",next:"次のページ",comments:"コメント | {count} コメント | {count} コメント",loginToComment:"コメントを残すには {platform} アカウントでログインしてください。",placeholder:"コメントを残してください。Markdown 記法をサポートしています。 Ctrl + Enter で送信できます。",noLoginPlaceHolder:"コメントを残すにはログインしてください。マークダウン記法をサポートしています。",failed:"コメントの読み込みに失敗しました",initializing:"初期化中...",issueNotCreated:"Click to create issue",loadingComments:"コメントの読み込み中...",loginRequired:"コメントを見るにはログインしてください",noComments:"まだコメントがありません。最初のコメントを残しましょう！",reactionGiven:"既に '{reaction}' のリアクションをしています",deleteConfirm:"本当にコメントを削除してもいいですか？",deleteFailed:"コメントの削除に失敗しました"},Hr={login:"התחברו עם {platform}",logout:"התנתקו",currentUser:"משתמש/ת נוכחי/ת",loading:"טוען",submit:"שליחה",submitting:"שולח",submitComment:"שליחת תגובה",cancel:"ביטל",edit:"עריכה",editMode:"מצב עריכה",delete:"מחיקה",reply:"תשובה",heart:"לב",like:"לייק",unlike:"אנלייק",perPage:"תגובות לדף",sort:"לחצו כדי לשנות את כיוון המיון",page:"דף",prev:"הדף הקודם",next:"הדף הבא",comments:"תגובות | {count} תגובה | {count} תגובות",loginToComment:"התחברו עם חשבון {platform} כדי להשאיר תגובה",placeholder:"השאירו תגובה. יש תמיכה בעיצוב בעזרת Markdown. Ctrl + Enter כדי לשלוח.",noLoginPlaceHolder:"התחברו כדי להשאיר תגובה. יש תמיכה בעיצוב בעזרת Markdown. ",failed:"כשלון בטעינת התגובות",initializing:"מאתחל...",issueNotCreated:"לחצו ליצירת issue",loadingComments:"טוען תגובות...",loginRequired:"התחברו כדי לצפות בתגובות",noComments:"עדיין אין תגובות. השאירו תגובה ראשונה !",reactionGiven:"כבר ניתן חיווי '{reaction}'",deleteConfirm:"בטוחים במחיקת התגובה ?",deleteFailed:"כשלון במחיקת התגובה"};Object.prototype.hasOwnProperty.call(o.a,"$i18n")||o.a.use(yr);const Gr=new yr({locale:"en",fallbackLocale:"en",messages:{en:Lr,"en-US":Lr,zh:Ur,"zh-CN":Ur,pt:qr,"pt-BR":qr,ja:Wr,"ja-JP":Wr,he:Hr,"he-IL":Hr}});let Kr=class extends o.a{constructor(){super(...arguments),this.title=e=>`${e.prefix}${document.title}`,this.issueId=null,this.options=null,this.API=null,this.accessToken=null,this.user=null,this.issue=null,this.comments=null,this.query={page:1,perPage:10,sort:"desc"},this.isInitializing=!0,this.isIssueNotCreated=!1,this.isLoginRequired=!1,this.isFailed=!1,this.isCreatingIssue=!1,this.isLoadingComments=!1,this.isCreatingComment=!1,this.isUpdatingComment=!1}get version(){return"1.4.8"}get issueTitle(){return null===this.options?"":"function"==typeof this.title?this.title(this.options):`${this.options.prefix}${this.title}`}get isPending(){return this.isLoadingComments||this.isCreatingComment||this.isUpdatingComment}get isLogined(){return null!==this.accessToken&&null!==this.user}get isAdmin(){return null!==this.options&&null!==this.accessToken&&null!==this.user&&(this.user.username===this.options.owner||this.options.admins.includes(this.user.username))}get accessTokenKey(){return this.API?`Vssue.${this.API.platform.name.toLowerCase()}.access_token`:""}onQueryPerPageChange(){this.query.page=1,this.getComments()}onQueryChange(){this.getComments()}setOptions(e){this.options=Object.assign({labels:["Vssue"],state:"Vssue",prefix:"[Vssue]",admins:[],perPage:10,proxy:e=>"https://cors-anywhere.azm.workers.dev/"+e,issueContent:({url:e})=>e,autoCreateIssue:!1},e);const n=["api","owner","repo","clientId"];for(const e of n)this.options[e]||console.warn(`[Vssue] the option '${e}' is required`);if(this.options.locale)this.$i18n.locale=this.options.locale;else{const e=Object.keys(this.$i18n.messages),n=window.navigator.languages;this.$i18n.locale=n.filter(n=>e.includes(n)).shift()||"en"}}async init(){try{await this.initStore(),await this.initComments()}catch(e){e.response&&[401,403].includes(e.response.status)?this.isLoginRequired=!0:this.isFailed=!0,console.error(e)}}async initStore(){try{if(!this.options)throw new Error("Options are required to initialize Vssue");this.API=null,this.accessToken=null,this.user=null,this.issue=null,this.comments=null,this.query={page:1,perPage:this.options.perPage,sort:"desc"},this.isInitializing=!0,this.isIssueNotCreated=!1,this.isLoginRequired=!1,this.isFailed=!1,this.isCreatingIssue=!1,this.isLoadingComments=!1,this.isCreatingComment=!1,this.isUpdatingComment=!1;const e=this.options.api;this.API=new e({baseURL:this.options.baseURL,labels:this.options.labels,state:this.options.state,owner:this.options.owner,repo:this.options.repo,clientId:this.options.clientId,clientSecret:this.options.clientSecret,proxy:this.options.proxy}),await this.handleAuth()}finally{this.isInitializing=!1}}async initComments(){if(this.API&&this.options)if(this.issueId){const[e,n]=await Promise.all([this.API.getIssue({accessToken:this.accessToken,issueId:this.issueId}),this.API.getComments({accessToken:this.accessToken,issueId:this.issueId,query:this.query})]);this.issue=e,this.comments=n}else this.issue=await this.API.getIssue({accessToken:this.accessToken,issueTitle:this.issueTitle}),null===this.issue?(this.isIssueNotCreated=!0,this.options.autoCreateIssue&&await this.postIssue()):await this.getComments()}async postIssue(){if(this.API&&this.options&&!this.issue&&!this.issueId&&(this.isLogined||this.login(),this.isAdmin))try{this.isCreatingIssue=!0;const e=await this.API.postIssue({title:this.issueTitle,content:await this.options.issueContent({options:this.options,url:_t(window.location.href)}),accessToken:this.accessToken});this.issue=e,this.isIssueNotCreated=!1,await this.getComments()}catch(e){this.isFailed=!0}finally{this.isCreatingIssue=!1}}async getComments(){try{if(!this.API||!this.issue||this.isLoadingComments)return;this.isLoadingComments=!0;const e=await this.API.getComments({accessToken:this.accessToken,issueId:this.issue.id,query:this.query});return this.comments=e,this.query.page!==e.page&&(this.query.page=e.page),this.query.perPage!==e.perPage&&(this.query.perPage=e.perPage),e}catch(e){if(!e.response||![401,403].includes(e.response.status)||this.isLogined)throw this.$emit("error",e),e;this.isLoginRequired=!0}finally{this.isLoadingComments=!1}}async postComment({content:e}){try{if(!this.API||!this.issue||this.isCreatingComment)return;this.isCreatingComment=!0;return await this.API.postComment({accessToken:this.accessToken,content:e,issueId:this.issue.id})}catch(e){throw this.$emit("error",e),e}finally{this.isCreatingComment=!1}}async putComment({commentId:e,content:n}){try{if(!this.API||!this.issue)return;return await this.API.putComment({accessToken:this.accessToken,issueId:this.issue.id,commentId:e,content:n})}catch(e){throw this.$emit("error",e),e}}async deleteComment({commentId:e}){try{if(!this.API||!this.issue)return;return await this.API.deleteComment({accessToken:this.accessToken,issueId:this.issue.id,commentId:e})}catch(e){throw this.$emit("error",e),e}}async getCommentReactions({commentId:e}){try{if(!this.API||!this.issue)return;return await this.API.getCommentReactions({accessToken:this.accessToken,issueId:this.issue.id,commentId:e})}catch(e){throw this.$emit("error",e),e}}async postCommentReaction({commentId:e,reaction:n}){try{if(!this.API||!this.issue)return!1;return await this.API.postCommentReaction({accessToken:this.accessToken,issueId:this.issue.id,commentId:e,reaction:n})}catch(e){throw this.$emit("error",e),e}}login(){this.API&&this.API.redirectAuth()}logout(){this.setAccessToken(null),this.user=null}async handleAuth(){if(!this.API)return;const e=await this.API.handleAuth();e?(this.setAccessToken(e),this.user=await this.API.getUser({accessToken:e})):this.getAccessToken()?this.user=await this.API.getUser({accessToken:this.accessToken}):(this.setAccessToken(null),this.user=null)}getAccessToken(){return this.accessToken=window.localStorage.getItem(this.accessTokenKey),this.accessToken}setAccessToken(e){null===e?window.localStorage.removeItem(this.accessTokenKey):window.localStorage.setItem(this.accessTokenKey,e),this.accessToken=e}};br([ht("query.perPage")],Kr.prototype,"onQueryPerPageChange",null),br([ht("query.page"),ht("query.sort")],Kr.prototype,"onQueryChange",null),Kr=br([st({i18n:Gr})],Kr);var Jr=Kr;let Qr=class extends o.a{constructor(){super(...arguments),this.vssue=new Jr}onOptionsChange(e){this.vssue.setOptions(e)}mounted(){null!==this.title&&(this.vssue.title=this.title),null!==this.issueId&&(this.vssue.issueId=this.issueId),this.vssue.setOptions(this.options),this.vssue.init()}};var Yr;br([ft({type:[String,Function],required:!1,default:null})],Qr.prototype,"title",void 0),br([ft({type:[String,Number],required:!1,default:null})],Qr.prototype,"issueId",void 0),br([ft({type:Object,required:!1,default:()=>({})})],Qr.prototype,"options",void 0),br([(Yr="vssue",et((function(e,n){var t=e.provide;lt(t)&&(t=e.provide=ut(t)),t.managed[n]=Yr||n})))],Qr.prototype,"vssue",void 0),br([ht("options",{deep:!0})],Qr.prototype,"onOptionsChange",null),Qr=br([st({components:{Iconfont:_r,VssueBody:Mr,VssueHeader:Vr}})],Qr);const Zr=Er({render:function(){var e=this.$createElement,n=this._self._c||e;return n("div",{staticClass:"vssue"},[n("Iconfont"),this._v(" "),n("VssueHeader"),this._v(" "),n("VssueBody")],1)},staticRenderFns:[]},void 0,Qr,void 0,!1,void 0,!1,void 0,void 0,void 0);var Xr=t(23),eo=t.n(Xr);function no(e){return{username:e.login,avatar:e.avatar_url,homepage:e.html_url}}function to(e){return{id:e.number,title:e.title,content:e.body,link:e.html_url}}function ro(e){return{like:e["+1"],unlike:e[-1],heart:e.heart}}function oo(e){return{id:e.id,content:e.body_html,contentRaw:e.body,author:no(e.user),createdAt:e.created_at,updatedAt:e.updated_at,reactions:ro(e.reactions)}}function io(e){return"like"===e?"+1":"unlike"===e?"-1":e}class ao{constructor({baseURL:e="https://github.com",owner:n,repo:t,labels:r,clientId:o,clientSecret:i,state:a,proxy:s}){if(void 0===i||void 0===s)throw new Error("clientSecret and proxy is required for GitHub V3");this.baseURL=e,this.owner=n,this.repo=t,this.labels=r,this.clientId=o,this.clientSecret=i,this.state=a,this.proxy=s,this.$http=eo.a.create({baseURL:"https://github.com"===e?"https://api.github.com":yt(e,"api/v3"),headers:{Accept:"application/vnd.github.v3+json"}}),this.$http.interceptors.response.use(e=>e.data&&e.data.error?Promise.reject(new Error(e.data.error_description)):e,e=>(void 0===e.response&&"Network Error"===e.message&&(e.response={status:403}),Promise.reject(e)))}get platform(){return{name:"GitHub",link:this.baseURL,version:"v3",meta:{reactable:!0,sortable:!1}}}redirectAuth(){window.location.href=gt(yt(this.baseURL,"login/oauth/authorize"),{client_id:this.clientId,redirect_uri:window.location.href,scope:"public_repo",state:this.state})}async handleAuth(){const e=xt(window.location.search);if(e.code){if(e.state!==this.state)return null;const n=e.code;delete e.code,delete e.state;const t=gt(_t(window.location.href),e)+window.location.hash;window.history.replaceState(null,"",t);return await this.getAccessToken({code:n})}return null}async getAccessToken({code:e}){const n=yt(this.baseURL,"login/oauth/access_token"),t="function"==typeof this.proxy?this.proxy(n):this.proxy,{data:r}=await this.$http.post(t,{client_id:this.clientId,client_secret:this.clientSecret,code:e},{headers:{Accept:"application/json"}});return r.access_token}async getUser({accessToken:e}){const{data:n}=await this.$http.get("user",{headers:{Authorization:"token "+e}});return no(n)}async getIssue({accessToken:e,issueId:n,issueTitle:t}){const r={};if(e&&(r.headers={Authorization:"token "+e}),!n){r.params={q:[`"${t}"`,"is:issue","in:title",`repo:${this.owner}/${this.repo}`,"is:public",...this.labels.map(e=>"label:"+e)].join(" "),timestamp:Date.now()};const{data:e}=await this.$http.get("search/issues",r);return e.items.map(to).find(e=>e.title===t)||null}try{r.params={timestamp:Date.now()};const{data:e}=await this.$http.get(`repos/${this.owner}/${this.repo}/issues/${n}`,r);return to(e)}catch(e){if(e.response&&404===e.response.status)return null;throw e}}async postIssue({accessToken:e,title:n,content:t}){const{data:r}=await this.$http.post(`repos/${this.owner}/${this.repo}/issues`,{title:n,body:t,labels:this.labels},{headers:{Authorization:"token "+e}});return to(r)}async getComments({accessToken:e,issueId:n,query:{page:t=1,perPage:r=10}={}}){const o={params:{timestamp:Date.now()}},i={params:{page:t,per_page:r,timestamp:Date.now()},headers:{Accept:["application/vnd.github.v3.raw+json","application/vnd.github.v3.html+json","application/vnd.github.squirrel-girl-preview"]}};e&&(o.headers={Authorization:"token "+e},i.headers.Authorization="token "+e);const[a,s]=await Promise.all([this.$http.get(`repos/${this.owner}/${this.repo}/issues/${n}`,o),this.$http.get(`repos/${this.owner}/${this.repo}/issues/${n}/comments`,i)]),c=s.headers.link||null,u=/rel="next"/.test(c)?Number(c.replace(/^.*[^_]page=(\d*).*rel="next".*$/,"$1"))-1:/rel="prev"/.test(c)?Number(c.replace(/^.*[^_]page=(\d*).*rel="prev".*$/,"$1"))+1:1,l=c?Number(c.replace(/^.*per_page=(\d*).*$/,"$1")):r;return{count:Number(a.data.comments),page:u,perPage:l,data:s.data.map(oo)}}async postComment({accessToken:e,issueId:n,content:t}){const{data:r}=await this.$http.post(`repos/${this.owner}/${this.repo}/issues/${n}/comments`,{body:t},{headers:{Authorization:"token "+e,Accept:["application/vnd.github.v3.raw+json","application/vnd.github.v3.html+json","application/vnd.github.squirrel-girl-preview"]}});return oo(r)}async putComment({accessToken:e,commentId:n,content:t}){const{data:r}=await this.$http.patch(`repos/${this.owner}/${this.repo}/issues/comments/${n}`,{body:t},{headers:{Authorization:"token "+e,Accept:["application/vnd.github.v3.raw+json","application/vnd.github.v3.html+json","application/vnd.github.squirrel-girl-preview"]}});return oo(r)}async deleteComment({accessToken:e,commentId:n}){const{status:t}=await this.$http.delete(`repos/${this.owner}/${this.repo}/issues/comments/${n}`,{headers:{Authorization:"token "+e}});return 204===t}async getCommentReactions({accessToken:e,commentId:n}){const{data:t}=await this.$http.get(`repos/${this.owner}/${this.repo}/issues/comments/${n}`,{params:{timestamp:Date.now()},headers:{Authorization:"token "+e,Accept:"application/vnd.github.squirrel-girl-preview"}});return ro(t.reactions)}async postCommentReaction({accessToken:e,commentId:n,reaction:t}){const r=await this.$http.post(`repos/${this.owner}/${this.repo}/issues/comments/${n}/reactions`,{content:io(t)},{headers:{Authorization:"token "+e,Accept:"application/vnd.github.squirrel-girl-preview"}});return 200===r.status?this.deleteCommentReaction({accessToken:e,commentId:n,reactionId:r.data.id}):201===r.status}async deleteCommentReaction({accessToken:e,commentId:n,reactionId:t}){return 204===(await this.$http.delete(`repos/${this.owner}/${this.repo}/issues/comments/${n}/reactions/${t}`,{headers:{Authorization:"token "+e,Accept:"application/vnd.github.squirrel-girl-preview"}})).status}}function so(e){return null===e?{username:"ghost",avatar:"https://avatars3.githubusercontent.com/u/10137?v=4",homepage:"https://github.com/ghost"}:{username:e.login,avatar:e.avatarUrl,homepage:e.url}}function co(e){return{id:e.number,title:e.title,content:e.body,link:e.url}}function uo(e){return{like:e.find(e=>"THUMBS_UP"===e.content).users.totalCount,unlike:e.find(e=>"THUMBS_DOWN"===e.content).users.totalCount,heart:e.find(e=>"HEART"===e.content).users.totalCount}}function lo(e){return{id:e.id,content:e.bodyHTML,contentRaw:e.body,author:so(e.author),createdAt:e.createdAt,updatedAt:e.updatedAt,reactions:uo(e.reactionGroups)}}function po(e){return"like"===e?"THUMBS_UP":"unlike"===e?"THUMBS_DOWN":"heart"===e?"HEART":e}class fo{constructor({baseURL:e="https://github.com",owner:n,repo:t,labels:r,clientId:o,clientSecret:i,state:a,proxy:s}){if(void 0===i||void 0===s)throw new Error("clientSecret and proxy is required for GitHub V4");this.baseURL=e,this.owner=n,this.repo=t,this.labels=r,this.clientId=o,this.clientSecret=i,this.state=a,this.proxy=s,this._pageInfo={page:1,startCursor:null,endCursor:null,sort:null,perPage:null},this._issueNodeId=null,this.$http=eo.a.create({baseURL:"https://github.com"===e?"https://api.github.com":yt(e,"api"),headers:{Accept:"application/vnd.github.v3+json"}}),this.$http.interceptors.response.use(e=>e.data.error?Promise.reject(e.data.error_description):e.data.errors?Promise.reject(e.data.errors[0].message):e)}get platform(){return{name:"GitHub",link:this.baseURL,version:"v4",meta:{reactable:!0,sortable:!0}}}redirectAuth(){window.location.href=gt(yt(this.baseURL,"login/oauth/authorize"),{client_id:this.clientId,redirect_uri:window.location.href,scope:"public_repo",state:this.state})}async handleAuth(){const e=xt(window.location.search);if(e.code){if(e.state!==this.state)return null;const n=e.code;delete e.code,delete e.state;const t=gt(_t(window.location.href),e)+window.location.hash;window.history.replaceState(null,"",t);return await this.getAccessToken({code:n})}return null}async getAccessToken({code:e}){const n=yt(this.baseURL,"login/oauth/access_token"),t="function"==typeof this.proxy?this.proxy(n):this.proxy,{data:r}=await this.$http.post(t,{client_id:this.clientId,client_secret:this.clientSecret,code:e},{headers:{Accept:"application/json"}});return r.access_token}async getUser({accessToken:e}){const{data:n}=await this.$http.post("graphql",{query:"query getUser {\n  viewer {\n    login\n    avatarUrl\n    url\n  }\n}"},{headers:{Authorization:"token "+e}});return so(n.data.viewer)}async getIssue({accessToken:e,issueId:n,issueTitle:t}){const r={};if(e&&(r.headers={Authorization:"token "+e}),!n){const e=[`"${t}"`,"in:title",`repo:${this.owner}/${this.repo}`,"is:public",...this.labels.map(e=>"label:"+e)].join(" "),{data:n}=await this.$http.post("graphql",{variables:{query:e},query:"query getIssueByTitle(\n  $query: String!\n) {\n  search(\n    query: $query\n    type: ISSUE\n    first: 20\n    ) {\n      nodes {\n      ... on Issue {\n        id\n        number\n        title\n        body\n        url\n      }\n    }\n  }\n}"},r),o=n.data.search.nodes.find(e=>e.title===t);return o?(this._issueNodeId=o.id,co(o)):null}try{const{data:e}=await this.$http.post("graphql",{query:`query getIssueById {\n  repository(owner: "${this.owner}", name: "${this.repo}") {\n    issue (number: ${n}) {\n      id\n      number\n      title\n      body\n      url\n    }\n  }\n}`},r);return this._issueNodeId=e.data.repository.issue.id,co(e.data.repository.issue)}catch(e){if(e.response&&404===e.response.status)return null;throw e}}async postIssue({accessToken:e,title:n,content:t}){const{data:r}=await this.$http.post(`repos/${this.owner}/${this.repo}/issues`,{title:n,body:t,labels:this.labels},{headers:{Authorization:"token "+e}});return r.url=r.html_url,this._issueNodeId=r.node_id,co(r)}async getComments({accessToken:e,issueId:n,query:{page:t=1,perPage:r=10,sort:o="desc"}={}}){const i={};e&&(i.headers={Authorization:"token "+e}),null!==this._pageInfo.sort&&o!==this._pageInfo.sort&&(t=1);const{firstOrLast:a,afterOrBefore:s,cursor:c}=this._getQueryParams({page:t,sort:o}),{data:u}=await this.$http.post("graphql",{variables:{owner:this.owner,repo:this.repo,issueId:n,perPage:r},query:`query getComments(\n  $owner: String!\n  $repo: String!\n  $issueId: Int!\n  $perPage: Int!\n) {\n  repository(owner: $owner, name: $repo) {\n    issue(number: $issueId) {\n      comments(\n        ${a}: $perPage\n        ${null===s?"":`${s}: "${c}"`}\n      ) {\n        totalCount\n        pageInfo {\n          endCursor\n          startCursor\n        }\n        nodes {\n          id\n          body\n          bodyHTML\n          createdAt\n          updatedAt\n          author {\n            avatarUrl\n            login\n            url\n          }\n          reactionGroups {\n            users (first: 0) {\n              totalCount\n            }\n            content\n          }\n        }\n      }\n    }\n  }\n}`},i),l=u.data.repository.issue.comments;return"desc"===o&&l.nodes.reverse(),this._pageInfo={page:t,startCursor:l.pageInfo.startCursor,endCursor:l.pageInfo.endCursor,sort:o,perPage:r},{count:l.totalCount,page:t,perPage:r,data:l.nodes.map(lo)}}async postComment({accessToken:e,content:n}){const{data:t}=await this.$http.post("graphql",{variables:{issueNodeId:this._issueNodeId,content:n},query:"mutation postComment(\n  $issueNodeId: ID!\n  $content: String!\n) {\n  addComment(\n    input: {\n      subjectId: $issueNodeId\n      body: $content\n    }\n  ) {\n    commentEdge {\n      node {\n        id\n        body\n        bodyHTML\n        createdAt\n        updatedAt\n        author {\n          avatarUrl\n          login\n          url\n        }\n        reactionGroups {\n          users (first: 0) {\n            totalCount\n          }\n          content\n        }\n      }\n    }\n  }\n}"},{headers:{Authorization:"token "+e}});return lo(t.data.addComment.commentEdge.node)}async putComment({accessToken:e,commentId:n,content:t}){const{data:r}=await this.$http.post("graphql",{variables:{commentId:n,content:t},query:"mutation putComment(\n  $commentId: ID!,\n  $content: String!,\n) {\n  updateIssueComment(input: {\n    id: $commentId\n    body: $content\n  }) {\n    issueComment {\n      id\n      body\n      bodyHTML\n      createdAt\n      updatedAt\n      author {\n        avatarUrl\n        login\n        url\n      }\n      reactionGroups {\n        users (first: 0) {\n          totalCount\n        }\n        content\n      }\n    }\n  }\n}"},{headers:{Authorization:"token "+e}});return lo(r.data.updateIssueComment.issueComment)}async deleteComment({accessToken:e,commentId:n}){return await this.$http.post("graphql",{variables:{commentId:n},query:"mutation deleteComment(\n  $commentId: ID!,\n) {\n  deleteIssueComment(input: {\n    id: $commentId\n  }) {\n    clientMutationId\n  }\n}"},{headers:{Authorization:"token "+e}}),!0}async getCommentReactions({accessToken:e,issueId:n,commentId:t}){const{firstOrLast:r,afterOrBefore:o,cursor:i}=this._getQueryParams(),{data:a}=await this.$http.post("graphql",{variables:{owner:this.owner,repo:this.repo,issueId:n,perPage:this._pageInfo.perPage},query:`query getComments(\n  $owner: String!\n  $repo: String!\n  $issueId: Int!\n  $perPage: Int!\n) {\n  repository(owner: $owner, name: $repo) {\n    issue(number: $issueId) {\n      comments(\n        ${r}: $perPage\n        ${null===o?"":`${o}: "${i}"`}\n      ) {\n        nodes {\n          id\n          reactionGroups {\n            users (first: 0) {\n              totalCount\n            }\n            content\n          }\n        }\n      }\n    }\n  }\n}`},{headers:{Authorization:"token "+e}});return uo(a.data.repository.issue.comments.nodes.find(e=>e.id===t).reactionGroups)}async postCommentReaction({accessToken:e,commentId:n,reaction:t}){return await this.$http.post("graphql",{variables:{commentId:n,content:po(t)},query:"mutation postCommentReaction(\n  $commentId: ID!,\n  $content: ReactionContent!,\n) {\n  addReaction(input: {\n    subjectId: $commentId\n    content: $content\n  }) {\n    reaction {\n      databaseId\n    }\n  }\n}"},{headers:{Authorization:"token "+e}}),!0}_getQueryParams({page:e=this._pageInfo.page,sort:n=this._pageInfo.sort}={}){let t,r,o;return 1===e?(t="asc"===n?"first":"last",r=null,o=null):"asc"===n?e>this._pageInfo.page?(t="first",r="after",o=this._pageInfo.endCursor):(t="last",r="before",o=this._pageInfo.startCursor):e>this._pageInfo.page?(t="last",r="before",o=this._pageInfo.startCursor):(t="first",r="after",o=this._pageInfo.endCursor),{firstOrLast:t,afterOrBefore:r,cursor:o}}}function ho(e){return{username:e.username,avatar:e.avatar_url,homepage:e.web_url}}function mo(e){return{id:e.iid,title:e.title,content:e.description,link:e.web_url}}function vo(e){return{id:e.id,content:e.body_html||"",contentRaw:e.body,author:ho(e.author),createdAt:e.created_at,updatedAt:e.updated_at,reactions:e.reactions}}function go(e){return{like:e.filter(e=>"thumbsup"===e.name).length,unlike:e.filter(e=>"thumbsdown"===e.name).length,heart:e.filter(e=>"heart"===e.name).length}}function yo(e){return"like"===e?"thumbsup":"unlike"===e?"thumbsdown":e}class bo{constructor({baseURL:e="https://gitlab.com",owner:n,repo:t,labels:r,clientId:o,state:i}){this.baseURL=e,this.owner=n,this.repo=t,this.labels=r,this.clientId=o,this.state=i,this._encodedRepo=encodeURIComponent(`${this.owner}/${this.repo}`),this.$http=eo.a.create({baseURL:yt(e,"api/v4"),headers:{Accept:"application/json"}})}get platform(){return{name:"GitLab",link:this.baseURL,version:"v4",meta:{reactable:!0,sortable:!0}}}redirectAuth(){window.location.href=gt(yt(this.baseURL,"oauth/authorize"),{client_id:this.clientId,redirect_uri:window.location.href,response_type:"token",state:this.state})}async handleAuth(){const e=xt(window.location.hash.slice(1));if(!e.access_token||e.state!==this.state)return null;const n=e.access_token;delete e.access_token,delete e.token_type,delete e.expires_in,delete e.state;const t=vt(e),r=t?"#"+t:"",o=`${_t(window.location.href)}${window.location.search}${r}`;return window.history.replaceState(null,"",o),n}async getUser({accessToken:e}){const{data:n}=await this.$http.get("user",{headers:{Authorization:"Bearer "+e}});return ho(n)}async getIssue({accessToken:e,issueId:n,issueTitle:t}){const r={};if(e&&(r.headers={Authorization:"Bearer "+e}),!n){r.params={labels:this.labels.join(","),order_by:"created_at",sort:"asc",search:t};const{data:e}=await this.$http.get(`projects/${this._encodedRepo}/issues`,r);return e.map(mo).find(e=>e.title===t)||null}try{const{data:e}=await this.$http.get(`projects/${this._encodedRepo}/issues/${n}`,r);return mo(e)}catch(e){if(e.response&&404===e.response.status)return null;throw e}}async postIssue({accessToken:e,title:n,content:t}){const{data:r}=await this.$http.post(`projects/${this._encodedRepo}/issues`,{title:n,description:t,labels:this.labels.join(",")},{headers:{Authorization:"Bearer "+e}});return mo(r)}async getComments({accessToken:e,issueId:n,query:{page:t=1,perPage:r=10,sort:o="desc"}={}}){const i={params:{page:t,per_page:r,order_by:"created_at",sort:o}};e&&(i.headers={Authorization:"Bearer "+e});const a=await this.$http.get(`projects/${this._encodedRepo}/issues/${n}/notes`,i),s=a.data,c=[];for(const t of s)c.push((async()=>{t.body_html=await this.getMarkdownContent({accessToken:e,contentRaw:t.body})})()),c.push((async()=>{t.reactions=await this.getCommentReactions({accessToken:e,issueId:n,commentId:t.id})})());return await Promise.all(c),{count:Number(a.headers["x-total"]),page:Number(a.headers["x-page"]),perPage:Number(a.headers["x-per-page"]),data:s.map(vo)}}async postComment({accessToken:e,issueId:n,content:t}){const{data:r}=await this.$http.post(`projects/${this._encodedRepo}/issues/${n}/notes`,{body:t},{headers:{Authorization:"Bearer "+e}});return vo(r)}async putComment({accessToken:e,issueId:n,commentId:t,content:r}){const{data:o}=await this.$http.put(`projects/${this._encodedRepo}/issues/${n}/notes/${t}`,{body:r},{headers:{Authorization:"Bearer "+e}}),[i,a]=await Promise.all([this.getMarkdownContent({accessToken:e,contentRaw:o.body}),this.getCommentReactions({accessToken:e,issueId:n,commentId:o.id})]);return o.body_html=i,o.reactions=a,vo(o)}async deleteComment({accessToken:e,issueId:n,commentId:t}){const{status:r}=await this.$http.delete(`projects/${this._encodedRepo}/issues/${n}/notes/${t}`,{headers:{Authorization:"Bearer "+e}});return 204===r}async getCommentReactions({accessToken:e,issueId:n,commentId:t}){const{data:r}=await this.$http.get(`projects/${this._encodedRepo}/issues/${n}/notes/${t}/award_emoji`,{headers:{Authorization:"Bearer "+e}});return go(r)}async postCommentReaction({issueId:e,commentId:n,reaction:t,accessToken:r}){try{return 201===(await this.$http.post(`projects/${this._encodedRepo}/issues/${e}/notes/${n}/award_emoji`,{name:yo(t)},{headers:{Authorization:"Bearer "+r}})).status}catch(e){if(e.response&&404===e.response.status)return!1;throw e}}async getMarkdownContent({accessToken:e,contentRaw:n}){const t={};e&&(t.headers={Authorization:"Bearer "+e});const{data:r}=await this.$http.post("markdown",{text:n,gfm:!0},t);return r.html}}function wo(e){return{username:e.nickname,avatar:e.links.avatar.href,homepage:e.links.html.href}}function Eo(e){return{id:e.id,title:e.title,content:e.content.raw,link:e.links.html.href}}function _o(e){return{id:e.id,content:e.content.html,contentRaw:e.content.raw,author:wo(e.user),createdAt:e.created_on,updatedAt:e.updated_on,reactions:null}}class xo{constructor({baseURL:e="https://bitbucket.org",owner:n,repo:t,clientId:r,state:o}){this.baseURL=e,this.owner=n,this.repo=t,this.clientId=r,this.state=o,this.$http=eo.a.create({baseURL:"https://api.bitbucket.org/2.0",headers:{Accept:"application/json"}})}get platform(){return{name:"Bitbucket",link:this.baseURL,version:"v2",meta:{reactable:!1,sortable:!0}}}redirectAuth(){window.location.href=gt(yt(this.baseURL,"site/oauth2/authorize"),{client_id:this.clientId,redirect_uri:window.location.href,response_type:"token",state:this.state})}async handleAuth(){const e=xt(window.location.hash.slice(1));if(!e.access_token||e.state!==this.state)return null;const n=e.access_token;delete e.access_token,delete e.token_type,delete e.expires_in,delete e.state,delete e.scopes;const t=vt(e),r=t?"#"+t:"",o=`${_t(window.location.href)}${window.location.search}${r}`;return window.history.replaceState(null,"",o),n}async getUser({accessToken:e}){const{data:n}=await this.$http.get("user",{headers:{Authorization:"Bearer "+e}});return wo(n)}async getIssue({accessToken:e,issueId:n,issueTitle:t}){const r={};if(e&&(r.headers={Authorization:"Bearer "+e}),!n){r.params={sort:"created_on",q:`title="${t}"`,timestamp:Date.now()};const{data:e}=await this.$http.get(`repositories/${this.owner}/${this.repo}/issues`,r);return e.size>0?Eo(e.values[0]):null}try{r.params={timestamp:Date.now()};const{data:e}=await this.$http.get(`repositories/${this.owner}/${this.repo}/issues/${n}`,r);return Eo(e)}catch(e){if(e.response&&404===e.response.status)return null;throw e}}async postIssue({accessToken:e,title:n,content:t}){const{data:r}=await this.$http.post(`repositories/${this.owner}/${this.repo}/issues`,{title:n,content:{raw:t},priority:"trivial",kind:"task"},{headers:{Authorization:"Bearer "+e}});return r.links.html={href:yt(this.baseURL,`${this.owner}/${this.repo}/issues/${r.id}`)},Eo(r)}async getComments({accessToken:e,issueId:n,query:{page:t=1,perPage:r=10,sort:o="desc"}={}}){const i={params:{page:t,pagelen:r,sort:"desc"===o?"-created_on":"created_on",timestamp:Date.now()}};e&&(i.headers={Authorization:"Bearer "+e});const{data:a}=await this.$http.get(`repositories/${this.owner}/${this.repo}/issues/${n}/comments`,i);return{count:a.size,page:a.page,perPage:a.pagelen,data:a.values.filter(e=>null!==e.content.raw).map(_o)}}async postComment({accessToken:e,issueId:n,content:t}){const{data:r}=await this.$http.post(`repositories/${this.owner}/${this.repo}/issues/${n}/comments`,{content:{raw:t}},{headers:{Authorization:"Bearer "+e}});return _o(r)}async putComment({accessToken:e,issueId:n,commentId:t,content:r}){const{data:o}=await this.$http.put(`repositories/${this.owner}/${this.repo}/issues/${n}/comments/${t}`,{content:{raw:r}},{headers:{Authorization:"Bearer "+e}});return _o(o)}async deleteComment({accessToken:e,issueId:n,commentId:t}){const{status:r}=await this.$http.delete(`repositories/${this.owner}/${this.repo}/issues/${n}/comments/${t}`,{headers:{Authorization:"Bearer "+e}});return 204===r}async getCommentReactions(e){throw new Error("501 Not Implemented")}async postCommentReaction(e){throw new Error("501 Not Implemented")}}function Ao(e){return{username:e.login,avatar:e.avatar_url,homepage:e.html_url}}function ko(e){return{id:e.number,title:e.title,content:e.body,link:e.html_url}}function Co(e){return{id:e.id,content:e.body_html||"",contentRaw:e.body,author:Ao(e.user),createdAt:e.created_at,updatedAt:e.updated_at||"",reactions:null}}class Oo{constructor({baseURL:e="https://gitee.com",owner:n,repo:t,labels:r,clientId:o,clientSecret:i,state:a,proxy:s}){if(void 0===i||void 0===s)throw new Error("clientSecret and proxy is required for Gitee V5");this.baseURL=e,this.owner=n,this.repo=t,this.labels=r,this.clientId=o,this.clientSecret=i,this.state=a,this.proxy=s,this.$http=eo.a.create({baseURL:yt(e,"api/v5")}),this.$http.interceptors.response.use(e=>e,e=>(e.response.data&&e.response.data.message&&(e.message=e.response.data.message),Promise.reject(e)))}get platform(){return{name:"Gitee",link:this.baseURL,version:"v5",meta:{reactable:!1,sortable:!1}}}redirectAuth(){window.location.href=gt(yt(this.baseURL,"oauth/authorize"),{client_id:this.clientId,redirect_uri:window.location.href,scope:"user_info issues notes",response_type:"code",state:this.state})}async handleAuth(){const e=xt(window.location.search);if(e.code){if(e.state!==this.state)return null;const n=e.code;delete e.code,delete e.state;const t=gt(_t(window.location.href),e)+window.location.hash;window.history.replaceState(null,"",t);return await this.getAccessToken({code:n})}return null}async getAccessToken({code:e}){const n=yt(this.baseURL,"oauth/token"),t="function"==typeof this.proxy?this.proxy(n):this.proxy,{data:r}=await this.$http.post(t,{client_id:this.clientId,client_secret:this.clientSecret,code:e,grant_type:"authorization_code",redirect_uri:window.location.href});return r.access_token}async getUser({accessToken:e}){const{data:n}=await this.$http.get("user",{params:{access_token:e}});return Ao(n)}async getIssue({accessToken:e,issueId:n,issueTitle:t}){const r={params:{timestamp:Date.now()}};if(e&&(r.params.access_token=e),!n){Object.assign(r.params,{q:t,repo:`${this.owner}/${this.repo}`,per_page:1});const{data:e}=await this.$http.get("search/issues",r);return e.map(ko).find(e=>e.title===t)||null}try{const{data:e}=await this.$http.get(`repos/${this.owner}/${this.repo}/issues/${n}`,r);return ko(e)}catch(e){if(e.response&&404===e.response.status)return null;throw e}}async postIssue({accessToken:e,title:n,content:t}){const{data:r}=await this.$http.post(`repos/${this.owner}/issues`,{access_token:e,repo:this.repo,title:n,body:t,labels:this.labels.join(",")});return ko(r)}async getComments({accessToken:e,issueId:n,query:{page:t=1,perPage:r=10}={}}){const o={params:{page:t,per_page:r,timestamp:Date.now()},headers:{Accept:["application/vnd.gitee.html+json"]}};e&&(o.params.access_token=e);const i=await this.$http.get(`repos/${this.owner}/${this.repo}/issues/${n}/comments`,o);return{count:Number(i.headers.total_count),page:t,perPage:r,data:i.data.map(Co)}}async postComment({accessToken:e,issueId:n,content:t}){const{data:r}=await this.$http.post(`repos/${this.owner}/${this.repo}/issues/${n}/comments`,{body:t,access_token:e},{headers:{Accept:["application/vnd.gitee.html+json"]}});return Co(r)}async putComment({accessToken:e,commentId:n,content:t}){const{data:r}=await this.$http.patch(`repos/${this.owner}/${this.repo}/issues/comments/${n}`,{body:t,access_token:e},{headers:{Accept:["application/vnd.gitee.html+json"]}});return Co(r)}async deleteComment({accessToken:e,commentId:n}){const{status:t}=await this.$http.delete(`repos/${this.owner}/${this.repo}/issues/comments/${n}`,{params:{access_token:e}});return 204===t}async getCommentReactions(e){throw new Error("501 Not Implemented")}async postCommentReaction(e){throw new Error("501 Not Implemented")}}t(426);var So={name:"Vssue",components:{VssueComponent:Zr},props:{options:{type:Object,default:function(){return{}}}},data:function(){return{key:"key",platformOptions:{github:ao,"github-v4":fo,gitlab:bo,bitbucket:xo,gitee:Oo}}},computed:{vssueOptions:function(){var e=this.platformOptions,n=this.options,t=e[n.platform];return Object(qn.a)(Object(qn.a)({},n),{},{api:t})}},watch:{$route:function(e,n){var t=this;e.path!==n.path&&setTimeout((function(){t.key="reco-".concat((new Date).getTime())}),300)}}},Bo=(t(427),{components:{Valine:Hn,Vssue:Object(On.a)(So,(function(){var e=this.$createElement;return(this._self._c||e)("VssueComponent",{key:this.key,staticClass:"vssue-wrapper",attrs:{options:this.vssueOptions}})}),[],!1,null,null,null).exports},props:{isShowComments:{type:Boolean,default:!0}},data:function(){return{commentsOptions:{}}},computed:{solution:function(){var e=this.commentsOptions.solution,n=this.$themeConfig,t=n.valineConfig,r=n.vssueConfig,o="";return void 0!==e?o=e:void 0!==t?o="valine":void 0!==r&&(o="vssue"),this.$themeConfig.commentsSolution=o,o},options:function(){var e=this.commentsOptions.options,n=this.$themeConfig,t=n.valineConfig,r=n.vssueConfig;return void 0!==e?e:void 0!==t?t:void 0!==r?r:null},componentName:function(){var e=this.solution;return"valine"===e?"Valine":"vssue"===e?"Vssue":""}}}),jo=Object(On.a)(Bo,(function(){var e=this.$createElement,n=this._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:this.isShowComments,expression:"isShowComments"}],staticClass:"comments-wrapper"},[n(this.componentName,{tag:"component",attrs:{options:this.options}})],1)}),[],!1,null,null,null).exports,To={props:{idVal:String,numStyle:Object,flagTitle:{type:String,default:"Your Article Title"}},methods:{getIdVal:function(e){var n=this.$site.base;return n.slice(0,n.length-1)+e}}},Do=Object(On.a)(To,(function(){var e=this.$createElement,n=this._self._c||e;return this.$themeConfig.valineConfig&&0!=this.$themeConfig.valineConfig.visitor?n("span",{staticClass:"leancloud-visitors",attrs:{id:this.getIdVal(this.idVal),"data-flag-title":this.flagTitle}},[n("a",{staticClass:"leancloud-visitors-count",style:this.numStyle})]):this._e()}),[],!1,null,null,null).exports,Po=(t(428),t(68));function Io(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}t(92);function No(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fo(e,n,t){return n&&No(e.prototype,n),t&&No(e,t),e}var $o={tags:{Deno:{key:"Deno",scope:"tags",path:"/tags/Deno/",pageKeys:["v-3ba3c14b"]},Docker:{key:"Docker",scope:"tags",path:"/tags/Docker/",pageKeys:["v-8a51e478","v-6d0101e4","v-5ccf3384","v-3530d46e","v-1883794a"]},Dockerfile:{key:"Dockerfile",scope:"tags",path:"/tags/Dockerfile/",pageKeys:["v-6d0101e4"]},Nexus:{key:"Nexus",scope:"tags",path:"/tags/Nexus/",pageKeys:["v-5ccf3384","v-1883794a"]},Nginx:{key:"Nginx",scope:"tags",path:"/tags/Nginx/",pageKeys:["v-523b5356"]},"今日头条":{key:"今日头条",scope:"tags",path:"/tags/今日头条/",pageKeys:["v-4a462752"]},selenium:{key:"selenium",scope:"tags",path:"/tags/selenium/",pageKeys:["v-4a462752"]},"滑块验证码":{key:"滑块验证码",scope:"tags",path:"/tags/滑块验证码/",pageKeys:["v-4a462752"]},"装饰器":{key:"装饰器",scope:"tags",path:"/tags/装饰器/",pageKeys:["v-2ef205fb"]},"关于我":{key:"关于我",scope:"tags",path:"/tags/关于我/",pageKeys:["v-deaeb36e"]},Vue:{key:"Vue",scope:"tags",path:"/tags/Vue/",pageKeys:["v-8840e594","v-74d83086","v-b7202dc4","v-5173ead6","v-17869ba0","v-358226fc","v-f62f16ea"]},"地图":{key:"地图",scope:"tags",path:"/tags/地图/",pageKeys:["v-8840e594"]},Nuxt:{key:"Nuxt",scope:"tags",path:"/tags/Nuxt/",pageKeys:["v-74d83086","v-5173ead6"]},"微信":{key:"微信",scope:"tags",path:"/tags/微信/",pageKeys:["v-b7202dc4"]},NPM:{key:"NPM",scope:"tags",path:"/tags/NPM/",pageKeys:["v-1883794a"]},"源码":{key:"源码",scope:"tags",path:"/tags/源码/",pageKeys:["v-17869ba0","v-358226fc","v-f62f16ea","v-1e2524b3","v-de9e813e"]},Diff:{key:"Diff",scope:"tags",path:"/tags/Diff/",pageKeys:["v-f62f16ea"]},"面试题":{key:"面试题",scope:"tags",path:"/tags/面试题/",pageKeys:["v-f62f16ea","v-288515c3"]},Promise:{key:"Promise",scope:"tags",path:"/tags/Promise/",pageKeys:["v-288515c3"]},canvas:{key:"canvas",scope:"tags",path:"/tags/canvas/",pageKeys:["v-d5e5f2f4"]},"lw-chart":{key:"lw-chart",scope:"tags",path:"/tags/lw-chart/",pageKeys:["v-d5e5f2f4"]},"插件开发":{key:"插件开发",scope:"tags",path:"/tags/插件开发/",pageKeys:["v-0072bc1a"]},Serverless:{key:"Serverless",scope:"tags",path:"/tags/Serverless/",pageKeys:["v-5bfe3b3e"]},"小程序":{key:"小程序",scope:"tags",path:"/tags/小程序/",pageKeys:["v-5bfe3b3e"]},"云开发":{key:"云开发",scope:"tags",path:"/tags/云开发/",pageKeys:["v-5bfe3b3e"]},"网站安全":{key:"网站安全",scope:"tags",path:"/tags/网站安全/",pageKeys:["v-d72c9f84"]},"抓包":{key:"抓包",scope:"tags",path:"/tags/抓包/",pageKeys:["v-d72c9f84"]},Charles:{key:"Charles",scope:"tags",path:"/tags/Charles/",pageKeys:["v-d72c9f84"]},Postman:{key:"Postman",scope:"tags",path:"/tags/Postman/",pageKeys:["v-d72c9f84"]},CI:{key:"CI",scope:"tags",path:"/tags/CI/",pageKeys:["v-54cddafe"]},Travis:{key:"Travis",scope:"tags",path:"/tags/Travis/",pageKeys:["v-54cddafe"]},"培训":{key:"培训",scope:"tags",path:"/tags/培训/",pageKeys:["v-d5699b42"]},"未来":{key:"未来",scope:"tags",path:"/tags/未来/",pageKeys:["v-39c39aa6"]},"面试":{key:"面试",scope:"tags",path:"/tags/面试/",pageKeys:["v-3620476a"]},Vue3:{key:"Vue3",scope:"tags",path:"/tags/Vue3/",pageKeys:["v-1e2524b3","v-de9e813e"]},"程序员":{key:"程序员",scope:"tags",path:"/tags/程序员/",pageKeys:["v-18fd2e5b"]},"第二技能":{key:"第二技能",scope:"tags",path:"/tags/第二技能/",pageKeys:["v-18fd2e5b"]},"自媒体":{key:"自媒体",scope:"tags",path:"/tags/自媒体/",pageKeys:["v-9f984b4c","v-21daaa6c"]},"公众号":{key:"公众号",scope:"tags",path:"/tags/公众号/",pageKeys:["v-78add9ad"]},VuePress:{key:"VuePress",scope:"tags",path:"/tags/VuePress/",pageKeys:["v-78add9ad"]},"引流":{key:"引流",scope:"tags",path:"/tags/引流/",pageKeys:["v-78add9ad"]},OpenWrite:{key:"OpenWrite",scope:"tags",path:"/tags/OpenWrite/",pageKeys:["v-78add9ad"]},"小霸王游戏机":{key:"小霸王游戏机",scope:"tags",path:"/tags/小霸王游戏机/",pageKeys:["v-4ab872ee"]},JSENS:{key:"JSENS",scope:"tags",path:"/tags/JSENS/",pageKeys:["v-4ab872ee"]}},categories:{Deno:{key:"Deno",scope:"categories",path:"/categories/Deno/",pageKeys:["v-3ba3c14b"]},Docker:{key:"Docker",scope:"categories",path:"/categories/Docker/",pageKeys:["v-8a51e478","v-6d0101e4","v-5ccf3384","v-3530d46e"]},Nginx:{key:"Nginx",scope:"categories",path:"/categories/Nginx/",pageKeys:["v-523b5356"]},Python:{key:"Python",scope:"categories",path:"/categories/Python/",pageKeys:["v-4a462752","v-2ef205fb"]},"关于我":{key:"关于我",scope:"categories",path:"/categories/关于我/",pageKeys:["v-deaeb36e"]},"前端":{key:"前端",scope:"categories",path:"/categories/前端/",pageKeys:["v-8840e594","v-74d83086","v-b7202dc4","v-5173ead6","v-1883794a","v-17869ba0","v-358226fc","v-f62f16ea","v-288515c3","v-d5e5f2f4","v-5bfe3b3e","v-d72c9f84","v-1e2524b3","v-de9e813e"]},"插件":{key:"插件",scope:"categories",path:"/categories/插件/",pageKeys:["v-0072bc1a"]},CI:{key:"CI",scope:"categories",path:"/categories/CI/",pageKeys:["v-54cddafe"]},"随笔":{key:"随笔",scope:"categories",path:"/categories/随笔/",pageKeys:["v-d5699b42","v-39c39aa6","v-3620476a","v-18fd2e5b","v-9f984b4c","v-21daaa6c","v-4ab872ee"]},VuePress:{key:"VuePress",scope:"categories",path:"/categories/VuePress/",pageKeys:["v-78add9ad"]}},timeline:{}},Ro=function(){function e(n,t){var r=this;Io(this,e),this._metaMap=Object.assign({},n),Object.keys(this._metaMap).forEach((function(e){var n=r._metaMap[e].pageKeys;r._metaMap[e].pages=n.map((function(e){return Object(Qe.b)(t,e)}))}))}return Fo(e,[{key:"length",get:function(){return Object.keys(this._metaMap).length}},{key:"map",get:function(){return this._metaMap}},{key:"pages",get:function(){return this.list}},{key:"list",get:function(){return this.toArray()}},{key:"toArray",value:function(){var e=this,n=[];return Object.keys(this._metaMap).forEach((function(t){var r=e._metaMap[t],o=r.pages,i=r.path;n.push({name:t,pages:o,path:i})})),n}},{key:"getItemByName",value:function(e){return this._metaMap[e]}}]),e}(),Mo=(t(200),{tags:function(e,n){return new Date(e.frontmatter.date).getTime()-new Date(n.frontmatter.date).getTime()>0?-1:1},categories:function(e,n){return new Date(e.frontmatter.date).getTime()-new Date(n.frontmatter.date).getTime()>0?-1:1}}),zo=(t(76),{tags:function(e,n,t){var r=n;return["tags"].some((function(n){var t=e.frontmatter[n];return Array.isArray(t)?t.some((function(e){return e===r})):t===r}))},categories:function(e,n,t){var r=n;return["categories"].some((function(n){var t=e.frontmatter[n];return Array.isArray(t)?t.some((function(e){return e===r})):t===r}))}}),Vo=[{pid:"tags",id:"Deno",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/Deno/",interval:[0,1]}]},{pid:"tags",id:"Docker",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/Docker/",interval:[0,5]}]},{pid:"tags",id:"Dockerfile",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/Dockerfile/",interval:[0,1]}]},{pid:"tags",id:"Nexus",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/Nexus/",interval:[0,2]}]},{pid:"tags",id:"Nginx",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/Nginx/",interval:[0,1]}]},{pid:"tags",id:"今日头条",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/今日头条/",interval:[0,1]}]},{pid:"tags",id:"selenium",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/selenium/",interval:[0,1]}]},{pid:"tags",id:"滑块验证码",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/滑块验证码/",interval:[0,1]}]},{pid:"tags",id:"装饰器",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/装饰器/",interval:[0,1]}]},{pid:"tags",id:"关于我",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/关于我/",interval:[0,1]}]},{pid:"tags",id:"Vue",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/Vue/",interval:[0,7]}]},{pid:"tags",id:"地图",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/地图/",interval:[0,1]}]},{pid:"tags",id:"Nuxt",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/Nuxt/",interval:[0,2]}]},{pid:"tags",id:"微信",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/微信/",interval:[0,1]}]},{pid:"tags",id:"NPM",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/NPM/",interval:[0,1]}]},{pid:"tags",id:"源码",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/源码/",interval:[0,5]}]},{pid:"tags",id:"Diff",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/Diff/",interval:[0,1]}]},{pid:"tags",id:"面试题",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/面试题/",interval:[0,2]}]},{pid:"tags",id:"Promise",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/Promise/",interval:[0,1]}]},{pid:"tags",id:"canvas",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/canvas/",interval:[0,1]}]},{pid:"tags",id:"lw-chart",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/lw-chart/",interval:[0,1]}]},{pid:"tags",id:"插件开发",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/插件开发/",interval:[0,1]}]},{pid:"tags",id:"Serverless",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/Serverless/",interval:[0,1]}]},{pid:"tags",id:"小程序",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/小程序/",interval:[0,1]}]},{pid:"tags",id:"云开发",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/云开发/",interval:[0,1]}]},{pid:"tags",id:"网站安全",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/网站安全/",interval:[0,1]}]},{pid:"tags",id:"抓包",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/抓包/",interval:[0,1]}]},{pid:"tags",id:"Charles",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/Charles/",interval:[0,1]}]},{pid:"tags",id:"Postman",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/Postman/",interval:[0,1]}]},{pid:"tags",id:"CI",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/CI/",interval:[0,1]}]},{pid:"tags",id:"Travis",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/Travis/",interval:[0,1]}]},{pid:"tags",id:"培训",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/培训/",interval:[0,1]}]},{pid:"tags",id:"未来",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/未来/",interval:[0,1]}]},{pid:"tags",id:"面试",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/面试/",interval:[0,1]}]},{pid:"tags",id:"Vue3",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/Vue3/",interval:[0,2]}]},{pid:"tags",id:"程序员",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/程序员/",interval:[0,1]}]},{pid:"tags",id:"第二技能",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/第二技能/",interval:[0,1]}]},{pid:"tags",id:"自媒体",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/自媒体/",interval:[0,2]}]},{pid:"tags",id:"公众号",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/公众号/",interval:[0,1]}]},{pid:"tags",id:"VuePress",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/VuePress/",interval:[0,1]}]},{pid:"tags",id:"引流",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/引流/",interval:[0,1]}]},{pid:"tags",id:"OpenWrite",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/OpenWrite/",interval:[0,1]}]},{pid:"tags",id:"小霸王游戏机",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/小霸王游戏机/",interval:[0,1]}]},{pid:"tags",id:"JSENS",filter:zo.tags,sorter:Mo.tags,pages:[{path:"/tags/JSENS/",interval:[0,1]}]},{pid:"categories",id:"Deno",filter:zo.categories,sorter:Mo.categories,pages:[{path:"/categories/Deno/",interval:[0,1]}]},{pid:"categories",id:"Docker",filter:zo.categories,sorter:Mo.categories,pages:[{path:"/categories/Docker/",interval:[0,4]}]},{pid:"categories",id:"Nginx",filter:zo.categories,sorter:Mo.categories,pages:[{path:"/categories/Nginx/",interval:[0,1]}]},{pid:"categories",id:"Python",filter:zo.categories,sorter:Mo.categories,pages:[{path:"/categories/Python/",interval:[0,2]}]},{pid:"categories",id:"关于我",filter:zo.categories,sorter:Mo.categories,pages:[{path:"/categories/关于我/",interval:[0,1]}]},{pid:"categories",id:"前端",filter:zo.categories,sorter:Mo.categories,pages:[{path:"/categories/前端/",interval:[0,9]},{path:"/categories/前端/page/2/",interval:[10,14]}]},{pid:"categories",id:"插件",filter:zo.categories,sorter:Mo.categories,pages:[{path:"/categories/插件/",interval:[0,1]}]},{pid:"categories",id:"CI",filter:zo.categories,sorter:Mo.categories,pages:[{path:"/categories/CI/",interval:[0,1]}]},{pid:"categories",id:"随笔",filter:zo.categories,sorter:Mo.categories,pages:[{path:"/categories/随笔/",interval:[0,7]}]},{pid:"categories",id:"VuePress",filter:zo.categories,sorter:Mo.categories,pages:[{path:"/categories/VuePress/",interval:[0,1]}]}],Lo=t(229),Uo=t.n(Lo)()("plugin-blog:pagination"),qo=function(){function e(n,t,r){Io(this,e),Uo(n);for(var o=n.pages,i=r.path,a=0,s=o.length;a<s;a++){if(o[a].path===i){this.paginationIndex=a;break}}this.paginationIndex||(this.paginationIndex=0),this._paginationPages=o,this._currentPage=o[this.paginationIndex],this._matchedPages=t.filter((function(e){return n.filter(e,n.id,n.pid)})).sort(n.sorter)}return Fo(e,[{key:"setIndexPage",value:function(e){this._indexPage=e}},{key:"length",get:function(){return this._paginationPages.length}},{key:"pages",get:function(){var e=Object(Ze.a)(this._currentPage.interval,2),n=e[0],t=e[1];return this._matchedPages.slice(n,t+1)}},{key:"hasPrev",get:function(){return 0!==this.paginationIndex}},{key:"prevLink",get:function(){return this.hasPrev?this.paginationIndex-1==0&&this._indexPage?this._indexPage:this._paginationPages[this.paginationIndex-1].path:null}},{key:"hasNext",get:function(){return this.paginationIndex!==this.length-1}},{key:"nextLink",get:function(){return this.hasNext?this._paginationPages[this.paginationIndex+1].path:null}},{key:"getSpecificPageLink",value:function(e){return this._paginationPages[e].path}}]),e}(),Wo=new(function(){function e(n){Io(this,e),this.paginations=n}return Fo(e,[{key:"pages",get:function(){return o.a.$vuepress.$get("siteData").pages}},{key:"getPagination",value:function(e,n,t){Uo("id",n),Uo("this.paginations",this.paginations);var r=this.paginations.filter((function(t){return t.id===n&&t.pid===e}))[0];return new qo(r,this.pages,t)}}]),e}())(Vo),Ho=function(){function e(n){Io(this,e),Object.defineProperty(this,"registration",{value:n,configurable:!0,writable:!0})}return Fo(e,[{key:"update",value:function(){return this.registration.update()}},{key:"skipWaiting",value:function(){var e=this.registration.waiting;return e?(console.log("[vuepress:sw] Doing worker.skipWaiting()."),new Promise((function(n,t){var r=new MessageChannel;r.port1.onmessage=function(e){console.log("[vuepress:sw] Done worker.skipWaiting()."),e.data.error?t(e.data.error):n(e.data)},e.postMessage({type:"skip-waiting"},[r.port2])}))):Promise.resolve()}}]),e}(),Go=t(51);o.a.component("SWUpdatePopup",(function(){return Promise.all([t.e(0),t.e(10)]).then(t.bind(null,554))}));var Ko=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(n){var r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.router,n.isServer){e.next=7;break}return e.next=4,t.e(46).then(t.bind(null,552));case 4:o=e.sent,i=o.register,r.onReady((function(){i("".concat("/","service-worker.js"),{registrationOptions:{},ready:function(){console.log("[vuepress:sw] Service worker is active."),Go.a.$emit("sw-ready")},cached:function(e){console.log("[vuepress:sw] Content has been cached for offline use."),Go.a.$emit("sw-cached",new Ho(e))},updated:function(e){console.log("[vuepress:sw] Content updated."),Go.a.$emit("sw-updated",new Ho(e))},offline:function(){console.log("[vuepress:sw] No internet connection found. App is running in offline mode."),Go.a.$emit("sw-offline")},error:function(e){console.error("[vuepress:sw] Error during service worker registration:",e),Go.a.$emit("sw-error",e),GA_ID&&ga("send","exception",{exDescription:e.message,exFatal:!1})}})}));case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Jo=(t(431),{props:{title:String,content:String,time:{type:Number,default:3e3}},data:function(){return{show:!0}},created:function(){var e=this;Number.isFinite(this.time)&&setTimeout((function(){e.show=!1}),this.time)}}),Qo=(t(433),t(434),Object(On.a)(Jo,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("transition",{attrs:{name:"slide-fade",appear:""}},[e.show?t("div",{staticClass:"v-notification__group"},[e.title?t("h2",{staticClass:"v-notification__title"},[e._v(e._s(e.title))]):e._e(),e._v(" "),t("div",{staticClass:"v-notification__content"},[t("p",[e._v(e._s(e.content))])])]):e._e()])}),[],!1,null,"03751380",null).exports),Yo=[function(e){var n=e.Vue;e.options,e.router,e.siteData,e.isServer;n.mixin({mounted:function(){var e=document.querySelector(".page-edit"),n=document.querySelector("._yaaz0tul87e");e&&!n&&((n=document.createElement("div")).className="_yaaz0tul87e",e.appendChild(n),(window.slotbydup=window.slotbydup||[]).push({id:"u6544554",container:"_yaaz0tul87e",async:!0}));var t=document.querySelector(".theme-reco-content.content__default");t&&!t.getAttribute("id")&&(t.setAttribute("id","container"),window.btw=new BTWPlugin,window.btw.init({id:"container",blogId:"26652-1621274015785-184",name:"前端develop",qrcode:"https://feiben-1253434158.cos.ap-guangzhou.myqcloud.com/PicGo/qrcode_for_gh_6c8243f94d03_258.jpg",keyword:"验证码"}))}})},function(e){e.Vue.mixin(Nn)},{},function(e){e.Vue.mixin({computed:{$dataBlock:function(){return this.$options.__data__block__}}})},{},function(e){e.Vue.component("BackToTop",Rn)},function(e){e.Vue.component("RecoDemo",zn)},function(e){e.Vue.component("LoadingPage",Vn)},function(e){e.Vue.component("Pagation",Un)},function(e){var n=e.Vue;n.component("Comments",jo),n.component("AccessNumber",Do)},{},function(e){var n=e.Vue,t=Object.keys($o).map((function(e){var n,t=$o[e],r="$".concat(e);return n={},Object(Po.a)(n,r,(function(){var e=this.$site.pages;return new Ro(t,e)})),Object(Po.a)(n,"$current".concat(e.charAt(0).toUpperCase()+e.slice(1)),(function(){var e=this.$route.meta.id;return this[r].getItemByName(e)})),n})).reduce((function(e,n){return Object.assign(e,n),e}),{});t.$frontmatterKey=function(){var e=this["$".concat(this.$route.meta.id)];return e||null},n.mixin({computed:t})},function(e){e.Vue.mixin({methods:{$getPagination:function(e,n){return n=n||e,Wo.getPagination(e,n,this.$route)}},computed:{$pagination:function(){return this.$route.meta.pid&&this.$route.meta.id?this.$getPagination(this.$route.meta.pid,this.$route.meta.id):null}}})},Ko,function(e){var n=e.Vue;n.prototype.$message=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=document.querySelector(".alert-list");t||((t=document.createElement("div")).className="alert-list",document.body.appendChild(t));var r=n.extend(Qo),o=new r;Object.assign(o,e),o.$mount(),t.appendChild(o.$el)}}],Zo=["BackToTop","ad","SWUpdatePopup"];t(47),t(62);t(175),t(221);function Xo(e,n){return(Xo=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}t(222);function ei(e){return(ei=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ni=t(230),ti=t.n(ni);function ri(e,n){if(n&&("object"===ti()(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function oi(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=ei(e);if(n){var o=ei(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return ri(this,t)}}var ii=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Xo(e,n)}(t,e);var n=oi(t);function t(){return Io(this,t),n.apply(this,arguments)}return t}(function(){function e(){Io(this,e),this.store=new o.a({data:{state:{}}})}return Fo(e,[{key:"$get",value:function(e){return this.store.state[e]}},{key:"$set",value:function(e,n){o.a.set(this.store.state,e,n)}},{key:"$emit",value:function(){var e;(e=this.store).$emit.apply(e,arguments)}},{key:"$on",value:function(){var e;(e=this.store).$on.apply(e,arguments)}}]),e}());Object.assign(ii.prototype,{getPageAsyncComponent:Qe.e,getLayoutAsyncComponent:Qe.d,getAsyncComponent:Qe.c,getVueComponent:Qe.f});var ai={install:function(e){var n=new ii;e.$vuepress=n,e.prototype.$vuepress=n}};function si(e){e.beforeEach((function(n,t,r){if(ci(e,n.path))r();else if(/(\/|\.html)$/.test(n.path))if(/\/$/.test(n.path)){var o=n.path.replace(/\/$/,"")+".html";ci(e,o)?r(o):r()}else r();else{var i=n.path+"/",a=n.path+".html";ci(e,a)?r(a):ci(e,i)?r(i):r()}}))}function ci(e,n){var t=n.toLowerCase();return e.options.routes.some((function(e){return e.path.toLowerCase()===t}))}var ui={props:{pageKey:String,slotKey:{type:String,default:"default"}},render:function(e){var n=this.pageKey||this.$parent.$page.key;return Object(Qe.i)("pageKey",n),o.a.component(n)||o.a.component(n,Object(Qe.e)(n)),o.a.component(n)?e(n):e("")}},li={functional:!0,props:{slotKey:String,required:!0},render:function(e,n){var t=n.props,r=n.slots;return e("div",{class:["content__".concat(t.slotKey)]},r()[t.slotKey])}},pi={computed:{openInNewWindowTitle:function(){return this.$themeLocaleConfig.openNewWindowText||"(opens new window)"}}},di=(t(436),t(437),Object(On.a)(pi,(function(){var e=this.$createElement,n=this._self._c||e;return n("span",[n("svg",{staticClass:"icon outbound",attrs:{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15"}},[n("path",{attrs:{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}}),this._v(" "),n("polygon",{attrs:{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"}})]),this._v(" "),n("span",{staticClass:"sr-only"},[this._v(this._s(this.openInNewWindowTitle))])])}),[],!1,null,null,null).exports);function fi(){return(fi=Object(r.a)(regeneratorRuntime.mark((function e(n){var t,r,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="undefined"!=typeof window&&window.__VUEPRESS_ROUTER_BASE__?window.__VUEPRESS_ROUTER_BASE__:Pn.routerBase||Pn.base,si(r=new Ke({base:t,mode:"history",fallback:!1,routes:Dn,scrollBehavior:function(e,n,t){return t||(e.hash?!o.a.$vuepress.$get("disableScrollBehavior")&&{selector:decodeURIComponent(e.hash)}:{x:0,y:0})}})),i={},e.prev=4,e.next=7,Promise.all(Yo.filter((function(e){return"function"==typeof e})).map((function(e){return e({Vue:o.a,options:i,router:r,siteData:Pn,isServer:n})})));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),console.error(e.t0);case 12:return a=new o.a(Object.assign(i,{router:r,render:function(e){return e("div",{attrs:{id:"app"}},[e("RouterView",{ref:"layout"}),e("div",{class:"global-ui"},Zo.map((function(n){return e(n)})))])}})),e.abrupt("return",{app:a,router:r});case 14:case"end":return e.stop()}}),e,null,[[4,9]])})))).apply(this,arguments)}o.a.config.productionTip=!1,o.a.use(Ke),o.a.use(ai),o.a.mixin(function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.a;Je(n),t.$vuepress.$set("siteData",n);var r=e(t.$vuepress.$get("siteData")),i=new r,a=Object.getOwnPropertyDescriptors(Object.getPrototypeOf(i)),s={};return Object.keys(a).reduce((function(e,n){return n.startsWith("$")&&(e[n]=a[n].get),e}),s),{computed:s}}((function(e){return function(){function n(){Io(this,n)}return Fo(n,[{key:"setPage",value:function(e){this.__page=e}},{key:"$site",get:function(){return e}},{key:"$themeConfig",get:function(){return this.$site.themeConfig}},{key:"$frontmatter",get:function(){return this.$page.frontmatter}},{key:"$localeConfig",get:function(){var e,n,t=this.$site.locales,r=void 0===t?{}:t;for(var o in r)"/"===o?n=r[o]:0===this.$page.path.indexOf(o)&&(e=r[o]);return e||n||{}}},{key:"$siteTitle",get:function(){return this.$localeConfig.title||this.$site.title||""}},{key:"$canonicalUrl",get:function(){var e=this.$page.frontmatter.canonicalUrl;return"string"==typeof e&&e}},{key:"$title",get:function(){var e=this.$page,n=this.$page.frontmatter.metaTitle;if("string"==typeof n)return n;var t=this.$siteTitle,r=e.frontmatter.home?null:e.frontmatter.title||e.title;return t?r?r+" | "+t:t:r||"VuePress"}},{key:"$description",get:function(){var e=function(e){if(e){var n=e.filter((function(e){return"description"===e.name}))[0];if(n)return n.content}}(this.$page.frontmatter.meta);return e||(this.$page.frontmatter.description||this.$localeConfig.description||this.$site.description||"")}},{key:"$lang",get:function(){return this.$page.frontmatter.lang||this.$localeConfig.lang||"en-US"}},{key:"$localePath",get:function(){return this.$localeConfig.path||"/"}},{key:"$themeLocaleConfig",get:function(){return(this.$site.themeConfig.locales||{})[this.$localePath]||{}}},{key:"$page",get:function(){return this.__page?this.__page:function(e,n){for(var t=0;t<e.length;t++){var r=e[t];if(r.path.toLowerCase()===n.toLowerCase())return r}return{path:"",frontmatter:{}}}(this.$site.pages,this.$route.path)}}]),n}()}),Pn)),o.a.component("Content",ui),o.a.component("ContentSlotsDistributor",li),o.a.component("OutboundLink",di),o.a.component("ClientOnly",{functional:!0,render:function(e,n){var t=n.parent,r=n.children;if(t._isMounted)return r;t.$once("hook:mounted",(function(){t.$forceUpdate()}))}}),o.a.component("Layout",Object(Qe.d)("Layout")),o.a.component("NotFound",Object(Qe.d)("NotFound")),o.a.prototype.$withBase=function(e){var n=this.$site.base;return"/"===e.charAt(0)?n+e.slice(1):e},window.__VUEPRESS__={version:"1.8.2",hash:"86ef628"},function(e){return fi.apply(this,arguments)}(!1).then((function(e){var n=e.app;e.router.onReady((function(){n.$mount("#app")}))}))}]);